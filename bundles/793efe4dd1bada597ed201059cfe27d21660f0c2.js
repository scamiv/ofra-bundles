/**
 * OpenFront Game Engine Bundle
 * Version: Generated from source
 * Built: 2026-01-02T18:18:32.725Z
 * This bundle contains only the core simulation engine for replay analysis.
 */
var iT=Object.create;var Li=Object.defineProperty;var aT=Object.getOwnPropertyDescriptor;var oT=Object.getOwnPropertyNames;var sT=Object.getPrototypeOf,lT=Object.prototype.hasOwnProperty;var cT=(t,e,r)=>e in t?Li(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var uT=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ct=(t,e)=>{for(var r in e)Li(t,r,{get:e[r],enumerable:!0})},dT=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of oT(e))!lT.call(t,n)&&n!==r&&Li(t,n,{get:()=>e[n],enumerable:!(i=aT(e,n))||i.enumerable});return t};var ul=(t,e,r)=>(r=t!=null?iT(sT(t)):{},dT(e||!t||!t.__esModule?Li(r,"default",{value:t,enumerable:!0}):r,t));var dl=(t,e,r)=>cT(t,typeof e!="symbol"?e+"":e,r);var o0=L((a0,bm)=>{(function(t,e,r){function i(s){var l=this,d=o();l.next=function(){var u=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=u-(l.c=u|0)},l.c=1,l.s0=d(" "),l.s1=d(" "),l.s2=d(" "),l.s0-=d(s),l.s0<0&&(l.s0+=1),l.s1-=d(s),l.s1<0&&(l.s1+=1),l.s2-=d(s),l.s2<0&&(l.s2+=1),d=null}function n(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function a(s,l){var d=new i(s),u=l&&l.state,m=d.next;return m.int32=function(){return d.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,u&&(typeof u=="object"&&n(u,d),m.state=function(){return n(d,{})}),m}function o(){var s=4022871197,l=function(d){d=String(d);for(var u=0;u<d.length;u++){s+=d.charCodeAt(u);var m=.02519603282416938*s;s=m>>>0,m-=s,m*=s,s=m>>>0,m-=s,s+=m*4294967296}return(s>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(a0,typeof bm=="object"&&bm,typeof define=="function"&&define)});var l0=L((s0,vm)=>{(function(t,e,r){function i(o){var s=this,l="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var u=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^u^u>>>8},o===(o|0)?s.x=o:l+=o;for(var d=0;d<l.length+64;d++)s.x^=l.charCodeAt(d)|0,s.next()}function n(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s}function a(o,s){var l=new i(o),d=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,d&&(typeof d=="object"&&n(d,l),u.state=function(){return n(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(s0,typeof vm=="object"&&vm,typeof define=="function"&&define)});var u0=L((c0,Tm)=>{(function(t,e,r){function i(o){var s=this,l="";s.next=function(){var u=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(u^u<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,o===(o|0)?s.x=o:l+=o;for(var d=0;d<l.length+64;d++)s.x^=l.charCodeAt(d)|0,d==l.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function n(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s.v=o.v,s.d=o.d,s}function a(o,s){var l=new i(o),d=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,d&&(typeof d=="object"&&n(d,l),u.state=function(){return n(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(c0,typeof Tm=="object"&&Tm,typeof define=="function"&&define)});var m0=L((d0,xm)=>{(function(t,e,r){function i(o){var s=this;s.next=function(){var d=s.x,u=s.i,m,h,f;return m=d[u],m^=m>>>7,h=m^m<<24,m=d[u+1&7],h^=m^m>>>10,m=d[u+3&7],h^=m^m>>>3,m=d[u+4&7],h^=m^m<<7,m=d[u+7&7],m=m^m<<13,h^=m^m<<9,d[u]=h,s.i=u+1&7,h};function l(d,u){var m,h,f=[];if(u===(u|0))h=f[0]=u;else for(u=""+u,m=0;m<u.length;++m)f[m&7]=f[m&7]<<15^u.charCodeAt(m)+f[m+1&7]<<13;for(;f.length<8;)f.push(0);for(m=0;m<8&&f[m]===0;++m);for(m==8?h=f[7]=-1:h=f[m],d.x=f,d.i=0,m=256;m>0;--m)d.next()}l(s,o)}function n(o,s){return s.x=o.x.slice(),s.i=o.i,s}function a(o,s){o==null&&(o=+new Date);var l=new i(o),d=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,d&&(d.x&&n(d,l),u.state=function(){return n(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(d0,typeof xm=="object"&&xm,typeof define=="function"&&define)});var p0=L((h0,_m)=>{(function(t,e,r){function i(o){var s=this;s.next=function(){var d=s.w,u=s.X,m=s.i,h,f;return s.w=d=d+1640531527|0,f=u[m+34&127],h=u[m=m+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,f=u[m]=f^h,s.i=m,f+(d^d>>>16)|0};function l(d,u){var m,h,f,p,T,x=[],$=128;for(u===(u|0)?(h=u,u=null):(u=u+"\0",h=0,$=Math.max($,u.length)),f=0,p=-32;p<$;++p)u&&(h^=u.charCodeAt((p+32)%u.length)),p===0&&(T=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(T=T+1640531527|0,m=x[p&127]^=h+T,f=m==0?f+1:0);for(f>=128&&(x[(u&&u.length||0)&127]=-1),f=127,p=4*128;p>0;--p)h=x[f+34&127],m=x[f=f+1&127],h^=h<<13,m^=m<<17,h^=h>>>15,m^=m>>>12,x[f]=h^m;d.w=T,d.X=x,d.i=f}l(s,o)}function n(o,s){return s.i=o.i,s.w=o.w,s.X=o.X.slice(),s}function a(o,s){o==null&&(o=+new Date);var l=new i(o),d=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,d&&(d.X&&n(d,l),u.state=function(){return n(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(h0,typeof _m=="object"&&_m,typeof define=="function"&&define)});var g0=L((f0,wm)=>{(function(t,e,r){function i(o){var s=this,l="";s.next=function(){var u=s.b,m=s.c,h=s.d,f=s.a;return u=u<<25^u>>>7^m,m=m-h|0,h=h<<24^h>>>8^f,f=f-u|0,s.b=u=u<<20^u>>>12^m,s.c=m=m-h|0,s.d=h<<16^m>>>16^f,s.a=f-u|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,o===Math.floor(o)?(s.a=o/4294967296|0,s.b=o|0):l+=o;for(var d=0;d<l.length+20;d++)s.b^=l.charCodeAt(d)|0,s.next()}function n(o,s){return s.a=o.a,s.b=o.b,s.c=o.c,s.d=o.d,s}function a(o,s){var l=new i(o),d=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,d&&(typeof d=="object"&&n(d,l),u.state=function(){return n(l,{})}),u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(f0,typeof wm=="object"&&wm,typeof define=="function"&&define)});var b0=L((y0,Xa)=>{(function(t,e,r){var i=256,n=6,a=52,o="random",s=r.pow(i,n),l=r.pow(2,a),d=l*2,u=i-1,m;function h(v,S,z){var G=[];S=S==!0?{entropy:!0}:S||{};var q=x(T(S.entropy?[v,I(e)]:v??$(),3),G),H=new f(G),Y=function(){for(var Q=H.g(n),F=s,he=0;Q<l;)Q=(Q+he)*i,F*=i,he=H.g(1);for(;Q>=d;)Q/=2,F/=2,he>>>=1;return(Q+he)/F};return Y.int32=function(){return H.g(4)|0},Y.quick=function(){return H.g(4)/4294967296},Y.double=Y,x(I(H.S),e),(S.pass||z||function(Q,F,he,ie){return ie&&(ie.S&&p(ie,H),Q.state=function(){return p(H,{})}),he?(r[o]=Q,F):Q})(Y,q,"global"in S?S.global:this==r,S.state)}function f(v){var S,z=v.length,G=this,q=0,H=G.i=G.j=0,Y=G.S=[];for(z||(v=[z++]);q<i;)Y[q]=q++;for(q=0;q<i;q++)Y[q]=Y[H=u&H+v[q%z]+(S=Y[q])],Y[H]=S;(G.g=function(Q){for(var F,he=0,ie=G.i,De=G.j,He=G.S;Q--;)F=He[ie=u&ie+1],he=he*i+He[u&(He[ie]=He[De=u&De+F])+(He[De]=F)];return G.i=ie,G.j=De,he})(i)}function p(v,S){return S.i=v.i,S.j=v.j,S.S=v.S.slice(),S}function T(v,S){var z=[],G=typeof v,q;if(S&&G=="object")for(q in v)try{z.push(T(v[q],S-1))}catch{}return z.length?z:G=="string"?v:v+"\0"}function x(v,S){for(var z=v+"",G,q=0;q<z.length;)S[u&q]=u&(G^=S[u&q]*19)+z.charCodeAt(q++);return I(S)}function $(){try{var v;return m&&(v=m.randomBytes)?v=v(i):(v=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(v)),I(v)}catch{var S=t.navigator,z=S&&S.plugins;return[+new Date,t,z,t.screen,I(e)]}}function I(v){return String.fromCharCode.apply(0,v)}if(x(r.random(),e),typeof Xa=="object"&&Xa.exports){Xa.exports=h;try{m=uT("crypto")}catch{}}else typeof define=="function"&&define.amd?define(function(){return h}):r["seed"+o]=h})(typeof self<"u"?self:y0,[],Math)});var T0=L((MA,v0)=>{var q_=o0(),Z_=l0(),V_=u0(),H_=m0(),K_=p0(),Y_=g0(),cr=b0();cr.alea=q_;cr.xor128=Z_;cr.xorwow=V_;cr.xorshift7=H_;cr.xor4096=K_;cr.tychei=Y_;v0.exports=cr});var yb=L((N$,gb)=>{"use strict";var w5=function(t,e){return t<e};function pe(t){if(!(this instanceof pe))return new pe(t);this.array=[],this.size=0,this.compare=t||w5}pe.prototype.clone=function(){var t=new pe(this.compare);return t.size=this.size,t.array=this.array.slice(0,this.size),t};pe.prototype.add=function(t){var e=this.size;this.array[this.size]=t,this.size+=1;for(var r,i;e>0&&(r=e-1>>1,i=this.array[r],!!this.compare(t,i));)this.array[e]=i,e=r;this.array[e]=t};pe.prototype.heapify=function(t){this.array=t,this.size=t.length;var e;for(e=this.size>>1;e>=0;e--)this._percolateDown(e)};pe.prototype._percolateUp=function(t,e){for(var r=this.array[t],i,n;t>0&&(i=t-1>>1,n=this.array[i],!(!e&&!this.compare(r,n)));)this.array[t]=n,t=i;this.array[t]=r};pe.prototype._percolateDown=function(t){for(var e=this.size,r=this.size>>>1,i=this.array[t],n,a,o;t<r&&(n=(t<<1)+1,a=n+1,o=this.array[n],a<e&&this.compare(this.array[a],o)&&(n=a,o=this.array[a]),!!this.compare(o,i));)this.array[t]=o,t=n;this.array[t]=i};pe.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()};pe.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1};pe.prototype.removeOne=function(t){if(typeof t=="function"){for(var e=0;e<this.size;e++)if(t(this.array[e]))return this._removeAt(e)}};pe.prototype.removeMany=function(t,e){if(typeof t!="function"||this.size<1)return[];e=e?Math.min(e,this.size):this.size;for(var r=0,i=new Array(e),n=0,a=new Array(this.size);r<e&&!this.isEmpty();){var o=this.poll();t(o)?i[r++]=o:a[n++]=o}i.length=r;for(var s=0;s<n;)this.add(a[s++]);return i};pe.prototype.peek=function(){if(this.size!=0)return this.array[0]};pe.prototype.poll=function(){if(this.size!=0){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}};pe.prototype.replaceTop=function(t){if(this.size!=0){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}};pe.prototype.trim=function(){this.array=this.array.slice(0,this.size)};pe.prototype.isEmpty=function(){return this.size===0};pe.prototype.forEach=function(t){if(!(this.isEmpty()||typeof t!="function"))for(var e=0,r=this.clone();!r.isEmpty();)t(r.poll(),e++)};pe.prototype.kSmallest=function(t){if(this.size==0||t<=0)return[];t=Math.min(this.size,t);let e=Math.min(this.size,2**(t-1)+1);if(e<2)return[this.peek()];let r=new pe(this.compare);r.size=e,r.array=this.array.slice(0,e);let i=new Array(t);for(let n=0;n<t;n++)i[n]=r.poll();return i};gb.exports=pe});var Rt=L(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.getAndAssertSingleCodePoint=de.invertCaseOfAlphabeticChar=de.isUpperCase=de.isLowerCase=de.isAlphabetic=de.isDigit=de.isWordChar=de.convertSurrogatePairToCodePoint=de.isLowSurrogate=de.isHighSurrogate=void 0;function q5(t){return 55296<=t&&t<=56319}de.isHighSurrogate=q5;function Z5(t){return 56320<=t&&t<=57343}de.isLowSurrogate=Z5;function V5(t,e){return(t-55296)*1024+e-56320+65536}de.convertSurrogatePairToCodePoint=V5;function H5(t){return Yb(t)||Xb(t)}de.isWordChar=H5;function Yb(t){return 48<=t&&t<=57}de.isDigit=Yb;function Xb(t){return Jb(t)||Qb(t)}de.isAlphabetic=Xb;function Jb(t){return 97<=t&&t<=122}de.isLowerCase=Jb;function Qb(t){return 65<=t&&t<=90}de.isUpperCase=Qb;function K5(t){return t^32}de.invertCaseOfAlphabeticChar=K5;function Y5(t){if([...t].length!==1)throw new RangeError("Expected the input string to be one code point in length.");return t.codePointAt(0)}de.getAndAssertSingleCodePoint=Y5});var Nh=L(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.randomCharFromSetCensorStrategy=Ee.fixedCharCensorStrategy=Ee.fixedPhraseCensorStrategy=Ee.grawlixCensorStrategy=Ee.asteriskCensorStrategy=Ee.keepEndCensorStrategy=Ee.keepStartCensorStrategy=void 0;var X5=Rt();function J5(t){return e=>e.overlapsAtStart?t(e):String.fromCodePoint(e.input.codePointAt(e.startIndex))+t({...e,matchLength:e.matchLength-1})}Ee.keepStartCensorStrategy=J5;function Q5(t){return e=>{if(e.overlapsAtEnd)return t(e);let r=String.fromCodePoint(e.input.codePointAt(e.endIndex));return t({...e,matchLength:e.matchLength-1})+r}}Ee.keepEndCensorStrategy=Q5;function e2(){return ev("*")}Ee.asteriskCensorStrategy=e2;function t2(){return tv("%@$&*")}Ee.grawlixCensorStrategy=t2;function r2(t){return()=>t}Ee.fixedPhraseCensorStrategy=r2;function ev(t){return(0,X5.getAndAssertSingleCodePoint)(t),e=>t.repeat(e.matchLength)}Ee.fixedCharCensorStrategy=ev;function tv(t){let e=[...t];if(e.length<2)throw new Error("The character set passed must have at least 2 characters.");return r=>{if(r.matchLength===0)return"";let i=Math.floor(Math.random()*e.length),n=e[i];for(let a=1;a<r.matchLength;a++){let o=Math.floor(Math.random()*(e.length-1));o>=i&&o++,i=o,n+=e[o]}return n}}Ee.randomCharFromSetCensorStrategy=tv});var rv=L(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.compareIntervals=void 0;function n2(t,e,r,i){return t<r?-1:r<t?1:e<i?-1:i<e?1:0}Ss.compareIntervals=n2});var ks=L(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.compareMatchByPositionAndId=void 0;var i2=rv();function a2(t,e){let r=(0,i2.compareIntervals)(t.startIndex,t.endIndex,e.startIndex,e.endIndex);return r!==0?r:t.termId===e.termId?0:t.termId<e.termId?-1:1}Ps.compareMatchByPositionAndId=a2});var nv=L(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.TextCensor=void 0;var o2=ks(),s2=Nh(),Uh=class{constructor(){this.strategy=(0,s2.grawlixCensorStrategy)()}setStrategy(e){return this.strategy=e,this}applyTo(e,r){if(r.length===0)return e;let i=[...r].sort(o2.compareMatchByPositionAndId),n="",a=0;for(let o=0;o<i.length;o++){let s=i[o];if(a>s.endIndex)continue;let l=s.startIndex<a;l||(n+=e.slice(a,s.startIndex));let d=Math.max(a,s.startIndex),u=o<i.length-1&&s.endIndex>=i[o+1].startIndex&&s.endIndex<i[o+1].endIndex;n+=this.strategy({...s,startIndex:d,input:e,overlapsAtStart:l,overlapsAtEnd:u}),a=s.endIndex+1}return n+=e.slice(a),n}};Is.TextCensor=Uh});var zh=L(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.assignIncrementingIds=void 0;function l2(t){let e=0;return t.map(r=>({id:e++,pattern:r}))}As.assignIncrementingIds=l2});var jh=L(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.PhraseBuilder=fn.DataSet=void 0;var c2=zh(),Oh=class{constructor(){this.containers=[],this.patternCount=0,this.patternIdToPhraseContainer=new Map}addAll(e){for(let r of e.containers)this.registerContainer(r);return this}removePhrasesIf(e){this.patternCount=0,this.patternIdToPhraseContainer.clear();let r=this.containers.splice(0);for(let i of r)e(i)||this.registerContainer(i);return this}addPhrase(e){let r=e(new Es).build();return this.registerContainer(r),this}getPayloadWithPhraseMetadata(e){let r=this.patternIdToPhraseContainer.get(e.termId);if(r===void 0)throw new Error(`The pattern with ID ${e.termId} does not exist in this dataset.`);return{...e,phraseMetadata:this.containers[r].metadata}}build(){return{blacklistedTerms:(0,c2.assignIncrementingIds)(this.containers.flatMap(e=>e.patterns)),whitelistedTerms:this.containers.flatMap(e=>e.whitelistedTerms)}}registerContainer(e){let r=this.containers.push(e)-1;for(let i=0,n=this.patternCount;i<e.patterns.length;i++,n++)this.patternIdToPhraseContainer.set(n,r),this.patternCount++}};fn.DataSet=Oh;var Es=class{constructor(){this.patterns=[],this.whitelistedTerms=[]}addPattern(e){return this.patterns.push(e),this}addWhitelistedTerm(e){return this.whitelistedTerms.push(e),this}setMetadata(e){return this.metadata=e,this}build(){return{patterns:this.patterns,whitelistedTerms:this.whitelistedTerms,metadata:this.metadata}}};fn.PhraseBuilder=Es});var Rs=L($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.SyntaxKind=void 0;var iv;(function(t){t[t.Optional=0]="Optional",t[t.Wildcard=1]="Wildcard",t[t.Literal=2]="Literal",t[t.BoundaryAssertion=3]="BoundaryAssertion"})(iv||($s.SyntaxKind=iv={}))});var av=L(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.getRegExpStringForNode=Kt.compilePatternToRegExp=Kt.potentiallyMatchesEmptyString=void 0;var Cs=Rs();function u2(t){return t.nodes.every(e=>e.kind===Cs.SyntaxKind.Optional)}Kt.potentiallyMatchesEmptyString=u2;function d2(t){let e="";t.requireWordBoundaryAtStart&&(e+="\\b");for(let r of t.nodes)e+=Lh(r);return t.requireWordBoundaryAtEnd&&(e+="\\b"),new RegExp(e,"gs")}Kt.compilePatternToRegExp=d2;var m2=["[",".","*","+","?","^","$","{","}","(",")","|","[","\\","]"].map(t=>t.charCodeAt(0));function Lh(t){switch(t.kind){case Cs.SyntaxKind.Literal:{let e="";for(let r of t.chars)m2.includes(r)&&(e+="\\"),e+=String.fromCodePoint(r);return e}case Cs.SyntaxKind.Optional:return`(?:${Lh(t.childNode)})?`;case Cs.SyntaxKind.Wildcard:return"."}}Kt.getRegExpStringForNode=Lh});var ov=L(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.TransformerSet=void 0;var Bh=class{constructor(e){this.transformers=e,this.statefulTransformers=Array.from({length:this.transformers.length});for(let r=0;r<this.transformers.length;r++){let i=this.transformers[r];i.type===1&&(this.statefulTransformers[r]=i.factory())}}applyTo(e){let r=e;for(let i=0;i<this.transformers.length&&r!==void 0;i++){let n=this.transformers[i];n.type===0?r=n.transform(r):r=this.statefulTransformers[i].transform(r)}return r}resetAll(){for(let e=0;e<this.transformers.length;e++)this.transformers[e].type===1&&this.statefulTransformers[e].reset()}};Ms.TransformerSet=Bh});var Ns=L(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.CharacterIterator=void 0;var Gh=Rt(),Fh=class{constructor(e){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0,this._input=e??""}get input(){return this._input}setInput(e){return this._input=e,this.reset(),this}reset(){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0}next(){if(this.done)return{done:!0,value:void 0};this.lastPosition=this.currentPosition;let e=this._input.charCodeAt(this.currentPosition++);if(this._lastWidth=1,this.done||!(0,Gh.isHighSurrogate)(e))return{done:!1,value:e};let r=this._input.charCodeAt(this.currentPosition);return(0,Gh.isLowSurrogate)(r)?(this._lastWidth++,this.currentPosition++,{done:!1,value:(0,Gh.convertSurrogatePairToCodePoint)(e,r)}):{done:!1,value:e}}get position(){return this.lastPosition}get lastWidth(){return this._lastWidth}get done(){return this.currentPosition>=this._input.length}[Symbol.iterator](){return this}};Ds.CharacterIterator=Fh});var sv=L(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.IntervalCollection=void 0;var Wh=class{constructor(){this.dirty=!1,this.intervals=[]}insert(e,r){this.intervals.push([e,r]),this.dirty=!0}query(e,r){if(this.intervals.length===0)return!1;this.dirty&&(this.dirty=!1,this.intervals.sort((i,n)=>i[0]<n[0]?-1:n[0]<i[0]?1:0));for(let i of this.intervals){if(i[0]>e)break;if(i[0]<=e&&r<=i[1])return!0}return!1}values(){return this.intervals.values()}[Symbol.iterator](){return this.values()}};Us.IntervalCollection=Wh});var uv=L(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.RegExpMatcher=void 0;var gn=Rt(),lv=av(),cv=ov(),h2=Ns(),p2=sv(),f2=ks(),qh=class{constructor({blacklistedTerms:e,whitelistedTerms:r=[],blacklistMatcherTransformers:i=[],whitelistMatcherTransformers:n=[]}){this.blacklistedTerms=this.compileTerms(e),this.validateWhitelistedTerms(r),this.whitelistedTerms=r,this.blacklistMatcherTransformers=new cv.TransformerSet(i),this.whitelistMatcherTransformers=new cv.TransformerSet(n)}getAllMatches(e,r=!1){let i=this.getWhitelistedIntervals(e),[n,a]=this.applyTransformers(e,this.blacklistMatcherTransformers),o=[];for(let s of this.blacklistedTerms)for(let l of a.matchAll(s.regExp)){let d=n[l.index],u=n[l.index+l[0].length-1];u<e.length-1&&(0,gn.isHighSurrogate)(e.charCodeAt(u))&&(0,gn.isLowSurrogate)(e.charCodeAt(u+1))&&u++,i.query(d,u)||o.push({termId:s.id,startIndex:d,endIndex:u,matchLength:[...l[0]].length})}return r&&o.sort(f2.compareMatchByPositionAndId),o}hasMatch(e){let r=this.getWhitelistedIntervals(e),[i,n]=this.applyTransformers(e,this.blacklistMatcherTransformers);for(let a of this.blacklistedTerms)for(let o of n.matchAll(a.regExp)){let s=i[o.index],l=i[o.index+o[0].length-1];if(l<e.length-1&&(0,gn.isHighSurrogate)(e.charCodeAt(l))&&(0,gn.isLowSurrogate)(e.charCodeAt(l+1))&&l++,!r.query(s,l))return!0}return!1}getWhitelistedIntervals(e){let r=new p2.IntervalCollection,[i,n]=this.applyTransformers(e,this.whitelistMatcherTransformers);for(let a of this.whitelistedTerms){let o=0;for(let s=n.indexOf(a,o);s!==-1;s=n.indexOf(a,o)){let l=i[s+a.length-1];l<e.length-1&&(0,gn.isHighSurrogate)(e.charCodeAt(l))&&(0,gn.isLowSurrogate)(e.charCodeAt(l+1))&&l++,r.insert(i[s],l),o=s+a.length}}return r}applyTransformers(e,r){let i=[],n="",a=new h2.CharacterIterator(e);for(let o of a){let s=r.applyTo(o);if(s!==void 0)for(n+=String.fromCodePoint(s);i.length<n.length;)i.push(a.position)}return r.resetAll(),[i,n]}compileTerms(e){let r=[],i=new Set;for(let n of e){if(i.has(n.id))throw new Error(`Duplicate blacklisted term ID ${n.id}.`);if((0,lv.potentiallyMatchesEmptyString)(n.pattern))throw new Error(`Pattern with ID ${n.id} potentially matches empty string; this is unsupported.`);r.push({id:n.id,regExp:(0,lv.compilePatternToRegExp)(n.pattern)}),i.add(n.id)}return r}validateWhitelistedTerms(e){if(e.some(r=>r.length===0))throw new Error("Whitelisted term set contains empty string; this is unsupported.")}};zs.RegExpMatcher=qh});var mv=L(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0})});var Vh=L(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.ParserError=void 0;var Zh=class extends Error{constructor(e,r,i){super(`${r}:${i}: ${e}`),this.name="ParserError",this.line=r,this.column=i}};Os.ParserError=Zh});var fv=L(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Parser=void 0;var Hh=Rt(),g2=Ns(),gr=Rs(),y2=Vh(),pv=[92,91,93,63,124],b2=pv.map(t=>`'${String.fromCodePoint(t)}'`).join(", "),hv=-1,Kh=class{constructor(){this.input="",this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0}parse(e){this.setInput(e);let r=[],i=this.nextNode(),n=i?.kind===gr.SyntaxKind.BoundaryAssertion;i&&!n&&r.push(i);let a=!1;for(;!this.done;){let o=this.mark(),s=this.nextNode();if(s.kind!==gr.SyntaxKind.BoundaryAssertion){r.push(s);continue}this.done||this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",o),a=!0}return{requireWordBoundaryAtStart:n,requireWordBoundaryAtEnd:a,nodes:r}}setInput(e){return this.input=e,this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0,this}nextNode(){switch(this.peek()){case hv:return;case 91:return this.parseOptional();case 93:this.reportError("Unexpected ']' with no corresponding '['.");case 63:return this.parseWildcard();case 124:return this.parseBoundaryAssertion();default:return this.parseLiteral()}}get done(){return this.position>=this.input.length}parseOptional(){let e=this.mark();this.next();let r=this.mark();this.done&&this.reportError("Unexpected unclosed '['.",e),this.accept("[")&&this.reportError("Unexpected nested optional node.",r);let i=this.nextNode();return i.kind===gr.SyntaxKind.BoundaryAssertion&&this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",r),this.accept("]")||this.reportError("Unexpected unclosed '['."),{kind:gr.SyntaxKind.Optional,childNode:i}}parseWildcard(){return this.next(),{kind:gr.SyntaxKind.Wildcard}}parseBoundaryAssertion(){return this.next(),{kind:gr.SyntaxKind.BoundaryAssertion}}parseLiteral(){let e=[];for(;!this.done;){if(this.accept("[]?|")){this.backup();break}let r=this.next();if(r===92){this.done&&(this.backup(),this.reportError("Unexpected trailing backslash."));let i=this.next();if(!pv.includes(i)){let n=String.fromCodePoint(i);this.backup(),this.reportError(`Cannot escape character '${n}'; the only characters that can be escaped are the following: ${b2}.`)}e.push(i)}else e.push(r)}return{kind:gr.SyntaxKind.Literal,chars:e}}reportError(e,{line:r=this.line,column:i=this.column}={}){throw new y2.ParserError(e,r,i)}mark(){return{line:this.line,column:this.column}}accept(e){let r=this.next(),i=new g2.CharacterIterator(e);for(let n of i)if(n===r)return!0;return this.backup(),!1}peek(){let e=this.next();return this.backup(),e}next(){if(this.done)return hv;let e=this.input.charCodeAt(this.position++);if(this.lastWidth=1,e===10)return this.lastColumn=this.column,this.column=1,this.line++,e;if(this.lastColumn=this.column++,!(0,Hh.isHighSurrogate)(e)||this.done)return e;let r=this.input.charCodeAt(this.position);return(0,Hh.isLowSurrogate)(r)?(this.position++,this.lastWidth++,(0,Hh.convertSurrogatePairToCodePoint)(e,r)):e}backup(){this.position-=this.lastWidth,this.column=this.lastColumn,this.lastWidth===1&&this.input.charCodeAt(this.position)===10&&this.line--}};js.Parser=Kh});var Yh=L(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.parseRawPattern=yn.pattern=void 0;var v2=fv(),gv=new v2.Parser;function T2(t,...e){let r=t.raw[0];for(let[i,n]of e.entries())r+=n,r+=t.raw[i+1];return gv.parse(r)}yn.pattern=T2;function x2(t){return gv.parse(t)}yn.parseRawPattern=x2});var Ri=L(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.createStatefulTransformer=bn.createSimpleTransformer=void 0;function _2(t){return{type:0,transform:t}}bn.createSimpleTransformer=_2;function w2(t){return{type:1,factory:t}}bn.createStatefulTransformer=w2});var yv=L(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.CollapseDuplicatesTransformer=void 0;var Xh=class{constructor({defaultThreshold:e,customThresholds:r}){this.remaining=-1,this.lastChar=-1,this.defaultThreshold=e,this.customThresholds=r}transform(e){if(e===this.lastChar)return this.remaining-- >0?e:void 0;let r=this.customThresholds.get(e)??this.defaultThreshold;return this.remaining=r-1,this.lastChar=e,r>0?e:void 0}reset(){this.remaining=-1,this.lastChar=-1}};Ls.CollapseDuplicatesTransformer=Xh});var Jh=L(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.collapseDuplicatesTransformer=void 0;var S2=Rt(),P2=Ri(),k2=yv();function I2({defaultThreshold:t=1,customThresholds:e=new Map}={}){let r=A2(e);return(0,P2.createStatefulTransformer)(()=>new k2.CollapseDuplicatesTransformer({defaultThreshold:t,customThresholds:r}))}Bs.collapseDuplicatesTransformer=I2;function A2(t){let e=new Map;for(let[r,i]of t){if(i<0)throw new RangeError("Expected all thresholds to be non-negative.");let n=(0,S2.getAndAssertSingleCodePoint)(r);e.set(n,i)}return e}});var Fs=L(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.remapCharactersTransformer=void 0;var E2=Rt(),$2=Ns(),R2=Ri();function C2(t){let e=M2(t);return(0,R2.createSimpleTransformer)(r=>e.get(r)??r)}Gs.remapCharactersTransformer=C2;function M2(t){let e=new Map,r=t instanceof Map?t.entries():Object.entries(t);for(let[i,n]of r){let a=(0,E2.getAndAssertSingleCodePoint)(i),o=new $2.CharacterIterator(n);for(let s of o)e.set(s,a)}return e}});var bv=L(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.confusables=void 0;Ws.confusables=new Map([[" "," "],["0","\u24FF"],["1","\u24F5\u278A\u2474\xB9\u{1D7CF}\u{1D7D9}\uFF11\u{1D7F7}\u{1D7E3}\u2488\u{1D7ED}1\u2780\u2081\u2460\u2776\u2960"],["2","\u24F6\u2489\u2475\u278B\u01BB\xB2\u14BF\u{1D7DA}\uFF12\u{1D7EE}\u{1D7E4}\u14BE\u{1D7F8}\u01A7\u{1D7D0}\u2461\u1D24\u2082\u2781\u2777\u161D\u01A8"],["3","\xB3\u2CCC\uA7AB\u{1D7D1}\u2128\u{1D7DB}\u{1D7EF}\u{1D7E5}\uA76A\u278C\u0417\u021C\u24F7\u04E0\u01B7\uFF13\u{1D7F9}\u2476\u248A\u0292\u0293\u01EF\u01EE\u01BA\u{1D574}\u1DBE\u0437\u19A1\u2782\u2462\u2083\u1D9A\u1D23\u1D1F\u2778\u0498\u0499\u04EC\u04E1\u04ED\u04DF\u04DE"],["4","\u278D\u04B6\u13CE\u{1D7DC}\u04B7\u24F8\u04B8\u04B9\u04F4\u04F5\u1DA3\uFF14\u0447\u3129\u2074\u2783\u2084\u2463\u2779\u04CB\u2477\u248B"],["5","\u{1D7F1}\u24F9\u278E\u01BC\u{1D7D3}\u{1D7FB}\u{1D7DD}\u{1D7E7}\uFF15\u2784\u2085\u2464\u2075\u277A\u01BD\u2478\u248C"],["6","\u2CD2\u13EE\u{1D7DE}\u{1D7E8}\u{1D7D4}\u278F\u24FA\u03EC\u03ED\u2076\u0431\uFF16\u19C8\u2465\u2785\u2086\u277B\u2479\u248D"],["7","\u24FB\u{104D2}\u2790\uFF17\u2077\u2466\u2087\u277C\u2786\u247A\u248E"],["8","\u{1031A}\u2791\u24FC\uFF18\u{1D7E0}\u{1D7EA}\u09EA\u2078\u2088\u{1D7F4}\u2787\u2467\u277D\u{1D7FE}\u{1D7D6}\u247B\u248F"],["9","\uA76E\u2CCA\u24FD\u2792\u0A67\u09ED\u0B68\uFF19\u{1D7EB}\u{1D7FF}\u{1D7D7}\u2079\u2089\u0533\u2788\u2468\u277E\u247C\u2490"],["A","\u{1F130}\u13AF\u{102A0}\u{1D56C}\u{1D71C}\u{1D434}\uA4EE\u13AA\u{1D6A8}\uAB7A\u{1D756}\u{1F150}\u212B\u2200\u{1F1E6}\u20B3\u{1F170}\u{1D49C}\u{1D608}\u{1D400}\u{1D538}\u0434\u01FA\u15C5\u24B6\uFF21\u0391\u1F8B\u15E9\u0102\xC3\xC5\u01CD\u0200\u0202\u0100\u023A\u0104\u028C\u039B\u03BB\u019B\u1D00\u1D2C\u0414\u0410\u120D\xC4\u2090\u1571\xAA\u01DE\u04D2\u0386\u1EA0\u1EA2\u1EA6\u1EA8\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1FB8\u1FB9\u1FBA\u1FBB\u1FBC\u1F88\u1F89\u1F8A\u1F8C\u1F8D\u1F8E\u1F8F\u1F08\u1F09\u1F0A\u1F0B\u1F0C\u1F0D\u1F0E\u1F0F\u1E00\u0226\u01E0\u04D0\xC0\xC1\xC2\u1EA4\u1EAA\u{1D6E2}\u{1D4D0}\u{1D670}\u{1D63C}"],["a","\u2202\u237A\u24D0\u0571\u01DF\u1D43\u1D8F\u249C\u0430\u0252\uFF41\u03B1\u0203\u0201\u0E04\u01CE\u10DB\xE4\u0251\u0101\u0250\u0105\u1F84\u1E9A\u1EA1\u1EA3\u01E1\u1EA7\u1EB5\u1E01\u0227\u04D1\u04D3\xE3\xE5\u03AC\u1F70\u1F71\u0103\u1EA9\u1EB1\u1EB3\u1EB7\u1F80\u1F81\u1F82\u1F83\u1F85\u1F86\u1FB0\u1FB1\u1FB2\u1FB3\u1FB4\u1D90\u1FB6\u1FB7\u1F00\u1F01\u1F02\u1F03\u1F04\u1F05\u1F06\u1F07\u1F87\u1EAD\u1EAF\xE0\xE1\xE2\u1EA5\u1EAB\u01FB\u2C65\u{1D41A}\u{1D44E}\u{1D482}\u{1D4B6}\u{1D4EA}\u{1D51E}\u{1D552}\u{1D586}\u{1D5BA}\u{1D5EE}\u{1D622}\u{1D656}\u{1D68A}\u{1D6C2}\u{1D6FC}\u{1D736}\u{1D770}\u{1D7AA}\u2376"],["B","\u{10301}\u{1D469}\u{1D56D}\u{1F131}\u{102A1}\u{1D5A1}\u{1D63D}\uA4D0\u{1D5D5}\u{1D609}\u{1D71D}\u{10282}\u{1D6A9}\u{1D401}\u{1D6E3}\u{1D757}\u{1D435}\u{1D671}\u{1D539}\u13F4\u13FC\u{1D791}\uA7B4\u{1D505}\u{1F151}\u0E3F\u{1D4D1}\u15FF\u15FE\u15FD\u{1F171}\u24B7\uFF22\u0432\u03D0\u15F7\u0181\u4E43\xDF\u10EA\u10E9\u0E56\u03B2\u026E\u0411\u0545\u0E52\u1656\u0299\u1D2E\u1D47\u130C\u1E04\u212C\u0392\u0412\u1E9E\u1E02\u1E06\u0243\u0D26\u15F9\u15F8\u1D5D\u165E\u165F\u165D\u16D2\u1657\u1658\u1D03\u{1F1E7}"],["b","\u13CF\u{1D41B}\u{1D623}\u{1D4B7}\u{1D51F}\u{1D4EB}\u{1D587}\u{1D5BB}\u{1D44F}\u{1D657}\u{1D553}\u{1D483}\u{1D5EF}\u{1D68B}\u266D\u1473\u1488\uFF42\u159A\u1579\u157A\u24D1\u1E03\u1E05\u048D\u044A\u1E07\u0183\u0253\u0185\u15AF\u0184\u042C\u1472\xFE\u0182\u249D\u042A\u1D80\u147F\u1480\u1482\u1481\u147E\u044C\u0180\u048C\u0462\u0463\u150E"],["C","\u13DF\u2CA4\u{1F132}\uA4DA\u{102A2}\u{10302}\u{1F172}\u{10415}\u{1F152}\u263E\u010C\xC7\u24B8\uFF23\u2183\u0187\u1455\u3108\xA2\u096E\u21BB\u0108\u03FE\u0547\u023B\u1645\u1D9C\u249E\u0106\u0480\u010A\xA9\u091F\u0186\u2102\u212D\u03F9\u0421\u531A\u1E08\u04AA\u0297\u1456\u1461\u1462\u1463\u1464\u1465\u216D\u{1D402}\u{1D436}\u{1D46A}\u{1D49E}\u{1D4D2}\u{1D56E}\u{1D5A2}\u{1D5D6}\u{1D60A}\u{1D63E}\u150D"],["c","\u2CA5\u{1043D}\uABAF\u0109\uFF43\u24D2\u0107\u010D\u010B\xE7\u0481\u0188\u1E09\u023C\u2184\u0441\u122D\u1D04\u03F2\u04AB\uA49D\u03C2\u027D\u03DB\u{1D672}\u1466\u19DA\u{1D41C}\u{1D450}\u{1D484}\u{1D4B8}\u{1D4EC}\u{1D520}\u{1D554}\u{1D588}\u{1D5BC}\u{1D5F0}\u{1D624}\u{1D658}\u{1D68C}\u20B5\u{1F1E8}\u1974\u14BC\u217D"],["D","\u13A0\u{1F133}\u{1D521}\u{1D589}\u{1D53B}\u{1D5D7}\u{1D60B}\u{1D673}\u{1D437}\u{1D4D3}\u{1D403}\u{1D46B}\u{1D56F}\u{1D5A3}\u{1D507}\u{1D63F}\uAB70\u2145\u{1D49F}\uA4D3\u{1F173}\u{1F153}\u24B9\uFF24\u0189\u15EA\u018A\xD0\u053A\u1D05\u1D30\u2181\u1E0A\u0110\xDE\u216E\u15DE\u146F\u010E\u1E0C\u1E10\u1E12\u1E0E\u15EB\u15EC\u15DF\u15E0\u1D9B\u1D06\u{1F1E9}"],["d","\u13E7\uA4D2\u{1D4ED}\u1D6D\u20AB\u0503\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u1D48\u249F\u0501\u217E\u1D81\u0500\u147A\u147B\u147C\u147D\u1484\u1470\u1471\u1D91\u{1D555}\u{1D5BD}\u{1D451}\u{1D625}\u{1D485}\u{1D659}\u{1D41D}\u{1D5F1}\u{1D68D}\u2146\u{1D4B9}\u02A0\u056A"],["E","\uAB7C\u{1F134}\u{1D640}\u{1D53C}\u{10286}\u{1D6AC}\uA4F0\u{1D75A}\u{1D794}\u{1D4D4}\u{1D46C}\u{1D5D8}\u{1F174}\u{1F154}\u24BA\u0388\uFF25\u018E\u1F1D\u156E\u0190\u30E2\u0404\u1D07\u1D31\u1D49\xC9\u4E47\u0401\u0246\uA085\u20AC\xC8\u2130\u0395\u0415\u2D39\u13AC\u0112\u0114\u0116\u0118\u011A\xCA\xCB\u0510\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u1E14\u1E16\u1EBA\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u1E18\u1E1A\u1F18\u1F19\u1F1A\u1F1B\u1F1C\u1FC8\u1FC9\u04D6\u1F72\u1F73\u0400\u03F5\u{1F1EA}"],["e","\u{1D452}\u{1D4EE}\u{1D556}\u{1D58A}\u{1D626}\u{1D5F2}\u{1D68E}\u{1D65A}\u{1D486}\u{1D522}\u{1D5BE}\u{1D41E}\u04BE\u04BF\u24D4\uFF45\u24A0\xE8\u19C9\xE9\u1D92\xEA\u0258\u1F14\u1EC1\u1EBF\u1EC5\u0AEF\u01DD\u0454\u03B5\u0113\u04BD\u025B\u1EC3\u1EBD\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u0247\u2091\u0119\u1E1D\u1E19\u1E1B\u212E\u0435\u0511\u0450\u04D7\u1971\u0451\u1F10\u1F11\u1F12\u1F13\u1F15\u212F"],["F","\u{1F135}\u{10287}\u{1D509}\u{1D60D}\u{102A5}\uA4DD\uA798\u{1F175}\u{1F155}\u{1D4D5}\u24BB\uFF26\u0493\u0492\u15B4\u0191\u0532\u03DD\u127B\u1E1E\u2131\u03DC\u20A3\u{1F1EB}\u2132"],["f","\u{1D41F}\u{1D58B}\u24D5\uFF46\u0192\u1E1F\u0283\u0562\u1DA0\u24A1\u017F\uA2B0\u0284\u2231\u1D82\u{1D627}"],["G","\uA4D6\u13F3\u{1F136}\u13C0\u13FB\u{1D53E}\u{1D4D6}\u{1D46E}\u{1D572}\uAB90\u{1D4A2}\u{1D642}\u{1D5A6}\u{1D676}\u{1D50A}\u{1D43A}\u{1D406}\u{1F176}\u{1F156}\u24BC\uFF27\u0262\u0193\u029B\u0122\u161C\u1D33\u01F4\u0120\u050C\u011C\u1E20\u011E\u01E6\u01E4\u050D\u20B2\u{1F1EC}\u2141"],["g","\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u0581\u0AED\u01E5\u0260\uFEED\uFEEE\u1D4D\u24A2\u210A\u0261\u19C1\u{1D420}\u{1D454}\u{1D488}\u{1D4F0}\u{1D524}\u{1D558}\u{1D58C}\u{1D5C0}\u{1D5F4}\u{1D628}\u{1D65C}\u{1D690}"],["H","\u{1F137}\u{1D722}\uA4E7\u{1D60F}\u{1D43B}\u{1D75C}\u{1D5A7}\u{102CF}\u{1D5DB}\uAB8B\u210D\u13BB\u210C\u2C8E\u{1D46F}\u{1D796}\u{1F177}\u{1F157}\u12DE\u01F6\u050B\u24BD\uFF28\u0124\u16BA\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u04A2\u04A3\u04A4\u1FCA\u1FCB\u1FCC\u1F28\u1F29\u1F2A\u1F2B\u1F2D\u1F2E\u1F2F\u1F98\u1F99\u1F9A\u1F9B\u1F9C\u1F9D\u1F9E\u1F9F\u04C9\u04C8\u04A5\u0389\u043D\u5344\u2653\u{1D4D7}\u210B\u041D\u{1D407}\u{1D643}\u{1D677}\u029C\u{1D6E8}\u0397\u{1D6AE}\u157C\u04C7\u1D34\u1D78\u{1F1ED}"],["h","\u04BA\u24A3\u0452\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u0570\u04BB\u12A8\u12A9\u12AA\u12AB\u0266\u210E\u{1D421}\u{1D489}\u{1D4BD}\u{1D4F1}\u{1D525}\u{1D559}\u{1D58D}\u{1D5C1}\u{1D5F5}\u{1D629}\u{1D65D}\u{1D691}\u056B\u02B0\u144B\u15C1\u0267\u3093\u0265"],["I","\u{1F138}\u0407\uA024\u13C6\u{1F178}\u{1F158}\u0625\uFE87\u0673\u0623\uFE83\u0672\u0675\u24BE\uFF29\u17F8\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197\u30A7\u30A8\u1FD8\u1FD9\u1FDA\u1FDB\u1F38\u1F39\u1F3A\u1F3B\u1F3C\u1F3D\u1F3E\u2160\u03AA\u038A\u026A\u1DA6\u144A\u1963\u{1D6EA}\u{1D408}\u{1D644}\u{1D678}\u{1D4F5}\u{1D661}\u{1D43C}\u1D35\u{1D6B0}\u{1D470}\u{1F1EE}"],["i","\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u1E2D\u1FD0\u1FD1\u1FD2\u1FD3\u1FD6\u1FD7\u1F30\u1F31\u1F32\u2170\u217C\u2223\u2D4F\uFFE8\u05C0\u0627\u0661\u06F1\u07CA\u16C1\u1F33\u1F34\u1F35\u0268\u0456\u1F76\u1F77\u1D96\u{1D526}\u{1D692}\u{1D778}\u{1D5C2}\u{1D422}\u{1D55A}\u{1D58E}\u{1D5F6}\u{1D62A}\u{1D65E}\u03AF\u2071\u1D62\u{1D4F2}\u24A4"],["J","\u{1F139}\u{1F179}\u{1F159}\u24BF\uFF2A\u0408\u029D\u148D\u05E0\uFF8C\u0134\u0286\u0E27\u0644\u0575\u0296\u1D0A\u1D36\uFEDD\u130B\u0248\u2C7C\u0542\u0E45\u10B1\u012F\u13AB\u0237\u4E3F\u2110\u2111\u1498\u1499\u149A\u149B\u14B4\u14B5\u148E\u148F\u{1F1EF}"],["j","\u24D9\uFF4A\u03F3\u02B2\u24A5\u0249\u0135\u01F0\u0458\u06B6\u1DA8\u{1D4BF}\u{1D62B}\u{1D5F7}\u{1D457}\u{1D65F}\u{1D527}\u{1D48B}\u{1D5C3}\u{1D4F3}\u{1D55B}\u{1D693}\u{1D58F}\u{1D423}"],["K","\u{1D5DE}\u{1F13A}\u{1D725}\u{1D612}\uA4D7\u{1D646}\u{1D542}\u2C94\u{1D50E}\u{1D6EB}\u13E6\u{1D799}\u{1D4A6}\u{1F17A}\u{1F15A}\u20AD\u24C0\uFF2B\u0138\u1E30\u045C\u0198\u043A\u04A0\u03BA\u049B\u049F\u04C4\u029E\u049A\u041A\u04A1\u1D0B\u1D37\u1D4F\u24A6\u16D5\u040C\u1315\u1E32\u039A\u212A\u049C\u049D\u049E\u0136\u1E34\u01E8\u2C69\u03D7\u04C3\u{1F1F0}"],["k","\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\u1D84\u{1D424}\u{1D62C}\u{1D5C4}\u{1D55C}\u{1D705}\u{1D718}\u{1D73F}\u{1D752}\u{1D779}\u{1D78C}\u{1D7B3}\u{1D660}\u{1D694}\u{1D458}\u{1D48C}\u03F0\u{1D6CB}\u{1D6DE}\u{1D7C6}\u{1D5F8}\u{1D4F4}\u{1D4C0}"],["L","\u{1F13B}\u{1041B}\u2CD0\u{1D473}\u{1D67B}\u{10443}\u{1D4DB}\u2CD1\uABAE\u13DE\uA4E1\u{1F17B}\u{1F15B}\uFE88\u2514\u24C1\u0582\uFF2C\u013F\u14AA\u4E5A\u0546\u029F\uA4F6\u03B9\u053C\u1D38\u02E1\u0139\u1228\u1E36\u2097\u0393\u056C\u013B\u1102\u216C\u2112\u2C62\u1967\u1968\u14BB\u14B6\u14B7\u1DAB\uFE8E\u14BA\u14B9\u14B8\u14AB\u23B3\u3125\u0141\u2C60\uFE84\u023D\u{1F1F1}"],["l","\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u04C0\u2113\u1E3D\u1E3B\u0142\uFF9A\u026D\u019A\u026B\u2C61|\u0196\u24A7\u0285\u01C0\u05D5\u05DF\u0399\u0406\uFF5C\u1DA9\u04CF\u{1D4D8}\u{1D540}\u{1D5A8}\u{1D5DC}\u{1D610}\u{1D425}\u{1D459}\u{1D48D}\u{1D4C1}\u{1D529}\u{1D55D}\u{1D591}\u{1D5C5}\u{1D5F9}\u{1D62D}\u{1D695}\u{1D724}\u{1D75E}\u0131\u{1D6A4}\u0269\u1FBE\u{1D6CA}\u{1D704}\u{1D73E}\u{1D7B2}"],["M","\u{1F13C}\u{10311}\u{102B0}\uA4DF\u2C98\u13B7\u{1F17C}\u{1F15C}\u24C2\uFF2D\u043C\u1E42\u0D71\u15F0\u5DDE\u163B\u10DD\u0E53\u264F\u028D\u164F\u1D0D\u1D39\u1D50\u24A8\u1E3E\u041C\u1E40\u0BF1\u216F\u2133\u039C\u03FA\u16D6\u04CD\u04CE\u{1D40C}\u{1D440}\u{1D474}\u{1D4DC}\u{1D510}\u{1D544}\u{1D578}\u{1D5AC}\u{1D5E0}\u{1D614}\u{1D648}\u{1D67C}\u{1D6B3}\u{1D6ED}\u{1D727}\u{1D761}\u{1D79B}\u{1F1F2}"],["m","\u20A5\u1D6F\u{1D592}\u{1D426}\u{1D5C6}\u{1D52A}\u{1D55E}\u{1D4C2}\u24DC\uFF4D\u0D28\u1662\u0D69\u1E3F\u1E41\u217F\u03FB\u1E43\u1320\u0271\u17F3\u1D86\u{1D662}\u{1D4F6}\u{1D696}\u{1D45A}\u{1D5FA}\u19D5\u19D7"],["N","\u{1F13D}\u2115\uA4E0\u{1D6EE}\u{1D762}\u{1D67D}\u{1D6B4}\u{1D475}\u{1D441}\u2C9A\u{1D40D}\u{1D4A9}\u{1D79C}\u{1D5E1}\u{1D615}\u{1D728}\u{1D4DD}\u{1D5AD}\u{1F17D}\u20A6\u{1F15D}\u0419\u040D\u24C3\u048B\u17F7\uFF2E\u1D0E\u0274\u019D\u144E\u51E0\u0438\u0548\u057C\u0418\u05D4\u041B\u03C0\u1D3A\u1DB0\u0143\u5200\u12AD\u1E44\u207F\xD1\u041F\u039D\u1D28\u0578\u03D6\u01F8\u0147\u1E46\u0145\u1E4A\u1E48\u0E17\u014A\u04E2\u04E3\u04E4\u04E5\u045B\u045D\u0439\u1962\u048A\u1D3B\u{1F1F3}"],["n","\u05D7\u{1D48F}\u{1D4F7}\u{1D663}\u{1D45B}\u{1D593}\u{1D52B}\u{1D5C7}\u{1D697}\u{1D5FB}\u1952\u24DD\u03AE\uFF4E\u01F9\u1D12\u0144\xF1\u1F97\u03B7\u1E45\u0148\u1E47\u0272\u0146\u1E4B\u1E49\u0572\u0E96\u054C\u019E\u014B\u24A9\u0E20\u0E01\u0273\u043F\u0149\u043B\u0509\u0220\u1F20\u1F21\u1FC3\u0564\u1F90\u1F91\u1F92\u1F93\u1F94\u1F95\u1F96\u1FC4\u1FC6\u1FC7\u1FC2\u1F22\u1F23\u1F24\u1F25\u1F26\u1F27\u1F74\u1F75\u1260\u1261\u1262\u1263\u1264\u1265\u1266\u0235\u{1D6C8}\u{1D702}\u{1D73C}\u{1D776}\u{1D7B0}\u{1D55F}\u{1D62F}\u{1D427}\u{1D4C3}\u1D87\u1D70\u1965\u2229"],["O","\uA132\u{1F13E}\u{10292}\u{1D7EC}\uA4F3\u2C9E\u{10404}\u{102AB}\u{104C2}\u{1D79E}\u{1F15E}\u2365\u25EF\u2D41\u2296\uFF10\u229D\u{1D764}\u0472\u03F4\u{1D6B6}\u{1D72A}\u047A\u04E6\u04E8\u04EA\u038C\u0298\u{1D40E}\u01D1\xD2\u014E\xD3\xD4\xD5\u020C\u020E\u31FF\u274D\u24C4\uFF2F\u1F4B\u30ED\u2764\u0AE6\u2295\xD8\u0424\u053E\u0398\u01A0\u1D3C\u1D52\u24AA\u0150\xD6\u2092\xA4\u25CA\u03A6\u3007\u039F\u041E\u0555\u0B20\u0D20\u0BE6\u05E1\u1ED2\u1ED0\u1ED6\u1ED4\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u022E\u0230\u022A\u1ECE\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u01FE\u019F\u2D54\u07C0\u17F0\u235C\u2394\u2395\u29B0\u29B1\u29B2\u29B3\u29B4\u29B5\u29B6\u29B7\u29B8\u29B9\u29BA\u29BB\u29BC\u29BD\u29BE\u29BF\u29C0\u29C1\u29C2\u29C3\u1F48\u1F49\u1F4A\u1F4C\u1F4D"],["o","\u{1D698}\u{1D6D0}\u{1D5C8}\u{1D7BC}\u101D\u2C9F\u{1D664}\u1040\u{1042C}\u{1D52C}\u{104EA}\u{1D4F8}\u{1F1F4}\u2364\u25CB\u03D9\u{1F17E}\u{1D4AA}\u{1D5AE}\u{1D7E2}\u{1D7F6}\u{1D67E}\u{1D630}\u{1D5FC}\u{1D560}\u{1D70A}\u{1D428}\u{1D77E}\u{1D7B8}\u1424\u24DE\u0473\u19D0\u1972\xF0\uFF4F\u0C20\u199E\u0553\xF2\u04E9\u04E7\xF3\xBA\u014D\xF4\u01D2\u020F\u014F\u1ED3\u1ED1\u020D\u1ED7\u1ED5\xF5\u03C3\u1E4D\u022D\u1E4F\u1F44\u1E51\u1E53\u022F\u022B\u0E4F\u1D0F\u0151\xF6\u047B\u043E\u12D0\u01ED\u0231\u09E6\u0B66\u0665\u0C66\u0CE6\u0D66\u0E50\u0ED0\u03BF\u0585\u1D11\u0966\u0A66\u1ECF\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\xF8\u01FF\u0275\u056E\u1F40\u1F41\u03CC\u1F78\u1F79\u1F42\u1F43\u1F45"],["P","\u{1F13F}\uA4D1\u{1D6B8}\u{1D67F}\u{1D7A0}\u{1D64B}\uABB2\u2CA2\u{1D4AB}\u{1D766}\u{1D443}\u{1D477}\u{1D5E3}\u{1D40F}\u{10295}\u{1D72C}\u{1D617}\u{1D4DF}\u{1D5AF}\u{1D6F2}\u13E2\u{1F15F}\u048E\u{1F17F}\u24C5\uFF30\u01A4\u146D\u5C38\u1E56\u0580\u03C6\u0584\u1D18\u1D3E\u1D56\u24AB\u1E54\uFF71\u05E7\u0420\u12E8\u1D29\u2C63\u2119\u03A1\u1FEC\u1478\u1476\u1477\u1479\u146C\u146E\u{1F1F5}\u20B1"],["p","\u048F\u2117\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\u1FE5\u03C1\u0440\u01BF\u01F7\u1FE4\u2374\u{1D4F9}\u{1D4C5}\u{1D429}\u{1D45D}\u{1D491}\u{1D52D}\u{1D561}\u{1D595}\u{1D5C9}\u{1D5FD}\u{1D631}\u{1D665}\u{1D699}\u{1D6D2}\u{1D746}\u{1D7BA}\u{1D70C}\u{1D780}"],["Q","\u{1F140}\u{1F180}\u{1F160}\u24C6\uFF31\u211A\u2D55\u051A\u{1D410}\u{1D444}\u{1D478}\u{1D4AC}\u{1D4E0}\u{1D680}\u{1D618}\u{1D64C}\u{1D5B0}\u{1D57C}\u{1D514}\u{1D5E4}\u{1F1F6}"],["q","\u24E0\uFF51\u0563\u24AC\u06F9\u0566\u146B\u024B\u024A\u051B\u{1D5CA}\u{1D45E}\u{1D632}\u{1D562}\u{1D69A}\u{1D492}\u{1D596}\u{1D42A}\u{1D52E}\u{1D4FA}\u{1D666}"],["R","\u211E\u211F\uAB71\u13D2\u{104B4}\uABA2\u13A1\uA4E3\u{1F181}\u{1F161}\u24C7\uFF32\u1D19\u0212\u0280\u1587\u044F\u5C3A\u0154\u042F\u0AB0\u01A6\u1D3F\u12EA\u1E5A\u024C\u0281\u211B\u211C\u211D\u1E58\u0158\u0210\u1E5C\u0156\u1E5E\u2C64\u{1D411}\u{1D445}\u{1D479}\u{1D4E1}\u{1D57D}\u{1D5B1}\u{1D5E5}\u{1D619}\u{1D64D}\u{1D681}\u16B1\u{1F1F7}\u1D1A"],["r","\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u0433\u0550\u027E\u196C\u1E5F\u024D\u02B3\u24AD\u027C\u0453\u1D26\u1D89\u{1D42B}\u{1D45F}\u{1D493}\u{1D4C7}\u{1D4FB}\u{1D52F}\u{1D563}\u{1D597}\u{1D5CB}\u{1D5FF}\u{1D633}\u{1D667}\u1D72\u0491\u1D63"],["S","\u{1F142}\uA1D9\u{1D4E2}\u{1D5E6}\u13DA\u{1D4AE}\u13D5\u{1D682}\u{1D412}\uA4E2\u{1D5B2}\u{1D516}\u{1D64E}\u{10296}\u{1D57E}\u{10420}\u{1D61A}\u{1D54A}\u{1D446}\u{1D47A}\u{1F182}\u{1F162}\u24C8\uFF33\u1E68\u015E\u0586\u054F\u0218\u02E2\u24AE\u0405\u1E60\u0160\u015A\u1E64\u015C\u1E66\u1E62\u0D1F\u1515\u1516\u1522\u1521\u1523\u1524"],["s","\u24E2\uA731\u{10448}\uABAA\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u0282\u1E63\u1E69\u0455\u015F\u0219\u023F\u1D8A\u0C15\u{1D42C}\u{1D460}\u{1D494}\u{1D4C8}\u{1D4FC}\u{1D530}\u{1D564}\u{1D598}\u{1D5CC}\u{1D600}\u{1D634}\u{1D668}\u{1D69C}\u078E\u{1F1F8}"],["T","\u{1F143}\u{1F183}\u{10315}\u{1D6BB}\u{1D6F5}\u{1D54B}\u{1D57F}\u{1D47B}\u{102B1}\u{10297}\u{1D5B3}\u{1D64F}\u{1F768}\u{1D769}\u{1D7A3}\u{1D683}\u{1D61B}\u{1D447}\uA4D4\u27D9\u{1D413}\u2CA6\u{1D5E7}\u22A4\u{1D517}\u13A2\uAB72\u{1D4AF}\u{1F163}\u23C7\u23C9\u24C9\uFF34\u0442\u04AC\u04AD\u01AC\u30A4\u0166\u0535\u03C4\u1D1B\u1D40\uFF72\u1355\u03EE\u0164\u22A5\u01AE\u03A4\u0422\u4E0B\u1E6A\u1E6C\u021A\u0162\u1E70\u1E6E\u4E05\u4E01\u142A\u{1D6D5}\u{1D70F}\u{1D749}\u{1D783}\u{1D7BD}\u{1D4E3}\u3112\u{1F1F9}\u1325"],["t","\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0236\u0A6E\u0567\u0287\u2020\u0163\u1E71\u1E6F\u01AD\u0167\u1D57\u24AF\u0288\u0565\u01AB\u{1D42D}\u{1D461}\u{1D495}\u{1D4C9}\u{1D4FD}\u{1D531}\u{1D565}\u{1D599}\u{1D5CD}\u{1D601}\u{1D635}\u{1D669}\u{1D69D}\u30CA"],["U","\u{1F144}\uA4F4\u{104CE}\uA4A4\u{1F184}\u{1F164}\u0168\u016C\u016E\u1457\u1458\u01D3\u01D5\u01D7\u01D9\u24CA\uFF35\u0216\u144C\u51F5\u01B1\u0574\u0531\uA4F5\u0426\u016A\u0544\u01B2\u1640\u1D41\u1D58\u24B0\u0170\u0AAA\xDC\u054D\xD9\xDA\xDB\u1E78\u1E7A\u01DB\u1EE6\u0214\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244\u1969\u1467\u222A\u162E\u22C3\u{1D414}\u{1D448}\u{1D47C}\u{1D4B0}\u{1D4E4}\u{1D518}\u{1D54C}\u{1D580}\u{1D5B4}\u{1D5E8}\u{1D61C}\u{1D650}\u{1D684}\u{1F1FA}"],["u","\u1F7A\u1F7B\u24E4\uFF55\xF9\u0169\u016B\u1EEB\u1E77\u1E79\u016D\u01D6\u1EEF\u1959\u01DA\u01DC\u1F57\u03C5\u03B0\u0E19\u057D\u028A\u01D8\u01D4\xFA\u016F\u1D1C\u0171\u0173\u0E22\xFB\u1E7B\u0446\u1201\xFC\u1D7E\u1D64\xB5\u028B\u1EE7\u0215\u0217\u01B0\u1EE9\u1EED\u1EF1\u1EE5\u1E73\u1E75\u0289\u1FE0\u1FE1\u1FE2\u1FE3\u1FE6\u1FE7\u1F50\u1F51\u03CB\u03CD\u1F52\u1F53\u1F54\u1F55\u1F56\u1954\u{1D42E}\u{1D462}\u{1D496}\u{1D4CA}\u{1D4FE}\u{1D532}\u{1D566}\u{1D59A}\u{1D5CE}\u1D99"],["V","\u{1F145}\uA4E6\u{1D47D}\u{1D5B5}\u{1D61D}\u13D9\u{1D685}\u{1D651}\u{1D415}\u{1F185}\u{1F165}\u24CB\uFF36\u142F\u0474\u1D5B\u24B1\u06F7\u1E7E\u2174\u2164\u1E7C\u0667\u2D38\u0476\u143A\u143B\u{1F1FB}\u{1D4E5}"],["v","\u1200\u24E5\uFF56\u{1D710}\u{1D74A}\u1E7D\u1E7F\u0C6E\u0E07\u0475\u05E2\u1D20\u03BD\u05D8\u1D65\u0477\u17F4\u1601\u{1D66B}\u{1D69F}\u{1D6CE}\u{1D708}\u{1D742}\u{1D77C}\u{1D7B6}\u{1D637}\u{1D603}\u{1D4FF}"],["W","\u{1F146}\u13D4\u13B3\u{1D47E}\uA4EA\u{1D4B2}\u{1D61E}\u{1F186}\u24CC\u{1F166}\uFF57\uFF37\u1E82\u1FA7\u15EF\u1955\u5C71\u0460\u0E9F\u0C1A\u0561\u0429\u0428\u03CE\u0449\u0E2C\u0448\u164E\u1D42\u02B7\u24B2\u0E1D\u1220\u1E84\u051C\u1E80\u0174\u1E86\u1E88\u0D27\u163A\u047F\u1661\u019C\u20A9\u{1F1FC}"],["w","\u1E81\uAB83\u1E83\u24E6\u2375\u0175\u1E87\u1E85\u1E98\u1E89\u2C73\u1F7C\u1F60\u1F61\u1F62\u1F63\u03C9\u1F64\u1F65\u1F66\u1F67\u1FF2\u1FF3\u1FF4\u1FF6\u1FF7\u2C72\u0461\u051D\u1D21\u1F7D\u1FA0\u1FA1\u1FA2\u1FA3\u1FA4\u1FA5\u1FA6\u026F\u{1D755}\u{1D7C9}\u{1D78F}"],["X","\u{1F7A8}\u{1F7A9}\u{1F7AA}\u{1F147}\u{1F7AB}\u{1F7AC}\u{10317}\u2CAC\uA4EB\u{1D583}\u{1D7A6}\u{1D61F}\u{10290}\u{1D6BE}\u{1D76C}\u{1D732}\uA7B3\u{10322}\u{1D5B7}\u{1D44B}\u{1D54F}\u{1D51B}\u{102B4}\u{1D5EB}\u{1F187}\u{1F167}\u274C\u24CD\u{1D4E7}\uFF38\u1E8A\u166D\u03C7\u3128\u{1D4B3}\u04FE\u10EF\u04FC\u04B3\u0416\u03A7\u04B2\u1D61\u02E3\u24B3\u05D0\u1238\u1E8C\uA2BC\u2169\u0425\u2573\u166E\u1541\u157D\u2179\u16B7\u2D5D\u{1D653}\u{1D687}\u4E42\u{1D417}\u{1F1FD}"],["x","\u24E7\uFF58\u0445\u1E8B\xD7\u2093\u292B\u292C\u2A2F\u1E8D\u1D8D\u{1D66D}\u04FD\u{1D639}\u{1D431}\u{1D6A1}\u2A30\uFF92\u{1D501}"],["Y","\u2CA8\u{1D688}\u{1D44C}\u{1D5EC}\u{1D418}\uA4EC\u{1D480}\u{1D730}\u{102B2}\u{1F188}\u{1F168}\u24CE\uFF39\u1F5B\u01B3\u311A\u028F\u2144\u03D4\uFFE5\xA5\u054E\u03D3\u03B3\u05E5\u04F2\u0427\u040E\u1203\u0178\u024E\u03E4\u03A5\u03D2\u04AE\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u1EF6\u1EF4\u1FE8\u1FE9\u1FEA\u1FEB\u1F59\u1F5D\u1F5F\u03AB\u038E\u04EE\u04F0\u04B0\u04B1\u{1D550}\u{1F1FE}"],["y","\u{1F148}\u13BD\u13A9\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u0443\u10E7\u1E99\u1EF5\u01B4\u024F\u1D5E\u0263\u02B8\u1D8C\u04AF\u24B4\u04F3\u04F1\u04EF\u045E\u0423\u028E"],["Z","\u{1F149}\uA4DC\u{1D5ED}\u{1D419}\u2621\u13C3\u{1D621}\u{1F189}\u{1F169}\u24CF\uFF3A\u1E94\u01B5\u4E59\u1E90\u0224\u1DBB\u24B5\u0179\u2124\u0396\u017B\u017D\u1E92\u2C6B\u{1F1FF}"],["z","\uAB93\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u1D22\u130A\u0290\u2C6C\u1D8E\u0291\u1646"]])});var Qh=L(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.resolveConfusablesTransformer=void 0;var D2=Fs(),N2=bv();function U2(){return(0,D2.remapCharactersTransformer)(N2.confusables)}qs.resolveConfusablesTransformer=U2});var vv=L(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.dictionary=void 0;Zs.dictionary=new Map([["a","@4"],["c","("],["e","3"],["i","1|!"],["g","6"],["o","0"],["s","$5"],["t","7"],["z","2"]])});var ep=L(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.resolveLeetSpeakTransformer=void 0;var z2=Fs(),O2=vv();function j2(){return(0,z2.remapCharactersTransformer)(O2.dictionary)}Vs.resolveLeetSpeakTransformer=j2});var tp=L(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.toAsciiLowerCaseTransformer=void 0;var Tv=Rt(),L2=Ri();function B2(){return(0,L2.createSimpleTransformer)(t=>(0,Tv.isUpperCase)(t)?(0,Tv.invertCaseOfAlphabeticChar)(t):t)}Hs.toAsciiLowerCaseTransformer=B2});var wv=L(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.englishDataset=et.englishRecommendedTransformers=et.englishRecommendedWhitelistMatcherTransformers=et.englishRecommendedBlacklistMatcherTransformers=void 0;var G2=jh(),_=Yh(),xv=Jh(),F2=Qh(),W2=ep(),_v=tp();et.englishRecommendedBlacklistMatcherTransformers=[(0,F2.resolveConfusablesTransformer)(),(0,W2.resolveLeetSpeakTransformer)(),(0,_v.toAsciiLowerCaseTransformer)(),(0,xv.collapseDuplicatesTransformer)({defaultThreshold:1,customThresholds:new Map([["b",2],["e",2],["o",2],["l",2],["s",2],["g",2]])})];et.englishRecommendedWhitelistMatcherTransformers=[(0,_v.toAsciiLowerCaseTransformer)(),(0,xv.collapseDuplicatesTransformer)({defaultThreshold:Number.POSITIVE_INFINITY,customThresholds:new Map([[" ",1]])})];et.englishRecommendedTransformers={blacklistMatcherTransformers:et.englishRecommendedBlacklistMatcherTransformers,whitelistMatcherTransformers:et.englishRecommendedWhitelistMatcherTransformers};et.englishDataset=new G2.DataSet().addPhrase(t=>t.setMetadata({originalWord:"abo"}).addPattern((0,_.pattern)`|ab[b]o[s]|`)).addPhrase(t=>t.setMetadata({originalWord:"abeed"}).addPattern((0,_.pattern)`ab[b]eed`)).addPhrase(t=>t.setMetadata({originalWord:"africoon"}).addPattern((0,_.pattern)`africoon`)).addPhrase(t=>t.setMetadata({originalWord:"anal"}).addPattern((0,_.pattern)`|anal`).addWhitelistedTerm("analabos").addWhitelistedTerm("analagous").addWhitelistedTerm("analav").addWhitelistedTerm("analy").addWhitelistedTerm("analog").addWhitelistedTerm("an al").addPattern((0,_.pattern)`danal`).addPattern((0,_.pattern)`eanal`).addPattern((0,_.pattern)`fanal`).addWhitelistedTerm("fan al").addPattern((0,_.pattern)`ganal`).addWhitelistedTerm("gan al").addPattern((0,_.pattern)`ianal`).addWhitelistedTerm("ian al").addPattern((0,_.pattern)`janal`).addWhitelistedTerm("trojan al").addPattern((0,_.pattern)`kanal`).addPattern((0,_.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,_.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,_.pattern)`oanal|`).addPattern((0,_.pattern)`panal`).addWhitelistedTerm("pan al").addPattern((0,_.pattern)`qanal`).addPattern((0,_.pattern)`ranal`).addPattern((0,_.pattern)`sanal`).addPattern((0,_.pattern)`tanal`).addWhitelistedTerm("tan al").addPattern((0,_.pattern)`uanal`).addWhitelistedTerm("uan al").addPattern((0,_.pattern)`vanal`).addWhitelistedTerm("van al").addPattern((0,_.pattern)`wanal`).addPattern((0,_.pattern)`xanal`).addWhitelistedTerm("texan al").addPattern((0,_.pattern)`yanal`).addPattern((0,_.pattern)`zanal`)).addPhrase(t=>t.setMetadata({originalWord:"anus"}).addPattern((0,_.pattern)`anus`).addWhitelistedTerm("an us").addWhitelistedTerm("tetanus").addWhitelistedTerm("uranus").addWhitelistedTerm("janus").addWhitelistedTerm("manus")).addPhrase(t=>t.setMetadata({originalWord:"arabush"}).addPattern((0,_.pattern)`arab[b]ush`)).addPhrase(t=>t.setMetadata({originalWord:"arse"}).addPattern((0,_.pattern)`|ars[s]e`).addWhitelistedTerm("arsen")).addPhrase(t=>t.setMetadata({originalWord:"ass"}).addPattern((0,_.pattern)`|ass`).addWhitelistedTerm("assa").addWhitelistedTerm("assem").addWhitelistedTerm("assen").addWhitelistedTerm("asser").addWhitelistedTerm("asset").addWhitelistedTerm("assev").addWhitelistedTerm("assi").addWhitelistedTerm("assoc").addWhitelistedTerm("assoi").addWhitelistedTerm("assu")).addPhrase(t=>t.setMetadata({originalWord:"bastard"}).addPattern((0,_.pattern)`bas[s]tard`)).addPhrase(t=>t.setMetadata({originalWord:"bestiality"}).addPattern((0,_.pattern)`be[e][a]s[s]tial`)).addPhrase(t=>t.setMetadata({originalWord:"bitch"}).addPattern((0,_.pattern)`bitch`).addPattern((0,_.pattern)`bich|`)).addPhrase(t=>t.setMetadata({originalWord:"blowjob"}).addPattern((0,_.pattern)`b[b]l[l][o]wj[o]b`)).addPhrase(t=>t.setMetadata({originalWord:"bollocks"}).addPattern((0,_.pattern)`bol[l]ock`)).addPhrase(t=>t.setMetadata({originalWord:"boob"}).addPattern((0,_.pattern)`boob`)).addPhrase(t=>t.setMetadata({originalWord:"boonga"}).addPattern((0,_.pattern)`boonga`).addWhitelistedTerm("baboon ga")).addPhrase(t=>t.setMetadata({originalWord:"buttplug"}).addPattern((0,_.pattern)`buttplug`)).addPhrase(t=>t.setMetadata({originalWord:"chingchong"}).addPattern((0,_.pattern)`chingchong`)).addPhrase(t=>t.setMetadata({originalWord:"chink"}).addPattern((0,_.pattern)`chink`).addWhitelistedTerm("chin k")).addPhrase(t=>t.setMetadata({originalWord:"cock"}).addPattern((0,_.pattern)`|cock|`).addPattern((0,_.pattern)`|cocks`).addPattern((0,_.pattern)`|cockp`).addPattern((0,_.pattern)`|cocke[e]|`).addWhitelistedTerm("cockney")).addPhrase(t=>t.setMetadata({originalWord:"cuck"}).addPattern((0,_.pattern)`cuck`).addWhitelistedTerm("cuckoo")).addPhrase(t=>t.setMetadata({originalWord:"cum"}).addPattern((0,_.pattern)`|cum`).addWhitelistedTerm("cumu").addWhitelistedTerm("cumb")).addPhrase(t=>t.setMetadata({originalWord:"cunt"}).addPattern((0,_.pattern)`|cunt`).addPattern((0,_.pattern)`cunt|`)).addPhrase(t=>t.setMetadata({originalWord:"deepthroat"}).addPattern((0,_.pattern)`deepthro[o]at`).addPattern((0,_.pattern)`deepthro[o]t`)).addPhrase(t=>t.setMetadata({originalWord:"dick"}).addPattern((0,_.pattern)`|dck|`).addPattern((0,_.pattern)`dick`).addWhitelistedTerm("benedick").addWhitelistedTerm("dickens")).addPhrase(t=>t.setMetadata({originalWord:"dildo"}).addPattern((0,_.pattern)`dildo`)).addPhrase(t=>t.setMetadata({originalWord:"doggystyle"}).addPattern((0,_.pattern)`d[o]g[g]ys[s]t[y]l[l]`)).addPhrase(t=>t.setMetadata({originalWord:"double penetration"}).addPattern((0,_.pattern)`double penetra`)).addPhrase(t=>t.setMetadata({originalWord:"dyke"}).addPattern((0,_.pattern)`dyke`).addWhitelistedTerm("van dyke")).addPhrase(t=>t.setMetadata({originalWord:"ejaculate"}).addPattern((0,_.pattern)`e[e]jacul`).addPattern((0,_.pattern)`e[e]jakul`).addPattern((0,_.pattern)`e[e]acul[l]ate`)).addPhrase(t=>t.setMetadata({originalWord:"fag"}).addPattern((0,_.pattern)`|fag`).addPattern((0,_.pattern)`fggot`)).addPhrase(t=>t.setMetadata({originalWord:"felch"}).addPattern((0,_.pattern)`fe[e]l[l]ch`)).addPhrase(t=>t.setMetadata({originalWord:"fellatio"}).addPattern((0,_.pattern)`f[e][e]llat`)).addPhrase(t=>t.setMetadata({originalWord:"finger bang"}).addPattern((0,_.pattern)`fingerbang`)).addPhrase(t=>t.setMetadata({originalWord:"fisting"}).addPattern((0,_.pattern)`fistin`)).addPhrase(t=>t.setMetadata({originalWord:"fuck"}).addPattern((0,_.pattern)`f[?]ck`).addPattern((0,_.pattern)`|fk`).addPattern((0,_.pattern)`|fu|`).addPattern((0,_.pattern)`|fuk`).addWhitelistedTerm("fick").addWhitelistedTerm("kung-fu").addWhitelistedTerm("kung fu")).addPhrase(t=>t.setMetadata({originalWord:"gangbang"}).addPattern((0,_.pattern)`g[?]ngbang`)).addPhrase(t=>t.setMetadata({originalWord:"handjob"}).addPattern((0,_.pattern)`h[?]ndjob`)).addPhrase(t=>t.setMetadata({originalWord:"hentai"}).addPattern((0,_.pattern)`h[e][e]ntai`)).addPhrase(t=>t.setMetadata({originalWord:"hooker"}).addPattern((0,_.pattern)`hooker`)).addPhrase(t=>t.setMetadata({originalWord:"incest"}).addPattern((0,_.pattern)`incest`)).addPhrase(t=>t.setMetadata({originalWord:"jerk off"}).addPattern((0,_.pattern)`jerkoff`)).addPhrase(t=>t.setMetadata({originalWord:"jizz"}).addPattern((0,_.pattern)`jizz`)).addPhrase(t=>t.setMetadata({originalWord:"kike"}).addPattern((0,_.pattern)`kike`)).addPhrase(t=>t.setMetadata({originalWord:"lubejob"}).addPattern((0,_.pattern)`lubejob`)).addPhrase(t=>t.setMetadata({originalWord:"masturbate"}).addPattern((0,_.pattern)`m[?]sturbate`).addPattern((0,_.pattern)`masterbate`)).addPhrase(t=>t.setMetadata({originalWord:"negro"}).addPattern((0,_.pattern)`negro`).addWhitelistedTerm("montenegro").addWhitelistedTerm("negron").addWhitelistedTerm("stoneground").addWhitelistedTerm("winegrow")).addPhrase(t=>t.setMetadata({originalWord:"nigger"}).addPattern((0,_.pattern)`n[i]gger`).addPattern((0,_.pattern)`n[i]gga`).addPattern((0,_.pattern)`|nig|`).addPattern((0,_.pattern)`|nigs|`).addWhitelistedTerm("snigger")).addPhrase(t=>t.setMetadata({originalWord:"orgasm"}).addPattern((0,_.pattern)`[or]gasm`).addWhitelistedTerm("gasma")).addPhrase(t=>t.setMetadata({originalWord:"orgy"}).addPattern((0,_.pattern)`orgy`).addPattern((0,_.pattern)`orgies`).addWhitelistedTerm("porgy")).addPhrase(t=>t.setMetadata({originalWord:"penis"}).addPattern((0,_.pattern)`pe[e]nis`).addPattern((0,_.pattern)`|pnis`).addWhitelistedTerm("pen is")).addPhrase(t=>t.setMetadata({originalWord:"piss"}).addPattern((0,_.pattern)`|piss`)).addPhrase(t=>t.setMetadata({originalWord:"porn"}).addPattern((0,_.pattern)`|prn|`).addPattern((0,_.pattern)`porn`).addWhitelistedTerm("p orna")).addPhrase(t=>t.setMetadata({originalWord:"prick"}).addPattern((0,_.pattern)`|prick[s]|`)).addPhrase(t=>t.setMetadata({originalWord:"pussy"}).addPattern((0,_.pattern)`p[u]ssy`)).addPhrase(t=>t.setMetadata({originalWord:"rape"}).addPattern((0,_.pattern)`|rape`).addPattern((0,_.pattern)`|rapis[s]t`)).addPhrase(t=>t.setMetadata({originalWord:"retard"}).addPattern((0,_.pattern)`retard`)).addPhrase(t=>t.setMetadata({originalWord:"scat"}).addPattern((0,_.pattern)`|s[s]cat|`)).addPhrase(t=>t.setMetadata({originalWord:"semen"}).addPattern((0,_.pattern)`|s[s]e[e]me[e]n`)).addPhrase(t=>t.setMetadata({originalWord:"sex"}).addPattern((0,_.pattern)`|s[s]e[e]x|`).addPattern((0,_.pattern)`|s[s]e[e]xy|`)).addPhrase(t=>t.setMetadata({originalWord:"shit"}).addPattern((0,_.pattern)`|shit`).addPattern((0,_.pattern)`shit|`).addWhitelistedTerm("s hit").addWhitelistedTerm("sh it").addWhitelistedTerm("shi t").addWhitelistedTerm("shitake")).addPhrase(t=>t.setMetadata({originalWord:"slut"}).addPattern((0,_.pattern)`s[s]lut`)).addPhrase(t=>t.setMetadata({originalWord:"spastic"}).addPattern((0,_.pattern)`|spastic`)).addPhrase(t=>t.setMetadata({originalWord:"tit"}).addPattern((0,_.pattern)`|tit|`).addPattern((0,_.pattern)`|tits|`).addPattern((0,_.pattern)`|titt`).addPattern((0,_.pattern)`|tiddies`).addPattern((0,_.pattern)`|tities`)).addPhrase(t=>t.setMetadata({originalWord:"tranny"}).addPattern((0,_.pattern)`tranny`)).addPhrase(t=>t.setMetadata({originalWord:"turd"}).addPattern((0,_.pattern)`|turd`).addWhitelistedTerm("turducken")).addPhrase(t=>t.setMetadata({originalWord:"twat"}).addPattern((0,_.pattern)`|twat`).addWhitelistedTerm("twattle")).addPhrase(t=>t.setMetadata({originalWord:"vagina"}).addPattern((0,_.pattern)`vagina`).addPattern((0,_.pattern)`|v[?]gina`)).addPhrase(t=>t.setMetadata({originalWord:"wank"}).addPattern((0,_.pattern)`|wank`)).addPhrase(t=>t.setMetadata({originalWord:"whore"}).addPattern((0,_.pattern)`|wh[o]re|`).addPattern((0,_.pattern)`|who[o]res[s]|`).addWhitelistedTerm("who're"))});var Sv=L(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.skipNonAlphabeticTransformer=void 0;var q2=Rt(),Z2=Ri();function V2(){return(0,Z2.createSimpleTransformer)(t=>(0,q2.isAlphabetic)(t)?t:void 0)}Ks.skipNonAlphabeticTransformer=V2});var Pv=L(ue=>{"use strict";var H2=ue&&ue.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Se=ue&&ue.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&H2(e,t,r)};Object.defineProperty(ue,"__esModule",{value:!0});Se(Nh(),ue);Se(nv(),ue);Se(jh(),ue);Se(uv(),ue);Se(zh(),ue);Se(ks(),ue);Se(mv(),ue);Se(Rs(),ue);Se(Vh(),ue);Se(Yh(),ue);Se(wv(),ue);Se(Jh(),ue);Se(Fs(),ue);Se(Qh(),ue);Se(ep(),ue);Se(Sv(),ue);Se(tp(),ue)});var{entries:Op,setPrototypeOf:Ep,isFrozen:mT,getPrototypeOf:hT,getOwnPropertyDescriptor:pT}=Object,{freeze:Re,seal:Ke,create:jp}=Object,{apply:yl,construct:bl}=typeof Reflect<"u"&&Reflect;Re||(Re=function(e){return e});Ke||(Ke=function(e){return e});yl||(yl=function(e,r,i){return e.apply(r,i)});bl||(bl=function(e,r){return new e(...r)});var Bi=Ce(Array.prototype.forEach),fT=Ce(Array.prototype.lastIndexOf),$p=Ce(Array.prototype.pop),wn=Ce(Array.prototype.push),gT=Ce(Array.prototype.splice),Fi=Ce(String.prototype.toLowerCase),ml=Ce(String.prototype.toString),Rp=Ce(String.prototype.match),Sn=Ce(String.prototype.replace),yT=Ce(String.prototype.indexOf),bT=Ce(String.prototype.trim),rt=Ce(Object.prototype.hasOwnProperty),$e=Ce(RegExp.prototype.test),Pn=vT(TypeError);function Ce(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return yl(t,e,i)}}function vT(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return bl(t,r)}}function B(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fi;Ep&&Ep(t,null);let i=e.length;for(;i--;){let n=e[i];if(typeof n=="string"){let a=r(n);a!==n&&(mT(e)||(e[i]=a),n=a)}t[n]=!0}return t}function TT(t){for(let e=0;e<t.length;e++)rt(t,e)||(t[e]=null);return t}function gt(t){let e=jp(null);for(let[r,i]of Op(t))rt(t,r)&&(Array.isArray(i)?e[r]=TT(i):i&&typeof i=="object"&&i.constructor===Object?e[r]=gt(i):e[r]=i);return e}function kn(t,e){for(;t!==null;){let i=pT(t,e);if(i){if(i.get)return Ce(i.get);if(typeof i.value=="function")return Ce(i.value)}t=hT(t)}function r(){return null}return r}var Cp=Re(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hl=Re(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pl=Re(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xT=Re(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fl=Re(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_T=Re(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mp=Re(["#text"]),Dp=Re(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),gl=Re(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Np=Re(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gi=Re(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wT=Ke(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ST=Ke(/<%[\w\W]*|[\w\W]*%>/gm),PT=Ke(/\$\{[\w\W]*/gm),kT=Ke(/^data-[\-\w.\u00B7-\uFFFF]+$/),IT=Ke(/^aria-[\-\w]+$/),Lp=Ke(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),AT=Ke(/^(?:\w+script|data):/i),ET=Ke(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bp=Ke(/^html$/i),$T=Ke(/^[a-z][.\w]*(-[.\w]+)+$/i),Up=Object.freeze({__proto__:null,ARIA_ATTR:IT,ATTR_WHITESPACE:ET,CUSTOM_ELEMENT:$T,DATA_ATTR:kT,DOCTYPE_NAME:Bp,ERB_EXPR:ST,IS_ALLOWED_URI:Lp,IS_SCRIPT_OR_DATA:AT,MUSTACHE_EXPR:wT,TMPLIT_EXPR:PT}),In={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},RT=function(){return typeof window>"u"?null:window},CT=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,n="data-tt-policy-suffix";r&&r.hasAttribute(n)&&(i=r.getAttribute(n));let a="dompurify"+(i?"#"+i:"");try{return e.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},zp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Gp(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RT(),e=D=>Gp(D);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==In.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t,i=r,n=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:f}=t,p=l.prototype,T=kn(p,"cloneNode"),x=kn(p,"remove"),$=kn(p,"nextSibling"),I=kn(p,"childNodes"),v=kn(p,"parentNode");if(typeof o=="function"){let D=r.createElement("template");D.content&&D.content.ownerDocument&&(r=D.content.ownerDocument)}let S,z="",{implementation:G,createNodeIterator:q,createDocumentFragment:H,getElementsByTagName:Y}=r,{importNode:Q}=i,F=zp();e.isSupported=typeof Op=="function"&&typeof v=="function"&&G&&G.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:he,ERB_EXPR:ie,TMPLIT_EXPR:De,DATA_ATTR:He,ARIA_ATTR:Ne,IS_SCRIPT_OR_DATA:Yt,ATTR_WHITESPACE:yr,CUSTOM_ELEMENT:Xt}=Up,{IS_ALLOWED_URI:tt}=Up,R=null,br=B({},[...Cp,...hl,...pl,...fl,...Mp]),ye=null,Ci=B({},[...Dp,...gl,...Np,...Gi]),ee=Object.seal(jp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vn=null,Qs=null,lp=!0,el=!0,cp=!1,up=!0,vr=!1,Mi=!0,Jt=!1,tl=!1,rl=!1,Tr=!1,Di=!1,Ni=!1,dp=!0,mp=!1,Yv="user-content-",nl=!0,Tn=!1,xr={},_r=null,hp=B({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pp=null,fp=B({},["audio","video","img","source","image","track"]),il=null,gp=B({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ui="http://www.w3.org/1998/Math/MathML",zi="http://www.w3.org/2000/svg",ht="http://www.w3.org/1999/xhtml",wr=ht,al=!1,ol=null,Xv=B({},[Ui,zi,ht],ml),Oi=B({},["mi","mo","mn","ms","mtext"]),ji=B({},["annotation-xml"]),Jv=B({},["title","style","font","a","script"]),xn=null,Qv=["application/xhtml+xml","text/html"],eT="text/html",xe=null,Sr=null,tT=r.createElement("form"),yp=function(y){return y instanceof RegExp||y instanceof Function},sl=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Sr&&Sr===y)){if((!y||typeof y!="object")&&(y={}),y=gt(y),xn=Qv.indexOf(y.PARSER_MEDIA_TYPE)===-1?eT:y.PARSER_MEDIA_TYPE,xe=xn==="application/xhtml+xml"?ml:Fi,R=rt(y,"ALLOWED_TAGS")?B({},y.ALLOWED_TAGS,xe):br,ye=rt(y,"ALLOWED_ATTR")?B({},y.ALLOWED_ATTR,xe):Ci,ol=rt(y,"ALLOWED_NAMESPACES")?B({},y.ALLOWED_NAMESPACES,ml):Xv,il=rt(y,"ADD_URI_SAFE_ATTR")?B(gt(gp),y.ADD_URI_SAFE_ATTR,xe):gp,pp=rt(y,"ADD_DATA_URI_TAGS")?B(gt(fp),y.ADD_DATA_URI_TAGS,xe):fp,_r=rt(y,"FORBID_CONTENTS")?B({},y.FORBID_CONTENTS,xe):hp,vn=rt(y,"FORBID_TAGS")?B({},y.FORBID_TAGS,xe):gt({}),Qs=rt(y,"FORBID_ATTR")?B({},y.FORBID_ATTR,xe):gt({}),xr=rt(y,"USE_PROFILES")?y.USE_PROFILES:!1,lp=y.ALLOW_ARIA_ATTR!==!1,el=y.ALLOW_DATA_ATTR!==!1,cp=y.ALLOW_UNKNOWN_PROTOCOLS||!1,up=y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vr=y.SAFE_FOR_TEMPLATES||!1,Mi=y.SAFE_FOR_XML!==!1,Jt=y.WHOLE_DOCUMENT||!1,Tr=y.RETURN_DOM||!1,Di=y.RETURN_DOM_FRAGMENT||!1,Ni=y.RETURN_TRUSTED_TYPE||!1,rl=y.FORCE_BODY||!1,dp=y.SANITIZE_DOM!==!1,mp=y.SANITIZE_NAMED_PROPS||!1,nl=y.KEEP_CONTENT!==!1,Tn=y.IN_PLACE||!1,tt=y.ALLOWED_URI_REGEXP||Lp,wr=y.NAMESPACE||ht,Oi=y.MATHML_TEXT_INTEGRATION_POINTS||Oi,ji=y.HTML_INTEGRATION_POINTS||ji,ee=y.CUSTOM_ELEMENT_HANDLING||{},y.CUSTOM_ELEMENT_HANDLING&&yp(y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ee.tagNameCheck=y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),y.CUSTOM_ELEMENT_HANDLING&&yp(y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ee.attributeNameCheck=y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),y.CUSTOM_ELEMENT_HANDLING&&typeof y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ee.allowCustomizedBuiltInElements=y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vr&&(el=!1),Di&&(Tr=!0),xr&&(R=B({},Mp),ye=[],xr.html===!0&&(B(R,Cp),B(ye,Dp)),xr.svg===!0&&(B(R,hl),B(ye,gl),B(ye,Gi)),xr.svgFilters===!0&&(B(R,pl),B(ye,gl),B(ye,Gi)),xr.mathMl===!0&&(B(R,fl),B(ye,Np),B(ye,Gi))),y.ADD_TAGS&&(R===br&&(R=gt(R)),B(R,y.ADD_TAGS,xe)),y.ADD_ATTR&&(ye===Ci&&(ye=gt(ye)),B(ye,y.ADD_ATTR,xe)),y.ADD_URI_SAFE_ATTR&&B(il,y.ADD_URI_SAFE_ATTR,xe),y.FORBID_CONTENTS&&(_r===hp&&(_r=gt(_r)),B(_r,y.FORBID_CONTENTS,xe)),nl&&(R["#text"]=!0),Jt&&B(R,["html","head","body"]),R.table&&(B(R,["tbody"]),delete vn.tbody),y.TRUSTED_TYPES_POLICY){if(typeof y.TRUSTED_TYPES_POLICY.createHTML!="function")throw Pn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Pn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=y.TRUSTED_TYPES_POLICY,z=S.createHTML("")}else S===void 0&&(S=CT(f,n)),S!==null&&typeof z=="string"&&(z=S.createHTML(""));Re&&Re(y),Sr=y}},bp=B({},[...hl,...pl,...xT]),vp=B({},[...fl,..._T]),rT=function(y){let P=v(y);(!P||!P.tagName)&&(P={namespaceURI:wr,tagName:"template"});let C=Fi(y.tagName),ae=Fi(P.tagName);return ol[y.namespaceURI]?y.namespaceURI===zi?P.namespaceURI===ht?C==="svg":P.namespaceURI===Ui?C==="svg"&&(ae==="annotation-xml"||Oi[ae]):!!bp[C]:y.namespaceURI===Ui?P.namespaceURI===ht?C==="math":P.namespaceURI===zi?C==="math"&&ji[ae]:!!vp[C]:y.namespaceURI===ht?P.namespaceURI===zi&&!ji[ae]||P.namespaceURI===Ui&&!Oi[ae]?!1:!vp[C]&&(Jv[C]||!bp[C]):!!(xn==="application/xhtml+xml"&&ol[y.namespaceURI]):!1},at=function(y){wn(e.removed,{element:y});try{v(y).removeChild(y)}catch{x(y)}},Pr=function(y,P){try{wn(e.removed,{attribute:P.getAttributeNode(y),from:P})}catch{wn(e.removed,{attribute:null,from:P})}if(P.removeAttribute(y),y==="is")if(Tr||Di)try{at(P)}catch{}else try{P.setAttribute(y,"")}catch{}},Tp=function(y){let P=null,C=null;if(rl)y="<remove></remove>"+y;else{let be=Rp(y,/^[\r\n\t ]+/);C=be&&be[0]}xn==="application/xhtml+xml"&&wr===ht&&(y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+y+"</body></html>");let ae=S?S.createHTML(y):y;if(wr===ht)try{P=new h().parseFromString(ae,xn)}catch{}if(!P||!P.documentElement){P=G.createDocument(wr,"template",null);try{P.documentElement.innerHTML=al?z:ae}catch{}}let Pe=P.body||P.documentElement;return y&&C&&Pe.insertBefore(r.createTextNode(C),Pe.childNodes[0]||null),wr===ht?Y.call(P,Jt?"html":"body")[0]:Jt?P.documentElement:Pe},xp=function(y){return q.call(y.ownerDocument||y,y,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ll=function(y){return y instanceof m&&(typeof y.nodeName!="string"||typeof y.textContent!="string"||typeof y.removeChild!="function"||!(y.attributes instanceof u)||typeof y.removeAttribute!="function"||typeof y.setAttribute!="function"||typeof y.namespaceURI!="string"||typeof y.insertBefore!="function"||typeof y.hasChildNodes!="function")},_p=function(y){return typeof s=="function"&&y instanceof s};function pt(D,y,P){Bi(D,C=>{C.call(e,y,P,Sr)})}let wp=function(y){let P=null;if(pt(F.beforeSanitizeElements,y,null),ll(y))return at(y),!0;let C=xe(y.nodeName);if(pt(F.uponSanitizeElement,y,{tagName:C,allowedTags:R}),Mi&&y.hasChildNodes()&&!_p(y.firstElementChild)&&$e(/<[/\w!]/g,y.innerHTML)&&$e(/<[/\w!]/g,y.textContent)||y.nodeType===In.progressingInstruction||Mi&&y.nodeType===In.comment&&$e(/<[/\w]/g,y.data))return at(y),!0;if(!R[C]||vn[C]){if(!vn[C]&&Pp(C)&&(ee.tagNameCheck instanceof RegExp&&$e(ee.tagNameCheck,C)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(C)))return!1;if(nl&&!_r[C]){let ae=v(y)||y.parentNode,Pe=I(y)||y.childNodes;if(Pe&&ae){let be=Pe.length;for(let Ue=be-1;Ue>=0;--Ue){let ft=T(Pe[Ue],!0);ft.__removalCount=(y.__removalCount||0)+1,ae.insertBefore(ft,$(y))}}}return at(y),!0}return y instanceof l&&!rT(y)||(C==="noscript"||C==="noembed"||C==="noframes")&&$e(/<\/no(script|embed|frames)/i,y.innerHTML)?(at(y),!0):(vr&&y.nodeType===In.text&&(P=y.textContent,Bi([he,ie,De],ae=>{P=Sn(P,ae," ")}),y.textContent!==P&&(wn(e.removed,{element:y.cloneNode()}),y.textContent=P)),pt(F.afterSanitizeElements,y,null),!1)},Sp=function(y,P,C){if(dp&&(P==="id"||P==="name")&&(C in r||C in tT))return!1;if(!(el&&!Qs[P]&&$e(He,P))){if(!(lp&&$e(Ne,P))){if(!ye[P]||Qs[P]){if(!(Pp(y)&&(ee.tagNameCheck instanceof RegExp&&$e(ee.tagNameCheck,y)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(y))&&(ee.attributeNameCheck instanceof RegExp&&$e(ee.attributeNameCheck,P)||ee.attributeNameCheck instanceof Function&&ee.attributeNameCheck(P))||P==="is"&&ee.allowCustomizedBuiltInElements&&(ee.tagNameCheck instanceof RegExp&&$e(ee.tagNameCheck,C)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(C))))return!1}else if(!il[P]){if(!$e(tt,Sn(C,yr,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&y!=="script"&&yT(C,"data:")===0&&pp[y])){if(!(cp&&!$e(Yt,Sn(C,yr,"")))){if(C)return!1}}}}}}return!0},Pp=function(y){return y!=="annotation-xml"&&Rp(y,Xt)},kp=function(y){pt(F.beforeSanitizeAttributes,y,null);let{attributes:P}=y;if(!P||ll(y))return;let C={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye,forceKeepAttr:void 0},ae=P.length;for(;ae--;){let Pe=P[ae],{name:be,namespaceURI:Ue,value:ft}=Pe,_n=xe(be),cl=ft,ke=be==="value"?cl:bT(cl);if(C.attrName=_n,C.attrValue=ke,C.keepAttr=!0,C.forceKeepAttr=void 0,pt(F.uponSanitizeAttribute,y,C),ke=C.attrValue,mp&&(_n==="id"||_n==="name")&&(Pr(be,y),ke=Yv+ke),Mi&&$e(/((--!?|])>)|<\/(style|title)/i,ke)){Pr(be,y);continue}if(C.forceKeepAttr)continue;if(!C.keepAttr){Pr(be,y);continue}if(!up&&$e(/\/>/i,ke)){Pr(be,y);continue}vr&&Bi([he,ie,De],Ap=>{ke=Sn(ke,Ap," ")});let Ip=xe(y.nodeName);if(!Sp(Ip,_n,ke)){Pr(be,y);continue}if(S&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ue)switch(f.getAttributeType(Ip,_n)){case"TrustedHTML":{ke=S.createHTML(ke);break}case"TrustedScriptURL":{ke=S.createScriptURL(ke);break}}if(ke!==cl)try{Ue?y.setAttributeNS(Ue,be,ke):y.setAttribute(be,ke),ll(y)?at(y):$p(e.removed)}catch{Pr(be,y)}}pt(F.afterSanitizeAttributes,y,null)},nT=function D(y){let P=null,C=xp(y);for(pt(F.beforeSanitizeShadowDOM,y,null);P=C.nextNode();)pt(F.uponSanitizeShadowNode,P,null),wp(P),kp(P),P.content instanceof a&&D(P.content);pt(F.afterSanitizeShadowDOM,y,null)};return e.sanitize=function(D){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,C=null,ae=null,Pe=null;if(al=!D,al&&(D="<!-->"),typeof D!="string"&&!_p(D))if(typeof D.toString=="function"){if(D=D.toString(),typeof D!="string")throw Pn("dirty is not a string, aborting")}else throw Pn("toString is not a function");if(!e.isSupported)return D;if(tl||sl(y),e.removed=[],typeof D=="string"&&(Tn=!1),Tn){if(D.nodeName){let ft=xe(D.nodeName);if(!R[ft]||vn[ft])throw Pn("root node is forbidden and cannot be sanitized in-place")}}else if(D instanceof s)P=Tp("<!---->"),C=P.ownerDocument.importNode(D,!0),C.nodeType===In.element&&C.nodeName==="BODY"||C.nodeName==="HTML"?P=C:P.appendChild(C);else{if(!Tr&&!vr&&!Jt&&D.indexOf("<")===-1)return S&&Ni?S.createHTML(D):D;if(P=Tp(D),!P)return Tr?null:Ni?z:""}P&&rl&&at(P.firstChild);let be=xp(Tn?D:P);for(;ae=be.nextNode();)wp(ae),kp(ae),ae.content instanceof a&&nT(ae.content);if(Tn)return D;if(Tr){if(Di)for(Pe=H.call(P.ownerDocument);P.firstChild;)Pe.appendChild(P.firstChild);else Pe=P;return(ye.shadowroot||ye.shadowrootmode)&&(Pe=Q.call(i,Pe,!0)),Pe}let Ue=Jt?P.outerHTML:P.innerHTML;return Jt&&R["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&$e(Bp,P.ownerDocument.doctype.name)&&(Ue="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+Ue),vr&&Bi([he,ie,De],ft=>{Ue=Sn(Ue,ft," ")}),S&&Ni?S.createHTML(Ue):Ue},e.setConfig=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};sl(D),tl=!0},e.clearConfig=function(){Sr=null,tl=!1},e.isValidAttribute=function(D,y,P){Sr||sl({});let C=xe(D),ae=xe(y);return Sp(C,ae,P)},e.addHook=function(D,y){typeof y=="function"&&wn(F[D],y)},e.removeHook=function(D,y){if(y!==void 0){let P=fT(F[D],y);return P===-1?void 0:gT(F[D],P,1)[0]}return $p(F[D])},e.removeHooks=function(D){F[D]=[]},e.removeAllHooks=function(){F=zp()},e}var MT=Gp();var Wi=["Akkadian","Babylonian","Sumerian","Hittite","Phoenician","Canaanite","Minoan","Mycenaean","Etruscan","Scythian","Thracian","Dacian","Illyrian","Median","Chaldean","Roman","Greek","Byzantine","Persian","Parthian","Seleucid","Ptolemaic","Palmyrene","Macedonian","Carthaginian","Ming","Tang","Song","Yuan","Mauryan","Kushan","Rajput","Mughal","Satavahana","Vijayanagara","Egyptian","Nubian","Kushite","Aksumite","Ethiopian","Songhai","Malian","Ghanaian","Benin","Ashanti","Zulu","Tuareg","Berber","Kanem-Bornu","Buganda","Mossi","Swahili","Somali","Wolof","Umayyad","Abbasid","Ayyubid","Fatimid","Mamluk","Seljuk","Safavid","Ottoman","Almoravid","Almohad","Rashidun","Ziyarid","Frankish","Visigothic","Ostrogothic","Viking","Norman","Saxon","Anglo-Saxon","Celtic","Gaulish","Carolingian","Merovingian","Capetian","Plantagenet","Tudor","Stuart","Habsburg","Romanov","Lancaster","York","Bourbon","Napoleonic","British","French","Spanish","Portuguese","Dutch","Russian","German","Italian","Swedish","Norwegian","Danish","Polish","Hungarian","Austrian","Swiss","Czech","Slovak","Serbian","Croatian","Bosnian","Montenegrin","Bulgarian","Romanian","Apache","Sioux","Cherokee","Navajo","Iroquois","Inuit","Arawak","Carib","Taino","Aztec","Mayan","Incan","Mapuche","Guarani","Tupi","Yanomami","Zuni","Hopi","Kiowa","Comanche","Shoshone","Japanese","Ryukyu","Ainu","Cham","Khmer","Thai","Vietnamese","Burmese","Balinese","Malay","Filipino","Mongolian","Korean","Tibetan","Manchu","Uyghur","Hmong","Karen","Pyu","Hawaiian","Fijian","Tongan","Samoan","Maori","Micronesian","Hebrew","Armenian","Circassian","Georgian","Phoenician","Chaldean","Kurdish","Turkic","Kazakh","Uzbek","Kyrgyz","Tajik","Uighur","Pashtun","Baloch","Afghan","Persian","Kenyan","Ugandan","Bhutanese","Latin","Moldovan","Militant","Spartan"],qi=["Empire","Dynasty","Kingdom","Queendom","Sultanate","Confederation","Union","Republic","Caliphate","Dominion","Realm","State","Federation","Territory","Commonwealth","League","Duchy","Province","Protectorate","Colony","Mandate","Free State","Canton","Region","Nation","Assembly","Hierarchy","Archduchy","Grand Duchy","Metropolis","Cluster","Alliance","Tribunal","Council","Confederacy","Order","Regime","Dominion","Syndicate","Guild","Corporation","Patriarchy","Matriarchy","Legion","Horde","Clan","Brotherhood","Sisterhood","Ascendancy","Supremacy","Province","Tribe","Dominion","Assembly","Republics","Army","Dictatorship","Country","Oligarchy","Monkdom","Throng","Host","Area","District","Fief","Wilderness","Settlement","Parliament","Anarchy","Democracy","Autocracy"];function Mt(t,e,r){return Math.min(Math.max(t,e),r)}function Zi(t,e){let r=typeof e=="number"?e:e.tile();return(i,n)=>t.manhattanDist(i.tile(),r)-t.manhattanDist(n.tile(),r)}function Z(t){let e=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);e=(e<<5)-e+i,e=e&e}return Math.abs(e)}function Ye(t,e){let r=1/0,i=1/0,n=-1/0,a=-1/0;return e.forEach(o=>{let s=t.cell(o);r=Math.min(r,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),a=Math.max(a,s.y)}),{min:new ne(r,i),max:new ne(n,a)}}function vl(t,e,r){let i=[],n=t.x(e),a=t.y(e),o=n-r,s=n+r,l=a-r,d=a+r;for(let u=o;u<=s;u++)t.isValidCoord(u,l)&&i.push(t.ref(u,l)),t.isValidCoord(u,d)&&l!==d&&i.push(t.ref(u,d));for(let u=l+1;u<d;u++)t.isValidCoord(o,u)&&i.push(t.ref(o,u)),t.isValidCoord(s,u)&&o!==s&&i.push(t.ref(s,u));return i}function Fp(t){let e=null,r=0;for(let[i,n]of t)n>r&&(r=n,e=i);return e}function Wp(t,e){let{min:r,max:i}=Ye(t,e);return Tl({min:r,max:i})}function Tl(t){return new ne(t.min.x+Math.floor((t.max.x-t.min.x)/2),t.min.y+Math.floor((t.max.y-t.min.y)/2))}function xl(t,e){return t.min.x<=e.min.x&&t.min.y<=e.min.y&&t.max.x>=e.max.x&&t.max.y>=e.max.y}function Dt(t){throw new Error("Unexpected value: "+t)}function nt(t){return BigInt(t===1/0?Number.MAX_SAFE_INTEGER:t===-1/0?Number.MIN_SAFE_INTEGER:Math.floor(t))}function DT(t,e){return t>e?t:e}function Vi(t,e){return t<e?t:e}function qp(t,e,r){let i=DT(t,e);return Vi(i,r)}var NT=[["\u{1F600}","\u{1F60A}","\u{1F970}","\u{1F607}","\u{1F60E}"],["\u{1F61E}","\u{1F97A}","\u{1F62D}","\u{1F631}","\u{1F621}"],["\u{1F608}","\u{1F921}","\u{1F971}","\u{1FAE1}","\u{1F595}"],["\u{1F44B}","\u{1F44F}","\u270B","\u{1F64F}","\u{1F4AA}"],["\u{1F44D}","\u{1F44E}","\u{1FAF4}","\u{1F90C}","\u{1F926}\u200D\u2642\uFE0F"],["\u{1F91D}","\u{1F198}","\u{1F54A}\uFE0F","\u{1F3F3}\uFE0F","\u23F3"],["\u{1F525}","\u{1F4A5}","\u{1F480}","\u2622\uFE0F","\u26A0\uFE0F"],["\u2196\uFE0F","\u2B06\uFE0F","\u2197\uFE0F","\u{1F451}","\u{1F947}"],["\u2B05\uFE0F","\u{1F3AF}","\u27A1\uFE0F","\u{1F948}","\u{1F949}"],["\u2199\uFE0F","\u2B07\uFE0F","\u2198\uFE0F","\u2764\uFE0F","\u{1F494}"],["\u{1F4B0}","\u2693","\u26F5","\u{1F3E1}","\u{1F6E1}\uFE0F"],["\u{1F3ED}","\u{1F682}","\u2753","\u{1F414}","\u{1F400}"]],kr=NT.flat();function _l(t,e,r){return 1/(1+Math.exp(-e*(t-r)))}function Zp(t){let e=Hp(t);return e?e[1].toUpperCase():null}function Vp(t){let e=Hp(t);return e?e[1]:null}function Hp(t){return!t.includes("[")||!t.includes("]")?null:t.match(/\[([a-zA-Z0-9]{2,5})\]/)}var Ge="AllPlayers",yt=(n=>(n.Easy="Easy",n.Medium="Medium",n.Hard="Hard",n.Impossible="Impossible",n))(yt||{});var Ir="Duos",Ar="Trios",Er="Quads",er="Humans Vs Nations",K={Red:"Red",Blue:"Blue",Teal:"Teal",Purple:"Purple",Yellow:"Yellow",Orange:"Orange",Green:"Green",Bot:"Bot",Humans:"Humans",Nations:"Nations"},An=(R=>(R.World="World",R.GiantWorldMap="Giant World Map",R.Europe="Europe",R.EuropeClassic="Europe Classic",R.Mena="Mena",R.NorthAmerica="North America",R.SouthAmerica="South America",R.Oceania="Oceania",R.BlackSea="Black Sea",R.Africa="Africa",R.Pangaea="Pangaea",R.Asia="Asia",R.Mars="Mars",R.Britannia="Britannia",R.GatewayToTheAtlantic="Gateway to the Atlantic",R.Australia="Australia",R.Iceland="Iceland",R.EastAsia="East Asia",R.BetweenTwoSeas="Between Two Seas",R.FaroeIslands="Faroe Islands",R.DeglaciatedAntarctica="Deglaciated Antarctica",R.FalklandIslands="Falkland Islands",R.Baikal="Baikal",R.Halkidiki="Halkidiki",R.StraitOfGibraltar="Strait of Gibraltar",R.Italia="Italia",R.Japan="Japan",R.Pluto="Pluto",R.Montreal="Montreal",R.NewYorkCity="New York City",R.Achiran="Achiran",R.BaikalNukeWars="Baikal (Nuke Wars)",R.FourIslands="Four Islands",R.Svalmel="Svalmel",R.GulfOfStLawrence="Gulf of St. Lawrence",R.Lisbon="Lisbon",R.Manicouagan="Manicouagan",R))(An||{});var Ki=(i=>(i.Singleplayer="Singleplayer",i.Public="Public",i.Private="Private",i))(Ki||{});var $r=(r=>(r.FFA="Free For All",r.Team="Team",r))($r||{});var En=(r=>(r.Compact="Compact",r.Normal="Normal",r))(En||{}),W=(x=>(x.TransportShip="Transport",x.Warship="Warship",x.Shell="Shell",x.SAMMissile="SAMMissile",x.Port="Port",x.AtomBomb="Atom Bomb",x.HydrogenBomb="Hydrogen Bomb",x.TradeShip="Trade Ship",x.MissileSilo="Missile Silo",x.DefensePost="Defense Post",x.SAMLauncher="SAM Launcher",x.City="City",x.MIRV="MIRV",x.MIRVWarhead="MIRV Warhead",x.Train="Train",x.Factory="Factory",x))(W||{});var UT=new Set(["City","Defense Post","SAM Launcher","Missile Silo","Port","Factory"]);function Kp(t){return UT.has(t)}var Hi=class{constructor(e,r){this.spawnCell=e;this.playerInfo=r}},ne=class{constructor(e,r){this.x=e;this.y=r;this.strRepr=`Cell[${this.x},${this.y}]`}pos(){return{x:this.x,y:this.y}}toString(){return this.strRepr}};var Qt=class{constructor(e,r,i,n,a){this.name=e;this.playerType=r;this.clientID=i;this.id=n;this.nationStrength=a;this.clan=Zp(e)}};function $n(t){return t&&typeof t=="object"&&"isUnit"in t&&typeof t.isUnit=="function"&&t.isUnit()}function wl(t,e){let r=e.largestClusterBoundingBox??Ye(t,e.borderTiles()),i=1,n=r.max.x-r.min.x,a=r.max.y-r.min.y,o=Math.min(n,a);o<25?i=1:o<50?i=2:o<100?i=4:o<250?i=8:o<500?i=16:i=32;let s=zT(t,e,r,i),l=OT(s);l.x=l.x*i,l.y=l.y*i,l.width=l.width*i,l.height=l.height*i;let d=new ne(Math.floor(l.x+l.width/2+r.min.x),Math.floor(l.y+l.height/2+r.min.y)),u=LT(l,e.name());return d=new ne(d.x,d.y-u/3),{x:Math.ceil(d.x),y:Math.ceil(d.y),size:u}}function zT(t,e,r,i){let n={min:{x:Math.floor(r.min.x/i),y:Math.floor(r.min.y/i)},max:{x:Math.floor(r.max.x/i),y:Math.floor(r.max.y/i)}},a=n.max.x-n.min.x+1,o=n.max.y-n.min.y+1,s=Array(a).fill(null).map(()=>Array(o).fill(!1));for(let l=n.min.x;l<=n.max.x;l++)for(let d=n.min.y;d<=n.max.y;d++){let u=new ne(l*i,d*i);if(t.isOnMap(u)){let m=t.ref(u.x,u.y);s[l-n.min.x][d-n.min.y]=t.isLake(m)||t.owner(m)===e||t.hasFallout(m)}}return s}function OT(t){let e=t[0].length,r=t.length,i=new Array(r).fill(0),n={x:0,y:0,width:0,height:0};for(let a=0;a<e;a++){for(let s=0;s<r;s++)t[s][a]?i[s]++:i[s]=0;let o=jT(i);o.width*o.height>n.width*n.height&&(n={x:o.x,y:a-o.height+1,width:o.width,height:o.height})}return n}function jT(t){let e=[],r=0,i={x:0,y:0,width:0,height:0};for(let n=0;n<=t.length;n++){let a=n===t.length?0:t[n];for(;e.length>0&&a<t[e[e.length-1]];){let o=t[e.pop()],s=e.length===0?n:n-e[e.length-1]-1;o*s>r&&(r=o*s,i={x:e.length===0?0:e[e.length-1]+1,y:0,width:s,height:o})}e.push(n)}return i}function LT(t,e){let r=t.width/e.length*2,i=t.height/3;return Math.min(r,i)}var g={};Ct(g,{$brand:()=>Pl,$input:()=>ju,$output:()=>Ou,NEVER:()=>Sl,TimePrecision:()=>Gu,ZodAny:()=>pg,ZodArray:()=>bg,ZodBase64:()=>Jd,ZodBase64URL:()=>Qd,ZodBigInt:()=>hi,ZodBigIntFormat:()=>rm,ZodBoolean:()=>mi,ZodCIDRv4:()=>Yd,ZodCIDRv6:()=>Xd,ZodCUID:()=>Fd,ZodCUID2:()=>Wd,ZodCatch:()=>zg,ZodCustom:()=>Ka,ZodCustomStringFormat:()=>sg,ZodDate:()=>Za,ZodDefault:()=>Rg,ZodDiscriminatedUnion:()=>vg,ZodE164:()=>em,ZodEmail:()=>jd,ZodEmoji:()=>Bd,ZodEnum:()=>ci,ZodError:()=>kx,ZodFile:()=>Eg,ZodFirstPartyTypeKind:()=>dm,ZodGUID:()=>La,ZodIPv4:()=>Hd,ZodIPv6:()=>Kd,ZodISODate:()=>Ua,ZodISODateTime:()=>Na,ZodISODuration:()=>Oa,ZodISOTime:()=>za,ZodIntersection:()=>Tg,ZodIssueCode:()=>$_,ZodJWT:()=>tm,ZodKSUID:()=>Vd,ZodLazy:()=>Fg,ZodLiteral:()=>Ig,ZodMap:()=>Sg,ZodNaN:()=>jg,ZodNanoID:()=>Gd,ZodNever:()=>gg,ZodNonOptional:()=>cm,ZodNull:()=>mg,ZodNullable:()=>$g,ZodNumber:()=>di,ZodNumberFormat:()=>Gr,ZodObject:()=>Va,ZodOptional:()=>lm,ZodPipe:()=>um,ZodPrefault:()=>Mg,ZodPromise:()=>qg,ZodReadonly:()=>Lg,ZodRealError:()=>Br,ZodRecord:()=>am,ZodSet:()=>Pg,ZodString:()=>ui,ZodStringFormat:()=>te,ZodSuccess:()=>Ug,ZodSymbol:()=>ug,ZodTemplateLiteral:()=>Gg,ZodTransform:()=>om,ZodTuple:()=>_g,ZodType:()=>j,ZodULID:()=>qd,ZodURL:()=>Ld,ZodUUID:()=>wt,ZodUndefined:()=>dg,ZodUnion:()=>im,ZodUnknown:()=>fg,ZodVoid:()=>yg,ZodXID:()=>Zd,_ZodString:()=>Od,_default:()=>Cg,any:()=>o_,array:()=>nm,base64:()=>Zx,base64url:()=>Vx,bigint:()=>t_,boolean:()=>cg,catch:()=>Og,check:()=>Zg,cidrv4:()=>Wx,cidrv6:()=>qx,clone:()=>Fe,coerce:()=>mm,config:()=>fe,core:()=>_t,cuid:()=>zx,cuid2:()=>Ox,custom:()=>P_,date:()=>l_,discriminatedUnion:()=>h_,e164:()=>Hx,email:()=>Ax,emoji:()=>Nx,endsWith:()=>ti,enum:()=>kg,file:()=>v_,flattenError:()=>Ln,float32:()=>Xx,float64:()=>Jx,formatError:()=>Bn,function:()=>kd,getErrorMap:()=>C_,globalRegistry:()=>st,gt:()=>Tt,gte:()=>Oe,guid:()=>Ex,includes:()=>Qn,instanceof:()=>k_,int:()=>zd,int32:()=>Qx,int64:()=>r_,intersection:()=>xg,ipv4:()=>Gx,ipv6:()=>Fx,iso:()=>ja,json:()=>A_,jwt:()=>Kx,keyof:()=>c_,ksuid:()=>Bx,lazy:()=>Wg,length:()=>Lr,literal:()=>Ag,locales:()=>Vn,looseObject:()=>m_,lowercase:()=>Xn,lt:()=>vt,lte:()=>Xe,map:()=>g_,maxLength:()=>jr,maxSize:()=>Or,mime:()=>ri,minLength:()=>Ut,minSize:()=>lr,multipleOf:()=>sr,nan:()=>__,nanoid:()=>Ux,nativeEnum:()=>b_,negative:()=>gd,never:()=>qa,nonnegative:()=>bd,nonoptional:()=>Ng,nonpositive:()=>yd,normalize:()=>ni,null:()=>hg,nullable:()=>Fa,nullish:()=>T_,number:()=>lg,object:()=>u_,optional:()=>Ga,overwrite:()=>xt,parse:()=>Cd,parseAsync:()=>Md,partialRecord:()=>f_,pipe:()=>Wa,positive:()=>fd,prefault:()=>Dg,preprocess:()=>E_,prettifyError:()=>Ol,promise:()=>S_,property:()=>vd,readonly:()=>Bg,record:()=>wg,refine:()=>Vg,regex:()=>Yn,regexes:()=>ir,registry:()=>ma,safeParse:()=>Dd,safeParseAsync:()=>Nd,set:()=>y_,setErrorMap:()=>R_,size:()=>Kn,startsWith:()=>ei,strictObject:()=>d_,string:()=>Ud,stringFormat:()=>Yx,stringbool:()=>I_,success:()=>x_,superRefine:()=>Hg,symbol:()=>i_,templateLiteral:()=>w_,toJSONSchema:()=>Id,toLowerCase:()=>ai,toUpperCase:()=>oi,transform:()=>sm,treeifyError:()=>zl,trim:()=>ii,tuple:()=>p_,uint32:()=>e_,uint64:()=>n_,ulid:()=>jx,undefined:()=>a_,union:()=>Ha,unknown:()=>Ba,uppercase:()=>Jn,url:()=>Dx,uuid:()=>$x,uuidv4:()=>Rx,uuidv6:()=>Cx,uuidv7:()=>Mx,void:()=>s_,xid:()=>Lx});var _t={};Ct(_t,{$ZodAny:()=>mu,$ZodArray:()=>Wn,$ZodAsyncError:()=>ot,$ZodBase64:()=>ru,$ZodBase64URL:()=>nu,$ZodBigInt:()=>ca,$ZodBigIntFormat:()=>lu,$ZodBoolean:()=>Fn,$ZodCIDRv4:()=>Qc,$ZodCIDRv6:()=>eu,$ZodCUID:()=>Gc,$ZodCUID2:()=>Fc,$ZodCatch:()=>Ru,$ZodCheck:()=>le,$ZodCheckBigIntFormat:()=>bc,$ZodCheckEndsWith:()=>$c,$ZodCheckGreaterThan:()=>aa,$ZodCheckIncludes:()=>Ac,$ZodCheckLengthEquals:()=>Sc,$ZodCheckLessThan:()=>ia,$ZodCheckLowerCase:()=>kc,$ZodCheckMaxLength:()=>_c,$ZodCheckMaxSize:()=>vc,$ZodCheckMimeType:()=>Cc,$ZodCheckMinLength:()=>wc,$ZodCheckMinSize:()=>Tc,$ZodCheckMultipleOf:()=>gc,$ZodCheckNumberFormat:()=>yc,$ZodCheckOverwrite:()=>Mc,$ZodCheckProperty:()=>Rc,$ZodCheckRegex:()=>Pc,$ZodCheckSizeEquals:()=>xc,$ZodCheckStartsWith:()=>Ec,$ZodCheckStringFormat:()=>Dr,$ZodCheckUpperCase:()=>Ic,$ZodCustom:()=>zu,$ZodCustomStringFormat:()=>ou,$ZodDate:()=>fu,$ZodDefault:()=>Iu,$ZodDiscriminatedUnion:()=>yu,$ZodE164:()=>iu,$ZodEmail:()=>Oc,$ZodEmoji:()=>Lc,$ZodEnum:()=>_u,$ZodError:()=>jn,$ZodFile:()=>Su,$ZodFunction:()=>Da,$ZodGUID:()=>Uc,$ZodIPv4:()=>Xc,$ZodIPv6:()=>Jc,$ZodISODate:()=>Hc,$ZodISODateTime:()=>Vc,$ZodISODuration:()=>Yc,$ZodISOTime:()=>Kc,$ZodIntersection:()=>bu,$ZodJWT:()=>au,$ZodKSUID:()=>Zc,$ZodLazy:()=>Uu,$ZodLiteral:()=>wu,$ZodMap:()=>Tu,$ZodNaN:()=>Cu,$ZodNanoID:()=>Bc,$ZodNever:()=>hu,$ZodNonOptional:()=>Eu,$ZodNull:()=>du,$ZodNullable:()=>ku,$ZodNumber:()=>la,$ZodNumberFormat:()=>su,$ZodObject:()=>gu,$ZodOptional:()=>Pu,$ZodPipe:()=>Zn,$ZodPrefault:()=>Au,$ZodPromise:()=>Nu,$ZodReadonly:()=>Mu,$ZodRealError:()=>Mr,$ZodRecord:()=>vu,$ZodRegistry:()=>Ur,$ZodSet:()=>xu,$ZodString:()=>ar,$ZodStringFormat:()=>J,$ZodSuccess:()=>$u,$ZodSymbol:()=>cu,$ZodTemplateLiteral:()=>Du,$ZodTransform:()=>qn,$ZodTuple:()=>or,$ZodType:()=>N,$ZodULID:()=>Wc,$ZodURL:()=>jc,$ZodUUID:()=>zc,$ZodUndefined:()=>uu,$ZodUnion:()=>ua,$ZodUnknown:()=>Nr,$ZodVoid:()=>pu,$ZodXID:()=>qc,$brand:()=>Pl,$constructor:()=>b,$input:()=>ju,$output:()=>Ou,Doc:()=>Gn,JSONSchema:()=>ig,JSONSchemaGenerator:()=>li,NEVER:()=>Sl,TimePrecision:()=>Gu,_any:()=>cd,_array:()=>si,_base64:()=>$a,_base64url:()=>Ra,_bigint:()=>rd,_boolean:()=>ed,_catch:()=>vx,_cidrv4:()=>Aa,_cidrv6:()=>Ea,_coercedBigint:()=>nd,_coercedBoolean:()=>td,_coercedDate:()=>hd,_coercedNumber:()=>Hu,_coercedString:()=>Bu,_cuid:()=>xa,_cuid2:()=>_a,_custom:()=>_d,_date:()=>md,_default:()=>gx,_discriminatedUnion:()=>ax,_e164:()=>Ca,_email:()=>ha,_emoji:()=>va,_endsWith:()=>ti,_enum:()=>ux,_file:()=>xd,_float32:()=>Yu,_float64:()=>Xu,_gt:()=>Tt,_gte:()=>Oe,_guid:()=>Hn,_includes:()=>Qn,_int:()=>Ku,_int32:()=>Ju,_int64:()=>id,_intersection:()=>ox,_ipv4:()=>ka,_ipv6:()=>Ia,_isoDate:()=>Wu,_isoDateTime:()=>Fu,_isoDuration:()=>Zu,_isoTime:()=>qu,_jwt:()=>Ma,_ksuid:()=>Pa,_lazy:()=>wx,_length:()=>Lr,_literal:()=>mx,_lowercase:()=>Xn,_lt:()=>vt,_lte:()=>Xe,_map:()=>lx,_max:()=>Xe,_maxLength:()=>jr,_maxSize:()=>Or,_mime:()=>ri,_min:()=>Oe,_minLength:()=>Ut,_minSize:()=>lr,_multipleOf:()=>sr,_nan:()=>pd,_nanoid:()=>Ta,_nativeEnum:()=>dx,_negative:()=>gd,_never:()=>ud,_nonnegative:()=>bd,_nonoptional:()=>yx,_nonpositive:()=>yd,_normalize:()=>ni,_null:()=>ld,_nullable:()=>fx,_number:()=>Vu,_optional:()=>px,_overwrite:()=>xt,_parse:()=>Xi,_parseAsync:()=>Qi,_pipe:()=>Tx,_positive:()=>fd,_promise:()=>Sx,_property:()=>vd,_readonly:()=>xx,_record:()=>sx,_refine:()=>wd,_regex:()=>Yn,_safeParse:()=>ta,_safeParseAsync:()=>ra,_set:()=>cx,_size:()=>Kn,_startsWith:()=>ei,_string:()=>Lu,_stringFormat:()=>Pd,_stringbool:()=>Sd,_success:()=>bx,_symbol:()=>od,_templateLiteral:()=>_x,_toLowerCase:()=>ai,_toUpperCase:()=>oi,_transform:()=>hx,_trim:()=>ii,_tuple:()=>Td,_uint32:()=>Qu,_uint64:()=>ad,_ulid:()=>wa,_undefined:()=>sd,_union:()=>ix,_unknown:()=>zr,_uppercase:()=>Jn,_url:()=>ba,_uuid:()=>pa,_uuidv4:()=>fa,_uuidv6:()=>ga,_uuidv7:()=>ya,_void:()=>dd,_xid:()=>Sa,clone:()=>Fe,config:()=>fe,flattenError:()=>Ln,formatError:()=>Bn,function:()=>kd,globalConfig:()=>Rn,globalRegistry:()=>st,isValidBase64:()=>tu,isValidBase64URL:()=>ff,isValidJWT:()=>gf,locales:()=>Vn,parse:()=>Ji,parseAsync:()=>ea,prettifyError:()=>Ol,regexes:()=>ir,registry:()=>ma,safeParse:()=>jl,safeParseAsync:()=>Ll,toDotPath:()=>Xp,toJSONSchema:()=>Id,treeifyError:()=>zl,util:()=>E,version:()=>Dc});var Sl=Object.freeze({status:"aborted"});function b(t,e,r){function i(s,l){var d;Object.defineProperty(s,"_zod",{value:s._zod??{},enumerable:!1}),(d=s._zod).traits??(d.traits=new Set),s._zod.traits.add(t),e(s,l);for(let u in o.prototype)u in s||Object.defineProperty(s,u,{value:o.prototype[u].bind(s)});s._zod.constr=o,s._zod.def=l}let n=r?.Parent??Object;class a extends n{}Object.defineProperty(a,"name",{value:t});function o(s){var l;let d=r?.Parent?new a:this;i(d,s),(l=d._zod).deferred??(l.deferred=[]);for(let u of d._zod.deferred)u();return d}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?!0:s?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}var Pl=Symbol("zod_brand"),ot=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Rn={};function fe(t){return t&&Object.assign(Rn,t),Rn}var E={};Ct(E,{BIGINT_FORMAT_RANGES:()=>Nl,Class:()=>Il,NUMBER_FORMAT_RANGES:()=>Dl,aborted:()=>rr,allowsEval:()=>Rl,assert:()=>qT,assertEqual:()=>BT,assertIs:()=>FT,assertNever:()=>WT,assertNotEqual:()=>GT,assignProp:()=>$l,cached:()=>Dn,captureStackTrace:()=>Yi,cleanEnum:()=>i1,cleanRegex:()=>Nn,clone:()=>Fe,createTransparentProxy:()=>XT,defineLazy:()=>V,esc:()=>tr,escapeRegex:()=>bt,extend:()=>e1,finalizeIssue:()=>We,floatSafeRemainder:()=>El,getElementAtPath:()=>ZT,getEnumValues:()=>Mn,getLengthableOrigin:()=>On,getParsedType:()=>YT,getSizableOrigin:()=>zn,isObject:()=>Rr,isPlainObject:()=>Cr,issue:()=>Ul,joinValues:()=>w,jsonStringifyReplacer:()=>Al,merge:()=>t1,normalizeParams:()=>k,nullish:()=>Nt,numKeys:()=>KT,omit:()=>QT,optionalKeys:()=>Ml,partial:()=>r1,pick:()=>JT,prefixIssues:()=>ze,primitiveTypes:()=>Cl,promiseAllObject:()=>VT,propertyKeyTypes:()=>Un,randomString:()=>HT,required:()=>n1,stringifyPrimitive:()=>A,unwrapMessage:()=>Cn});function BT(t){return t}function GT(t){return t}function FT(t){}function WT(t){throw new Error}function qT(t){}function Mn(t){let e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,n])=>e.indexOf(+i)===-1).map(([i,n])=>n)}function w(t,e="|"){return t.map(r=>A(r)).join(e)}function Al(t,e){return typeof e=="bigint"?e.toString():e}function Dn(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function Nt(t){return t==null}function Nn(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function El(t,e){let r=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=r>i?r:i,a=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(e.toFixed(n).replace(".",""));return a%o/10**n}function V(t,e,r){Object.defineProperty(t,e,{get(){{let n=r();return t[e]=n,n}throw new Error("cached value already set")},set(n){Object.defineProperty(t,e,{value:n})},configurable:!0})}function $l(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ZT(t,e){return e?e.reduce((r,i)=>r?.[i],t):t}function VT(t){let e=Object.keys(t),r=e.map(i=>t[i]);return Promise.all(r).then(i=>{let n={};for(let a=0;a<e.length;a++)n[e[a]]=i[a];return n})}function HT(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<t;i++)r+=e[Math.floor(Math.random()*e.length)];return r}function tr(t){return JSON.stringify(t)}var Yi=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Rr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var Rl=Dn(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function Cr(t){if(Rr(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(Rr(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function KT(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var YT=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},Un=new Set(["string","number","symbol"]),Cl=new Set(["string","number","bigint","boolean","symbol","undefined"]);function bt(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fe(t,e,r){let i=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(i._zod.parent=t),i}function k(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function XT(t){let e;return new Proxy({},{get(r,i,n){return e??(e=t()),Reflect.get(e,i,n)},set(r,i,n,a){return e??(e=t()),Reflect.set(e,i,n,a)},has(r,i){return e??(e=t()),Reflect.has(e,i)},deleteProperty(r,i){return e??(e=t()),Reflect.deleteProperty(e,i)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,i){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,i)},defineProperty(r,i,n){return e??(e=t()),Reflect.defineProperty(e,i,n)}})}function A(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function Ml(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var Dl={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Nl={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function JT(t,e){let r={},i=t._zod.def;for(let n in e){if(!(n in i.shape))throw new Error(`Unrecognized key: "${n}"`);e[n]&&(r[n]=i.shape[n])}return Fe(t,{...t._zod.def,shape:r,checks:[]})}function QT(t,e){let r={...t._zod.def.shape},i=t._zod.def;for(let n in e){if(!(n in i.shape))throw new Error(`Unrecognized key: "${n}"`);e[n]&&delete r[n]}return Fe(t,{...t._zod.def,shape:r,checks:[]})}function e1(t,e){if(!Cr(e))throw new Error("Invalid input to extend: expected a plain object");let r={...t._zod.def,get shape(){let i={...t._zod.def.shape,...e};return $l(this,"shape",i),i},checks:[]};return Fe(t,r)}function t1(t,e){return Fe(t,{...t._zod.def,get shape(){let r={...t._zod.def.shape,...e._zod.def.shape};return $l(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function r1(t,e,r){let i=e._zod.def.shape,n={...i};if(r)for(let a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(n[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(let a in i)n[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return Fe(e,{...e._zod.def,shape:n,checks:[]})}function n1(t,e,r){let i=e._zod.def.shape,n={...i};if(r)for(let a in r){if(!(a in n))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(n[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(let a in i)n[a]=new t({type:"nonoptional",innerType:i[a]});return Fe(e,{...e._zod.def,shape:n,checks:[]})}function rr(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function ze(t,e){return e.map(r=>{var i;return(i=r).path??(i.path=[]),r.path.unshift(t),r})}function Cn(t){return typeof t=="string"?t:t?.message}function We(t,e,r){let i={...t,path:t.path??[]};if(!t.message){let n=Cn(t.inst?._zod.def?.error?.(t))??Cn(e?.error?.(t))??Cn(r.customError?.(t))??Cn(r.localeError?.(t))??"Invalid input";i.message=n}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function zn(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function On(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ul(...t){let[e,r,i]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:i}:{...e}}function i1(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var Il=class{constructor(...e){}};var Yp=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,Al,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},jn=b("$ZodError",Yp),Mr=b("$ZodError",Yp,{Parent:Error});function Ln(t,e=r=>r.message){let r={},i=[];for(let n of t.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):i.push(e(n));return{formErrors:i,fieldErrors:r}}function Bn(t,e){let r=e||function(a){return a.message},i={_errors:[]},n=a=>{for(let o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>n({issues:s}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)i._errors.push(r(o));else{let s=i,l=0;for(;l<o.path.length;){let d=o.path[l];l===o.path.length-1?(s[d]=s[d]||{_errors:[]},s[d]._errors.push(r(o))):s[d]=s[d]||{_errors:[]},s=s[d],l++}}};return n(t),i}function zl(t,e){let r=e||function(a){return a.message},i={errors:[]},n=(a,o=[])=>{var s,l;for(let d of a.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(u=>n({issues:u},d.path));else if(d.code==="invalid_key")n({issues:d.issues},d.path);else if(d.code==="invalid_element")n({issues:d.issues},d.path);else{let u=[...o,...d.path];if(u.length===0){i.errors.push(r(d));continue}let m=i,h=0;for(;h<u.length;){let f=u[h],p=h===u.length-1;typeof f=="string"?(m.properties??(m.properties={}),(s=m.properties)[f]??(s[f]={errors:[]}),m=m.properties[f]):(m.items??(m.items=[]),(l=m.items)[f]??(l[f]={errors:[]}),m=m.items[f]),p&&m.errors.push(r(d)),h++}}};return n(t),i}function Xp(t){let e=[];for(let r of t)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function Ol(t){let e=[],r=[...t.issues].sort((i,n)=>i.path.length-n.path.length);for(let i of r)e.push(`\u2716 ${i.message}`),i.path?.length&&e.push(`  \u2192 at ${Xp(i.path)}`);return e.join(`
`)}var Xi=t=>(e,r,i,n)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new ot;if(o.issues.length){let s=new(n?.Err??t)(o.issues.map(l=>We(l,a,fe())));throw Yi(s,n?.callee),s}return o.value},Ji=Xi(Mr),Qi=t=>async(e,r,i,n)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let s=new(n?.Err??t)(o.issues.map(l=>We(l,a,fe())));throw Yi(s,n?.callee),s}return o.value},ea=Qi(Mr),ta=t=>(e,r,i)=>{let n=i?{...i,async:!1}:{async:!1},a=e._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new ot;return a.issues.length?{success:!1,error:new(t??jn)(a.issues.map(o=>We(o,n,fe())))}:{success:!0,data:a.value}},jl=ta(Mr),ra=t=>async(e,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},a=e._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(o=>We(o,n,fe())))}:{success:!0,data:a.value}},Ll=ra(Mr);var ir={};Ct(ir,{base64:()=>tc,base64url:()=>na,bigint:()=>lc,boolean:()=>dc,browserEmail:()=>h1,cidrv4:()=>Ql,cidrv6:()=>ec,cuid:()=>Bl,cuid2:()=>Gl,date:()=>ic,datetime:()=>oc,domain:()=>f1,duration:()=>Vl,e164:()=>nc,email:()=>Kl,emoji:()=>Yl,extendedDuration:()=>o1,guid:()=>Hl,hostname:()=>rc,html5Email:()=>u1,integer:()=>cc,ipv4:()=>Xl,ipv6:()=>Jl,ksuid:()=>ql,lowercase:()=>pc,nanoid:()=>Zl,null:()=>mc,number:()=>uc,rfc5322Email:()=>d1,string:()=>sc,time:()=>ac,ulid:()=>Fl,undefined:()=>hc,unicodeEmail:()=>m1,uppercase:()=>fc,uuid:()=>nr,uuid4:()=>s1,uuid6:()=>l1,uuid7:()=>c1,xid:()=>Wl});var Bl=/^[cC][^\s-]{8,}$/,Gl=/^[0-9a-z]+$/,Fl=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Wl=/^[0-9a-vA-V]{20}$/,ql=/^[A-Za-z0-9]{27}$/,Zl=/^[a-zA-Z0-9_-]{21}$/,Vl=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,o1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Hl=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,nr=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,s1=nr(4),l1=nr(6),c1=nr(7),Kl=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,u1=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,d1=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,m1=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,h1=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,p1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Yl(){return new RegExp(p1,"u")}var Xl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Jl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Ql=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ec=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tc=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,na=/^[A-Za-z0-9_-]*$/,rc=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,f1=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,nc=/^\+(?:[0-9]){6,14}[0-9]$/,Jp="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ic=new RegExp(`^${Jp}$`);function Qp(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ac(t){return new RegExp(`^${Qp(t)}$`)}function oc(t){let e=Qp({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");let i=`${e}(?:${r.join("|")})`;return new RegExp(`^${Jp}T(?:${i})$`)}var sc=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},lc=/^\d+n?$/,cc=/^\d+$/,uc=/^-?\d+(?:\.\d+)?/i,dc=/true|false/i,mc=/null/i;var hc=/undefined/i;var pc=/^[^A-Z]*$/,fc=/^[^a-z]*$/;var le=b("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),tf={number:"number",bigint:"bigint",object:"date"},ia=b("$ZodCheckLessThan",(t,e)=>{le.init(t,e);let r=tf[typeof e.value];t._zod.onattach.push(i=>{let n=i._zod.bag,a=(e.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?n.maximum=e.value:n.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:r,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),aa=b("$ZodCheckGreaterThan",(t,e)=>{le.init(t,e);let r=tf[typeof e.value];t._zod.onattach.push(i=>{let n=i._zod.bag,a=(e.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?n.minimum=e.value:n.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:r,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),gc=b("$ZodCheckMultipleOf",(t,e)=>{le.init(t,e),t._zod.onattach.push(r=>{var i;(i=r._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):El(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),yc=b("$ZodCheckNumberFormat",(t,e)=>{le.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),i=r?"int":"number",[n,a]=Dl[e.format];t._zod.onattach.push(o=>{let s=o._zod.bag;s.format=e.format,s.minimum=n,s.maximum=a,r&&(s.pattern=cc)}),t._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s)){o.issues.push({expected:i,format:e.format,code:"invalid_type",input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort});return}}s<n&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:t})}}),bc=b("$ZodCheckBigIntFormat",(t,e)=>{le.init(t,e);let[r,i]=Nl[e.format];t._zod.onattach.push(n=>{let a=n._zod.bag;a.format=e.format,a.minimum=r,a.maximum=i}),t._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:t})}}),vc=b("$ZodCheckMaxSize",(t,e)=>{var r;le.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return!Nt(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{let n=i.value;n.size<=e.maximum||i.issues.push({origin:zn(n),code:"too_big",maximum:e.maximum,input:n,inst:t,continue:!e.abort})}}),Tc=b("$ZodCheckMinSize",(t,e)=>{var r;le.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return!Nt(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{let n=i.value;n.size>=e.minimum||i.issues.push({origin:zn(n),code:"too_small",minimum:e.minimum,input:n,inst:t,continue:!e.abort})}}),xc=b("$ZodCheckSizeEquals",(t,e)=>{var r;le.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return!Nt(n)&&n.size!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag;n.minimum=e.size,n.maximum=e.size,n.size=e.size}),t._zod.check=i=>{let n=i.value,a=n.size;if(a===e.size)return;let o=a>e.size;i.issues.push({origin:zn(n),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),_c=b("$ZodCheckMaxLength",(t,e)=>{var r;le.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return!Nt(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<n&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{let n=i.value;if(n.length<=e.maximum)return;let o=On(n);i.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),wc=b("$ZodCheckMinLength",(t,e)=>{var r;le.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return!Nt(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>n&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{let n=i.value;if(n.length>=e.minimum)return;let o=On(n);i.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:n,inst:t,continue:!e.abort})}}),Sc=b("$ZodCheckLengthEquals",(t,e)=>{var r;le.init(t,e),(r=t._zod.def).when??(r.when=i=>{let n=i.value;return!Nt(n)&&n.length!==void 0}),t._zod.onattach.push(i=>{let n=i._zod.bag;n.minimum=e.length,n.maximum=e.length,n.length=e.length}),t._zod.check=i=>{let n=i.value,a=n.length;if(a===e.length)return;let o=On(n),s=a>e.length;i.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),Dr=b("$ZodCheckStringFormat",(t,e)=>{var r,i;le.init(t,e),t._zod.onattach.push(n=>{let a=n._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:e.format,input:n.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),Pc=b("$ZodCheckRegex",(t,e)=>{Dr.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),kc=b("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=pc),Dr.init(t,e)}),Ic=b("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=fc),Dr.init(t,e)}),Ac=b("$ZodCheckIncludes",(t,e)=>{le.init(t,e);let r=bt(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=i,t._zod.onattach.push(n=>{let a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(i)}),t._zod.check=n=>{n.value.includes(e.includes,e.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:n.value,inst:t,continue:!e.abort})}}),Ec=b("$ZodCheckStartsWith",(t,e)=>{le.init(t,e);let r=new RegExp(`^${bt(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(i=>{let n=i._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),$c=b("$ZodCheckEndsWith",(t,e)=>{le.init(t,e);let r=new RegExp(`.*${bt(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(i=>{let n=i._zod.bag;n.patterns??(n.patterns=new Set),n.patterns.add(r)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}});function ef(t,e,r){t.issues.length&&e.issues.push(...ze(r,t.issues))}var Rc=b("$ZodCheckProperty",(t,e)=>{le.init(t,e),t._zod.check=r=>{let i=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(i instanceof Promise)return i.then(n=>ef(n,r,e.property));ef(i,r,e.property)}}),Cc=b("$ZodCheckMimeType",(t,e)=>{le.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=e.mime}),t._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:e.mime,input:i.value.type,inst:t})}}),Mc=b("$ZodCheckOverwrite",(t,e)=>{le.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var Gn=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let i=e.split(`
`).filter(o=>o),n=Math.min(...i.map(o=>o.length-o.trimStart().length)),a=i.map(o=>o.slice(n)).map(o=>" ".repeat(this.indent*2)+o);for(let o of a)this.content.push(o)}compile(){let e=Function,r=this?.args,n=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...r,n.join(`
`))}};var Dc={major:4,minor:0,patch:5};var N=b("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Dc;let i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(let n of i)for(let a of n._zod.onattach)a(t);if(i.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let n=(a,o,s)=>{let l=rr(a),d;for(let u of o){if(u._zod.def.when){if(!u._zod.def.when(a))continue}else if(l)continue;let m=a.issues.length,h=u._zod.check(a);if(h instanceof Promise&&s?.async===!1)throw new ot;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,a.issues.length!==m&&(l||(l=rr(a,m)))});else{if(a.issues.length===m)continue;l||(l=rr(a,m))}}return d?d.then(()=>a):a};t._zod.run=(a,o)=>{let s=t._zod.parse(a,o);if(s instanceof Promise){if(o.async===!1)throw new ot;return s.then(l=>n(l,i,o))}return n(s,i,o)}}t["~standard"]={validate:n=>{try{let a=jl(t,n);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return Ll(t,n).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),ar=b("$ZodString",(t,e)=>{N.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??sc(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),J=b("$ZodStringFormat",(t,e)=>{Dr.init(t,e),ar.init(t,e)}),Uc=b("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Hl),J.init(t,e)}),zc=b("$ZodUUID",(t,e)=>{if(e.version){let i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=nr(i))}else e.pattern??(e.pattern=nr());J.init(t,e)}),Oc=b("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Kl),J.init(t,e)}),jc=b("$ZodURL",(t,e)=>{J.init(t,e),t._zod.check=r=>{try{let i=r.value,n=new URL(i),a=n.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:rc.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!i.endsWith("/")&&a.endsWith("/")?r.value=a.slice(0,-1):r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),Lc=b("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Yl()),J.init(t,e)}),Bc=b("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Zl),J.init(t,e)}),Gc=b("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Bl),J.init(t,e)}),Fc=b("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Gl),J.init(t,e)}),Wc=b("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Fl),J.init(t,e)}),qc=b("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Wl),J.init(t,e)}),Zc=b("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=ql),J.init(t,e)}),Vc=b("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=oc(e)),J.init(t,e)}),Hc=b("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=ic),J.init(t,e)}),Kc=b("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=ac(e)),J.init(t,e)}),Yc=b("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Vl),J.init(t,e)}),Xc=b("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Xl),J.init(t,e),t._zod.onattach.push(r=>{let i=r._zod.bag;i.format="ipv4"})}),Jc=b("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Jl),J.init(t,e),t._zod.onattach.push(r=>{let i=r._zod.bag;i.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),Qc=b("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Ql),J.init(t,e)}),eu=b("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=ec),J.init(t,e),t._zod.check=r=>{let[i,n]=r.value.split("/");try{if(!n)throw new Error;let a=Number(n);if(`${a}`!==n)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function tu(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var ru=b("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=tc),J.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{tu(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function ff(t){if(!na.test(t))return!1;let e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return tu(r)}var nu=b("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=na),J.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{ff(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),iu=b("$ZodE164",(t,e)=>{e.pattern??(e.pattern=nc),J.init(t,e)});function gf(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[i]=r;if(!i)return!1;let n=JSON.parse(atob(i));return!("typ"in n&&n?.typ!=="JWT"||!n.alg||e&&(!("alg"in n)||n.alg!==e))}catch{return!1}}var au=b("$ZodJWT",(t,e)=>{J.init(t,e),t._zod.check=r=>{gf(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),ou=b("$ZodCustomStringFormat",(t,e)=>{J.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),la=b("$ZodNumber",(t,e)=>{N.init(t,e),t._zod.pattern=t._zod.bag.pattern??uc,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let n=r.value;if(typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a=typeof n=="number"?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:t,...a?{received:a}:{}}),r}}),su=b("$ZodNumber",(t,e)=>{yc.init(t,e),la.init(t,e)}),Fn=b("$ZodBoolean",(t,e)=>{N.init(t,e),t._zod.pattern=dc,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=!!r.value}catch{}let n=r.value;return typeof n=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:t}),r}}),ca=b("$ZodBigInt",(t,e)=>{N.init(t,e),t._zod.pattern=lc,t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),lu=b("$ZodBigInt",(t,e)=>{bc.init(t,e),ca.init(t,e)}),cu=b("$ZodSymbol",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return typeof n=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:t}),r}}),uu=b("$ZodUndefined",(t,e)=>{N.init(t,e),t._zod.pattern=hc,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,i)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:t}),r}}),du=b("$ZodNull",(t,e)=>{N.init(t,e),t._zod.pattern=mc,t._zod.values=new Set([null]),t._zod.parse=(r,i)=>{let n=r.value;return n===null||r.issues.push({expected:"null",code:"invalid_type",input:n,inst:t}),r}}),mu=b("$ZodAny",(t,e)=>{N.init(t,e),t._zod.parse=r=>r}),Nr=b("$ZodUnknown",(t,e)=>{N.init(t,e),t._zod.parse=r=>r}),hu=b("$ZodNever",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),pu=b("$ZodVoid",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return typeof n>"u"||r.issues.push({expected:"void",code:"invalid_type",input:n,inst:t}),r}}),fu=b("$ZodDate",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:t}),r}});function nf(t,e,r){t.issues.length&&e.issues.push(...ze(r,t.issues)),e.value[r]=t.value}var Wn=b("$ZodArray",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:t}),r;r.value=Array(n.length);let a=[];for(let o=0;o<n.length;o++){let s=n[o],l=e.element._zod.run({value:s,issues:[]},i);l instanceof Promise?a.push(l.then(d=>nf(d,r,o))):nf(l,r,o)}return a.length?Promise.all(a).then(()=>r):r}});function oa(t,e,r){t.issues.length&&e.issues.push(...ze(r,t.issues)),e.value[r]=t.value}function af(t,e,r,i){t.issues.length?i[r]===void 0?r in i?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...ze(r,t.issues)):t.value===void 0?r in i&&(e.value[r]=void 0):e.value[r]=t.value}var gu=b("$ZodObject",(t,e)=>{N.init(t,e);let r=Dn(()=>{let m=Object.keys(e.shape);for(let f of m)if(!(e.shape[f]instanceof N))throw new Error(`Invalid element at key "${f}": expected a Zod schema`);let h=Ml(e.shape);return{shape:e.shape,keys:m,keySet:new Set(m),numKeys:m.length,optionalKeys:new Set(h)}});V(t._zod,"propValues",()=>{let m=e.shape,h={};for(let f in m){let p=m[f]._zod;if(p.values){h[f]??(h[f]=new Set);for(let T of p.values)h[f].add(T)}}return h});let i=m=>{let h=new Gn(["shape","payload","ctx"]),f=r.value,p=I=>{let v=tr(I);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};h.write("const input = payload.value;");let T=Object.create(null),x=0;for(let I of f.keys)T[I]=`key_${x++}`;h.write("const newResult = {}");for(let I of f.keys)if(f.optionalKeys.has(I)){let v=T[I];h.write(`const ${v} = ${p(I)};`);let S=tr(I);h.write(`
        if (${v}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${v}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${v}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${v}.value;
        }
        `)}else{let v=T[I];h.write(`const ${v} = ${p(I)};`),h.write(`
          if (${v}.issues.length) payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${tr(I)}, ...iss.path] : [${tr(I)}]
          })));`),h.write(`newResult[${tr(I)}] = ${v}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");let $=h.compile();return(I,v)=>$(m,I,v)},n,a=Rr,o=!Rn.jitless,l=o&&Rl.value,d=e.catchall,u;t._zod.parse=(m,h)=>{u??(u=r.value);let f=m.value;if(!a(f))return m.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),m;let p=[];if(o&&l&&h?.async===!1&&h.jitless!==!0)n||(n=i(e.shape)),m=n(m,h);else{m.value={};let v=u.shape;for(let S of u.keys){let z=v[S],G=z._zod.run({value:f[S],issues:[]},h),q=z._zod.optin==="optional"&&z._zod.optout==="optional";G instanceof Promise?p.push(G.then(H=>q?af(H,m,S,f):oa(H,m,S))):q?af(G,m,S,f):oa(G,m,S)}}if(!d)return p.length?Promise.all(p).then(()=>m):m;let T=[],x=u.keySet,$=d._zod,I=$.def.type;for(let v of Object.keys(f)){if(x.has(v))continue;if(I==="never"){T.push(v);continue}let S=$.run({value:f[v],issues:[]},h);S instanceof Promise?p.push(S.then(z=>oa(z,m,v))):oa(S,m,v)}return T.length&&m.issues.push({code:"unrecognized_keys",keys:T,input:f,inst:t}),p.length?Promise.all(p).then(()=>m):m}});function of(t,e,r,i){for(let n of t)if(n.issues.length===0)return e.value=n.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(n=>n.issues.map(a=>We(a,i,fe())))}),e}var ua=b("$ZodUnion",(t,e)=>{N.init(t,e),V(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),V(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),V(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),V(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){let r=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${r.map(i=>Nn(i.source)).join("|")})$`)}}),t._zod.parse=(r,i)=>{let n=!1,a=[];for(let o of e.options){let s=o._zod.run({value:r.value,issues:[]},i);if(s instanceof Promise)a.push(s),n=!0;else{if(s.issues.length===0)return s;a.push(s)}}return n?Promise.all(a).then(o=>of(o,r,t,i)):of(a,r,t,i)}}),yu=b("$ZodDiscriminatedUnion",(t,e)=>{ua.init(t,e);let r=t._zod.parse;V(t._zod,"propValues",()=>{let n={};for(let a of e.options){let o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(let[s,l]of Object.entries(o)){n[s]||(n[s]=new Set);for(let d of l)n[s].add(d)}}return n});let i=Dn(()=>{let n=e.options,a=new Map;for(let o of n){let s=o._zod.propValues?.[e.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let l of s){if(a.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);a.set(l,o)}}return a});t._zod.parse=(n,a)=>{let o=n.value;if(!Rr(o))return n.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),n;let s=i.value.get(o?.[e.discriminator]);return s?s._zod.run(n,a):e.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[e.discriminator],inst:t}),n)}}),bu=b("$ZodIntersection",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value,a=e.left._zod.run({value:n,issues:[]},i),o=e.right._zod.run({value:n,issues:[]},i);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([l,d])=>sf(r,l,d)):sf(r,a,o)}});function Nc(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Cr(t)&&Cr(e)){let r=Object.keys(e),i=Object.keys(t).filter(a=>r.indexOf(a)!==-1),n={...t,...e};for(let a of i){let o=Nc(t[a],e[a]);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};n[a]=o.data}return{valid:!0,data:n}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let i=0;i<t.length;i++){let n=t[i],a=e[i],o=Nc(n,a);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function sf(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),rr(t))return t;let i=Nc(e.value,r.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}var or=b("$ZodTuple",(t,e)=>{N.init(t,e);let r=e.items,i=r.length-[...r].reverse().findIndex(n=>n._zod.optin!=="optional");t._zod.parse=(n,a)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[];if(!e.rest){let d=o.length>r.length,u=o.length<i-1;if(d||u)return n.issues.push({input:o,inst:t,origin:"array",...d?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),n}let l=-1;for(let d of r){if(l++,l>=o.length&&l>=i)continue;let u=d._zod.run({value:o[l],issues:[]},a);u instanceof Promise?s.push(u.then(m=>sa(m,n,l))):sa(u,n,l)}if(e.rest){let d=o.slice(r.length);for(let u of d){l++;let m=e.rest._zod.run({value:u,issues:[]},a);m instanceof Promise?s.push(m.then(h=>sa(h,n,l))):sa(m,n,l)}}return s.length?Promise.all(s).then(()=>n):n}});function sa(t,e,r){t.issues.length&&e.issues.push(...ze(r,t.issues)),e.value[r]=t.value}var vu=b("$ZodRecord",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!Cr(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:t}),r;let a=[];if(e.keyType._zod.values){let o=e.keyType._zod.values;r.value={};for(let l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){let d=e.valueType._zod.run({value:n[l],issues:[]},i);d instanceof Promise?a.push(d.then(u=>{u.issues.length&&r.issues.push(...ze(l,u.issues)),r.value[l]=u.value})):(d.issues.length&&r.issues.push(...ze(l,d.issues)),r.value[l]=d.value)}let s;for(let l in n)o.has(l)||(s=s??[],s.push(l));s&&s.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:t,keys:s})}else{r.value={};for(let o of Reflect.ownKeys(n)){if(o==="__proto__")continue;let s=e.keyType._zod.run({value:o,issues:[]},i);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map(d=>We(d,i,fe())),input:o,path:[o],inst:t}),r.value[s.value]=s.value;continue}let l=e.valueType._zod.run({value:n[o],issues:[]},i);l instanceof Promise?a.push(l.then(d=>{d.issues.length&&r.issues.push(...ze(o,d.issues)),r.value[s.value]=d.value})):(l.issues.length&&r.issues.push(...ze(o,l.issues)),r.value[s.value]=l.value)}}return a.length?Promise.all(a).then(()=>r):r}}),Tu=b("$ZodMap",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:t}),r;let a=[];r.value=new Map;for(let[o,s]of n){let l=e.keyType._zod.run({value:o,issues:[]},i),d=e.valueType._zod.run({value:s,issues:[]},i);l instanceof Promise||d instanceof Promise?a.push(Promise.all([l,d]).then(([u,m])=>{lf(u,m,r,o,n,t,i)})):lf(l,d,r,o,n,t,i)}return a.length?Promise.all(a).then(()=>r):r}});function lf(t,e,r,i,n,a,o){t.issues.length&&(Un.has(typeof i)?r.issues.push(...ze(i,t.issues)):r.issues.push({origin:"map",code:"invalid_key",input:n,inst:a,issues:t.issues.map(s=>We(s,o,fe()))})),e.issues.length&&(Un.has(typeof i)?r.issues.push(...ze(i,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:e.issues.map(s=>We(s,o,fe()))})),r.value.set(t.value,e.value)}var xu=b("$ZodSet",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:t,expected:"set",code:"invalid_type"}),r;let a=[];r.value=new Set;for(let o of n){let s=e.valueType._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(l=>cf(l,r))):cf(s,r)}return a.length?Promise.all(a).then(()=>r):r}});function cf(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var _u=b("$ZodEnum",(t,e)=>{N.init(t,e);let r=Mn(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(i=>Un.has(typeof i)).map(i=>typeof i=="string"?bt(i):i.toString()).join("|")})$`),t._zod.parse=(i,n)=>{let a=i.value;return t._zod.values.has(a)||i.issues.push({code:"invalid_value",values:r,input:a,inst:t}),i}}),wu=b("$ZodLiteral",(t,e)=>{N.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?bt(r):r?r.toString():String(r)).join("|")})$`),t._zod.parse=(r,i)=>{let n=r.value;return t._zod.values.has(n)||r.issues.push({code:"invalid_value",values:e.values,input:n,inst:t}),r}}),Su=b("$ZodFile",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=r.value;return n instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:n,inst:t}),r}}),qn=b("$ZodTransform",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=e.transform(r.value,r);if(i.async)return(n instanceof Promise?n:Promise.resolve(n)).then(o=>(r.value=o,r));if(n instanceof Promise)throw new ot;return r.value=n,r}}),Pu=b("$ZodOptional",(t,e)=>{N.init(t,e),t._zod.optin="optional",t._zod.optout="optional",V(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),V(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Nn(r.source)})?$`):void 0}),t._zod.parse=(r,i)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,i):r.value===void 0?r:e.innerType._zod.run(r,i)}),ku=b("$ZodNullable",(t,e)=>{N.init(t,e),V(t._zod,"optin",()=>e.innerType._zod.optin),V(t._zod,"optout",()=>e.innerType._zod.optout),V(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${Nn(r.source)}|null)$`):void 0}),V(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,i)=>r.value===null?r:e.innerType._zod.run(r,i)}),Iu=b("$ZodDefault",(t,e)=>{N.init(t,e),t._zod.optin="optional",V(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>{if(r.value===void 0)return r.value=e.defaultValue,r;let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>uf(a,e)):uf(n,e)}});function uf(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var Au=b("$ZodPrefault",(t,e)=>{N.init(t,e),t._zod.optin="optional",V(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,i))}),Eu=b("$ZodNonOptional",(t,e)=>{N.init(t,e),V(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(i=>i!==void 0)):void 0}),t._zod.parse=(r,i)=>{let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>df(a,t)):df(n,t)}});function df(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var $u=b("$ZodSuccess",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>{let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>(r.value=a.issues.length===0,r)):(r.value=n.issues.length===0,r)}}),Ru=b("$ZodCatch",(t,e)=>{N.init(t,e),t._zod.optin="optional",V(t._zod,"optout",()=>e.innerType._zod.optout),V(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,i)=>{let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(a=>(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(o=>We(o,i,fe()))},input:r.value}),r.issues=[]),r)):(r.value=n.value,n.issues.length&&(r.value=e.catchValue({...r,error:{issues:n.issues.map(a=>We(a,i,fe()))},input:r.value}),r.issues=[]),r)}}),Cu=b("$ZodNaN",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),Zn=b("$ZodPipe",(t,e)=>{N.init(t,e),V(t._zod,"values",()=>e.in._zod.values),V(t._zod,"optin",()=>e.in._zod.optin),V(t._zod,"optout",()=>e.out._zod.optout),V(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,i)=>{let n=e.in._zod.run(r,i);return n instanceof Promise?n.then(a=>mf(a,e,i)):mf(n,e,i)}});function mf(t,e,r){return rr(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}var Mu=b("$ZodReadonly",(t,e)=>{N.init(t,e),V(t._zod,"propValues",()=>e.innerType._zod.propValues),V(t._zod,"values",()=>e.innerType._zod.values),V(t._zod,"optin",()=>e.innerType._zod.optin),V(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,i)=>{let n=e.innerType._zod.run(r,i);return n instanceof Promise?n.then(hf):hf(n)}});function hf(t){return t.value=Object.freeze(t.value),t}var Du=b("$ZodTemplateLiteral",(t,e)=>{N.init(t,e);let r=[];for(let i of e.parts)if(i instanceof N){if(!i._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);let n=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!n)throw new Error(`Invalid template literal part: ${i._zod.traits}`);let a=n.startsWith("^")?1:0,o=n.endsWith("$")?n.length-1:n.length;r.push(n.slice(a,o))}else if(i===null||Cl.has(typeof i))r.push(bt(`${i}`));else throw new Error(`Invalid template literal part: ${i}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(i,n)=>typeof i.value!="string"?(i.issues.push({input:i.value,inst:t,expected:"template_literal",code:"invalid_type"}),i):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),i)}),Nu=b("$ZodPromise",(t,e)=>{N.init(t,e),t._zod.parse=(r,i)=>Promise.resolve(r.value).then(n=>e.innerType._zod.run({value:n,issues:[]},i))}),Uu=b("$ZodLazy",(t,e)=>{N.init(t,e),V(t._zod,"innerType",()=>e.getter()),V(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),V(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),V(t._zod,"optin",()=>t._zod.innerType._zod.optin),V(t._zod,"optout",()=>t._zod.innerType._zod.optout),t._zod.parse=(r,i)=>t._zod.innerType._zod.run(r,i)}),zu=b("$ZodCustom",(t,e)=>{le.init(t,e),N.init(t,e),t._zod.parse=(r,i)=>r,t._zod.check=r=>{let i=r.value,n=e.fn(i);if(n instanceof Promise)return n.then(a=>pf(a,r,i,t));pf(n,r,i,t)}});function pf(t,e,r,i){if(!t){let n={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(n.params=i._zod.def.params),e.issues.push(Ul(n))}}var Vn={};Ct(Vn,{ar:()=>bf,az:()=>vf,be:()=>xf,ca:()=>_f,cs:()=>wf,de:()=>Sf,en:()=>da,eo:()=>Pf,es:()=>kf,fa:()=>If,fi:()=>Af,fr:()=>Ef,frCA:()=>$f,he:()=>Rf,hu:()=>Cf,id:()=>Mf,it:()=>Df,ja:()=>Nf,kh:()=>Uf,ko:()=>zf,mk:()=>Of,ms:()=>jf,nl:()=>Lf,no:()=>Bf,ota:()=>Gf,pl:()=>Wf,ps:()=>Ff,pt:()=>qf,ru:()=>Vf,sl:()=>Hf,sv:()=>Kf,ta:()=>Yf,th:()=>Xf,tr:()=>Jf,ua:()=>Qf,ur:()=>eg,vi:()=>tg,zhCN:()=>rg,zhTW:()=>ng});var g1=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return n=>{switch(n.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${n.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${A(n.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${n.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${n.minimum.toString()} ${o.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${n.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${n.prefix}"`:a.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${a.suffix}"`:a.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${a.includes}"`:a.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${a.pattern}`:`${i[a.format]??n.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${n.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${n.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${n.keys.length>1?"\u0629":""}: ${w(n.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${n.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function bf(){return{localeError:g1()}}var y1=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${n.expected}, daxil olan ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${A(n.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${a}${n.maximum.toString()} ${o.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${n.origin??"d\u0259y\u0259r"} ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${a.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:a.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${a.suffix}" il\u0259 bitm\u0259lidir`:a.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${a.includes}" daxil olmal\u0131d\u0131r`:a.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${a.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${i[a.format]??n.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${n.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${n.keys.length>1?"lar":""}: ${w(n.keys,", ")}`;case"invalid_key":return`${n.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${n.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function vf(){return{localeError:y1()}}function Tf(t,e,r,i){let n=Math.abs(t),a=n%10,o=n%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?r:i}var b1=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(n))return"\u043C\u0430\u0441\u0456\u045E";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${n.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${A(n.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),l=Tf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${n.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),l=Tf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${n.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${n.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${i[a.format]??n.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${n.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${w(n.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${n.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function xf(){return{localeError:b1()}}var v1=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${n.expected}, s'ha rebut ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Valor inv\xE0lid: s'esperava ${A(n.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${w(n.values," o ")}`;case"too_big":{let a=n.inclusive?"com a m\xE0xim":"menys de",o=e(n.origin);return o?`Massa gran: s'esperava que ${n.origin??"el valor"} contingu\xE9s ${a} ${n.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${n.origin??"el valor"} fos ${a} ${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?"com a m\xEDnim":"m\xE9s de",o=e(n.origin);return o?`Massa petit: s'esperava que ${n.origin} contingu\xE9s ${a} ${n.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${n.origin} fos ${a} ${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${a.prefix}"`:a.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format inv\xE0lid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${a.pattern}`:`Format inv\xE0lid per a ${i[a.format]??n.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${n.divisor}`;case"unrecognized_keys":return`Clau${n.keys.length>1?"s":""} no reconeguda${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${n.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${n.origin}`;default:return"Entrada inv\xE0lida"}}};function _f(){return{localeError:v1()}}var T1=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(n))return"pole";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return n=>{switch(n.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${n.expected}, obdr\u017Eeno ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${A(n.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${a}${n.maximum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED m\xEDt ${a}${n.minimum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${n.origin??"hodnota"} mus\xED b\xFDt ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${a.suffix}"`:a.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${a.pattern}`:`Neplatn\xFD form\xE1t ${i[a.format]??n.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${n.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${w(n.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${n.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${n.origin}`;default:return"Neplatn\xFD vstup"}}};function wf(){return{localeError:T1()}}var x1=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"Zahl";case"object":{if(Array.isArray(n))return"Array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return n=>{switch(n.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${n.expected}, erhalten ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ung\xFCltige Eingabe: erwartet ${A(n.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${n.origin??"Wert"} ${a}${n.maximum.toString()} ist`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${n.origin} ${a}${n.minimum.toString()} ist`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Ung\xFCltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ung\xFCltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ung\xFCltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ung\xFCltig: ${i[a.format]??n.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${n.divisor} sein`;case"unrecognized_keys":return`${n.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${w(n.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${n.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${n.origin}`;default:return"Ung\xFCltige Eingabe"}}};function Sf(){return{localeError:x1()}}var _1=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},w1=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Invalid input: expected ${i.expected}, received ${_1(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${A(i.values[0])}`:`Invalid option: expected one of ${w(i.values,"|")}`;case"too_big":{let n=i.inclusive?"<=":"<",a=e(i.origin);return a?`Too big: expected ${i.origin??"value"} to have ${n}${i.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${n}${i.maximum.toString()}`}case"too_small":{let n=i.inclusive?">=":">",a=e(i.origin);return a?`Too small: expected ${i.origin} to have ${n}${i.minimum.toString()} ${a.unit}`:`Too small: expected ${i.origin} to be ${n}${i.minimum.toString()}`}case"invalid_format":{let n=i;return n.format==="starts_with"?`Invalid string: must start with "${n.prefix}"`:n.format==="ends_with"?`Invalid string: must end with "${n.suffix}"`:n.format==="includes"?`Invalid string: must include "${n.includes}"`:n.format==="regex"?`Invalid string: must match pattern ${n.pattern}`:`Invalid ${r[n.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${w(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function da(){return{localeError:w1()}}var S1=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},P1=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return t[i]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return i=>{switch(i.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${i.expected}, ricevi\u011Dis ${S1(i.input)}`;case"invalid_value":return i.values.length===1?`Nevalida enigo: atendi\u011Dis ${A(i.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${w(i.values,"|")}`;case"too_big":{let n=i.inclusive?"<=":"<",a=e(i.origin);return a?`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${n}${i.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${n}${i.maximum.toString()}`}case"too_small":{let n=i.inclusive?">=":">",a=e(i.origin);return a?`Tro malgranda: atendi\u011Dis ke ${i.origin} havu ${n}${i.minimum.toString()} ${a.unit}`:`Tro malgranda: atendi\u011Dis ke ${i.origin} estu ${n}${i.minimum.toString()}`}case"invalid_format":{let n=i;return n.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${n.prefix}"`:n.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${n.suffix}"`:n.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${n.includes}"`:n.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${n.pattern}`:`Nevalida ${r[n.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} \u015Dlosilo${i.keys.length>1?"j":""}: ${w(i.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function Pf(){return{localeError:P1()}}var k1=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(n))return"arreglo";if(n===null)return"nulo";if(Object.getPrototypeOf(n)!==Object.prototype)return n.constructor.name}}return a},i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${n.expected}, recibido ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entrada inv\xE1lida: se esperaba ${A(n.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Demasiado grande: se esperaba que ${n.origin??"valor"} tuviera ${a}${n.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${n.origin??"valor"} fuera ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Demasiado peque\xF1o: se esperaba que ${n.origin} tuviera ${a}${n.minimum.toString()} ${o.unit}`:`Demasiado peque\xF1o: se esperaba que ${n.origin} fuera ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${i[a.format]??n.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${n.divisor}`;case"unrecognized_keys":return`Llave${n.keys.length>1?"s":""} desconocida${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n.origin}`;default:return"Entrada inv\xE1lida"}}};function kf(){return{localeError:k1()}}var I1=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(n))return"\u0622\u0631\u0627\u06CC\u0647";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return n=>{switch(n.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${n.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(n.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return n.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${A(n.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${w(n.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${n.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} ${o.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:a.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:a.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${a.includes}" \u0628\u0627\u0634\u062F`:a.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${a.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${i[a.format]??n.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${n.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${n.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${w(n.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${n.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${n.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function If(){return{localeError:I1()}}var A1=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return n=>{switch(n.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${n.expected}, oli ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${A(n.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Liian suuri: ${o.subject} t\xE4ytyy olla ${a}${n.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Liian pieni: ${o.subject} t\xE4ytyy olla ${a}${n.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${a.includes}"`:a.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${a.pattern}`:`Virheellinen ${i[a.format]??n.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${n.divisor} monikerta`;case"unrecognized_keys":return`${n.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${w(n.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function Af(){return{localeError:A1()}}var E1=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"nombre";case"object":{if(Array.isArray(n))return"tableau";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return n=>{switch(n.code){case"invalid_type":return`Entr\xE9e invalide : ${n.expected} attendu, ${r(n.input)} re\xE7u`;case"invalid_value":return n.values.length===1?`Entr\xE9e invalide : ${A(n.values[0])} attendu`:`Option invalide : une valeur parmi ${w(n.values,"|")} attendue`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Trop grand : ${n.origin??"valeur"} doit ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${n.origin??"valeur"} doit \xEAtre ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Trop petit : ${n.origin} doit ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Trop petit : ${n.origin} doit \xEAtre ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${a.pattern}`:`${i[a.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${w(n.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${n.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entr\xE9e invalide"}}};function Ef(){return{localeError:E1()}}var $1=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return n=>{switch(n.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${n.expected}, re\xE7u ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entr\xE9e invalide : attendu ${A(n.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"\u2264":"<",o=e(n.origin);return o?`Trop grand : attendu que ${n.origin??"la valeur"} ait ${a}${n.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${n.origin??"la valeur"} soit ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?"\u2265":">",o=e(n.origin);return o?`Trop petit : attendu que ${n.origin} ait ${a}${n.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${n.origin} soit ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${a.pattern}`:`${i[a.format]??n.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${n.divisor}`;case"unrecognized_keys":return`Cl\xE9${n.keys.length>1?"s":""} non reconnue${n.keys.length>1?"s":""} : ${w(n.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${n.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${n.origin}`;default:return"Entr\xE9e invalide"}}};function $f(){return{localeError:$1()}}var R1=()=>{let t={string:{unit:"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u05E7\u05DC\u05D8",email:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",url:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",emoji:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",date:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",time:"\u05D6\u05DE\u05DF ISO",duration:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",ipv4:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",ipv6:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",cidrv4:"\u05D8\u05D5\u05D5\u05D7 IPv4",cidrv6:"\u05D8\u05D5\u05D5\u05D7 IPv6",base64:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",base64url:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",json_string:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",e164:"\u05DE\u05E1\u05E4\u05E8 E.164",jwt:"JWT",template_literal:"\u05E7\u05DC\u05D8"};return n=>{switch(n.code){case"invalid_type":return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${n.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${A(n.values[0])}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${n.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${n.maximum.toString()} ${o.unit??"elements"}`:`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${n.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${n.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${n.minimum.toString()} ${o.unit}`:`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${n.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${a.prefix}"`:a.format==="ends_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${a.suffix}"`:a.format==="includes"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${a.includes}"`:a.format==="regex"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${a.pattern}`:`${i[a.format]??n.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${n.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${n.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${n.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${w(n.keys,", ")}`;case"invalid_key":return`\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${n.origin}`;case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${n.origin}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function Rf(){return{localeError:R1()}}var C1=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(n))return"t\xF6mb";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return n=>{switch(n.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${n.expected}, a kapott \xE9rt\xE9k ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${A(n.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`T\xFAl nagy: ${n.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${a}${n.maximum.toString()} ${o.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${n.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} m\xE9rete t\xFAl kicsi ${a}${n.minimum.toString()} ${o.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${n.origin} t\xFAl kicsi ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\xC9rv\xE9nytelen string: "${a.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:a.format==="ends_with"?`\xC9rv\xE9nytelen string: "${a.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:a.format==="includes"?`\xC9rv\xE9nytelen string: "${a.includes}" \xE9rt\xE9ket kell tartalmaznia`:a.format==="regex"?`\xC9rv\xE9nytelen string: ${a.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${i[a.format]??n.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${n.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${n.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${n.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function Cf(){return{localeError:C1()}}var M1=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input tidak valid: diharapkan ${n.expected}, diterima ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input tidak valid: diharapkan ${A(n.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Terlalu besar: diharapkan ${n.origin??"value"} memiliki ${a}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${n.origin??"value"} menjadi ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Terlalu kecil: diharapkan ${n.origin} memiliki ${a}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${n.origin} menjadi ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${i[a.format]??n.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${n.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${n.origin}`;default:return"Input tidak valid"}}};function Mf(){return{localeError:M1()}}var D1=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"numero";case"object":{if(Array.isArray(n))return"vettore";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input non valido: atteso ${n.expected}, ricevuto ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input non valido: atteso ${A(n.values[0])}`:`Opzione non valida: atteso uno tra ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Troppo grande: ${n.origin??"valore"} deve avere ${a}${n.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${n.origin??"valore"} deve essere ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Troppo piccolo: ${n.origin} deve avere ${a}${n.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${n.origin} deve essere ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${i[a.format]??n.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${n.divisor}`;case"unrecognized_keys":return`Chiav${n.keys.length>1?"i":"e"} non riconosciut${n.keys.length>1?"e":"a"}: ${w(n.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${n.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${n.origin}`;default:return"Input non valido"}}};function Df(){return{localeError:D1()}}var N1=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(n))return"\u914D\u5217";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return n=>{switch(n.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${n.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(n.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return n.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${A(n.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${w(n.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let a=n.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",o=e(n.origin);return o?`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${o.unit??"\u8981\u7D20"}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${n.origin??"\u5024"}\u306F${n.maximum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let a=n.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",o=e(n.origin);return o?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${o.unit}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${n.origin}\u306F${n.minimum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${a.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${i[a.format]??n.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${n.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${n.keys.length>1?"\u7FA4":""}: ${w(n.keys,"\u3001")}`;case"invalid_key":return`${n.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${n.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function Nf(){return{localeError:N1()}}var U1=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(n))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(n===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return n=>{switch(n.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${A(n.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${n.maximum.toString()} ${o.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${a} ${n.minimum.toString()} ${o.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${n.origin} ${a} ${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${a.prefix}"`:a.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${a.suffix}"`:a.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${a.includes}"`:a.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${a.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${i[a.format]??n.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${n.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${w(n.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${n.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function Uf(){return{localeError:U1()}}var z1=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return n=>{switch(n.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${n.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(n.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return n.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${A(n.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${w(n.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let a=n.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",o=a==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(n.origin),l=s?.unit??"\uC694\uC18C";return s?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()}${l} ${a}${o}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${n.maximum.toString()} ${a}${o}`}case"too_small":{let a=n.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",o=a==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(n.origin),l=s?.unit??"\uC694\uC18C";return s?`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()}${l} ${a}${o}`:`${n.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${n.minimum.toString()} ${a}${o}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:a.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${a.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${i[a.format]??n.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${n.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${w(n.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${n.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${n.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function zf(){return{localeError:z1()}}var O1=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(n))return"\u043D\u0438\u0437\u0430";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return n=>{switch(n.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${A(n.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0438\u043C\u0430 ${a}${n.minimum.toString()} ${o.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${n.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${a.pattern}`:`Invalid ${i[a.format]??n.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${w(n.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${n.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${n.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function Of(){return{localeError:O1()}}var j1=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"nombor";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Input tidak sah: dijangka ${n.expected}, diterima ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Input tidak sah: dijangka ${A(n.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Terlalu besar: dijangka ${n.origin??"nilai"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${n.origin??"nilai"} adalah ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Terlalu kecil: dijangka ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${n.origin} adalah ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${i[a.format]??n.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${n.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${w(n.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${n.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${n.origin}`;default:return"Input tidak sah"}}};function jf(){return{localeError:j1()}}var L1=()=>{let t={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"getal";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return n=>{switch(n.code){case"invalid_type":return`Ongeldige invoer: verwacht ${n.expected}, ontving ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ongeldige invoer: verwacht ${A(n.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Te lang: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${n.origin??"waarde"} ${a}${n.maximum.toString()} is`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Te kort: verwacht dat ${n.origin} ${a}${n.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${n.origin} ${a}${n.minimum.toString()} is`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${i[a.format]??n.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${n.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${n.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${n.origin}`;default:return"Ongeldige invoer"}}};function Lf(){return{localeError:L1()}}var B1=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"tall";case"object":{if(Array.isArray(n))return"liste";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Ugyldig input: forventet ${n.expected}, fikk ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ugyldig verdi: forventet ${A(n.values[0])}`:`Ugyldig valg: forventet en av ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${a}${n.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${n.origin??"value"} til \xE5 ha ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`For lite(n): forventet ${n.origin} til \xE5 ha ${a}${n.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${n.origin} til \xE5 ha ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${i[a.format]??n.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${w(n.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${n.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${n.origin}`;default:return"Ugyldig input"}}};function Bf(){return{localeError:B1()}}var G1=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"numara";case"object":{if(Array.isArray(n))return"saf";if(n===null)return"gayb";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return n=>{switch(n.code){case"invalid_type":return`F\xE2sit giren: umulan ${n.expected}, al\u0131nan ${r(n.input)}`;case"invalid_value":return n.values.length===1?`F\xE2sit giren: umulan ${A(n.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${a}${n.maximum.toString()} ${o.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${n.origin??"value"}, ${a}${n.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${a}${n.minimum.toString()} ${o.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${n.origin}, ${a}${n.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let a=n;return a.format==="starts_with"?`F\xE2sit metin: "${a.prefix}" ile ba\u015Flamal\u0131.`:a.format==="ends_with"?`F\xE2sit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`F\xE2sit metin: "${a.includes}" ihtiv\xE2 etmeli.`:a.format==="regex"?`F\xE2sit metin: ${a.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${i[a.format]??n.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${n.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${n.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function Gf(){return{localeError:G1()}}var F1=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(n))return"\u0627\u0631\u06D0";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return n=>{switch(n.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${n.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(n.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return n.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${A(n.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${w(n.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${n.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${n.maximum.toString()} \u0648\u064A`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} ${o.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${n.origin} \u0628\u0627\u06CC\u062F ${a}${n.minimum.toString()} \u0648\u064A`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:a.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:a.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${a.includes}" \u0648\u0644\u0631\u064A`:a.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${a.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${i[a.format]??n.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${n.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${n.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${w(n.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${n.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${n.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function Ff(){return{localeError:F1()}}var W1=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"liczba";case"object":{if(Array.isArray(n))return"tablica";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return n=>{switch(n.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${n.expected}, otrzymano ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${A(n.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${n.maximum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${n.minimum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${n.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${a.prefix}"`:a.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${a.suffix}"`:a.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${a.includes}"`:a.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${a.pattern}`:`Nieprawid\u0142ow(y/a/e) ${i[a.format]??n.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${n.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${n.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${n.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function Wf(){return{localeError:W1()}}var q1=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(n))return"array";if(n===null)return"nulo";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return n=>{switch(n.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${n.expected}, recebido ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Entrada inv\xE1lida: esperado ${A(n.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Muito grande: esperado que ${n.origin??"valor"} tivesse ${a}${n.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${n.origin??"valor"} fosse ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Muito pequeno: esperado que ${n.origin} tivesse ${a}${n.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${n.origin} fosse ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${a.prefix}"`:a.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto inv\xE1lido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${a.pattern}`:`${i[a.format]??n.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${n.divisor}`;case"unrecognized_keys":return`Chave${n.keys.length>1?"s":""} desconhecida${n.keys.length>1?"s":""}: ${w(n.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${n.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${n.origin}`;default:return"Campo inv\xE1lido"}}};function qf(){return{localeError:q1()}}function Zf(t,e,r,i){let n=Math.abs(t),a=n%10,o=n%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?r:i}var Z1=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(n))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${n.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${A(n.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);if(o){let s=Number(n.maximum),l=Zf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${n.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);if(o){let s=Number(n.minimum),l=Zf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${n.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${n.origin} \u0431\u0443\u0434\u0435\u0442 ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${i[a.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${n.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0438":""}: ${w(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${n.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function Vf(){return{localeError:Z1()}}var V1=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(n))return"tabela";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return n=>{switch(n.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${n.expected}, prejeto ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${A(n.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} imelo ${a}${n.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${n.origin??"vrednost"} ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Premajhno: pri\u010Dakovano, da bo ${n.origin} imelo ${a}${n.minimum.toString()} ${o.unit}`:`Premajhno: pri\u010Dakovano, da bo ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${i[a.format]??n.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${n.divisor}`;case"unrecognized_keys":return`Neprepoznan${n.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${w(n.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${n.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${n.origin}`;default:return"Neveljaven vnos"}}};function Hf(){return{localeError:V1()}}var H1=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"antal";case"object":{if(Array.isArray(n))return"lista";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return n=>{switch(n.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${n.expected}, fick ${r(n.input)}`;case"invalid_value":return n.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${A(n.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`F\xF6r stor(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.maximum.toString()} ${o.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${n.origin??"v\xE4rdet"} att ha ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.minimum.toString()} ${o.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${n.origin??"v\xE4rdet"} att ha ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${a.includes}"`:a.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${a.pattern}"`:`Ogiltig(t) ${i[a.format]??n.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${w(n.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${n.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${n.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function Kf(){return{localeError:H1()}}var K1=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(n))return"\u0B85\u0BA3\u0BBF";if(n===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${A(n.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${w(n.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${n.maximum.toString()} ${o.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${n.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${a}${n.minimum.toString()} ${o.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n.origin} ${a}${n.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${a.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${i[a.format]??n.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${n.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${n.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${w(n.keys,", ")}`;case"invalid_key":return`${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${n.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function Yf(){return{localeError:K1()}}var Y1=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(n))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(n===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return n=>{switch(n.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${n.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${A(n.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",o=e(n.origin);return o?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.maximum.toString()} ${o.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",o=e(n.origin);return o?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.minimum.toString()} ${o.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${n.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${a.prefix}"`:a.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${a.suffix}"`:a.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${a.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:a.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${a.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${i[a.format]??n.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${n.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${w(n.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${n.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function Xf(){return{localeError:Y1()}}var X1=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},J1=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(i){return t[i]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return i=>{switch(i.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${i.expected}, al\u0131nan ${X1(i.input)}`;case"invalid_value":return i.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${A(i.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${w(i.values,"|")}`;case"too_big":{let n=i.inclusive?"<=":"<",a=e(i.origin);return a?`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${n}${i.maximum.toString()} ${a.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${n}${i.maximum.toString()}`}case"too_small":{let n=i.inclusive?">=":">",a=e(i.origin);return a?`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${n}${i.minimum.toString()} ${a.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${n}${i.minimum.toString()}`}case"invalid_format":{let n=i;return n.format==="starts_with"?`Ge\xE7ersiz metin: "${n.prefix}" ile ba\u015Flamal\u0131`:n.format==="ends_with"?`Ge\xE7ersiz metin: "${n.suffix}" ile bitmeli`:n.format==="includes"?`Ge\xE7ersiz metin: "${n.includes}" i\xE7ermeli`:n.format==="regex"?`Ge\xE7ersiz metin: ${n.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[n.format]??i.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${i.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${i.keys.length>1?"lar":""}: ${w(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${i.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function Jf(){return{localeError:J1()}}var Q1=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(n))return"\u043C\u0430\u0441\u0438\u0432";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return n=>{switch(n.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${n.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${A(n.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${n.origin} \u0431\u0443\u0434\u0435 ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${i[a.format]??n.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${n.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${n.keys.length>1?"\u0456":""}: ${w(n.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${n.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${n.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function Qf(){return{localeError:Q1()}}var ex=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(n))return"\u0622\u0631\u06D2";if(n===null)return"\u0646\u0644";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return n=>{switch(n.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${n.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(n.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return n.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${A(n.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${w(n.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${a}${n.maximum.toString()} ${o.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${n.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${a}${n.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u06D2 ${a}${n.minimum.toString()} ${o.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${n.origin} \u06A9\u0627 ${a}${n.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${a.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${i[a.format]??n.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${n.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${n.keys.length>1?"\u0632":""}: ${w(n.keys,"\u060C ")}`;case"invalid_key":return`${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${n.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function eg(){return{localeError:ex()}}var tx=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(n))return"m\u1EA3ng";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return n=>{switch(n.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${n.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${A(n.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${o.verb} ${a}${n.maximum.toString()} ${o.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${n.origin??"gi\xE1 tr\u1ECB"} ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${o.verb} ${a}${n.minimum.toString()} ${o.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${a.prefix}"`:a.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${a.suffix}"`:a.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${a.includes}"`:a.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${a.pattern}`:`${i[a.format]??n.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${n.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${w(n.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${n.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function tg(){return{localeError:tx()}}var rx=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(n))return"\u6570\u7EC4";if(n===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return n=>{switch(n.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${n.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${A(n.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${a}${n.maximum.toString()} ${o.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${n.origin??"\u503C"} ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${a}${n.minimum.toString()} ${o.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${n.origin} ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.prefix}" \u5F00\u5934`:a.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.suffix}" \u7ED3\u5C3E`:a.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${a.pattern}`:`\u65E0\u6548${i[a.format]??n.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${n.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${w(n.keys,", ")}`;case"invalid_key":return`${n.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${n.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function rg(){return{localeError:rx()}}var nx=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(n){return t[n]??null}let r=n=>{let a=typeof n;switch(a){case"number":return Number.isNaN(n)?"NaN":"number";case"object":{if(Array.isArray(n))return"array";if(n===null)return"null";if(Object.getPrototypeOf(n)!==Object.prototype&&n.constructor)return n.constructor.name}}return a},i={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return n=>{switch(n.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${n.expected}\uFF0C\u4F46\u6536\u5230 ${r(n.input)}`;case"invalid_value":return n.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${A(n.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${w(n.values,"|")}`;case"too_big":{let a=n.inclusive?"<=":"<",o=e(n.origin);return o?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${a}${n.maximum.toString()} ${o.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${n.origin??"\u503C"} \u61C9\u70BA ${a}${n.maximum.toString()}`}case"too_small":{let a=n.inclusive?">=":">",o=e(n.origin);return o?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${a}${n.minimum.toString()} ${o.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${n.origin} \u61C9\u70BA ${a}${n.minimum.toString()}`}case"invalid_format":{let a=n;return a.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.prefix}" \u958B\u982D`:a.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.suffix}" \u7D50\u5C3E`:a.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${a.pattern}`:`\u7121\u6548\u7684 ${i[a.format]??n.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${n.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${n.keys.length>1?"\u5011":""}\uFF1A${w(n.keys,"\u3001")}`;case"invalid_key":return`${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${n.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function ng(){return{localeError:nx()}}var Ou=Symbol("ZodOutput"),ju=Symbol("ZodInput"),Ur=class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){let i=r[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let i={...this.get(r)??{}};return delete i.id,{...i,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function ma(){return new Ur}var st=ma();function Lu(t,e){return new t({type:"string",...k(e)})}function Bu(t,e){return new t({type:"string",coerce:!0,...k(e)})}function ha(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...k(e)})}function Hn(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...k(e)})}function pa(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...k(e)})}function fa(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...k(e)})}function ga(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...k(e)})}function ya(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...k(e)})}function ba(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...k(e)})}function va(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...k(e)})}function Ta(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...k(e)})}function xa(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...k(e)})}function _a(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...k(e)})}function wa(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...k(e)})}function Sa(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...k(e)})}function Pa(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...k(e)})}function ka(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...k(e)})}function Ia(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...k(e)})}function Aa(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...k(e)})}function Ea(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...k(e)})}function $a(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...k(e)})}function Ra(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...k(e)})}function Ca(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...k(e)})}function Ma(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...k(e)})}var Gu={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Fu(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...k(e)})}function Wu(t,e){return new t({type:"string",format:"date",check:"string_format",...k(e)})}function qu(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...k(e)})}function Zu(t,e){return new t({type:"string",format:"duration",check:"string_format",...k(e)})}function Vu(t,e){return new t({type:"number",checks:[],...k(e)})}function Hu(t,e){return new t({type:"number",coerce:!0,checks:[],...k(e)})}function Ku(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...k(e)})}function Yu(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...k(e)})}function Xu(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...k(e)})}function Ju(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...k(e)})}function Qu(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...k(e)})}function ed(t,e){return new t({type:"boolean",...k(e)})}function td(t,e){return new t({type:"boolean",coerce:!0,...k(e)})}function rd(t,e){return new t({type:"bigint",...k(e)})}function nd(t,e){return new t({type:"bigint",coerce:!0,...k(e)})}function id(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...k(e)})}function ad(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...k(e)})}function od(t,e){return new t({type:"symbol",...k(e)})}function sd(t,e){return new t({type:"undefined",...k(e)})}function ld(t,e){return new t({type:"null",...k(e)})}function cd(t){return new t({type:"any"})}function zr(t){return new t({type:"unknown"})}function ud(t,e){return new t({type:"never",...k(e)})}function dd(t,e){return new t({type:"void",...k(e)})}function md(t,e){return new t({type:"date",...k(e)})}function hd(t,e){return new t({type:"date",coerce:!0,...k(e)})}function pd(t,e){return new t({type:"nan",...k(e)})}function vt(t,e){return new ia({check:"less_than",...k(e),value:t,inclusive:!1})}function Xe(t,e){return new ia({check:"less_than",...k(e),value:t,inclusive:!0})}function Tt(t,e){return new aa({check:"greater_than",...k(e),value:t,inclusive:!1})}function Oe(t,e){return new aa({check:"greater_than",...k(e),value:t,inclusive:!0})}function fd(t){return Tt(0,t)}function gd(t){return vt(0,t)}function yd(t){return Xe(0,t)}function bd(t){return Oe(0,t)}function sr(t,e){return new gc({check:"multiple_of",...k(e),value:t})}function Or(t,e){return new vc({check:"max_size",...k(e),maximum:t})}function lr(t,e){return new Tc({check:"min_size",...k(e),minimum:t})}function Kn(t,e){return new xc({check:"size_equals",...k(e),size:t})}function jr(t,e){return new _c({check:"max_length",...k(e),maximum:t})}function Ut(t,e){return new wc({check:"min_length",...k(e),minimum:t})}function Lr(t,e){return new Sc({check:"length_equals",...k(e),length:t})}function Yn(t,e){return new Pc({check:"string_format",format:"regex",...k(e),pattern:t})}function Xn(t){return new kc({check:"string_format",format:"lowercase",...k(t)})}function Jn(t){return new Ic({check:"string_format",format:"uppercase",...k(t)})}function Qn(t,e){return new Ac({check:"string_format",format:"includes",...k(e),includes:t})}function ei(t,e){return new Ec({check:"string_format",format:"starts_with",...k(e),prefix:t})}function ti(t,e){return new $c({check:"string_format",format:"ends_with",...k(e),suffix:t})}function vd(t,e,r){return new Rc({check:"property",property:t,schema:e,...k(r)})}function ri(t,e){return new Cc({check:"mime_type",mime:t,...k(e)})}function xt(t){return new Mc({check:"overwrite",tx:t})}function ni(t){return xt(e=>e.normalize(t))}function ii(){return xt(t=>t.trim())}function ai(){return xt(t=>t.toLowerCase())}function oi(){return xt(t=>t.toUpperCase())}function si(t,e,r){return new t({type:"array",element:e,...k(r)})}function ix(t,e,r){return new t({type:"union",options:e,...k(r)})}function ax(t,e,r,i){return new t({type:"union",options:r,discriminator:e,...k(i)})}function ox(t,e,r){return new t({type:"intersection",left:e,right:r})}function Td(t,e,r,i){let n=r instanceof N,a=n?i:r,o=n?r:null;return new t({type:"tuple",items:e,rest:o,...k(a)})}function sx(t,e,r,i){return new t({type:"record",keyType:e,valueType:r,...k(i)})}function lx(t,e,r,i){return new t({type:"map",keyType:e,valueType:r,...k(i)})}function cx(t,e,r){return new t({type:"set",valueType:e,...k(r)})}function ux(t,e,r){let i=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new t({type:"enum",entries:i,...k(r)})}function dx(t,e,r){return new t({type:"enum",entries:e,...k(r)})}function mx(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...k(r)})}function xd(t,e){return new t({type:"file",...k(e)})}function hx(t,e){return new t({type:"transform",transform:e})}function px(t,e){return new t({type:"optional",innerType:e})}function fx(t,e){return new t({type:"nullable",innerType:e})}function gx(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():r}})}function yx(t,e,r){return new t({type:"nonoptional",innerType:e,...k(r)})}function bx(t,e){return new t({type:"success",innerType:e})}function vx(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function Tx(t,e,r){return new t({type:"pipe",in:e,out:r})}function xx(t,e){return new t({type:"readonly",innerType:e})}function _x(t,e,r){return new t({type:"template_literal",parts:e,...k(r)})}function wx(t,e){return new t({type:"lazy",getter:e})}function Sx(t,e){return new t({type:"promise",innerType:e})}function _d(t,e,r){let i=k(r);return i.abort??(i.abort=!0),new t({type:"custom",check:"custom",fn:e,...i})}function wd(t,e,r){return new t({type:"custom",check:"custom",fn:e,...k(r)})}function Sd(t,e){let r=k(e),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(i=i.map(p=>typeof p=="string"?p.toLowerCase():p),n=n.map(p=>typeof p=="string"?p.toLowerCase():p));let a=new Set(i),o=new Set(n),s=t.Pipe??Zn,l=t.Boolean??Fn,d=t.String??ar,u=t.Transform??qn,m=new u({type:"transform",transform:(p,T)=>{let x=p;return r.case!=="sensitive"&&(x=x.toLowerCase()),a.has(x)?!0:o.has(x)?!1:(T.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:T.value,inst:m}),{})},error:r.error}),h=new s({type:"pipe",in:new d({type:"string",error:r.error}),out:m,error:r.error});return new s({type:"pipe",in:h,out:new l({type:"boolean",error:r.error}),error:r.error})}function Pd(t,e,r,i={}){let n=k(i),a={...k(i),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:s=>r.test(s),...n};return r instanceof RegExp&&(a.pattern=r),new t(a)}var Da=class{constructor(e){this._def=e,this.def=e}implement(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let r=(...i)=>{let n=this._def.input?Ji(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(n))throw new Error("Invalid arguments schema: not an array or tuple schema.");let a=e(...n);return this._def.output?Ji(this._def.output,a,void 0,{callee:r}):a};return r}implementAsync(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let r=async(...i)=>{let n=this._def.input?await ea(this._def.input,i,void 0,{callee:r}):i;if(!Array.isArray(n))throw new Error("Invalid arguments schema: not an array or tuple schema.");let a=await e(...n);return this._def.output?ea(this._def.output,a,void 0,{callee:r}):a};return r}input(...e){let r=this.constructor;return Array.isArray(e[0])?new r({type:"function",input:new or({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}):new r({type:"function",input:e[0],output:this._def.output})}output(e){let r=this.constructor;return new r({type:"function",input:this._def.input,output:e})}};function kd(t){return new Da({type:"function",input:Array.isArray(t?.input)?Td(or,t?.input):t?.input??si(Wn,zr(Nr)),output:t?.output??zr(Nr)})}var li=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??st,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,r={path:[],schemaPath:[]}){var i;let n=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,r.schemaPath.includes(e)&&(o.cycle=r.path),o.schema;let s={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,s);let l=e._zod.toJSONSchema?.();if(l)s.schema=l;else{let m={...r,schemaPath:[...r.schemaPath,e],path:r.path},h=e._zod.parent;if(h)s.ref=h,this.process(h,m),this.seen.get(h).isParent=!0;else{let f=s.schema;switch(n.type){case"string":{let p=f;p.type="string";let{minimum:T,maximum:x,format:$,patterns:I,contentEncoding:v}=e._zod.bag;if(typeof T=="number"&&(p.minLength=T),typeof x=="number"&&(p.maxLength=x),$&&(p.format=a[$]??$,p.format===""&&delete p.format),v&&(p.contentEncoding=v),I&&I.size>0){let S=[...I];S.length===1?p.pattern=S[0].source:S.length>1&&(s.schema.allOf=[...S.map(z=>({...this.target==="draft-7"?{type:"string"}:{},pattern:z.source}))])}break}case"number":{let p=f,{minimum:T,maximum:x,format:$,multipleOf:I,exclusiveMaximum:v,exclusiveMinimum:S}=e._zod.bag;typeof $=="string"&&$.includes("int")?p.type="integer":p.type="number",typeof S=="number"&&(p.exclusiveMinimum=S),typeof T=="number"&&(p.minimum=T,typeof S=="number"&&(S>=T?delete p.minimum:delete p.exclusiveMinimum)),typeof v=="number"&&(p.exclusiveMaximum=v),typeof x=="number"&&(p.maximum=x,typeof v=="number"&&(v<=x?delete p.maximum:delete p.exclusiveMaximum)),typeof I=="number"&&(p.multipleOf=I);break}case"boolean":{let p=f;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{f.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{f.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let p=f,{minimum:T,maximum:x}=e._zod.bag;typeof T=="number"&&(p.minItems=T),typeof x=="number"&&(p.maxItems=x),p.type="array",p.items=this.process(n.element,{...m,path:[...m.path,"items"]});break}case"object":{let p=f;p.type="object",p.properties={};let T=n.shape;for(let I in T)p.properties[I]=this.process(T[I],{...m,path:[...m.path,"properties",I]});let x=new Set(Object.keys(T)),$=new Set([...x].filter(I=>{let v=n.shape[I]._zod;return this.io==="input"?v.optin===void 0:v.optout===void 0}));$.size>0&&(p.required=Array.from($)),n.catchall?._zod.def.type==="never"?p.additionalProperties=!1:n.catchall?n.catchall&&(p.additionalProperties=this.process(n.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{let p=f;p.anyOf=n.options.map((T,x)=>this.process(T,{...m,path:[...m.path,"anyOf",x]}));break}case"intersection":{let p=f,T=this.process(n.left,{...m,path:[...m.path,"allOf",0]}),x=this.process(n.right,{...m,path:[...m.path,"allOf",1]}),$=v=>"allOf"in v&&Object.keys(v).length===1,I=[...$(T)?T.allOf:[T],...$(x)?x.allOf:[x]];p.allOf=I;break}case"tuple":{let p=f;p.type="array";let T=n.items.map((I,v)=>this.process(I,{...m,path:[...m.path,"prefixItems",v]}));if(this.target==="draft-2020-12"?p.prefixItems=T:p.items=T,n.rest){let I=this.process(n.rest,{...m,path:[...m.path,"items"]});this.target==="draft-2020-12"?p.items=I:p.additionalItems=I}n.rest&&(p.items=this.process(n.rest,{...m,path:[...m.path,"items"]}));let{minimum:x,maximum:$}=e._zod.bag;typeof x=="number"&&(p.minItems=x),typeof $=="number"&&(p.maxItems=$);break}case"record":{let p=f;p.type="object",p.propertyNames=this.process(n.keyType,{...m,path:[...m.path,"propertyNames"]}),p.additionalProperties=this.process(n.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let p=f,T=Mn(n.entries);T.every(x=>typeof x=="number")&&(p.type="number"),T.every(x=>typeof x=="string")&&(p.type="string"),p.enum=T;break}case"literal":{let p=f,T=[];for(let x of n.values)if(x===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof x=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");T.push(Number(x))}else T.push(x);if(T.length!==0)if(T.length===1){let x=T[0];p.type=x===null?"null":typeof x,p.const=x}else T.every(x=>typeof x=="number")&&(p.type="number"),T.every(x=>typeof x=="string")&&(p.type="string"),T.every(x=>typeof x=="boolean")&&(p.type="string"),T.every(x=>x===null)&&(p.type="null"),p.enum=T;break}case"file":{let p=f,T={type:"string",format:"binary",contentEncoding:"binary"},{minimum:x,maximum:$,mime:I}=e._zod.bag;x!==void 0&&(T.minLength=x),$!==void 0&&(T.maxLength=$),I?I.length===1?(T.contentMediaType=I[0],Object.assign(p,T)):p.anyOf=I.map(v=>({...T,contentMediaType:v})):Object.assign(p,T);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let p=this.process(n.innerType,m);f.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(n.innerType,m),s.ref=n.innerType;break}case"success":{let p=f;p.type="boolean";break}case"default":{this.process(n.innerType,m),s.ref=n.innerType,f.default=JSON.parse(JSON.stringify(n.defaultValue));break}case"prefault":{this.process(n.innerType,m),s.ref=n.innerType,this.io==="input"&&(f._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break}case"catch":{this.process(n.innerType,m),s.ref=n.innerType;let p;try{p=n.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}f.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let p=f,T=e._zod.pattern;if(!T)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=T.source;break}case"pipe":{let p=this.io==="input"?n.in._zod.def.type==="transform"?n.out:n.in:n.out;this.process(p,m),s.ref=p;break}case"readonly":{this.process(n.innerType,m),s.ref=n.innerType,f.readOnly=!0;break}case"promise":{this.process(n.innerType,m),s.ref=n.innerType;break}case"optional":{this.process(n.innerType,m),s.ref=n.innerType;break}case"lazy":{let p=e._zod.innerType;this.process(p,m),s.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}default:}}}let d=this.metadataRegistry.get(e);return d&&Object.assign(s.schema,d),this.io==="input"&&ve(e)&&(delete s.schema.examples,delete s.schema.default),this.io==="input"&&s.schema._prefault&&((i=s.schema).default??(i.default=s.schema._prefault)),delete s.schema._prefault,this.seen.get(e).schema}emit(e,r){let i={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},n=this.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");let a=u=>{let m=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){let T=i.external.registry.get(u[0])?.id,x=i.external.uri??(I=>I);if(T)return{ref:x(T)};let $=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=$,{defId:$,ref:`${x("__shared")}#/${m}/${$}`}}if(u[1]===n)return{ref:"#"};let f=`#/${m}/`,p=u[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:f+p}},o=u=>{if(u[1].schema.$ref)return;let m=u[1],{ref:h,defId:f}=a(u);m.def={...m.schema},f&&(m.defId=f);let p=m.schema;for(let T in p)delete p[T];p.$ref=h};if(i.cycles==="throw")for(let u of this.seen.entries()){let m=u[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let u of this.seen.entries()){let m=u[1];if(e===u[0]){o(u);continue}if(i.external){let f=i.external.registry.get(u[0])?.id;if(e!==u[0]&&f){o(u);continue}}if(this.metadataRegistry.get(u[0])?.id){o(u);continue}if(m.cycle){o(u);continue}if(m.count>1&&i.reused==="ref"){o(u);continue}}let s=(u,m)=>{let h=this.seen.get(u),f=h.def??h.schema,p={...f};if(h.ref===null)return;let T=h.ref;if(h.ref=null,T){s(T,m);let x=this.seen.get(T).schema;x.$ref&&m.target==="draft-7"?(f.allOf=f.allOf??[],f.allOf.push(x)):(Object.assign(f,x),Object.assign(f,p))}h.isParent||this.override({zodSchema:u,jsonSchema:f,path:h.path??[]})};for(let u of[...this.seen.entries()].reverse())s(u[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),i.external?.uri){let u=i.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");l.$id=i.external.uri(u)}Object.assign(l,n.def);let d=i.external?.defs??{};for(let u of this.seen.entries()){let m=u[1];m.def&&m.defId&&(d[m.defId]=m.def)}i.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function Id(t,e){if(t instanceof Ur){let i=new li(e),n={};for(let s of t._idmap.entries()){let[l,d]=s;i.process(d)}let a={},o={registry:t,uri:e?.uri,defs:n};for(let s of t._idmap.entries()){let[l,d]=s;a[l]=i.emit(d,{...e,external:o})}if(Object.keys(n).length>0){let s=i.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[s]:n}}return{schemas:a}}let r=new li(e);return r.process(t),r.emit(t,e)}function ve(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let n=t._zod.def;switch(n.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return ve(n.element,r);case"object":{for(let a in n.shape)if(ve(n.shape[a],r))return!0;return!1}case"union":{for(let a of n.options)if(ve(a,r))return!0;return!1}case"intersection":return ve(n.left,r)||ve(n.right,r);case"tuple":{for(let a of n.items)if(ve(a,r))return!0;return!!(n.rest&&ve(n.rest,r))}case"record":return ve(n.keyType,r)||ve(n.valueType,r);case"map":return ve(n.keyType,r)||ve(n.valueType,r);case"set":return ve(n.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return ve(n.innerType,r);case"lazy":return ve(n.getter(),r);case"default":return ve(n.innerType,r);case"prefault":return ve(n.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return ve(n.in,r)||ve(n.out,r);case"success":return!1;case"catch":return!1;default:}throw new Error(`Unknown schema type: ${n.type}`)}var ig={};var ja={};Ct(ja,{ZodISODate:()=>Ua,ZodISODateTime:()=>Na,ZodISODuration:()=>Oa,ZodISOTime:()=>za,date:()=>Ed,datetime:()=>Ad,duration:()=>Rd,time:()=>$d});var Na=b("ZodISODateTime",(t,e)=>{Vc.init(t,e),te.init(t,e)});function Ad(t){return Fu(Na,t)}var Ua=b("ZodISODate",(t,e)=>{Hc.init(t,e),te.init(t,e)});function Ed(t){return Wu(Ua,t)}var za=b("ZodISOTime",(t,e)=>{Kc.init(t,e),te.init(t,e)});function $d(t){return qu(za,t)}var Oa=b("ZodISODuration",(t,e)=>{Yc.init(t,e),te.init(t,e)});function Rd(t){return Zu(Oa,t)}var og=(t,e)=>{jn.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Bn(t,r)},flatten:{value:r=>Ln(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},kx=b("ZodError",og),Br=b("ZodError",og,{Parent:Error});var Cd=Xi(Br),Md=Qi(Br),Dd=ta(Br),Nd=ra(Br);var j=b("ZodType",(t,e)=>(N.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(r,i)=>Fe(t,r,i),t.brand=()=>t,t.register=(r,i)=>(r.add(t,i),t),t.parse=(r,i)=>Cd(t,r,i,{callee:t.parse}),t.safeParse=(r,i)=>Dd(t,r,i),t.parseAsync=async(r,i)=>Md(t,r,i,{callee:t.parseAsync}),t.safeParseAsync=async(r,i)=>Nd(t,r,i),t.spa=t.safeParseAsync,t.refine=(r,i)=>t.check(Vg(r,i)),t.superRefine=r=>t.check(Hg(r)),t.overwrite=r=>t.check(xt(r)),t.optional=()=>Ga(t),t.nullable=()=>Fa(t),t.nullish=()=>Ga(Fa(t)),t.nonoptional=r=>Ng(t,r),t.array=()=>nm(t),t.or=r=>Ha([t,r]),t.and=r=>xg(t,r),t.transform=r=>Wa(t,sm(r)),t.default=r=>Cg(t,r),t.prefault=r=>Dg(t,r),t.catch=r=>Og(t,r),t.pipe=r=>Wa(t,r),t.readonly=()=>Bg(t),t.describe=r=>{let i=t.clone();return st.add(i,{description:r}),i},Object.defineProperty(t,"description",{get(){return st.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return st.get(t);let i=t.clone();return st.add(i,r[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Od=b("_ZodString",(t,e)=>{ar.init(t,e),j.init(t,e);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...i)=>t.check(Yn(...i)),t.includes=(...i)=>t.check(Qn(...i)),t.startsWith=(...i)=>t.check(ei(...i)),t.endsWith=(...i)=>t.check(ti(...i)),t.min=(...i)=>t.check(Ut(...i)),t.max=(...i)=>t.check(jr(...i)),t.length=(...i)=>t.check(Lr(...i)),t.nonempty=(...i)=>t.check(Ut(1,...i)),t.lowercase=i=>t.check(Xn(i)),t.uppercase=i=>t.check(Jn(i)),t.trim=()=>t.check(ii()),t.normalize=(...i)=>t.check(ni(...i)),t.toLowerCase=()=>t.check(ai()),t.toUpperCase=()=>t.check(oi())}),ui=b("ZodString",(t,e)=>{ar.init(t,e),Od.init(t,e),t.email=r=>t.check(ha(jd,r)),t.url=r=>t.check(ba(Ld,r)),t.jwt=r=>t.check(Ma(tm,r)),t.emoji=r=>t.check(va(Bd,r)),t.guid=r=>t.check(Hn(La,r)),t.uuid=r=>t.check(pa(wt,r)),t.uuidv4=r=>t.check(fa(wt,r)),t.uuidv6=r=>t.check(ga(wt,r)),t.uuidv7=r=>t.check(ya(wt,r)),t.nanoid=r=>t.check(Ta(Gd,r)),t.guid=r=>t.check(Hn(La,r)),t.cuid=r=>t.check(xa(Fd,r)),t.cuid2=r=>t.check(_a(Wd,r)),t.ulid=r=>t.check(wa(qd,r)),t.base64=r=>t.check($a(Jd,r)),t.base64url=r=>t.check(Ra(Qd,r)),t.xid=r=>t.check(Sa(Zd,r)),t.ksuid=r=>t.check(Pa(Vd,r)),t.ipv4=r=>t.check(ka(Hd,r)),t.ipv6=r=>t.check(Ia(Kd,r)),t.cidrv4=r=>t.check(Aa(Yd,r)),t.cidrv6=r=>t.check(Ea(Xd,r)),t.e164=r=>t.check(Ca(em,r)),t.datetime=r=>t.check(Ad(r)),t.date=r=>t.check(Ed(r)),t.time=r=>t.check($d(r)),t.duration=r=>t.check(Rd(r))});function Ud(t){return Lu(ui,t)}var te=b("ZodStringFormat",(t,e)=>{J.init(t,e),Od.init(t,e)}),jd=b("ZodEmail",(t,e)=>{Oc.init(t,e),te.init(t,e)});function Ax(t){return ha(jd,t)}var La=b("ZodGUID",(t,e)=>{Uc.init(t,e),te.init(t,e)});function Ex(t){return Hn(La,t)}var wt=b("ZodUUID",(t,e)=>{zc.init(t,e),te.init(t,e)});function $x(t){return pa(wt,t)}function Rx(t){return fa(wt,t)}function Cx(t){return ga(wt,t)}function Mx(t){return ya(wt,t)}var Ld=b("ZodURL",(t,e)=>{jc.init(t,e),te.init(t,e)});function Dx(t){return ba(Ld,t)}var Bd=b("ZodEmoji",(t,e)=>{Lc.init(t,e),te.init(t,e)});function Nx(t){return va(Bd,t)}var Gd=b("ZodNanoID",(t,e)=>{Bc.init(t,e),te.init(t,e)});function Ux(t){return Ta(Gd,t)}var Fd=b("ZodCUID",(t,e)=>{Gc.init(t,e),te.init(t,e)});function zx(t){return xa(Fd,t)}var Wd=b("ZodCUID2",(t,e)=>{Fc.init(t,e),te.init(t,e)});function Ox(t){return _a(Wd,t)}var qd=b("ZodULID",(t,e)=>{Wc.init(t,e),te.init(t,e)});function jx(t){return wa(qd,t)}var Zd=b("ZodXID",(t,e)=>{qc.init(t,e),te.init(t,e)});function Lx(t){return Sa(Zd,t)}var Vd=b("ZodKSUID",(t,e)=>{Zc.init(t,e),te.init(t,e)});function Bx(t){return Pa(Vd,t)}var Hd=b("ZodIPv4",(t,e)=>{Xc.init(t,e),te.init(t,e)});function Gx(t){return ka(Hd,t)}var Kd=b("ZodIPv6",(t,e)=>{Jc.init(t,e),te.init(t,e)});function Fx(t){return Ia(Kd,t)}var Yd=b("ZodCIDRv4",(t,e)=>{Qc.init(t,e),te.init(t,e)});function Wx(t){return Aa(Yd,t)}var Xd=b("ZodCIDRv6",(t,e)=>{eu.init(t,e),te.init(t,e)});function qx(t){return Ea(Xd,t)}var Jd=b("ZodBase64",(t,e)=>{ru.init(t,e),te.init(t,e)});function Zx(t){return $a(Jd,t)}var Qd=b("ZodBase64URL",(t,e)=>{nu.init(t,e),te.init(t,e)});function Vx(t){return Ra(Qd,t)}var em=b("ZodE164",(t,e)=>{iu.init(t,e),te.init(t,e)});function Hx(t){return Ca(em,t)}var tm=b("ZodJWT",(t,e)=>{au.init(t,e),te.init(t,e)});function Kx(t){return Ma(tm,t)}var sg=b("ZodCustomStringFormat",(t,e)=>{ou.init(t,e),te.init(t,e)});function Yx(t,e,r={}){return Pd(sg,t,e,r)}var di=b("ZodNumber",(t,e)=>{la.init(t,e),j.init(t,e),t.gt=(i,n)=>t.check(Tt(i,n)),t.gte=(i,n)=>t.check(Oe(i,n)),t.min=(i,n)=>t.check(Oe(i,n)),t.lt=(i,n)=>t.check(vt(i,n)),t.lte=(i,n)=>t.check(Xe(i,n)),t.max=(i,n)=>t.check(Xe(i,n)),t.int=i=>t.check(zd(i)),t.safe=i=>t.check(zd(i)),t.positive=i=>t.check(Tt(0,i)),t.nonnegative=i=>t.check(Oe(0,i)),t.negative=i=>t.check(vt(0,i)),t.nonpositive=i=>t.check(Xe(0,i)),t.multipleOf=(i,n)=>t.check(sr(i,n)),t.step=(i,n)=>t.check(sr(i,n)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function lg(t){return Vu(di,t)}var Gr=b("ZodNumberFormat",(t,e)=>{su.init(t,e),di.init(t,e)});function zd(t){return Ku(Gr,t)}function Xx(t){return Yu(Gr,t)}function Jx(t){return Xu(Gr,t)}function Qx(t){return Ju(Gr,t)}function e_(t){return Qu(Gr,t)}var mi=b("ZodBoolean",(t,e)=>{Fn.init(t,e),j.init(t,e)});function cg(t){return ed(mi,t)}var hi=b("ZodBigInt",(t,e)=>{ca.init(t,e),j.init(t,e),t.gte=(i,n)=>t.check(Oe(i,n)),t.min=(i,n)=>t.check(Oe(i,n)),t.gt=(i,n)=>t.check(Tt(i,n)),t.gte=(i,n)=>t.check(Oe(i,n)),t.min=(i,n)=>t.check(Oe(i,n)),t.lt=(i,n)=>t.check(vt(i,n)),t.lte=(i,n)=>t.check(Xe(i,n)),t.max=(i,n)=>t.check(Xe(i,n)),t.positive=i=>t.check(Tt(BigInt(0),i)),t.negative=i=>t.check(vt(BigInt(0),i)),t.nonpositive=i=>t.check(Xe(BigInt(0),i)),t.nonnegative=i=>t.check(Oe(BigInt(0),i)),t.multipleOf=(i,n)=>t.check(sr(i,n));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});function t_(t){return rd(hi,t)}var rm=b("ZodBigIntFormat",(t,e)=>{lu.init(t,e),hi.init(t,e)});function r_(t){return id(rm,t)}function n_(t){return ad(rm,t)}var ug=b("ZodSymbol",(t,e)=>{cu.init(t,e),j.init(t,e)});function i_(t){return od(ug,t)}var dg=b("ZodUndefined",(t,e)=>{uu.init(t,e),j.init(t,e)});function a_(t){return sd(dg,t)}var mg=b("ZodNull",(t,e)=>{du.init(t,e),j.init(t,e)});function hg(t){return ld(mg,t)}var pg=b("ZodAny",(t,e)=>{mu.init(t,e),j.init(t,e)});function o_(){return cd(pg)}var fg=b("ZodUnknown",(t,e)=>{Nr.init(t,e),j.init(t,e)});function Ba(){return zr(fg)}var gg=b("ZodNever",(t,e)=>{hu.init(t,e),j.init(t,e)});function qa(t){return ud(gg,t)}var yg=b("ZodVoid",(t,e)=>{pu.init(t,e),j.init(t,e)});function s_(t){return dd(yg,t)}var Za=b("ZodDate",(t,e)=>{fu.init(t,e),j.init(t,e),t.min=(i,n)=>t.check(Oe(i,n)),t.max=(i,n)=>t.check(Xe(i,n));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function l_(t){return md(Za,t)}var bg=b("ZodArray",(t,e)=>{Wn.init(t,e),j.init(t,e),t.element=e.element,t.min=(r,i)=>t.check(Ut(r,i)),t.nonempty=r=>t.check(Ut(1,r)),t.max=(r,i)=>t.check(jr(r,i)),t.length=(r,i)=>t.check(Lr(r,i)),t.unwrap=()=>t.element});function nm(t,e){return si(bg,t,e)}function c_(t){let e=t._zod.def.shape;return Ag(Object.keys(e))}var Va=b("ZodObject",(t,e)=>{gu.init(t,e),j.init(t,e),E.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>kg(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Ba()}),t.loose=()=>t.clone({...t._zod.def,catchall:Ba()}),t.strict=()=>t.clone({...t._zod.def,catchall:qa()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>E.extend(t,r),t.merge=r=>E.merge(t,r),t.pick=r=>E.pick(t,r),t.omit=r=>E.omit(t,r),t.partial=(...r)=>E.partial(lm,t,r[0]),t.required=(...r)=>E.required(cm,t,r[0])});function u_(t,e){let r={type:"object",get shape(){return E.assignProp(this,"shape",{...t}),this.shape},...E.normalizeParams(e)};return new Va(r)}function d_(t,e){return new Va({type:"object",get shape(){return E.assignProp(this,"shape",{...t}),this.shape},catchall:qa(),...E.normalizeParams(e)})}function m_(t,e){return new Va({type:"object",get shape(){return E.assignProp(this,"shape",{...t}),this.shape},catchall:Ba(),...E.normalizeParams(e)})}var im=b("ZodUnion",(t,e)=>{ua.init(t,e),j.init(t,e),t.options=e.options});function Ha(t,e){return new im({type:"union",options:t,...E.normalizeParams(e)})}var vg=b("ZodDiscriminatedUnion",(t,e)=>{im.init(t,e),yu.init(t,e)});function h_(t,e,r){return new vg({type:"union",options:e,discriminator:t,...E.normalizeParams(r)})}var Tg=b("ZodIntersection",(t,e)=>{bu.init(t,e),j.init(t,e)});function xg(t,e){return new Tg({type:"intersection",left:t,right:e})}var _g=b("ZodTuple",(t,e)=>{or.init(t,e),j.init(t,e),t.rest=r=>t.clone({...t._zod.def,rest:r})});function p_(t,e,r){let i=e instanceof N,n=i?r:e,a=i?e:null;return new _g({type:"tuple",items:t,rest:a,...E.normalizeParams(n)})}var am=b("ZodRecord",(t,e)=>{vu.init(t,e),j.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function wg(t,e,r){return new am({type:"record",keyType:t,valueType:e,...E.normalizeParams(r)})}function f_(t,e,r){return new am({type:"record",keyType:Ha([t,qa()]),valueType:e,...E.normalizeParams(r)})}var Sg=b("ZodMap",(t,e)=>{Tu.init(t,e),j.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function g_(t,e,r){return new Sg({type:"map",keyType:t,valueType:e,...E.normalizeParams(r)})}var Pg=b("ZodSet",(t,e)=>{xu.init(t,e),j.init(t,e),t.min=(...r)=>t.check(lr(...r)),t.nonempty=r=>t.check(lr(1,r)),t.max=(...r)=>t.check(Or(...r)),t.size=(...r)=>t.check(Kn(...r))});function y_(t,e){return new Pg({type:"set",valueType:t,...E.normalizeParams(e)})}var ci=b("ZodEnum",(t,e)=>{_u.init(t,e),j.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(i,n)=>{let a={};for(let o of i)if(r.has(o))a[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new ci({...e,checks:[],...E.normalizeParams(n),entries:a})},t.exclude=(i,n)=>{let a={...e.entries};for(let o of i)if(r.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new ci({...e,checks:[],...E.normalizeParams(n),entries:a})}});function kg(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new ci({type:"enum",entries:r,...E.normalizeParams(e)})}function b_(t,e){return new ci({type:"enum",entries:t,...E.normalizeParams(e)})}var Ig=b("ZodLiteral",(t,e)=>{wu.init(t,e),j.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Ag(t,e){return new Ig({type:"literal",values:Array.isArray(t)?t:[t],...E.normalizeParams(e)})}var Eg=b("ZodFile",(t,e)=>{Su.init(t,e),j.init(t,e),t.min=(r,i)=>t.check(lr(r,i)),t.max=(r,i)=>t.check(Or(r,i)),t.mime=(r,i)=>t.check(ri(Array.isArray(r)?r:[r],i))});function v_(t){return xd(Eg,t)}var om=b("ZodTransform",(t,e)=>{qn.init(t,e),j.init(t,e),t._zod.parse=(r,i)=>{r.addIssue=a=>{if(typeof a=="string")r.issues.push(E.issue(a,r.value,e));else{let o=a;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!0),r.issues.push(E.issue(o))}};let n=e.transform(r.value,r);return n instanceof Promise?n.then(a=>(r.value=a,r)):(r.value=n,r)}});function sm(t){return new om({type:"transform",transform:t})}var lm=b("ZodOptional",(t,e)=>{Pu.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ga(t){return new lm({type:"optional",innerType:t})}var $g=b("ZodNullable",(t,e)=>{ku.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Fa(t){return new $g({type:"nullable",innerType:t})}function T_(t){return Ga(Fa(t))}var Rg=b("ZodDefault",(t,e)=>{Iu.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Cg(t,e){return new Rg({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var Mg=b("ZodPrefault",(t,e)=>{Au.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Dg(t,e){return new Mg({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var cm=b("ZodNonOptional",(t,e)=>{Eu.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ng(t,e){return new cm({type:"nonoptional",innerType:t,...E.normalizeParams(e)})}var Ug=b("ZodSuccess",(t,e)=>{$u.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType});function x_(t){return new Ug({type:"success",innerType:t})}var zg=b("ZodCatch",(t,e)=>{Ru.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Og(t,e){return new zg({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var jg=b("ZodNaN",(t,e)=>{Cu.init(t,e),j.init(t,e)});function __(t){return pd(jg,t)}var um=b("ZodPipe",(t,e)=>{Zn.init(t,e),j.init(t,e),t.in=e.in,t.out=e.out});function Wa(t,e){return new um({type:"pipe",in:t,out:e})}var Lg=b("ZodReadonly",(t,e)=>{Mu.init(t,e),j.init(t,e)});function Bg(t){return new Lg({type:"readonly",innerType:t})}var Gg=b("ZodTemplateLiteral",(t,e)=>{Du.init(t,e),j.init(t,e)});function w_(t,e){return new Gg({type:"template_literal",parts:t,...E.normalizeParams(e)})}var Fg=b("ZodLazy",(t,e)=>{Uu.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.getter()});function Wg(t){return new Fg({type:"lazy",getter:t})}var qg=b("ZodPromise",(t,e)=>{Nu.init(t,e),j.init(t,e),t.unwrap=()=>t._zod.def.innerType});function S_(t){return new qg({type:"promise",innerType:t})}var Ka=b("ZodCustom",(t,e)=>{zu.init(t,e),j.init(t,e)});function Zg(t){let e=new le({check:"custom"});return e._zod.check=t,e}function P_(t,e){return _d(Ka,t??(()=>!0),e)}function Vg(t,e={}){return wd(Ka,t,e)}function Hg(t){let e=Zg(r=>(r.addIssue=i=>{if(typeof i=="string")r.issues.push(E.issue(i,r.value,e._zod.def));else{let n=i;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!e._zod.def.abort),r.issues.push(E.issue(n))}},t(r.value,r)));return e}function k_(t,e={error:`Input not instance of ${t.name}`}){let r=new Ka({type:"custom",check:"custom",fn:i=>i instanceof t,abort:!0,...E.normalizeParams(e)});return r._zod.bag.Class=t,r}var I_=(...t)=>Sd({Pipe:um,Boolean:mi,String:ui,Transform:om},...t);function A_(t){let e=Wg(()=>Ha([Ud(t),lg(),cg(),hg(),nm(e),wg(Ud(),e)]));return e}function E_(t,e){return Wa(sm(t),e)}var $_={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function R_(t){fe({customError:t})}function C_(){return fe().customError}var dm;dm||(dm={});var mm={};Ct(mm,{bigint:()=>U_,boolean:()=>N_,date:()=>z_,number:()=>D_,string:()=>M_});function M_(t){return Bu(ui,t)}function D_(t){return Hu(di,t)}function N_(t){return td(mi,t)}function U_(t){return nd(hi,t)}function z_(t){return hd(Za,t)}fe(da());var O_={grad:.9,turn:360,rad:360/(2*Math.PI)},St=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},_e=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Je=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},r0=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Kg=function(t){return{r:Je(t.r,0,255),g:Je(t.g,0,255),b:Je(t.b,0,255),a:Je(t.a)}},hm=function(t){return{r:_e(t.r),g:_e(t.g),b:_e(t.b),a:_e(t.a,3)}},j_=/^#([0-9a-f]{3,8})$/i,Ya=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},n0=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,a=Math.max(e,r,i),o=a-Math.min(e,r,i),s=o?a===e?(r-i)/o:a===r?2+(i-e)/o:4+(e-r)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:n}},i0=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var a=Math.floor(e),o=i*(1-r),s=i*(1-(e-a)*r),l=i*(1-(1-e+a)*r),d=a%6;return{r:255*[i,s,o,o,l,i][d],g:255*[l,i,i,s,o,o][d],b:255*[o,o,l,i,i,s][d],a:n}},Yg=function(t){return{h:r0(t.h),s:Je(t.s,0,100),l:Je(t.l,0,100),a:Je(t.a)}},Xg=function(t){return{h:_e(t.h),s:_e(t.s),l:_e(t.l),a:_e(t.a,3)}},Jg=function(t){return i0((r=(e=t).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},pi=function(t){return{h:(e=n0(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,r,i,n},L_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,B_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,G_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,F_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gm={string:[[function(t){var e=j_.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?_e(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?_e(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=G_.exec(t)||F_.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Kg({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=L_.exec(t)||B_.exec(t);if(!e)return null;var r,i,n=Yg({h:(r=e[1],i=e[2],i===void 0&&(i="deg"),Number(r)*(O_[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Jg(n)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,i=t.b,n=t.a,a=n===void 0?1:n;return St(e)&&St(r)&&St(i)?Kg({r:Number(e),g:Number(r),b:Number(i),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,i=t.l,n=t.a,a=n===void 0?1:n;if(!St(e)||!St(r)||!St(i))return null;var o=Yg({h:Number(e),s:Number(r),l:Number(i),a:Number(a)});return Jg(o)},"hsl"],[function(t){var e=t.h,r=t.s,i=t.v,n=t.a,a=n===void 0?1:n;if(!St(e)||!St(r)||!St(i))return null;var o=function(s){return{h:r0(s.h),s:Je(s.s,0,100),v:Je(s.v,0,100),a:Je(s.a)}}({h:Number(e),s:Number(r),v:Number(i),a:Number(a)});return i0(o)},"hsv"]]},Qg=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},W_=function(t){return typeof t=="string"?Qg(t.trim(),gm.string):typeof t=="object"&&t!==null?Qg(t,gm.object):[null,void 0]};var pm=function(t,e){var r=pi(t);return{h:r.h,s:Je(r.s+100*e,0,100),l:r.l,a:r.a}},fm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},e0=function(t,e){var r=pi(t);return{h:r.h,s:r.s,l:Je(r.l+100*e,0,100),a:r.a}},ym=function(){function t(e){this.parsed=W_(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return _e(fm(this.rgba),2)},t.prototype.isDark=function(){return fm(this.rgba)<.5},t.prototype.isLight=function(){return fm(this.rgba)>=.5},t.prototype.toHex=function(){return e=hm(this.rgba),r=e.r,i=e.g,n=e.b,o=(a=e.a)<1?Ya(_e(255*a)):"","#"+Ya(r)+Ya(i)+Ya(n)+o;var e,r,i,n,a,o},t.prototype.toRgb=function(){return hm(this.rgba)},t.prototype.toRgbString=function(){return e=hm(this.rgba),r=e.r,i=e.g,n=e.b,(a=e.a)<1?"rgba("+r+", "+i+", "+n+", "+a+")":"rgb("+r+", "+i+", "+n+")";var e,r,i,n,a},t.prototype.toHsl=function(){return Xg(pi(this.rgba))},t.prototype.toHslString=function(){return e=Xg(pi(this.rgba)),r=e.h,i=e.s,n=e.l,(a=e.a)<1?"hsla("+r+", "+i+"%, "+n+"%, "+a+")":"hsl("+r+", "+i+"%, "+n+"%)";var e,r,i,n,a},t.prototype.toHsv=function(){return e=n0(this.rgba),{h:_e(e.h),s:_e(e.s),v:_e(e.v),a:_e(e.a,3)};var e},t.prototype.invert=function(){return c({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),c(pm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),c(pm(this.rgba,-e))},t.prototype.grayscale=function(){return c(pm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),c(e0(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),c(e0(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?c({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):_e(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=pi(this.rgba);return typeof e=="number"?c({h:e,s:r.s,l:r.l,a:r.a}):_e(r.h)},t.prototype.isEqual=function(e){return this.toHex()===c(e).toHex()},t}(),c=function(t){return t instanceof ym?t:new ym(t)},t0=[],Fr=function(t){t.forEach(function(e){t0.indexOf(e)<0&&(e(ym,gm),t0.push(e))})};var x0=ul(T0(),1),Ja=class Ja{constructor(e){this.rng=(0,x0.default)(String(e))}next(){return this.rng()}nextInt(e,r){return Math.floor(this.rng()*(r-e))+e}nextFloat(e,r){return this.rng()*(r-e)+e}nextID(){return Math.floor(this.rng()*Ja.POW36_8).toString(36).padStart(8,"0")}randElement(e){if(e.length===0)throw new Error("array must not be empty");return e[this.nextInt(0,e.length)]}randFromSet(e){let r=e.size;if(r===0)throw new Error("set must not be empty");let i=this.nextInt(0,r),n=0;for(let a of e){if(n===i)return a;n++}throw new Error("Unexpected error selecting element from set")}chance(e){return this.nextInt(0,e)===0}shuffleArray(e){let r=[...e];for(let i=r.length-1;i>0;i--){let n=this.nextInt(0,i+1);[r[i],r[n]]=[r[n],r[i]]}return r}};Ja.POW36_8=Math.pow(36,8);var U=Ja;var Sm=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},fi=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},it=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Pm=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},km=function(t){return 255*(t>.0031308?1.055*Math.pow(t,.4166666666666667)-.055:12.92*t)},Im=96.422,Am=100,Em=82.521,X_=function(t){var e,r,i={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return r={r:km(.032404542*i.x-.015371385*i.y-.004985314*i.z),g:km(-.00969266*i.x+.018760108*i.y+41556e-8*i.z),b:km(556434e-9*i.x-.002040259*i.y+.010572252*i.z),a:t.a},{r:it(r.r,0,255),g:it(r.g,0,255),b:it(r.b,0,255),a:it(r.a)}},J_=function(t){var e=Pm(t.r),r=Pm(t.g),i=Pm(t.b);return function(n){return{x:it(n.x,0,Im),y:it(n.y,0,Am),z:it(n.z,0,Em),a:it(n.a)}}(function(n){return{x:1.0478112*n.x+.0228866*n.y+-.050127*n.z,y:.0295424*n.x+.9904844*n.y+-.0170491*n.z,z:-.0092345*n.x+.0150436*n.y+.7521316*n.z,a:n.a}}({x:100*(.4124564*e+.3575761*r+.1804375*i),y:100*(.2126729*e+.7151522*r+.072175*i),z:100*(.0193339*e+.119192*r+.9503041*i),a:t.a}))},gi=216/24389,Wr=24389/27,Q_=function(t){var e=t.l,r=t.a,i=t.b,n=t.alpha,a=n===void 0?1:n;if(!Sm(e)||!Sm(r)||!Sm(i))return null;var o=function(s){return{l:it(s.l,0,400),a:s.a,b:s.b,alpha:it(s.alpha)}}({l:Number(e),a:Number(r),b:Number(i),alpha:Number(a)});return ew(o)},ew=function(t){var e=(t.l+16)/116,r=t.a/500+e,i=e-t.b/200;return X_({x:(Math.pow(r,3)>gi?Math.pow(r,3):(116*r-16)/Wr)*Im,y:(t.l>8?Math.pow((t.l+16)/116,3):t.l/Wr)*Am,z:(Math.pow(i,3)>gi?Math.pow(i,3):(116*i-16)/Wr)*Em,a:t.alpha})};function Qa(t,e){t.prototype.toLab=function(){return i=J_(this.rgba),a=i.y/Am,o=i.z/Em,n=(n=i.x/Im)>gi?Math.cbrt(n):(Wr*n+16)/116,r={l:116*(a=a>gi?Math.cbrt(a):(Wr*a+16)/116)-16,a:500*(n-a),b:200*(a-(o=o>gi?Math.cbrt(o):(Wr*o+16)/116)),alpha:i.a},{l:fi(r.l,2),a:fi(r.a,2),b:fi(r.b,2),alpha:fi(r.alpha,3)};var r,i,n,a,o},t.prototype.delta=function(r){r===void 0&&(r="#FFF");var i=r instanceof t?r:new t(r),n=function(a,o){var s=a.l,l=a.a,d=a.b,u=o.l,m=o.a,h=o.b,f=180/Math.PI,p=Math.PI/180,T=Math.pow(Math.pow(l,2)+Math.pow(d,2),.5),x=Math.pow(Math.pow(m,2)+Math.pow(h,2),.5),$=(s+u)/2,I=Math.pow((T+x)/2,7),v=.5*(1-Math.pow(I/(I+Math.pow(25,7)),.5)),S=l*(1+v),z=m*(1+v),G=Math.pow(Math.pow(S,2)+Math.pow(d,2),.5),q=Math.pow(Math.pow(z,2)+Math.pow(h,2),.5),H=(G+q)/2,Y=S===0&&d===0?0:Math.atan2(d,S)*f,Q=z===0&&h===0?0:Math.atan2(h,z)*f;Y<0&&(Y+=360),Q<0&&(Q+=360);var F=Q-Y,he=Math.abs(Q-Y);he>180&&Q<=Y?F+=360:he>180&&Q>Y&&(F-=360);var ie=Y+Q;he<=180?ie/=2:ie=(Y+Q<360?ie+360:ie-360)/2;var De=1-.17*Math.cos(p*(ie-30))+.24*Math.cos(2*p*ie)+.32*Math.cos(p*(3*ie+6))-.2*Math.cos(p*(4*ie-63)),He=u-s,Ne=q-G,Yt=2*Math.sin(p*F/2)*Math.pow(G*q,.5),yr=1+.015*Math.pow($-50,2)/Math.pow(20+Math.pow($-50,2),.5),Xt=1+.045*H,tt=1+.015*H*De,R=30*Math.exp(-1*Math.pow((ie-275)/25,2)),br=-2*Math.pow(I/(I+Math.pow(25,7)),.5)*Math.sin(2*p*R);return Math.pow(Math.pow(He/1/yr,2)+Math.pow(Ne/1/Xt,2)+Math.pow(Yt/1/tt,2)+br*Ne*Yt/(1*Xt*1*tt),.5)}(this.toLab(),i.toLab())/100;return it(fi(n,3))},e.object.push([Q_,"lab"])}var tw={grad:.9,turn:360,rad:360/(2*Math.PI)},$m=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},qr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Pt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Rm=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Cm=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},Mm=96.422,Dm=100,Nm=82.521,rw=function(t){var e,r,i={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return r={r:Cm(.032404542*i.x-.015371385*i.y-.004985314*i.z),g:Cm(-.00969266*i.x+.018760108*i.y+41556e-8*i.z),b:Cm(556434e-9*i.x-.002040259*i.y+.010572252*i.z),a:t.a},{r:Pt(r.r,0,255),g:Pt(r.g,0,255),b:Pt(r.b,0,255),a:Pt(r.a)}},nw=function(t){var e=Rm(t.r),r=Rm(t.g),i=Rm(t.b);return function(n){return{x:Pt(n.x,0,Mm),y:Pt(n.y,0,Dm),z:Pt(n.z,0,Nm),a:Pt(n.a)}}(function(n){return{x:1.0478112*n.x+.0228866*n.y+-.050127*n.z,y:.0295424*n.x+.9904844*n.y+-.0170491*n.z,z:-.0092345*n.x+.0150436*n.y+.7521316*n.z,a:n.a}}({x:100*(.4124564*e+.3575761*r+.1804375*i),y:100*(.2126729*e+.7151522*r+.072175*i),z:100*(.0193339*e+.119192*r+.9503041*i),a:t.a}))},yi=216/24389,Zr=24389/27,S0=function(t){return{l:Pt(t.l,0,100),c:t.c,h:(e=t.h,(e=isFinite(e)?e%360:0)>0?e:e+360),a:t.a};var e},_0=function(t){return{l:qr(t.l,2),c:qr(t.c,2),h:qr(t.h,2),a:qr(t.a,3)}},iw=function(t){var e=t.l,r=t.c,i=t.h,n=t.a,a=n===void 0?1:n;if(!$m(e)||!$m(r)||!$m(i))return null;var o=S0({l:Number(e),c:Number(r),h:Number(i),a:Number(a)});return P0(o)},w0=function(t){var e=function(a){var o=nw(a),s=o.x/Mm,l=o.y/Dm,d=o.z/Nm;return s=s>yi?Math.cbrt(s):(Zr*s+16)/116,{l:116*(l=l>yi?Math.cbrt(l):(Zr*l+16)/116)-16,a:500*(s-l),b:200*(l-(d=d>yi?Math.cbrt(d):(Zr*d+16)/116)),alpha:o.a}}(t),r=qr(e.a,3),i=qr(e.b,3),n=Math.atan2(i,r)/Math.PI*180;return{l:e.l,c:Math.sqrt(r*r+i*i),h:n<0?n+360:n,a:e.alpha}},P0=function(t){return e={l:t.l,a:t.c*Math.cos(t.h*Math.PI/180),b:t.c*Math.sin(t.h*Math.PI/180),alpha:t.a},i=e.a/500+(r=(e.l+16)/116),n=r-e.b/200,rw({x:(Math.pow(i,3)>yi?Math.pow(i,3):(116*i-16)/Zr)*Mm,y:(e.l>8?Math.pow((e.l+16)/116,3):e.l/Zr)*Dm,z:(Math.pow(n,3)>yi?Math.pow(n,3):(116*n-16)/Zr)*Nm,a:e.alpha});var e,r,i,n},aw=/^lch\(\s*([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)\s+([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ow=function(t){var e=aw.exec(t);if(!e)return null;var r,i,n=S0({l:Number(e[1]),c:Number(e[2]),h:(r=e[3],i=e[4],i===void 0&&(i="deg"),Number(r)*(tw[i]||1)),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return P0(n)};function eo(t,e){t.prototype.toLch=function(){return _0(w0(this.rgba))},t.prototype.toLchString=function(){return r=_0(w0(this.rgba)),i=r.l,n=r.c,a=r.h,(o=r.a)<1?"lch("+i+"% "+n+" "+a+" / "+o+")":"lch("+i+"% "+n+" "+a+")";var r,i,n,a,o},e.string.push([ow,"lch"]),e.object.push([iw,"lch"])}function se(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let i=e[0].length,n=e[0].map((o,s)=>e.map(l=>l[s])),a=t.map(o=>n.map(s=>{let l=0;if(!Array.isArray(o)){for(let d of s)l+=o*d;return l}for(let d=0;d<o.length;d++)l+=o[d]*(s[d]||0);return l}));return r===1&&(a=a[0]),i===1?a.map(o=>o[0]):a}function wi(t){return zt(t)==="string"}function zt(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function uo(t,{precision:e,unit:r}){return Ot(t)?"none":wy(t,e)+(r??"")}function Ot(t){return Number.isNaN(t)||t instanceof Number&&t?.none}function ge(t){return Ot(t)?0:t}function wy(t,e){if(t===0)return 0;let r=~~t,i=0;r&&e&&(i=~~Math.log10(Math.abs(r))+1);let n=10**(e-i);return Math.floor(t*n+.5)/n}var sw={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Sy(t){if(!t)return;t=t.trim();let e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,i=/%|deg|g?rad|turn$/,n=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,a=t.match(e);if(a){let o=[];return a[2].replace(n,(s,l)=>{let d=l.match(i),u=l;if(d){let m=d[0],h=u.slice(0,-m.length);m==="%"?(u=new Number(h/100),u.type="<percentage>"):(u=new Number(h*sw[m]),u.type="<angle>",u.unit=m)}else r.test(u)?(u=new Number(u),u.type="<number>"):u==="none"&&(u=new Number(NaN),u.none=!0);s.startsWith("/")&&(u=u instanceof Number?u:new Number(u),u.alpha=!0),typeof u=="object"&&u instanceof Number&&(u.raw=l),o.push(u)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:o}}}function Py(t){return t[t.length-1]}function Ti(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function ky(t,e,r){return(r-t)/(e-t)}function th(t,e,r){return Ti(e[0],e[1],ky(t[0],t[1],r))}function Iy(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let i=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(i){let n=new String(i[1]);return n.range=[+i[2],+i[3]],n}return r}))}function Ay(t,e,r){return Math.max(Math.min(r,e),t)}function fo(t,e){return Math.sign(t)===Math.sign(e)?t:-t}function lt(t,e){return fo(Math.abs(t)**e,t)}function rh(t,e){return e===0?0:t/e}function Ey(t,e,r=0,i=t.length){for(;r<i;){let n=r+i>>1;t[n]<e?r=n+1:i=n}return r}var lw=Object.freeze({__proto__:null,bisectLeft:Ey,clamp:Ay,copySign:fo,interpolate:Ti,interpolateInv:ky,isNone:Ot,isString:wi,last:Py,mapRange:th,multiplyMatrices:se,parseCoordGrammar:Iy,parseFunction:Sy,serializeNumber:uo,skipNone:ge,spow:lt,toPrecision:wy,type:zt,zdiv:rh}),Zm=class{add(e,r,i){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(n){this[n]=this[n]||[],r&&this[n][i?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(i){i.call(r&&r.context?r.context:r,r)})}},jt=new Zm,Ve={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}},Me={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Vm(t){return Array.isArray(t)?t:Me[t]}function mo(t,e,r,i={}){if(t=Vm(t),e=Vm(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let n={W1:t,W2:e,XYZ:r,options:i};if(jt.run("chromatic-adaptation-start",n),n.M||(n.W1===Me.D65&&n.W2===Me.D50?n.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:n.W1===Me.D50&&n.W2===Me.D65&&(n.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),jt.run("chromatic-adaptation-end",n),n.M)return se(n.M,n.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var cw=new Set(["<number>","<percentage>","<angle>"]);function k0(t,e,r,i){return Object.entries(t.coords).map(([a,o],s)=>{let l=e.coordGrammar[s],d=i[s],u=d?.type,m;if(d.none?m=l.find(p=>cw.has(p)):m=l.find(p=>p==u),!m){let p=o.name||a;throw new TypeError(`${u??d.raw} not allowed for ${p} in ${r}()`)}let h=m.range;u==="<percentage>"&&(h||(h=[0,1]));let f=o.range||o.refRange;return h&&f&&(i[s]=th(h,f,i[s])),m})}function $y(t,{meta:e}={}){let r={str:String(t)?.trim()};if(jt.run("parse-start",r),r.color)return r.color;if(r.parsed=Sy(r.str),r.parsed){let i=r.parsed.name;if(i==="color"){let n=r.parsed.args.shift(),a=n.startsWith("--")?n.substring(2):`--${n}`,o=[n,a],s=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let u of M.all){let m=u.getFormat("color");if(m&&(o.includes(m.id)||m.ids?.filter(h=>o.includes(h)).length)){let h=Object.keys(u.coords).map((p,T)=>r.parsed.args[T]||0),f;return m.coordGrammar&&(f=k0(u,m,"color",h)),e&&Object.assign(e,{formatId:"color",types:f}),m.id.startsWith("--")&&!n.startsWith("--")&&Ve.warn(`${u.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${m.id}) instead of color(${n}).`),n.startsWith("--")&&!m.id.startsWith("--")&&Ve.warn(`${u.name} is a standard space and supported in the CSS spec. Use color(${m.id}) instead of prefixed color(${n}).`),{spaceId:u.id,coords:h,alpha:s}}}let l="",d=n in M.registry?n:a;if(d in M.registry){let u=M.registry[d].formats?.color?.id;u&&(l=`Did you mean color(${u})?`)}throw new TypeError(`Cannot parse color(${n}). `+(l||"Missing a plugin?"))}else for(let n of M.all){let a=n.getFormat(i);if(a&&a.type==="function"){let o=1;(a.lastAlpha||Py(r.parsed.args).alpha)&&(o=r.parsed.args.pop());let s=r.parsed.args,l;return a.coordGrammar&&(l=k0(n,a,i,s)),e&&Object.assign(e,{formatId:a.name,types:l}),{spaceId:n.id,coords:s,alpha:o}}}}else for(let i of M.all)for(let n in i.formats){let a=i.formats[n];if(a.type!=="custom"||a.test&&!a.test(r.str))continue;let o=a.parse(r.str);if(o)return o.alpha??(o.alpha=1),e&&(e.formatId=n),o}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function O(t){if(Array.isArray(t))return t.map(O);if(!t)throw new TypeError("Empty color reference");wi(t)&&(t=$y(t));let e=t.space||t.spaceId;return e instanceof M||(t.space=M.get(e)),t.alpha===void 0&&(t.alpha=1),t}var uw=75e-6,je=class je{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?je.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let n in r)"name"in r[n]||(r[n].name=n);this.coords=r;let i=e.white??this.base.white??"D65";this.white=Vm(i),this.formats=e.formats??{};for(let n in this.formats){let a=this.formats[n];a.type||(a.type="function"),a.name||(a.name=n)}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:e.cssId||this.id}),e.gamutSpace?this.gamutSpace=e.gamutSpace==="self"?this:je.get(e.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(n,a)=>!0),this.referred=e.referred,Object.defineProperty(this,"path",{value:dw(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),jt.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=uw}={}){if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:r});let i=Object.values(this.coords);return e.every((n,a)=>{let o=i[a];if(o.type!=="angle"&&o.range){if(Number.isNaN(n))return!0;let[s,l]=o.range;return(s===void 0||n>=s-r)&&(l===void 0||n<=l+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(e=>!("range"in e))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=I0(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=I0(r,this),r):null}equals(e){return e?this===e||this.id===e||this.id===e.id:!1}to(e,r){if(arguments.length===1){let s=O(e);[e,r]=[s.space,s.coords]}if(e=je.get(e),this.equals(e))return r;r=r.map(s=>Number.isNaN(s)?0:s);let i=this.path,n=e.path,a,o;for(let s=0;s<i.length&&i[s].equals(n[s]);s++)a=i[s],o=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let s=i.length-1;s>o;s--)r=i[s].toBase(r);for(let s=o+1;s<n.length;s++)r=n[s].fromBase(r);return r}from(e,r){if(arguments.length===1){let i=O(e);[e,r]=[i.space,i.coords]}return e=je.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let i=this.coords[r],n=i.range||i.refRange;e.push(n?.min??0)}return e}static get all(){return[...new Set(Object.values(je.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let i of r.aliases)this.register(i,r);return r}static get(e,...r){if(!e||e instanceof je)return e;if(zt(e)==="string"){let n=je.registry[e.toLowerCase()];if(!n)throw new TypeError(`No color space found with id = "${e}"`);return n}if(r.length)return je.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){let i=zt(e),n,a;if(i==="string"?e.includes(".")?[n,a]=e.split("."):[n,a]=[,e]:Array.isArray(e)?[n,a]=e:(n=e.space,a=e.coordId),n=je.get(n),n||(n=r),!n)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(i=zt(a),i==="number"||i==="string"&&a>=0){let l=Object.entries(n.coords)[a];if(l)return{space:n,id:l[0],index:a,...l[1]}}n=je.get(n);let o=a.toLowerCase(),s=0;for(let l in n.coords){let d=n.coords[l];if(l.toLowerCase()===o||d.name?.toLowerCase()===o)return{space:n,id:l,index:s,...d};s++}throw new TypeError(`No "${a}" coordinate found in ${n.name}. Its coordinates are: ${Object.keys(n.coords).join(", ")}`)}};dl(je,"registry",{}),dl(je,"DEFAULT_FORMAT",{type:"functions",name:"color"});var M=je;function dw(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function I0(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||(t.type="function"),t.name||(t.name="color"),t.coordGrammar=Iy(t.coords);let r=Object.entries(e).map(([i,n],a)=>{let o=t.coordGrammar[a][0],s=n.range||n.refRange,l=o.range,d="";return o=="<percentage>"?(l=[0,100],d="%"):o=="<angle>"&&(d="deg"),{fromRange:s,toRange:l,suffix:d}});t.serializeCoords=(i,n)=>i.map((a,o)=>{let{fromRange:s,toRange:l,suffix:d}=r[o];return s&&l&&(a=th(s,l,a)),a=uo(a,{precision:n,unit:d}),a})}return t}var we=new M({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),Ie=class extends M{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=we),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=r=>{let i=se(e.toXYZ_M,r);return this.white!==this.base.white&&(i=mo(this.white,this.base.white,i)),i}),e.fromBase??(e.fromBase=r=>(r=mo(this.base.white,this.white,r),se(e.fromXYZ_M,r)))),e.referred??(e.referred="display"),super(e)}};function Si(t,e){return t=O(t),!e||t.space.equals(e)?t.coords.slice():(e=M.get(e),e.from(t))}function qe(t,e){t=O(t);let{space:r,index:i}=M.resolveCoord(e,t.space);return Si(t,r)[i]}function nh(t,e,r){return t=O(t),e=M.get(e),t.coords=e.to(t.space,r),t}nh.returns="color";function kt(t,e,r){if(t=O(t),arguments.length===2&&zt(arguments[1])==="object"){let i=arguments[1];for(let n in i)kt(t,n,i[n])}else{typeof r=="function"&&(r=r(qe(t,e)));let{space:i,index:n}=M.resolveCoord(e,t.space),a=Si(t,i);a[n]=r,nh(t,i,a)}return t}kt.returns="color";var ih=new M({id:"xyz-d50",name:"XYZ D50",white:"D50",base:we,fromBase:t=>mo(we.white,"D50",t),toBase:t=>mo("D50",we.white,t)}),mw=216/24389,A0=24/116,to=24389/27,Um=Me.D50,Ze=new M({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Um,base:ih,fromBase(t){let r=t.map((i,n)=>i/Um[n]).map(i=>i>mw?Math.cbrt(i):(to*i+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>A0?Math.pow(e[0],3):(116*e[0]-16)/to,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/to,e[2]>A0?Math.pow(e[2],3):(116*e[2]-16)/to].map((i,n)=>i*Um[n])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ct(t){return(t%360+360)%360}function hw(t,e){if(t==="raw")return e;let[r,i]=e.map(ct),n=i-r;return t==="increasing"?n<0&&(i+=360):t==="decreasing"?n>0&&(r+=360):t==="longer"?-180<n&&n<180&&(n>0?r+=360:i+=360):t==="shorter"&&(n>180?r+=360:n<-180&&(i+=360)),[r,i]}var xi=new M({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ze,fromBase(t){let[e,r,i]=t,n,a=.02;return Math.abs(r)<a&&Math.abs(i)<a?n=NaN:n=Math.atan2(i,r)*180/Math.PI,[e,Math.sqrt(r**2+i**2),ct(n)]},toBase(t){let[e,r,i]=t;return r<0&&(r=0),isNaN(i)&&(i=0),[e,r*Math.cos(i*Math.PI/180),r*Math.sin(i*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),E0=25**7,ho=Math.PI,$0=180/ho,Vr=ho/180;function R0(t){let e=t*t;return e*e*e*t}function Ry(t,e,{kL:r=1,kC:i=1,kH:n=1}={}){[t,e]=O([t,e]);let[a,o,s]=Ze.from(t),l=xi.from(Ze,[a,o,s])[1],[d,u,m]=Ze.from(e),h=xi.from(Ze,[d,u,m])[1];l<0&&(l=0),h<0&&(h=0);let f=(l+h)/2,p=R0(f),T=.5*(1-Math.sqrt(p/(p+E0))),x=(1+T)*o,$=(1+T)*u,I=Math.sqrt(x**2+s**2),v=Math.sqrt($**2+m**2),S=x===0&&s===0?0:Math.atan2(s,x),z=$===0&&m===0?0:Math.atan2(m,$);S<0&&(S+=2*ho),z<0&&(z+=2*ho),S*=$0,z*=$0;let G=d-a,q=v-I,H=z-S,Y=S+z,Q=Math.abs(H),F;I*v===0?F=0:Q<=180?F=H:H>180?F=H-360:H<-180?F=H+360:Ve.warn("the unthinkable has happened");let he=2*Math.sqrt(v*I)*Math.sin(F*Vr/2),ie=(a+d)/2,De=(I+v)/2,He=R0(De),Ne;I*v===0?Ne=Y:Q<=180?Ne=Y/2:Y<360?Ne=(Y+360)/2:Ne=(Y-360)/2;let Yt=(ie-50)**2,yr=1+.015*Yt/Math.sqrt(20+Yt),Xt=1+.045*De,tt=1;tt-=.17*Math.cos((Ne-30)*Vr),tt+=.24*Math.cos(2*Ne*Vr),tt+=.32*Math.cos((3*Ne+6)*Vr),tt-=.2*Math.cos((4*Ne-63)*Vr);let R=1+.015*De*tt,br=30*Math.exp(-1*((Ne-275)/25)**2),ye=2*Math.sqrt(He/(He+E0)),Ci=-1*Math.sin(2*br*Vr)*ye,ee=(G/(r*yr))**2;return ee+=(q/(i*Xt))**2,ee+=(he/(n*R))**2,ee+=Ci*(q/(i*Xt))*(he/(n*R)),Math.sqrt(ee)}var pw=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],fw=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],gw=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],yw=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Xr=new M({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:we,fromBase(t){let r=se(pw,t).map(i=>Math.cbrt(i));return se(gw,r)},toBase(t){let r=se(yw,t).map(i=>i**3);return se(fw,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Hm(t,e){[t,e]=O([t,e]);let[r,i,n]=Xr.from(t),[a,o,s]=Xr.from(e),l=r-a,d=i-o,u=n-s;return Math.sqrt(l**2+d**2+u**2)}var bw=75e-6;function dr(t,e,{epsilon:r=bw}={}){t=O(t),e||(e=t.space),e=M.get(e);let i=t.coords;return e!==t.space&&(i=e.from(t)),e.inGamut(i,{epsilon:r})}function Jr(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function Cy(t,e,r="lab"){r=M.get(r);let i=r.from(t),n=r.from(e);return Math.sqrt(i.reduce((a,o,s)=>{let l=n[s];return isNaN(o)||isNaN(l)?a:a+(l-o)**2},0))}function vw(t,e){return Cy(t,e,"lab")}var Tw=Math.PI,C0=Tw/180;function xw(t,e,{l:r=2,c:i=1}={}){[t,e]=O([t,e]);let[n,a,o]=Ze.from(t),[,s,l]=xi.from(Ze,[n,a,o]),[d,u,m]=Ze.from(e),h=xi.from(Ze,[d,u,m])[1];s<0&&(s=0),h<0&&(h=0);let f=n-d,p=s-h,T=a-u,x=o-m,$=T**2+x**2-p**2,I=.511;n>=16&&(I=.040975*n/(1+.01765*n));let v=.0638*s/(1+.0131*s)+.638,S;Number.isNaN(l)&&(l=0),l>=164&&l<=345?S=.56+Math.abs(.2*Math.cos((l+168)*C0)):S=.36+Math.abs(.4*Math.cos((l+35)*C0));let z=Math.pow(s,4),G=Math.sqrt(z/(z+1900)),q=v*(G*S+1-G),H=(f/(r*I))**2;return H+=(p/(i*v))**2,H+=$/q**2,Math.sqrt(H)}var M0=203,ah=new M({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:we,fromBase(t){return t.map(e=>Math.max(e*M0,0))},toBase(t){return t.map(e=>Math.max(e/M0,0))}}),ro=1.15,no=.66,D0=2610/2**14,_w=2**14/2610,N0=3424/2**12,U0=2413/2**7,z0=2392/2**7,ww=1.7*2523/2**5,O0=2**5/(1.7*2523),io=-.56,zm=16295499532821565e-27,Sw=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Pw=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],kw=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Iw=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],My=new M({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:ah,fromBase(t){let[e,r,i]=t,n=ro*e-(ro-1)*i,a=no*r-(no-1)*e,s=se(Sw,[n,a,i]).map(function(h){let f=N0+U0*(h/1e4)**D0,p=1+z0*(h/1e4)**D0;return(f/p)**ww}),[l,d,u]=se(kw,s);return[(1+io)*l/(1+io*l)-zm,d,u]},toBase(t){let[e,r,i]=t,n=(e+zm)/(1+io-io*(e+zm)),o=se(Iw,[n,r,i]).map(function(h){let f=N0-h**O0,p=z0*h**O0-U0;return 1e4*(f/p)**_w}),[s,l,d]=se(Pw,o),u=(s+(ro-1)*d)/ro,m=(l+(no-1)*u)/no;return[u,m,d]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Km=new M({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:My,fromBase(t){let[e,r,i]=t,n,a=2e-4;return Math.abs(r)<a&&Math.abs(i)<a?n=NaN:n=Math.atan2(i,r)*180/Math.PI,[e,Math.sqrt(r**2+i**2),ct(n)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]}});function Aw(t,e){[t,e]=O([t,e]);let[r,i,n]=Km.from(t),[a,o,s]=Km.from(e),l=r-a,d=i-o;Number.isNaN(n)&&Number.isNaN(s)?(n=0,s=0):Number.isNaN(n)?n=s:Number.isNaN(s)&&(s=n);let u=n-s,m=2*Math.sqrt(i*o)*Math.sin(u/2*(Math.PI/180));return Math.sqrt(l**2+d**2+m**2)}var Dy=3424/4096,Ny=2413/128,Uy=2392/128,j0=2610/16384,Ew=2523/32,$w=16384/2610,L0=32/2523,Rw=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Cw=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Mw=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Dw=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Ym=new M({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:ah,fromBase(t){let e=se(Rw,t);return Nw(e)},toBase(t){let e=Uw(t);return se(Dw,e)}});function Nw(t){let e=t.map(function(r){let i=Dy+Ny*(r/1e4)**j0,n=1+Uy*(r/1e4)**j0;return(i/n)**Ew});return se(Cw,e)}function Uw(t){return se(Mw,t).map(function(i){let n=Math.max(i**L0-Dy,0),a=Ny-Uy*i**L0;return 1e4*(n/a)**$w})}function zw(t,e){[t,e]=O([t,e]);let[r,i,n]=Ym.from(t),[a,o,s]=Ym.from(e);return 720*Math.sqrt((r-a)**2+.25*(i-o)**2+(n-s)**2)}var Ow=Me.D65,zy=.42,B0=1/zy,Om=2*Math.PI,Oy=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],jw=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Lw=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Bw={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},ur={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Gw=180/Math.PI,G0=Math.PI/180;function jy(t,e){return t.map(i=>{let n=lt(e*Math.abs(i)*.01,zy);return 400*fo(n,i)/(n+27.13)})}function Fw(t,e){let r=100/e*27.13**B0;return t.map(i=>{let n=Math.abs(i);return fo(r*lt(n/(400-n),B0),i)})}function Ww(t){let e=ct(t);e<=ur.h[0]&&(e+=360);let r=Ey(ur.h,e)-1,[i,n]=ur.h.slice(r,r+2),[a,o]=ur.e.slice(r,r+2),s=ur.H[r],l=(e-i)/a;return s+100*l/(l+(n-e)/o)}function qw(t){let e=(t%400+400)%400,r=Math.floor(.01*e);e=e%100;let[i,n]=ur.h.slice(r,r+2),[a,o]=ur.e.slice(r,r+2);return ct((e*(o*i-a*n)-100*i*o)/(e*(o-a)-100*o))}function Ly(t,e,r,i,n){let a={};a.discounting=n,a.refWhite=t,a.surround=i;let o=t.map(T=>T*100);a.la=e,a.yb=r;let s=o[1],l=se(Oy,o);i=Bw[a.surround];let d=i[0];a.c=i[1],a.nc=i[2];let m=(1/(5*a.la+1))**4;a.fl=m*a.la+.1*(1-m)*(1-m)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/s,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;let h=n?1:Math.max(Math.min(d*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=l.map(T=>Ti(1,s/T,h)),a.dRgbInv=a.dRgb.map(T=>1/T);let f=l.map((T,x)=>T*a.dRgb[x]),p=jy(f,a.fl);return a.aW=a.nbb*(2*p[0]+p[1]+.05*p[2]),a}var F0=Ly(Ow,64/Math.PI*.2,20,"average",!1);function Xm(t,e){if(!(t.J!==void 0^t.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(t.C!==void 0^t.M!==void 0^t.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(t.h!==void 0^t.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(t.J===0||t.Q===0)return[0,0,0];let r=0;t.h!==void 0?r=ct(t.h)*G0:r=qw(t.H)*G0;let i=Math.cos(r),n=Math.sin(r),a=0;t.J!==void 0?a=lt(t.J,1/2)*.1:t.Q!==void 0&&(a=.25*e.c*t.Q/((e.aW+4)*e.flRoot));let o=0;t.C!==void 0?o=t.C/a:t.M!==void 0?o=t.M/e.flRoot/a:t.s!==void 0&&(o=4e-4*t.s**2*(e.aW+4)/e.c);let s=lt(o*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),l=.25*(Math.cos(r+2)+3.8),d=e.aW*lt(a,2/e.c/e.z),u=5e4/13*e.nc*e.ncb*l,m=d/e.nbb,h=23*(m+.305)*rh(s,23*u+s*(11*i+108*n)),f=h*i,p=h*n,T=Fw(se(Lw,[m,f,p]).map(x=>x*1/1403),e.fl);return se(jw,T.map((x,$)=>x*e.dRgbInv[$])).map(x=>x/100)}function By(t,e){let r=t.map(v=>v*100),i=jy(se(Oy,r).map((v,S)=>v*e.dRgb[S]),e.fl),n=i[0]+(-12*i[1]+i[2])/11,a=(i[0]+i[1]-2*i[2])/9,o=(Math.atan2(a,n)%Om+Om)%Om,s=.25*(Math.cos(o+2)+3.8),l=5e4/13*e.nc*e.ncb*rh(s*Math.sqrt(n**2+a**2),i[0]+i[1]+1.05*i[2]+.305),d=lt(l,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),u=e.nbb*(2*i[0]+i[1]+.05*i[2]),m=lt(u/e.aW,.5*e.c*e.z),h=100*lt(m,2),f=4/e.c*m*(e.aW+4)*e.flRoot,p=d*m,T=p*e.flRoot,x=ct(o*Gw),$=Ww(x),I=50*lt(e.c*d/(e.aW+4),1/2);return{J:h,C:p,h:x,s:I,Q:f,M:T,H:$}}var Zw=new M({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:we,fromBase(t){let e=By(t,F0);return[e.J,e.M,e.h]},toBase(t){return Xm({J:t[0],M:t[1],h:t[2]},F0)}}),Vw=Me.D65,Hw=216/24389,Gy=24389/27;function Kw(t){return 116*(t>Hw?Math.cbrt(t):(Gy*t+16)/116)-16}function Jm(t){return t>8?Math.pow((t+16)/116,3):t/Gy}function Yw(t,e){let[r,i,n]=t,a=[],o=0;if(n===0)return[0,0,0];let s=Jm(n);n>0?o=.00379058511492914*n**2+.608983189401032*n+.9155088574762233:o=9514440756550361e-21*n**2+.08693057439788597*n-21.928975842194614;let l=2e-12,d=15,u=0,m=1/0;for(;u<=d;){a=Xm({J:o,C:i,h:r},e);let h=Math.abs(a[1]-s);if(h<m){if(h<=l)return a;m=h}o=o-(a[1]-s)*o/(2*a[1]),u+=1}return Xm({J:o,C:i,h:r},e)}function Xw(t,e){let r=Kw(t[1]);if(r===0)return[0,0,0];let i=By(t,oh);return[ct(i.h),i.C,r]}var oh=Ly(Vw,200/Math.PI*Jm(50),Jm(50)*100,"average",!1),_i=new M({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:we,fromBase(t){return Xw(t)},toBase(t){return Yw(t,oh)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Jw=Math.PI/180,W0=[1,.007,.0228];function q0(t){t[1]<0&&(t=_i.fromBase(_i.toBase(t)));let e=Math.log(Math.max(1+W0[2]*t[1]*oh.flRoot,1))/W0[2],r=t[0]*Jw,i=e*Math.cos(r),n=e*Math.sin(r);return[t[2],i,n]}function Qw(t,e){[t,e]=O([t,e]);let[r,i,n]=q0(_i.from(t)),[a,o,s]=q0(_i.from(e));return Math.sqrt((r-a)**2+(i-o)**2+(n-s)**2)}var Qr={deltaE76:vw,deltaECMC:xw,deltaE2000:Ry,deltaEJz:Aw,deltaEITP:zw,deltaEOK:Hm,deltaEHCT:Qw};function eS(t){let e=t?Math.floor(Math.log10(Math.abs(t))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}var Z0={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Lt(t,{method:e=Ve.gamut_mapping,space:r=void 0,deltaEMethod:i="",jnd:n=2,blackWhiteClamp:a={}}={}){if(t=O(t),wi(arguments[1])?r=arguments[1]:r||(r=t.space),r=M.get(r),dr(t,r,{epsilon:0}))return t;let o;if(e==="css")o=tS(t,{space:r});else{if(e!=="clip"&&!dr(t,r)){Object.prototype.hasOwnProperty.call(Z0,e)&&({method:e,jnd:n,deltaEMethod:i,blackWhiteClamp:a}=Z0[e]);let s=Ry;if(i!==""){for(let d in Qr)if("deltae"+i.toLowerCase()===d.toLowerCase()){s=Qr[d];break}}let l=Lt(oe(t,r),{method:"clip",space:r});if(s(t,l)>n){if(Object.keys(a).length===3){let I=M.resolveCoord(a.channel),v=qe(oe(t,I.space),I.id);if(Ot(v)&&(v=0),v>=a.max)return oe({space:"xyz-d65",coords:Me.D65},t.space);if(v<=a.min)return oe({space:"xyz-d65",coords:[0,0,0]},t.space)}let d=M.resolveCoord(e),u=d.space,m=d.id,h=oe(t,u);h.coords.forEach((I,v)=>{Ot(I)&&(h.coords[v]=0)});let p=(d.range||d.refRange)[0],T=eS(n),x=p,$=qe(h,m);for(;$-x>T;){let I=Jr(h);I=Lt(I,{space:r,method:"clip"}),s(h,I)-n<T?x=qe(h,m):$=qe(h,m),kt(h,m,(x+$)/2)}o=oe(h,r)}else o=l}else o=oe(t,r);if(e==="clip"||!dr(o,r,{epsilon:0})){let s=Object.values(r.coords).map(l=>l.range||[]);o.coords=o.coords.map((l,d)=>{let[u,m]=s[d];return u!==void 0&&(l=Math.max(u,l)),m!==void 0&&(l=Math.min(l,m)),l})}}return r!==t.space&&(o=oe(o,t.space)),t.coords=o.coords,t}Lt.returns="color";var V0={WHITE:{space:Xr,coords:[1,0,0]},BLACK:{space:Xr,coords:[0,0,0]}};function tS(t,{space:e}={}){t=O(t),e||(e=t.space),e=M.get(e);let n=M.get("oklch");if(e.isUnbounded)return oe(t,e);let a=oe(t,n),o=a.coords[0];if(o>=1){let p=oe(V0.WHITE,e);return p.alpha=t.alpha,oe(p,e)}if(o<=0){let p=oe(V0.BLACK,e);return p.alpha=t.alpha,oe(p,e)}if(dr(a,e,{epsilon:0}))return oe(a,e);function s(p){let T=oe(p,e),x=Object.values(e.coords);return T.coords=T.coords.map(($,I)=>{if("range"in x[I]){let[v,S]=x[I].range;return Ay(v,$,S)}return $}),T}let l=0,d=a.coords[1],u=!0,m=Jr(a),h=s(m),f=Hm(h,m);if(f<.02)return h;for(;d-l>1e-4;){let p=(l+d)/2;if(m.coords[1]=p,u&&dr(m,e,{epsilon:0}))l=p;else if(h=s(m),f=Hm(h,m),f<.02){if(.02-f<1e-4)break;u=!1,l=p}else d=p}return h}function oe(t,e,{inGamut:r}={}){t=O(t),e=M.get(e);let i=e.from(t),n={space:e,coords:i,alpha:t.alpha};return r&&(n=Lt(n,r===!0?void 0:r)),n}oe.returns="color";function vi(t,{precision:e=Ve.precision,format:r="default",inGamut:i=!0,...n}={}){let a;t=O(t);let o=r;r=t.space.getFormat(r)??t.space.getFormat("default")??M.DEFAULT_FORMAT;let s=t.coords.slice();if(i||(i=r.toGamut),i&&!dr(t)&&(s=Lt(Jr(t),i===!0?void 0:i).coords),r.type==="custom")if(n.precision=e,r.serialize)a=r.serialize(s,t.alpha,n);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let l=r.name||"color";r.serializeCoords?s=r.serializeCoords(s,e):e!==null&&(s=s.map(h=>uo(h,{precision:e})));let d=[...s];if(l==="color"){let h=r.id||r.ids?.[0]||t.space.id;d.unshift(h)}let u=t.alpha;e!==null&&(u=uo(u,{precision:e}));let m=t.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${u}`;a=`${l}(${d.join(r.commas?", ":" ")}${m})`}return a}var rS=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],nS=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],go=new Ie({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:rS,fromXYZ_M:nS}),ao=1.09929682680944,H0=.018053968510807,Fy=new Ie({id:"rec2020",name:"REC.2020",base:go,toBase(t){return t.map(function(e){return e<H0*4.5?e/4.5:Math.pow((e+ao-1)/ao,1/.45)})},fromBase(t){return t.map(function(e){return e>=H0?ao*Math.pow(e,.45)-(ao-1):4.5*e})}}),iS=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],aS=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Wy=new Ie({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:iS,fromXYZ_M:aS}),oS=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],Te=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],qy=new Ie({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:oS,fromXYZ_M:Te}),K0={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},Y0=Array(3).fill("<percentage> | <number>[0, 255]"),X0=Array(3).fill("<number>[0, 255]"),en=new Ie({id:"srgb",name:"sRGB",base:qy,fromBase:t=>t.map(e=>{let r=e<0?-1:1,i=e*r;return i>.0031308?r*(1.055*i**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,i=e*r;return i<=.04045?e/12.92:r*((i+.055)/1.055)**2.4}),formats:{rgb:{coords:Y0},rgb_number:{name:"rgb",commas:!0,coords:X0,noAlpha:!0},color:{},rgba:{coords:Y0,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:X0},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(a=>Math.round(a*255));let i=r&&t.every(a=>a%17===0);return"#"+t.map(a=>i?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=K0.black,e.alpha=0):e.coords=K0[t],e.coords)return e}}}}),Zy=new Ie({id:"p3",cssId:"display-p3",name:"P3",base:Wy,fromBase:en.fromBase,toBase:en.toBase});Ve.display_space=en;var sS;if(typeof CSS<"u"&&CSS.supports)for(let t of[Ze,Fy,Zy]){let e=t.getMinCoords(),i=vi({space:t,coords:e,alpha:1});if(CSS.supports("color",i)){Ve.display_space=t;break}}function lS(t,{space:e=Ve.display_space,...r}={}){let i=vi(t,r);if(typeof CSS>"u"||CSS.supports("color",i)||!Ve.display_space)i=new String(i),i.color=t;else{let n=t;if((t.coords.some(Ot)||Ot(t.alpha))&&!(sS??(sS=CSS.supports("color","hsl(none 50% 50%)")))&&(n=Jr(t),n.coords=n.coords.map(ge),n.alpha=ge(n.alpha),i=vi(n,r),CSS.supports("color",i)))return i=new String(i),i.color=n,i;n=oe(n,e),i=new String(vi(n,r)),i.color=n}return i}function cS(t,e){return t=O(t),e=O(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,i)=>r===e.coords[i])}function Bt(t){return qe(t,[we,"y"])}function Vy(t,e){kt(t,[we,"y"],e)}function uS(t){Object.defineProperty(t.prototype,"luminance",{get(){return Bt(this)},set(e){Vy(this,e)}})}var dS=Object.freeze({__proto__:null,getLuminance:Bt,register:uS,setLuminance:Vy});function mS(t,e){t=O(t),e=O(e);let r=Math.max(Bt(t),0),i=Math.max(Bt(e),0);return i>r&&([r,i]=[i,r]),(r+.05)/(i+.05)}var hS=.56,pS=.57,fS=.62,gS=.65,J0=.022,yS=1.414,bS=.1,vS=5e-4,TS=1.14,Q0=.027,xS=1.14;function ey(t){return t>=J0?t:t+(J0-t)**yS}function Hr(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}function _S(t,e){e=O(e),t=O(t);let r,i,n,a,o,s;e=oe(e,"srgb"),[a,o,s]=e.coords;let l=Hr(a)*.2126729+Hr(o)*.7151522+Hr(s)*.072175;t=oe(t,"srgb"),[a,o,s]=t.coords;let d=Hr(a)*.2126729+Hr(o)*.7151522+Hr(s)*.072175,u=ey(l),m=ey(d),h=m>u;return Math.abs(m-u)<vS?i=0:h?(r=m**hS-u**pS,i=r*TS):(r=m**gS-u**fS,i=r*xS),Math.abs(i)<bS?n=0:i>0?n=i-Q0:n=i+Q0,n*100}function wS(t,e){t=O(t),e=O(e);let r=Math.max(Bt(t),0),i=Math.max(Bt(e),0);i>r&&([r,i]=[i,r]);let n=r+i;return n===0?0:(r-i)/n}var SS=5e4;function PS(t,e){t=O(t),e=O(e);let r=Math.max(Bt(t),0),i=Math.max(Bt(e),0);return i>r&&([r,i]=[i,r]),i===0?SS:(r-i)/i}function kS(t,e){t=O(t),e=O(e);let r=qe(t,[Ze,"l"]),i=qe(e,[Ze,"l"]);return Math.abs(r-i)}var IS=216/24389,ty=24/116,oo=24389/27,jm=Me.D65,Qm=new M({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:jm,base:we,fromBase(t){let r=t.map((i,n)=>i/jm[n]).map(i=>i>IS?Math.cbrt(i):(oo*i+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>ty?Math.pow(e[0],3):(116*e[0]-16)/oo,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/oo,e[2]>ty?Math.pow(e[2],3):(116*e[2]-16)/oo].map((i,n)=>i*jm[n])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Lm=Math.pow(5,.5)*.5+.5;function AS(t,e){t=O(t),e=O(e);let r=qe(t,[Qm,"l"]),i=qe(e,[Qm,"l"]),n=Math.abs(Math.pow(r,Lm)-Math.pow(i,Lm)),a=Math.pow(n,1/Lm)*Math.SQRT2-40;return a<7.5?0:a}var co=Object.freeze({__proto__:null,contrastAPCA:_S,contrastDeltaPhi:AS,contrastLstar:kS,contrastMichelson:wS,contrastWCAG21:mS,contrastWeber:PS});function ES(t,e,r={}){wi(r)&&(r={algorithm:r});let{algorithm:i,...n}=r;if(!i){let a=Object.keys(co).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}t=O(t),e=O(e);for(let a in co)if("contrast"+i.toLowerCase()===a.toLowerCase())return co[a](t,e,n);throw new TypeError(`Unknown contrast algorithm: ${i}`)}function yo(t){let[e,r,i]=Si(t,we),n=e+15*r+3*i;return[4*e/n,9*r/n]}function Hy(t){let[e,r,i]=Si(t,we),n=e+r+i;return[e/n,r/n]}function $S(t){Object.defineProperty(t.prototype,"uv",{get(){return yo(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return Hy(this)}})}var RS=Object.freeze({__proto__:null,register:$S,uv:yo,xy:Hy});function bi(t,e,r={}){wi(r)&&(r={method:r});let{method:i=Ve.deltaE,...n}=r;for(let a in Qr)if("deltae"+i.toLowerCase()===a.toLowerCase())return Qr[a](t,e,n);throw new TypeError(`Unknown deltaE method: ${i}`)}function CS(t,e=.25){let i=[M.get("oklch","lch"),"l"];return kt(t,i,n=>n*(1+e))}function MS(t,e=.25){let i=[M.get("oklch","lch"),"l"];return kt(t,i,n=>n*(1-e))}var DS=Object.freeze({__proto__:null,darken:MS,lighten:CS});function Ky(t,e,r=.5,i={}){return[t,e]=[O(t),O(e)],zt(r)==="object"&&([r,i]=[.5,r]),Pi(t,e,i)(r)}function Yy(t,e,r={}){let i;sh(t)&&([i,r]=[t,e],[t,e]=i.rangeArgs.colors);let{maxDeltaE:n,deltaEMethod:a,steps:o=2,maxSteps:s=1e3,...l}=r;i||([t,e]=[O(t),O(e)],i=Pi(t,e,l));let d=bi(t,e),u=n>0?Math.max(o,Math.ceil(d/n)+1):o,m=[];if(s!==void 0&&(u=Math.min(u,s)),u===1)m=[{p:.5,color:i(.5)}];else{let h=1/(u-1);m=Array.from({length:u},(f,p)=>{let T=p*h;return{p:T,color:i(T)}})}if(n>0){let h=m.reduce((f,p,T)=>{if(T===0)return 0;let x=bi(p.color,m[T-1].color,a);return Math.max(f,x)},0);for(;h>n;){h=0;for(let f=1;f<m.length&&m.length<s;f++){let p=m[f-1],T=m[f],x=(T.p+p.p)/2,$=i(x);h=Math.max(h,bi($,p.color),bi($,T.color)),m.splice(f,0,{p:x,color:i(x)}),f++}}}return m=m.map(h=>h.color),m}function Pi(t,e,r={}){if(sh(t)){let[l,d]=[t,e];return Pi(...l.rangeArgs.colors,{...l.rangeArgs.options,...d})}let{space:i,outputSpace:n,progression:a,premultiplied:o}=r;t=O(t),e=O(e),t=Jr(t),e=Jr(e);let s={colors:[t,e],options:r};if(i?i=M.get(i):i=M.registry[Ve.interpolationSpace]||t.space,n=n?M.get(n):i,t=oe(t,i),e=oe(e,i),t=Lt(t),e=Lt(e),i.coords.h&&i.coords.h.type==="angle"){let l=r.hue=r.hue||"shorter",d=[i,"h"],[u,m]=[qe(t,d),qe(e,d)];isNaN(u)&&!isNaN(m)?u=m:isNaN(m)&&!isNaN(u)&&(m=u),[u,m]=hw(l,[u,m]),kt(t,d,u),kt(e,d,m)}return o&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=a?a(l):l;let d=t.coords.map((h,f)=>{let p=e.coords[f];return Ti(h,p,l)}),u=Ti(t.alpha,e.alpha,l),m={space:i,coords:d,alpha:u};return o&&(m.coords=m.coords.map(h=>h/u)),n!==i&&(m=oe(m,n)),m},{rangeArgs:s})}function sh(t){return zt(t)==="function"&&!!t.rangeArgs}Ve.interpolationSpace="lab";function NS(t){t.defineFunction("mix",Ky,{returns:"color"}),t.defineFunction("range",Pi,{returns:"function<color>"}),t.defineFunction("steps",Yy,{returns:"array<color>"})}var US=Object.freeze({__proto__:null,isRange:sh,mix:Ky,range:Pi,register:NS,steps:Yy}),Xy=new M({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:en,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[i,n,a]=t,[o,s,l]=[NaN,0,(r+e)/2],d=e-r;if(d!==0){switch(s=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case i:o=(n-a)/d+(n<a?6:0);break;case n:o=(a-i)/d+2;break;case a:o=(i-n)/d+4}o=o*60}return s<0&&(o+=180,s=Math.abs(s)),o>=360&&(o-=360),[o,s*100,l*100]},toBase:t=>{let[e,r,i]=t;e=e%360,e<0&&(e+=360),r/=100,i/=100;function n(a){let o=(a+e/30)%12,s=r*Math.min(i,1-i);return i-s*Math.max(-1,Math.min(o-3,9-o,1))}return[n(0),n(8),n(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Jy=new M({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Xy,fromBase(t){let[e,r,i]=t;r/=100,i/=100;let n=i+r*Math.min(i,1-i);return[e,n===0?0:200*(1-i/n),100*n]},toBase(t){let[e,r,i]=t;r/=100,i/=100;let n=i*(1-r/2);return[e,n===0||n===1?0:(i-n)/Math.min(n,1-n)*100,n*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),zS=new M({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Jy,fromBase(t){let[e,r,i]=t;return[e,i*(100-r)/100,100-i]},toBase(t){let[e,r,i]=t;r/=100,i/=100;let n=r+i;if(n>=1){let s=r/n;return[e,0,s*100]}let a=1-i,o=a===0?0:1-r/a;return[e,o*100,a*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),OS=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],jS=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Qy=new Ie({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:OS,fromXYZ_M:jS}),LS=new Ie({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Qy,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),BS=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],GS=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],eb=new Ie({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:ih,toXYZ_M:BS,fromXYZ_M:GS}),FS=1/512,WS=16/512,qS=new Ie({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:eb,toBase(t){return t.map(e=>e<WS?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=FS?e**(1/1.8):16*e)}}),ZS=new M({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Xr,fromBase(t){let[e,r,i]=t,n,a=2e-4;return Math.abs(r)<a&&Math.abs(i)<a?n=NaN:n=Math.atan2(i,r)*180/Math.PI,[e,Math.sqrt(r**2+i**2),ct(n)]},toBase(t){let[e,r,i]=t,n,a;return isNaN(i)?(n=0,a=0):(n=r*Math.cos(i*Math.PI/180),a=r*Math.sin(i*Math.PI/180)),[e,n,a]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),tb=Me.D65,VS=216/24389,ry=24389/27,[ny,iy]=yo({space:we,coords:tb}),rb=new M({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:tb,base:we,fromBase(t){let e=[ge(t[0]),ge(t[1]),ge(t[2])],r=e[1],[i,n]=yo({space:we,coords:e});if(!Number.isFinite(i)||!Number.isFinite(n))return[0,0,0];let a=r<=VS?ry*r:116*Math.cbrt(r)-16;return[a,13*a*(i-ny),13*a*(n-iy)]},toBase(t){let[e,r,i]=t;if(e===0||Ot(e))return[0,0,0];r=ge(r),i=ge(i);let n=r/(13*e)+ny,a=i/(13*e)+iy,o=e<=8?e/ry:Math.pow((e+16)/116,3);return[o*(9*n/(4*a)),o,o*((12-3*n-20*a)/(4*a))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),lh=new M({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:rb,fromBase(t){let[e,r,i]=t,n,a=.02;return Math.abs(r)<a&&Math.abs(i)<a?n=NaN:n=Math.atan2(i,r)*180/Math.PI,[e,Math.sqrt(r**2+i**2),ct(n)]},toBase(t){let[e,r,i]=t;return r<0&&(r=0),isNaN(i)&&(i=0),[e,r*Math.cos(i*Math.PI/180),r*Math.sin(i*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),HS=216/24389,KS=24389/27,ay=Te[0][0],oy=Te[0][1],Bm=Te[0][2],sy=Te[1][0],ly=Te[1][1],Gm=Te[1][2],cy=Te[2][0],uy=Te[2][1],Fm=Te[2][2];function Kr(t,e,r){let i=e/(Math.sin(r)-t*Math.cos(r));return i<0?1/0:i}function po(t){let e=Math.pow(t+16,3)/1560896,r=e>HS?e:t/KS,i=r*(284517*ay-94839*Bm),n=r*(838422*Bm+769860*oy+731718*ay),a=r*(632260*Bm-126452*oy),o=r*(284517*sy-94839*Gm),s=r*(838422*Gm+769860*ly+731718*sy),l=r*(632260*Gm-126452*ly),d=r*(284517*cy-94839*Fm),u=r*(838422*Fm+769860*uy+731718*cy),m=r*(632260*Fm-126452*uy);return{r0s:i/a,r0i:n*t/a,r1s:i/(a+126452),r1i:(n-769860)*t/(a+126452),g0s:o/l,g0i:s*t/l,g1s:o/(l+126452),g1i:(s-769860)*t/(l+126452),b0s:d/m,b0i:u*t/m,b1s:d/(m+126452),b1i:(u-769860)*t/(m+126452)}}function dy(t,e){let r=e/360*Math.PI*2,i=Kr(t.r0s,t.r0i,r),n=Kr(t.r1s,t.r1i,r),a=Kr(t.g0s,t.g0i,r),o=Kr(t.g1s,t.g1i,r),s=Kr(t.b0s,t.b0i,r),l=Kr(t.b1s,t.b1i,r);return Math.min(i,n,a,o,s,l)}var YS=new M({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:lh,gamutSpace:en,fromBase(t){let[e,r,i]=[ge(t[0]),ge(t[1]),ge(t[2])],n;if(e>99.9999999)n=0,e=100;else if(e<1e-8)n=0,e=0;else{let a=po(e),o=dy(a,i);n=r/o*100}return[i,n,e]},toBase(t){let[e,r,i]=[ge(t[0]),ge(t[1]),ge(t[2])],n;if(i>99.9999999)i=100,n=0;else if(i<1e-8)i=0,n=0;else{let a=po(i);n=dy(a,e)/100*r}return[i,n,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});Te[0][0];Te[0][1];Te[0][2];Te[1][0];Te[1][1];Te[1][2];Te[2][0];Te[2][1];Te[2][2];function Yr(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}function my(t){let e=Yr(t.r0s,t.r0i),r=Yr(t.r1s,t.r1i),i=Yr(t.g0s,t.g0i),n=Yr(t.g1s,t.g1i),a=Yr(t.b0s,t.b0i),o=Yr(t.b1s,t.b1i);return Math.min(e,r,i,n,a,o)}var XS=new M({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:lh,gamutSpace:"self",fromBase(t){let[e,r,i]=[ge(t[0]),ge(t[1]),ge(t[2])],n;if(e>99.9999999)n=0,e=100;else if(e<1e-8)n=0,e=0;else{let a=po(e),o=my(a);n=r/o*100}return[i,n,e]},toBase(t){let[e,r,i]=[ge(t[0]),ge(t[1]),ge(t[2])],n;if(i>99.9999999)i=100,n=0;else if(i<1e-8)i=0,n=0;else{let a=po(i);n=my(a)/100*r}return[i,n,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),hy=203,py=2610/2**14,JS=2**14/2610,QS=2523/2**5,fy=2**5/2523,gy=3424/2**12,yy=2413/2**7,by=2392/2**7,e5=new Ie({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:go,toBase(t){return t.map(function(e){return(Math.max(e**fy-gy,0)/(yy-by*e**fy))**JS*1e4/hy})},fromBase(t){return t.map(function(e){let r=Math.max(e*hy/1e4,0),i=gy+yy*r**py,n=1+by*r**py;return(i/n)**QS})}}),vy=.17883277,Ty=.28466892,xy=.55991073,Wm=3.7743,t5=new Ie({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:go,toBase(t){return t.map(function(e){return e<=.5?e**2/3*Wm:(Math.exp((e-xy)/vy)+Ty)/12*Wm})},fromBase(t){return t.map(function(e){return e/=Wm,e<=1/12?Math.sqrt(3*e):vy*Math.log(12*e-Ty)+xy})}}),nb={};jt.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=ib(t.W1,t.W2,t.options.method))});jt.add("chromatic-adaptation-end",t=>{t.M||(t.M=ib(t.W1,t.W2,t.options.method))});function bo({id:t,toCone_M:e,fromCone_M:r}){nb[t]=arguments[0]}function ib(t,e,r="Bradford"){let i=nb[r],[n,a,o]=se(i.toCone_M,t),[s,l,d]=se(i.toCone_M,e),u=[[s/n,0,0],[0,l/a,0],[0,0,d/o]],m=se(u,i.toCone_M);return se(i.fromCone_M,m)}bo({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});bo({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});bo({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});bo({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(Me,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});Me.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var r5=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],n5=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],ab=new Ie({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:Me.ACES,toXYZ_M:r5,fromXYZ_M:n5}),so=2**-16,qm=-.35828683,lo=(Math.log2(65504)+9.72)/17.52,i5=new Ie({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[qm,lo],name:"Red"},g:{range:[qm,lo],name:"Green"},b:{range:[qm,lo],name:"Blue"}},referred:"scene",base:ab,toBase(t){let e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-so)*2:r<lo?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(so)+9.72)/17.52:e<so?(Math.log2(so+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),_y=Object.freeze({__proto__:null,A98RGB:LS,A98RGB_Linear:Qy,ACEScc:i5,ACEScg:ab,CAM16_JMh:Zw,HCT:_i,HPLuv:XS,HSL:Xy,HSLuv:YS,HSV:Jy,HWB:zS,ICTCP:Ym,JzCzHz:Km,Jzazbz:My,LCH:xi,LCHuv:lh,Lab:Ze,Lab_D65:Qm,Luv:rb,OKLCH:ZS,OKLab:Xr,P3:Zy,P3_Linear:Wy,ProPhoto:qS,ProPhoto_Linear:eb,REC_2020:Fy,REC_2020_Linear:go,REC_2100_HLG:t5,REC_2100_PQ:e5,XYZ_ABS_D65:ah,XYZ_D50:ih,XYZ_D65:we,sRGB:en,sRGB_Linear:qy}),Ae=class t{constructor(...e){let r;e.length===1&&(r=O(e[0]));let i,n,a;r?(i=r.space||r.spaceId,n=r.coords,a=r.alpha):[i,n,a]=e,Object.defineProperty(this,"space",{value:M.get(i),writable:!1,enumerable:!0,configurable:!0}),this.coords=n?n.slice():[0,0,0],this.alpha=a>1||a===void 0?1:a<0?0:a;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:s=>this.set(o,s)})}get spaceId(){return this.space.id}clone(){return new t(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=lS(this,...e);return r.color=new t(r.color),r}static get(e,...r){return e instanceof t?e:new t(e,...r)}static defineFunction(e,r,i=r){let{instance:n=!0,returns:a}=i,o=function(...s){let l=r(...s);if(a==="color")l=t.get(l);else if(a==="function<color>"){let d=l;l=function(...u){let m=d(...u);return t.get(m)},Object.assign(l,d)}else a==="array<color>"&&(l=l.map(d=>t.get(d)));return l};e in t||(t[e]=o),n&&(t.prototype[e]=function(...s){return o(this,...s)})}static defineFunctions(e){for(let r in e)t.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(t);else for(let r in e)t.defineFunction(r,e[r])}};Ae.defineFunctions({get:qe,getAll:Si,set:kt,setAll:nh,to:oe,equals:cS,inGamut:dr,toGamut:Lt,distance:Cy,toString:vi});Object.assign(Ae,{util:lw,hooks:jt,WHITES:Me,Space:M,spaces:M.registry,parse:$y,defaults:Ve});for(let t of Object.keys(_y))M.register(_y[t]);for(let t in M.registry)eh(t,M.registry[t]);jt.add("colorspace-init-end",t=>{eh(t.id,t),t.aliases?.forEach(e=>{eh(e,t)})});function eh(t,e){let r=t.replace(/-/g,"_");Object.defineProperty(Ae.prototype,r,{get(){let i=this.getAll(t);return typeof Proxy>"u"?i:new Proxy(i,{has:(n,a)=>{try{return M.resolveCoord([e,a]),!0}catch{}return Reflect.has(n,a)},get:(n,a,o)=>{if(a&&typeof a!="symbol"&&!(a in n)){let{index:s}=M.resolveCoord([e,a]);if(s>=0)return n[s]}return Reflect.get(n,a,o)},set:(n,a,o,s)=>{if(a&&typeof a!="symbol"&&!(a in n)||a>=0){let{index:l}=M.resolveCoord([e,a]);if(l>=0)return n[l]=o,this.setAll(t,n),!0}return Reflect.set(n,a,o,s)}})},set(i){this.setAll(t,i)},configurable:!0,enumerable:!0})}Ae.extend(Qr);Ae.extend({deltaE:bi});Object.assign(Ae,{deltaEMethods:Qr});Ae.extend(DS);Ae.extend({contrast:ES});Ae.extend(RS);Ae.extend(dS);Ae.extend(US);Ae.extend(co);Fr([eo]);Fr([Qa]);var a5=c("rgb(235,51,51)"),o5=c("rgb(41,98,255)"),s5=c("rgb(43,212,189)"),l5=c("rgb(146,52,234)"),c5=c("rgb(231,176,8)"),u5=c("rgb(249,116,21)"),d5=c("rgb(65,190,82)"),m5=c("rgb(209,205,199)"),ch=mr(a5),uh=mr(o5),ob=mr(s5),sb=mr(l5),lb=mr(c5),cb=mr(u5),ub=mr(d5),db=[m5];function mr(t){let e=t.toHsl(),r=64;return Array.from({length:r},(i,n)=>{let a=n/(r-1),o=e.s*(1-.3*a),s=Math.min(100,e.l+a*30);return c({h:e.h,s:o,l:s})})}var dh=[c("rgb(210,210,100)"),c("rgb(180,210,120)"),c("rgb(170,190,100)"),c("rgb(80,200,120)"),c("rgb(130,200,130)"),c("rgb(140,180,140)"),c("rgb(160,190,160)"),c("rgb(160,180,140)"),c("rgb(100,160,80)"),c("rgb(100,140,110)"),c("rgb(100,180,160)"),c("rgb(130,180,170)"),c("rgb(170,190,180)"),c("rgb(100,130,150)"),c("rgb(120,160,200)"),c("rgb(140,150,180)"),c("rgb(100,210,210)"),c("rgb(140,180,220)"),c("rgb(130,170,190)"),c("rgb(100,180,230)"),c("rgb(80,130,190)"),c("rgb(120,120,190)"),c("rgb(150,110,190)"),c("rgb(160,120,160)"),c("rgb(170,140,190)"),c("rgb(180,130,180)"),c("rgb(190,140,150)"),c("rgb(180,100,230)"),c("rgb(180,160,180)"),c("rgb(170,150,170)"),c("rgb(150,130,150)"),c("rgb(230,180,180)"),c("rgb(210,160,200)"),c("rgb(230,130,180)"),c("rgb(210,100,160)"),c("rgb(190,100,130)"),c("rgb(220,120,120)"),c("rgb(200,130,110)"),c("rgb(230,140,140)"),c("rgb(230,100,100)"),c("rgb(230,150,100)"),c("rgb(210,140,80)"),c("rgb(230,180,80)"),c("rgb(200,160,110)"),c("rgb(190,150,130)"),c("rgb(190,180,160)"),c("rgb(180,170,140)"),c("rgb(200,200,140)"),c("rgb(190,170,100)")],mh=[c("rgb(163,230,53)"),c("rgb(132,204,22)"),c("rgb(16,185,129)"),c("rgb(52,211,153)"),c("rgb(45,212,191)"),c("rgb(74,222,128)"),c("rgb(110,231,183)"),c("rgb(134,239,172)"),c("rgb(151,255,187)"),c("rgb(186,255,201)"),c("rgb(230,250,210)"),c("rgb(34,197,94)"),c("rgb(67,190,84)"),c("rgb(82,183,136)"),c("rgb(48,178,180)"),c("rgb(230,255,250)"),c("rgb(220,240,250)"),c("rgb(233,213,255)"),c("rgb(204,204,255)"),c("rgb(220,220,255)"),c("rgb(202,225,255)"),c("rgb(147,197,253)"),c("rgb(125,211,252)"),c("rgb(99,202,253)"),c("rgb(56,189,248)"),c("rgb(96,165,250)"),c("rgb(59,130,246)"),c("rgb(79,70,229)"),c("rgb(124,58,237)"),c("rgb(147,51,234)"),c("rgb(179,136,255)"),c("rgb(167,139,250)"),c("rgb(217,70,239)"),c("rgb(168,85,247)"),c("rgb(190,92,251)"),c("rgb(192,132,252)"),c("rgb(240,171,252)"),c("rgb(244,114,182)"),c("rgb(236,72,153)"),c("rgb(220,38,38)"),c("rgb(239,68,68)"),c("rgb(235,75,75)"),c("rgb(245,101,101)"),c("rgb(248,113,113)"),c("rgb(251,113,133)"),c("rgb(253,164,175)"),c("rgb(252,165,165)"),c("rgb(255,204,229)"),c("rgb(250,215,225)"),c("rgb(251,235,245)"),c("rgb(240,240,200)"),c("rgb(250,250,210)"),c("rgb(255,240,200)"),c("rgb(255,223,186)"),c("rgb(252,211,77)"),c("rgb(251,191,36)"),c("rgb(234,179,8)"),c("rgb(202,138,4)"),c("rgb(245,158,11)"),c("rgb(251,146,60)"),c("rgb(249,115,22)"),c("rgb(234,88,12)"),c("rgb(133,77,14)")],hh=[c("rgb(150,160,140)"),c("rgb(160,160,150)"),c("rgb(170,170,140)"),c("rgb(170,170,120)"),c("rgb(150,160,120)"),c("rgb(150,170,130)"),c("rgb(150,170,150)"),c("rgb(130,170,130)"),c("rgb(140,160,140)"),c("rgb(120,150,100)"),c("rgb(120,140,120)"),c("rgb(100,170,130)"),c("rgb(120,160,150)"),c("rgb(130,160,150)"),c("rgb(120,170,170)"),c("rgb(120,160,190)"),c("rgb(130,150,170)"),c("rgb(130,150,160)"),c("rgb(140,150,160)"),c("rgb(140,160,170)"),c("rgb(150,160,160)"),c("rgb(100,120,160)"),c("rgb(120,130,140)"),c("rgb(130,130,160)"),c("rgb(140,130,140)"),c("rgb(140,120,160)"),c("rgb(150,130,150)"),c("rgb(150,140,160)"),c("rgb(160,130,160)"),c("rgb(170,150,170)"),c("rgb(160,120,190)"),c("rgb(160,120,130)"),c("rgb(170,120,140)"),c("rgb(170,130,120)"),c("rgb(170,130,130)"),c("rgb(180,140,140)"),c("rgb(190,130,160)"),c("rgb(190,120,120)"),c("rgb(190,140,120)"),c("rgb(190,160,100)"),c("rgb(170,140,100)"),c("rgb(160,140,130)"),c("rgb(170,150,130)"),c("rgb(160,150,120)"),c("rgb(160,150,140)"),c("rgb(160,140,150)"),c("rgb(160,150,160)"),c("rgb(150,140,150)"),c("rgb(180,160,160)")],ph=[c("rgb(35,0,0)"),c("rgb(45,0,0)"),c("rgb(55,0,0)"),c("rgb(65,0,0)"),c("rgb(75,0,0)"),c("rgb(85,0,0)"),c("rgb(95,0,0)"),c("rgb(105,0,0)"),c("rgb(115,0,0)"),c("rgb(125,0,0)"),c("rgb(135,0,0)"),c("rgb(145,0,0)"),c("rgb(155,0,0)"),c("rgb(165,0,0)"),c("rgb(175,0,0)"),c("rgb(185,0,0)"),c("rgb(195,0,5)"),c("rgb(205,0,10)"),c("rgb(215,0,15)"),c("rgb(225,0,20)"),c("rgb(235,0,25)"),c("rgb(245,0,30)"),c("rgb(255,0,35)"),c("rgb(255,10,45)"),c("rgb(255,20,55)"),c("rgb(255,30,65)"),c("rgb(255,40,75)"),c("rgb(255,50,85)"),c("rgb(255,60,95)"),c("rgb(255,70,105)"),c("rgb(255,80,115)"),c("rgb(255,90,125)"),c("rgb(255,100,135)"),c("rgb(255,110,145)"),c("rgb(255,120,155)"),c("rgb(255,130,165)"),c("rgb(255,140,175)"),c("rgb(255,150,185)"),c("rgb(255,160,195)"),c("rgb(255,170,205)"),c("rgb(255,180,215)"),c("rgb(255,190,225)"),c("rgb(255,200,235)"),c("rgb(0,45,0)"),c("rgb(0,55,0)"),c("rgb(0,65,0)"),c("rgb(0,75,0)"),c("rgb(0,85,0)"),c("rgb(0,95,0)"),c("rgb(0,105,0)"),c("rgb(0,115,0)"),c("rgb(0,125,0)"),c("rgb(0,135,0)"),c("rgb(0,145,0)"),c("rgb(0,155,0)"),c("rgb(0,165,0)"),c("rgb(0,175,0)"),c("rgb(0,185,0)"),c("rgb(0,195,5)"),c("rgb(0,205,10)"),c("rgb(0,215,15)"),c("rgb(0,225,20)"),c("rgb(0,235,25)"),c("rgb(0,245,30)"),c("rgb(0,255,35)"),c("rgb(10,255,45)"),c("rgb(20,255,55)"),c("rgb(30,255,65)"),c("rgb(40,255,75)"),c("rgb(50,255,85)"),c("rgb(60,255,95)"),c("rgb(70,255,105)"),c("rgb(80,255,115)"),c("rgb(90,255,125)"),c("rgb(100,255,135)"),c("rgb(110,255,145)"),c("rgb(120,255,155)"),c("rgb(130,255,165)"),c("rgb(140,255,175)"),c("rgb(150,255,185)"),c("rgb(160,255,195)"),c("rgb(170,255,205)"),c("rgb(180,255,215)"),c("rgb(190,255,225)"),c("rgb(200,255,235)"),c("rgb(0,0,35)"),c("rgb(0,0,45)"),c("rgb(0,0,55)"),c("rgb(0,0,65)"),c("rgb(0,0,75)"),c("rgb(0,0,85)"),c("rgb(0,0,95)"),c("rgb(0,0,105)"),c("rgb(0,0,115)"),c("rgb(0,0,125)"),c("rgb(0,0,135)"),c("rgb(0,0,145)"),c("rgb(0,0,155)"),c("rgb(0,0,165)"),c("rgb(0,0,175)"),c("rgb(0,0,185)"),c("rgb(5,0,195)"),c("rgb(10,0,205)"),c("rgb(15,0,215)"),c("rgb(20,0,225)"),c("rgb(25,0,235)"),c("rgb(30,0,245)"),c("rgb(35,0,255)"),c("rgb(45,10,255)"),c("rgb(55,20,255)"),c("rgb(65,30,255)"),c("rgb(75,40,255)"),c("rgb(85,50,255)"),c("rgb(95,60,255)"),c("rgb(105,70,255)"),c("rgb(115,80,255)"),c("rgb(125,90,255)"),c("rgb(135,100,255)"),c("rgb(145,110,255)"),c("rgb(155,120,255)"),c("rgb(165,130,255)"),c("rgb(175,140,255)"),c("rgb(185,150,255)"),c("rgb(195,160,255)"),c("rgb(205,170,255)"),c("rgb(215,180,255)"),c("rgb(225,190,255)"),c("rgb(235,200,255)"),c("rgb(35,0,35)"),c("rgb(45,0,45)"),c("rgb(55,0,55)"),c("rgb(65,0,65)"),c("rgb(75,0,75)"),c("rgb(85,0,85)"),c("rgb(95,0,95)"),c("rgb(105,0,105)"),c("rgb(115,0,115)"),c("rgb(125,0,125)"),c("rgb(135,0,135)"),c("rgb(145,0,145)"),c("rgb(155,0,155)"),c("rgb(165,0,165)"),c("rgb(175,0,175)"),c("rgb(185,0,185)"),c("rgb(195,5,195)"),c("rgb(205,10,205)"),c("rgb(215,15,215)"),c("rgb(225,20,225)"),c("rgb(235,25,235)"),c("rgb(245,30,245)"),c("rgb(255,35,255)"),c("rgb(255,45,255)"),c("rgb(255,55,255)"),c("rgb(255,65,255)"),c("rgb(255,75,255)"),c("rgb(255,85,255)"),c("rgb(255,95,255)"),c("rgb(255,105,255)"),c("rgb(255,115,255)"),c("rgb(255,125,255)"),c("rgb(255,135,255)"),c("rgb(255,145,255)"),c("rgb(255,155,255)"),c("rgb(255,165,255)"),c("rgb(255,175,255)"),c("rgb(255,185,255)"),c("rgb(255,195,255)"),c("rgb(255,205,255)"),c("rgb(255,215,255)"),c("rgb(0,35,35)"),c("rgb(0,45,45)"),c("rgb(0,55,55)"),c("rgb(0,65,65)"),c("rgb(0,75,75)"),c("rgb(0,85,85)"),c("rgb(0,95,95)"),c("rgb(0,105,105)"),c("rgb(0,115,115)"),c("rgb(0,125,125)"),c("rgb(0,135,135)"),c("rgb(0,145,145)"),c("rgb(0,155,155)"),c("rgb(0,165,165)"),c("rgb(0,175,175)"),c("rgb(0,185,185)"),c("rgb(5,195,195)"),c("rgb(10,205,205)"),c("rgb(15,215,215)"),c("rgb(20,225,225)"),c("rgb(25,235,235)"),c("rgb(30,245,245)"),c("rgb(35,255,255)"),c("rgb(45,255,255)"),c("rgb(55,255,255)"),c("rgb(65,255,255)"),c("rgb(75,255,255)"),c("rgb(85,255,255)"),c("rgb(95,255,255)"),c("rgb(105,255,255)"),c("rgb(115,255,255)"),c("rgb(125,255,255)"),c("rgb(135,255,255)"),c("rgb(145,255,255)"),c("rgb(155,255,255)"),c("rgb(165,255,255)"),c("rgb(175,255,255)"),c("rgb(185,255,255)"),c("rgb(195,255,255)"),c("rgb(205,255,255)"),c("rgb(215,255,255)"),c("rgb(35,35,0)"),c("rgb(45,45,0)"),c("rgb(55,55,0)"),c("rgb(65,65,0)"),c("rgb(75,75,0)"),c("rgb(85,85,0)"),c("rgb(95,95,0)"),c("rgb(105,105,0)"),c("rgb(115,115,0)"),c("rgb(125,125,0)"),c("rgb(135,135,0)"),c("rgb(145,145,0)"),c("rgb(155,155,0)"),c("rgb(165,165,0)"),c("rgb(175,175,0)"),c("rgb(185,185,0)"),c("rgb(195,195,5)"),c("rgb(205,205,10)"),c("rgb(215,215,15)"),c("rgb(225,225,20)"),c("rgb(235,235,25)"),c("rgb(245,245,30)"),c("rgb(255,255,35)"),c("rgb(255,255,45)"),c("rgb(255,255,55)"),c("rgb(255,255,65)"),c("rgb(255,255,75)"),c("rgb(255,255,85)"),c("rgb(255,255,95)"),c("rgb(255,255,105)"),c("rgb(255,255,115)"),c("rgb(255,255,125)"),c("rgb(255,255,135)"),c("rgb(255,255,145)"),c("rgb(255,255,155)"),c("rgb(255,255,165)"),c("rgb(255,255,175)"),c("rgb(255,255,185)"),c("rgb(255,255,195)"),c("rgb(255,255,205)"),c("rgb(255,255,215)"),c("rgb(215,255,200)"),c("rgb(225,255,175)"),c("rgb(240,250,160)"),c("rgb(245,245,175)"),c("rgb(150,200,255)"),c("rgb(160,215,255)"),c("rgb(170,225,255)"),c("rgb(180,235,250)"),c("rgb(190,245,240)"),c("rgb(210,255,245)"),c("rgb(220,255,255)"),c("rgb(230,250,255)"),c("rgb(240,240,255)"),c("rgb(250,230,255)"),c("rgb(170,190,255)"),c("rgb(180,180,255)"),c("rgb(200,170,255)"),c("rgb(190,140,195)"),c("rgb(195,145,200)"),c("rgb(200,150,205)"),c("rgb(205,155,210)"),c("rgb(210,160,215)"),c("rgb(215,165,220)"),c("rgb(220,170,225)"),c("rgb(225,175,230)"),c("rgb(230,180,235)"),c("rgb(235,185,240)"),c("rgb(240,190,245)"),c("rgb(245,195,250)"),c("rgb(250,200,255)"),c("rgb(255,205,255)"),c("rgb(255,210,255)"),c("rgb(255,210,250)"),c("rgb(255,205,245)"),c("rgb(255,215,245)"),c("rgb(220,160,255)"),c("rgb(235,150,255)"),c("rgb(245,160,240)"),c("rgb(255,170,225)"),c("rgb(255,185,215)"),c("rgb(255,195,235)"),c("rgb(255,200,220)"),c("rgb(255,210,230)"),c("rgb(255,220,235)"),c("rgb(255,220,250)"),c("rgb(255,225,255)"),c("rgb(255,230,245)"),c("rgb(255,235,235)"),c("rgb(255,215,195)"),c("rgb(255,225,180)"),c("rgb(255,230,190)"),c("rgb(255,235,200)"),c("rgb(255,245,210)"),c("rgb(255,240,220)")];Fr([eo]);Fr([Qa]);var hr=class{constructor(e,r){this.assigned=new Map;this.teamPlayerColors=new Map;this.availableColors=[...e],this.fallbackColors=[...e,...r]}getTeamColorVariations(e){switch(e){case K.Blue:return uh;case K.Red:return ch;case K.Teal:return ob;case K.Purple:return sb;case K.Yellow:return lb;case K.Orange:return cb;case K.Green:return ub;case K.Bot:return db;case K.Humans:return uh;case K.Nations:return ch;default:return[this.assignColor(e)]}}assignColor(e){if(this.assigned.has(e))return this.assigned.get(e);this.availableColors.length===0&&(this.availableColors=[...this.fallbackColors]);let r=0;if(this.assigned.size===0||this.assigned.size>50)r=new U(Z(e)).nextInt(0,this.availableColors.length);else{let n=Array.from(this.assigned.values());r=h5(this.availableColors,n)??0}let i=this.availableColors.splice(r,1)[0];return this.assigned.set(e,i),i}assignTeamColor(e){let i=this.getTeamColorVariations(e)[0].toRgb();return i.r=Math.round(i.r),i.g=Math.round(i.g),i.b=Math.round(i.b),c(i)}assignTeamPlayerColor(e,r){if(this.teamPlayerColors.has(r))return this.teamPlayerColors.get(r);let i=this.getTeamColorVariations(e),a=Z(r)%i.length,o=i[a];return this.teamPlayerColors.set(r,o),o}};function h5(t,e){if(e.length===0)throw new Error("No assigned colors");let r=e.map(mb),i=0,n=0;for(let a=0;a<t.length;a++){let o=t[a],s=p5(mb(o),r);s>i&&(i=s,n=a)}return n}function p5(t,e){return e.reduce((r,i)=>Math.min(r,f5(t,i)),1/0)}function f5(t,e){return t.deltaE(e,"2000")}function mb(t){let e=t.toLab();return new Ae("lab",[e.l,e.a,e.b])}var tn=class{constructor(){this.rand=new U(123);this.humanColorAllocator=new hr(mh,ph);this.botColorAllocator=new hr(hh,hh);this.teamColorAllocator=new hr(mh,ph);this.nationColorAllocator=new hr(dh,dh);this.background=c("rgb(60,60,60)");this.shore=c("rgb(204,203,158)");this.falloutColors=[c("rgb(120,255,71)"),c("rgb(130,255,85)"),c("rgb(110,245,65)"),c("rgb(125,255,75)"),c("rgb(115,250,68)")];this.water=c("rgb(70,132,180)");this.shorelineWater=c("rgb(100,143,255)");this._selfColor=c("rgb(0,255,0)");this._allyColor=c("rgb(255,255,0)");this._neutralColor=c("rgb(128,128,128)");this._enemyColor=c("rgb(255,0,0)");this._spawnHighlightColor=c("rgb(255,213,79)");this._spawnHighlightSelfColor=c("rgb(255,255,255)");this._spawnHighlightTeamColor=c("rgb(0,255,0)");this._spawnHighlightEnemyColor=c("rgb(255,0,0)")}teamColor(e){return this.teamColorAllocator.assignTeamColor(e)}territoryColor(e){let r=e.team();return r!==null?this.teamColorAllocator.assignTeamPlayerColor(r,e.id()):e.type()==="HUMAN"?this.humanColorAllocator.assignColor(e.id()):e.type()==="BOT"?this.botColorAllocator.assignColor(e.id()):this.nationColorAllocator.assignColor(e.id())}structureColors(e){let r=e.alpha(.5882352941176471).toLab(),i=this.borderColor(e).toLab(),n=this.contrast(r,i),a=10,o=50,s=.5,l=0,d=5;for(;n<s;){if(l>o){console.warn(`Infinite loop detected during structure color calculation. 
          Light color: ${c(r).toRgbString()}, 
          Dark color: ${c(i).toRgbString()}, 
          Contrast: ${n}`);break}else l>a?r.l=this.clamp(r.l+d):i.l=this.clamp(i.l-d);n=this.contrast(r,i),l++}return{light:c(r),dark:c(i)}}contrast(e,r){return c(e).delta(c(r))}clamp(e,r=0,i=100){return Math.min(Math.max(r,e),i)}borderColor(e){return e.darken(.125)}defendedBorderColors(e){return{light:e.darken(.2),dark:e.darken(.4)}}focusedBorderColor(){return c("rgb(230,230,230)")}textColor(e){return e.type()==="HUMAN"?"#000000":"#4D4D4D"}terrainColor(e,r){let i=e.magnitude(r);if(e.isShore(r))return this.shore;switch(e.terrainType(r)){case 4:case 3:{let n=this.water.rgba;return e.isShoreline(r)&&e.isWater(r)?this.shorelineWater:c({r:Math.max(n.r-10+(11-Math.min(i,10)),0),g:Math.max(n.g-10+(11-Math.min(i,10)),0),b:Math.max(n.b-10+(11-Math.min(i,10)),0)})}case 0:return c({r:190,g:220-2*i,b:138});case 1:return c({r:200+2*i,g:183+2*i,b:138+2*i});case 2:return c({r:230+i/2,g:230+i/2,b:230+i/2})}}backgroundColor(){return this.background}falloutColor(){return this.rand.randElement(this.falloutColors)}font(){return"Overpass, sans-serif"}selfColor(){return this._selfColor}allyColor(){return this._allyColor}neutralColor(){return this._neutralColor}enemyColor(){return this._enemyColor}spawnHighlightColor(){return this._spawnHighlightColor}spawnHighlightSelfColor(){return this._spawnHighlightSelfColor}spawnHighlightTeamColor(){return this._spawnHighlightTeamColor}spawnHighlightEnemyColor(){return this._spawnHighlightEnemyColor}};var vo=class extends tn{constructor(){super(...arguments);this.darkShore=c("rgb(134,133,88)");this.darkWater=c("rgb(14,11,30)");this.darkShorelineWater=c("rgb(50,50,50)")}terrainColor(r,i){let n=r.magnitude(i);if(r.isShore(i))return this.darkShore;switch(r.terrainType(i)){case 4:case 3:{let a=this.darkWater.rgba;return r.isShoreline(i)&&r.isWater(i)?this.darkShorelineWater:r.magnitude(i)<10?c({r:Math.max(a.r+9-n,0),g:Math.max(a.g+9-n,0),b:Math.max(a.b+9-n,0)}):this.darkWater}case 0:return c({r:140,g:170-2*n,b:88});case 1:return c({r:150+2*n,g:133+2*n,b:88+2*n});case 2:return c({r:180+n/2,g:180+n/2,b:180+n/2})}}};var g5=15e4,y5=Math.LN2/5e4,b5=g.object({keys:g.object({alg:g.literal("EdDSA"),crv:g.literal("Ed25519"),kty:g.literal("OKP"),x:g.string()}).array().min(1)}),v5={Africa:[100,70,50],Asia:[50,40,30],Australia:[70,40,30],Achiran:[40,36,30],Baikal:[100,70,50],"Baikal (Nuke Wars)":[100,70,50],"Between Two Seas":[70,50,40],"Black Sea":[50,30,30],Britannia:[50,30,20],"Deglaciated Antarctica":[50,40,30],"East Asia":[50,30,20],Europe:[100,70,50],"Europe Classic":[50,30,30],"Falkland Islands":[50,30,20],"Four Islands":[20,15,10],"Faroe Islands":[20,15,10],"Gateway to the Atlantic":[100,70,50],"Giant World Map":[100,70,50],"Gulf of St. Lawrence":[60,40,30],Halkidiki:[100,50,40],Iceland:[50,40,30],Italia:[50,30,20],Japan:[20,15,10],Lisbon:[50,40,30],Manicouagan:[60,40,30],Mars:[70,40,30],Mena:[70,50,40],Montreal:[60,40,30],"New York City":[60,40,30],"North America":[70,40,30],Oceania:[10,10,10],Pangaea:[20,15,10],Pluto:[100,70,50],"South America":[70,50,40],"Strait of Gibraltar":[100,70,50],Svalmel:[40,36,30],World:[50,30,20]},Gt=class{turnstileSecretKey(){return process.env.TURNSTILE_SECRET_KEY??""}allowedFlares(){}stripePublishableKey(){return process.env.STRIPE_PUBLISHABLE_KEY??""}domain(){return process.env.DOMAIN??""}subdomain(){return process.env.SUBDOMAIN??""}jwtIssuer(){let e=this.jwtAudience();return e==="localhost"?"http://localhost:8787":`https://api.${e}`}async jwkPublicKey(){if(this.publicKey)return this.publicKey;let e=this.jwtIssuer()+"/.well-known/jwks.json";console.log(`Fetching JWKS from ${e}`);let r=await fetch(e),i=b5.safeParse(await r.json());if(!i.success){let n=g.prettifyError(i.error);throw console.error("Error parsing JWKS",n),new Error("Invalid JWKS")}return this.publicKey=i.data.keys[0],this.publicKey}otelEnabled(){return this.env()!==0&&!!this.otelEndpoint()&&!!this.otelAuthHeader()}otelEndpoint(){return process.env.OTEL_EXPORTER_OTLP_ENDPOINT??""}otelAuthHeader(){return process.env.OTEL_AUTH_HEADER??""}gitCommit(){return process.env.GIT_COMMIT??""}apiKey(){return process.env.API_KEY??""}adminHeader(){return"x-admin-key"}adminToken(){let e=process.env.ADMIN_TOKEN;if(!e)throw new Error("ADMIN_TOKEN not set");return e}turnIntervalMs(){return 100}gameCreationRate(){return 60*1e3}lobbyMaxPlayers(e,r,i){let[n,a,o]=v5[e]??[50,30,20],s=Math.random(),l=s<.3?n:s<.6?a:o,d=Math.min(r==="Team"?Math.ceil(l*1.5):l,n);if(i===void 0)return d;switch(i){case Ir:d-=d%2;break;case Ar:d-=d%3;break;case Er:d-=d%4;break;case er:break;default:d-=d%i;break}return d}workerIndex(e){return Z(e)%this.numWorkers()}workerPath(e){return`w${this.workerIndex(e)}`}workerPort(e){return this.workerPortByIndex(this.workerIndex(e))}workerPortByIndex(e){return 3001+e}enableMatchmaking(){return!1}},rn=class{constructor(e,r,i,n){this._serverConfig=e;this._gameConfig=r;this._userSettings=i;this._isReplay=n;this.pastelTheme=new tn;this.pastelThemeDark=new vo}stripePublishableKey(){return process.env.STRIPE_PUBLISHABLE_KEY??""}isReplay(){return this._isReplay}traitorDefenseDebuff(){return .5}traitorSpeedDebuff(){return .8}traitorDuration(){return 30*10}spawnImmunityDuration(){return 5*10}gameConfig(){return this._gameConfig}serverConfig(){return this._serverConfig}userSettings(){if(this._userSettings===null)throw new Error("userSettings is null");return this._userSettings}difficultyModifier(e){switch(e){case"Easy":return 1;case"Medium":return 3;case"Hard":return 9;case"Impossible":return 18}}cityTroopIncrease(){return 25e4}falloutDefenseModifier(e){return 5-e*2}SAMCooldown(){return 75}SiloCooldown(){return 75}defensePostRange(){return 30}defensePostDefenseBonus(){return 5}defensePostSpeedBonus(){return 3}playerTeams(){return this._gameConfig.playerTeams??0}spawnNPCs(){return!this._gameConfig.disableNPCs}isUnitDisabled(e){return this._gameConfig.disabledUnits?.includes(e)??!1}bots(){return this._gameConfig.bots}instantBuild(){return this._gameConfig.instantBuild}isRandomSpawn(){return this._gameConfig.randomSpawn}infiniteGold(){return this._gameConfig.infiniteGold}donateGold(){return this._gameConfig.donateGold}infiniteTroops(){return this._gameConfig.infiniteTroops}donateTroops(){return this._gameConfig.donateTroops}trainSpawnRate(e){return(e+10)*18}trainGold(e){switch(e){case"ally":return 35000n;case"team":case"other":return 25000n;case"self":return 10000n}}trainStationMinRange(){return 15}trainStationMaxRange(){return 100}railroadMaxSize(){return 120}tradeShipGold(e,r){let i=this.tradeShipShortRangeDebuff(),n=1e5/(1+Math.exp(-.03*(e-i)))+100*e,a=r-1,o=1+2*(a/(a+5));return BigInt(Math.floor(n*o))}tradeShipSpawnRate(e,r,i){let n=Math.sqrt(this.tradeShipBaseSpawn(e,i)*this.tradeShipPortMultiplier(r));return Math.floor(25/n)}tradeShipBaseSpawn(e,r){if(r<3)return 1;let i=Math.LN2/10;return 1-_l(e,i,55)}tradeShipPortMultiplier(e){return 1/(1+.1*e)}unitInfo(e){switch(e){case"Transport":return{cost:()=>0n,territoryBound:!1};case"Warship":return{cost:this.costWrapper(r=>Math.min(1e6,(r+1)*25e4),"Warship"),territoryBound:!1,maxHealth:1e3};case"Shell":return{cost:()=>0n,territoryBound:!1,damage:250};case"SAMMissile":return{cost:()=>0n,territoryBound:!1};case"Port":return{cost:this.costWrapper(r=>Math.min(1e6,Math.pow(2,r)*125e3),"Port","Factory"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,upgradable:!0,canBuildTrainStation:!0};case"Atom Bomb":return{cost:this.costWrapper(()=>75e4,"Atom Bomb"),territoryBound:!1};case"Hydrogen Bomb":return{cost:this.costWrapper(()=>5e6,"Hydrogen Bomb"),territoryBound:!1};case"MIRV":return{cost:(r,i)=>i.type()==="HUMAN"&&this.infiniteGold()?0n:25000000n+r.stats().numMirvsLaunched()*15000000n,territoryBound:!1};case"MIRV Warhead":return{cost:()=>0n,territoryBound:!1};case"Trade Ship":return{cost:()=>0n,territoryBound:!1};case"Missile Silo":return{cost:this.costWrapper(()=>1e6,"Missile Silo"),territoryBound:!0,constructionDuration:this.instantBuild()?0:10*10,upgradable:!0};case"Defense Post":return{cost:this.costWrapper(r=>Math.min(25e4,(r+1)*5e4),"Defense Post"),territoryBound:!0,constructionDuration:this.instantBuild()?0:5*10};case"SAM Launcher":return{cost:this.costWrapper(r=>Math.min(3e6,(r+1)*15e5),"SAM Launcher"),territoryBound:!0,constructionDuration:this.instantBuild()?0:30*10,upgradable:!0};case"City":return{cost:this.costWrapper(r=>Math.min(1e6,Math.pow(2,r)*125e3),"City"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,upgradable:!0,canBuildTrainStation:!0};case"Factory":return{cost:this.costWrapper(r=>Math.min(1e6,Math.pow(2,r)*125e3),"Factory","Port"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,canBuildTrainStation:!0,experimental:!0,upgradable:!0};case"Train":return{cost:()=>0n,territoryBound:!1,experimental:!0};default:Dt(e)}}costWrapper(e,...r){return(i,n)=>{if(n.type()==="HUMAN"&&this.infiniteGold())return 0n;let a=r.reduce((o,s)=>o+Math.min(n.unitsOwned(s),n.unitsConstructed(s)),0);return BigInt(e(a))}}defaultDonationAmount(e){return Math.floor(e.troops()/3)}donateCooldown(){return 10*10}embargoAllCooldown(){return 10*10}deletionMarkDuration(){return 30*10}deleteUnitCooldown(){return 30*10}emojiMessageDuration(){return 5*10}emojiMessageCooldown(){return 5*10}targetDuration(){return 10*10}targetCooldown(){return 15*10}allianceRequestDuration(){return 20*10}allianceRequestCooldown(){return 30*10}allianceDuration(){return 300*10}temporaryEmbargoDuration(){return 300*10}percentageTilesOwnedToWin(){return this._gameConfig.gameMode==="Team"?95:80}boatMaxNumber(){return 3}numSpawnPhaseTurns(){return this._gameConfig.gameType==="Singleplayer"?100:300}numBots(){return this.bots()}theme(){return this.userSettings()?.darkMode()?this.pastelThemeDark:this.pastelTheme}attackLogic(e,r,i,n,a){let o=0,s=0,l=e.terrainType(a);switch(l){case 0:o=80,s=16.5;break;case 1:o=100,s=20;break;case 2:o=120,s=25;break;default:throw new Error(`terrain type ${l} not supported`)}if(n.isPlayer()){for(let d of e.nearbyUnits(a,e.config().defensePostRange(),"Defense Post"))if(d.unit.owner()===n){o*=this.defensePostDefenseBonus(),s*=this.defensePostSpeedBonus();break}}if(e.hasFallout(a)){let d=e.numTilesWithFallout()/e.numLandTiles();o*=this.falloutDefenseModifier(d),s*=this.falloutDefenseModifier(d)}if(i.isPlayer()&&n.isPlayer()&&(n.isDisconnected()&&i.isOnSameTeam(n)&&(o=0),i.type()==="HUMAN"&&n.type()==="BOT"&&(o*=.8),i.type()==="FAKEHUMAN"&&n.type()==="BOT"&&(o*=.8)),n.isPlayer()){let d=1-_l(n.numTilesOwned(),y5,g5),u=.7+.3*d,m=.7+.3*d,h=1;i.numTilesOwned()>1e5&&(h=Math.sqrt(1e5/i.numTilesOwned())**.7);let f=1;return i.numTilesOwned()>1e5&&(f=(1e5/i.numTilesOwned())**.6),{attackerTroopLoss:Mt(n.troops()/r,.6,2)*o*.8*m*h*(n.isTraitor()?this.traitorDefenseDebuff():1),defenderTroopLoss:n.troops()/n.numTilesOwned(),tilesPerTickUsed:Mt(n.troops()/(5*r),.2,1.5)*s*u*f*(n.isTraitor()?this.traitorSpeedDebuff():1)}}else return{attackerTroopLoss:i.type()==="BOT"?o/10:o/5,defenderTroopLoss:0,tilesPerTickUsed:Mt(2e3*Math.max(10,s)/r,5,100)}}attackTilesPerTick(e,r,i,n){return i.isPlayer()?Mt(5*e/i.troops()*2,.01,.5)*n*3:n*2}boatAttackAmount(e,r){return Math.floor(e.troops()/5)}warshipShellLifetime(){return 20}radiusPortSpawn(){return 20}tradeShipShortRangeDebuff(){return 300}proximityBonusPortsNb(e){return Mt(e/3,4,e)}attackAmount(e,r){return e.type()==="BOT"?e.troops()/20:e.troops()/5}useNationStrengthForStartManpower(){return!1}startManpower(e){if(e.playerType==="BOT")return 1e4;if(e.playerType==="FAKEHUMAN"){let r=this.useNationStrengthForStartManpower()?e.nationStrength??1:1;switch(this._gameConfig.difficulty){case"Easy":return 18750*r;case"Medium":return 25e3*r;case"Hard":return 31250*r;case"Impossible":return 37500*r}}return this.infiniteTroops()?1e6:25e3}maxTroops(e){let r=e.type()==="HUMAN"&&this.infiniteTroops()?1e9:2*(Math.pow(e.numTilesOwned(),.6)*1e3+5e4)+e.units("City").map(i=>i.level()).reduce((i,n)=>i+n,0)*this.cityTroopIncrease();if(e.type()==="BOT")return r/3;if(e.type()==="HUMAN")return r;switch(this._gameConfig.difficulty){case"Easy":return r*.75;case"Medium":return r*1;case"Hard":return r*1.25;case"Impossible":return r*1.5}}troopIncreaseRate(e){let r=this.maxTroops(e),i=10+Math.pow(e.troops(),.73)/4,n=1-e.troops()/r;if(i*=n,e.type()==="BOT"&&(i*=.6),e.type()==="FAKEHUMAN")switch(this._gameConfig.difficulty){case"Easy":i*=.95;break;case"Medium":i*=1;break;case"Hard":i*=1.05;break;case"Impossible":i*=1.1;break}return Math.min(e.troops()+i,r)-e.troops()}goldAdditionRate(e){return e.type()==="BOT"?50n:100n}nukeMagnitudes(e){switch(e){case"MIRV Warhead":return{inner:12,outer:18};case"Atom Bomb":return{inner:12,outer:30};case"Hydrogen Bomb":return{inner:80,outer:100}}throw new Error(`Unknown nuke type: ${e}`)}nukeAllianceBreakThreshold(){return 100}defaultNukeSpeed(){return 6}defaultNukeTargetableRange(){return 150}defaultSamRange(){return 70}samRange(e){return this.maxSamRange()-480/(e+5)}maxSamRange(){return 150}defaultSamMissileSpeed(){return 12}nukeDeathFactor(e,r,i,n){if(e!=="MIRV Warhead")return 5*r/Math.max(1,i);let a=.03*n,o=Math.max(0,r-a),s=500,l=2,d=o/n;return s*(1-Math.exp(-l*d))}structureMinDist(){return 15}shellLifetime(){return 50}warshipPatrolRange(){return 100}warshipTargettingRange(){return 130}warshipShellAttackRate(){return 20}defensePostShellAttackRate(){return 100}safeFromPiratesCooldownMax(){return 20}defensePostTargettingRange(){return 75}allianceExtensionPromptOffset(){return 300}};var xo=class extends Gt{turnstileSiteKey(){return"1x00000000000000000000AA"}turnstileSecretKey(){return"1x0000000000000000000000000000000AA"}adminToken(){return"WARNING_DEV_ADMIN_KEY_DO_NOT_USE_IN_PRODUCTION"}apiKey(){return"WARNING_DEV_API_KEY_DO_NOT_USE_IN_PRODUCTION"}env(){return 0}gameCreationRate(){return 5*1e3}numWorkers(){return 2}jwtAudience(){return"localhost"}gitCommit(){return"DEV"}domain(){return"localhost"}subdomain(){return""}},_o=class extends rn{constructor(e,r,i,n){super(e,r,i,n)}};var hb=new class extends Gt{env(){return 1}numWorkers(){return 2}turnstileSiteKey(){return"0x4AAAAAAB7QetxHwRCKw-aP"}jwtAudience(){return"openfront.dev"}allowedFlares(){}};var pb=new class extends Gt{numWorkers(){return 20}env(){return 2}jwtAudience(){return"openfront.io"}turnstileSiteKey(){return"0x4AAAAAACFLkaecN39lS8sk"}};var wo=null;async function fb(t,e,r=!1){let i=await T5();switch(i.env()){case 0:return new _o(i,t,e,r);case 1:case 2:return console.log("using prod config"),new rn(i,t,e,r);default:throw Error(`unsupported server configuration: ${process.env.GAME_ENV}`)}}async function T5(){if(wo)return wo;let t=await fetch("/api/env");if(!t.ok)throw new Error(`Failed to fetch server config: ${t.status} ${t.statusText}`);let e=await t.json();return console.log("Server config loaded:",e),wo=x5(e.game_env),wo}function x5(t){switch(t){case"dev":return console.log("using dev server config"),new xo;case"staging":return console.log("using preprod server config"),hb;case"prod":return console.log("using prod server config"),pb;default:throw Error(`unsupported server configuration: ${t}`)}}var Ft=class{constructor(e,r){this.from=e;this.toID=r}init(e,r){if(!e.hasPlayer(this.toID)){console.warn(`[AllianceExtensionExecution] Player ${this.toID} not found`);return}let i=e.player(this.toID);if(!this.from.isAlive()||!i.isAlive()){console.info(`[AllianceExtensionExecution] Player ${this.from.id()} or ${this.toID} is not alive`);return}let n=this.from.allianceWith(i);if(!n){console.warn(`[AllianceExtensionExecution] No alliance to extend between ${this.from.id()} and ${this.toID}`);return}let a=n.onlyOneAgreedToExtend();n.addExtensionRequest(this.from),n.bothAgreedToExtend()?(n.extend(),e.displayMessage("events_display.alliance_renewed",13,this.from.id(),void 0,{name:i.displayName()}),e.displayMessage("events_display.alliance_renewed",13,this.toID,void 0,{name:this.from.displayName()})):n.onlyOneAgreedToExtend()&&!a&&e.displayMessage("events_display.wants_to_renew_alliance",24,this.toID,void 0,{name:this.from.displayName()})}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var nn=class{constructor(e,r){this.requestor=e;this.recipientID=r;this.req=null;this.active=!0}init(e,r){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`AllianceRequestExecution recipient ${this.recipientID} not found`);return}let i=e.player(this.recipientID);if(!this.requestor.canSendAllianceRequest(i))console.warn("cannot send alliance request"),this.active=!1;else{let n=i.outgoingAllianceRequests().find(a=>a.recipient()===this.requestor);n?(this.active=!1,n.accept()):this.req=this.requestor.createAllianceRequest(i)}}tick(e){if(this.req?.status()==="accepted"||this.req?.status()==="rejected"){this.active=!1;return}this.mg.ticks()-(this.req?.createdAt()??0)>this.mg.config().allianceRequestDuration()&&(this.req?.reject(),this.active=!1)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var So=class{constructor(e,r,i){this.requestorID=e;this.recipient=r;this.accept=i;this.active=!0;this.requestor=null}init(e,r){if(!e.hasPlayer(this.requestorID)){console.warn(`AllianceRequestReplyExecution requester ${this.requestorID} not found`),this.active=!1;return}if(this.requestor=e.player(this.requestorID),this.requestor.isFriendly(this.recipient))console.warn("already allied");else{let i=this.requestor.outgoingAllianceRequests().find(n=>n.recipient()===this.recipient);i===void 0?console.warn("no alliance request found"):this.accept?(i.accept(),this.requestor.updateRelation(this.recipient,100),this.recipient.updateRelation(this.requestor,100)):i.reject()}this.active=!1}tick(e){}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Po=class{constructor(e,r){this.requestor=e;this.recipientID=r;this.active=!0;this.recipient=null;this.mg=null}init(e,r){if(!e.hasPlayer(this.recipientID)){console.warn(`BreakAllianceExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.mg=e}tick(e){if(this.mg===null||this.requestor===null||this.recipient===null)throw new Error("Not initialized");let r=this.requestor.allianceWith(this.recipient);if(r===null)console.warn("cant break alliance, not allied");else{this.requestor.breakAlliance(r),this.recipient.updateRelation(this.requestor,-200);for(let i of this.mg.players())i!==this.requestor&&!i.isOnSameTeam(this.requestor)&&i.updateRelation(this.requestor,-40)}this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};function pr(t){return ut(t/10)}function ut(t,e){return t=Number(t),t=Math.max(t,0),t>=1e7?(Math.floor(t/1e5)/10).toFixed(e??1)+"M":t>=1e6?(Math.floor(t/1e4)/100).toFixed(e??2)+"M":t>=1e5?Math.floor(t/1e3)+"K":t>=1e4?(Math.floor(t/100)/10).toFixed(e??1)+"K":t>=1e3?(Math.floor(t/10)/100).toFixed(e??2)+"K":Math.floor(t).toString()}var ko=class{constructor(e=1024){this.len=0;this.pri=new Float32Array(e),this.tiles=new Array(e)}clear(){this.len=0}size(){return this.len}enqueue(e,r){this.len===this.pri.length&&this.grow();let i=this.len++;for(;i>0;){let n=i-1>>1;if(r>=this.pri[n])break;this.pri[i]=this.pri[n],this.tiles[i]=this.tiles[n],i=n}this.pri[i]=r,this.tiles[i]=e}dequeue(){if(this.len===0)throw new Error("heap empty");let e=this.tiles[0],r=this.pri[0],i=this.pri[--this.len],n=this.tiles[this.len],a=0;for(;;){let o=(a<<1)+1;if(o>=this.len)break;let s=o+1,l=s<this.len&&this.pri[s]<this.pri[o]?s:o;if(i<=this.pri[l])break;this.pri[a]=this.pri[l],this.tiles[a]=this.tiles[l],a=l}return this.pri[a]=i,this.tiles[a]=n,[e,r]}grow(){let e=this.pri.length<<1,r=new Float32Array(e);r.set(this.pri),this.pri=r,this.tiles.length=e}};var _5=25,It=class{constructor(e=null,r,i,n=null,a=!0){this.startTroops=e;this._owner=r;this._targetID=i;this.sourceTile=n;this.removeTroops=a;this.active=!0;this.toConquer=new ko;this.random=new U(123);this.attack=null}targetID(){return this._targetID}activeDuringSpawnPhase(){return!1}init(e,r){if(this.active){if(this.mg=e,this._targetID!==null&&!e.hasPlayer(this._targetID)){console.warn(`target ${this._targetID} not found`),this.active=!1;return}if(this.target=this._targetID===this.mg.terraNullius().id()?e.terraNullius():e.player(this._targetID),this._owner===this.target){console.error(`Player ${this._owner} cannot attack itself`),this.active=!1;return}if(this.target.isPlayer()){let i=this.target;if(this._owner.isFriendly(i)){console.warn(`${this._owner.displayName()} cannot attack ${i.displayName()} because they are friendly (allied or same team)`),this.active=!1;return}}if(this.target&&this.target.isPlayer()){let i=this.target;i.type()!=="BOT"&&this._owner.type()!=="BOT"&&(i.addEmbargo(this._owner,!0),this.rejectIncomingAllianceRequests(i))}if(this.target.isPlayer()&&this.mg.config().numSpawnPhaseTurns()+this.mg.config().spawnImmunityDuration()>this.mg.ticks()){console.warn("cannot attack player during immunity phase"),this.active=!1;return}this.startTroops??(this.startTroops=this.mg.config().attackAmount(this._owner,this.target)),this.removeTroops&&(this.startTroops=Math.min(this._owner.troops(),this.startTroops),this._owner.removeTroops(this.startTroops)),this.attack=this._owner.createAttack(this.target,this.startTroops,this.sourceTile,new Set),this.sourceTile!==null?this.addNeighbors(this.sourceTile):this.refreshToConquer(),this.mg.stats().attack(this._owner,this.target,this.startTroops);for(let i of this._owner.incomingAttacks())if(i.attacker()===this.target)if(i.troops()>this.attack.troops()){i.setTroops(i.troops()-this.attack.troops()),this.attack.delete(),this.active=!1;return}else this.attack.setTroops(this.attack.troops()-i.troops()),i.delete();for(let i of this._owner.outgoingAttacks())i!==this.attack&&i.target()===this.attack.target()&&this.attack.sourceTile()===null&&(this.attack.setTroops(this.attack.troops()+i.troops()),i.delete());this.target.isPlayer()&&this.target.updateRelation(this._owner,-80)}}refreshToConquer(){if(this.attack===null)throw new Error("Attack not initialized");this.toConquer.clear(),this.attack.clearBorder();for(let e of this._owner.borderTiles())this.addNeighbors(e)}retreat(e=0){if(this.attack===null)throw new Error("Attack not initialized");let r=this.attack.troops()*(e/100);r&&this.mg.displayMessage(`Attack cancelled, ${pr(r)} soldiers killed during retreat.`,1,this._owner.id()),this.removeTroops===!1&&this.sourceTile===null&&this.attack.setTroops(this.attack.troops()-(this.startTroops??0));let i=this.attack.troops()-r;this._owner.addTroops(i),this.attack.delete(),this.active=!1,this.attack.retreated()&&this.mg.stats().attackCancel(this._owner,this.target,i)}tick(e){if(this.attack===null)throw new Error("Attack not initialized");let r=this.attack.troops(),i=this.target.isPlayer(),n=i?this.target:null;if(this.attack.retreated()){i?this.retreat(_5):this.retreat(),this.active=!1;return}if(this.attack.retreating())return;if(!this.attack.isActive()){this.active=!1;return}if(n&&this._owner.isFriendly(n)){this.retreat();return}let a=this.mg.config().attackTilesPerTick(r,this._owner,this.target,this.attack.borderSize()+this.random.nextInt(0,5));for(;a>0;){if(r<1){this.attack.delete(),this.active=!1;return}if(this.toConquer.size()===0){this.refreshToConquer(),this.retreat();return}let[o]=this.toConquer.dequeue();this.attack.removeBorderTile(o);let s=!1;for(let m of this.mg.neighbors(o))if(this.mg.owner(m)===this._owner){s=!0;break}if(this.mg.owner(o)!==this.target||!s)continue;this.addNeighbors(o);let{attackerTroopLoss:l,defenderTroopLoss:d,tilesPerTickUsed:u}=this.mg.config().attackLogic(this.mg,r,this._owner,this.target,o);a-=u,r-=l,this.attack.setTroops(r),n&&n.removeTroops(d),this._owner.conquer(o),this.handleDeadDefender()}}rejectIncomingAllianceRequests(e){let r=this._owner.incomingAllianceRequests().find(i=>i.requestor()===e);r!==void 0&&r.reject()}addNeighbors(e){if(this.attack===null)throw new Error("Attack not initialized");let r=this.mg.ticks();for(let i of this.mg.neighbors(e)){if(this.mg.isWater(i)||this.mg.owner(i)!==this.target)continue;this.attack.addBorderTile(i);let n=0;for(let s of this.mg.neighbors(i))this.mg.owner(s)===this._owner&&n++;let a=0;switch(this.mg.terrainType(i)){case 0:a=1;break;case 1:a=1.5;break;case 2:a=2;break}let o=(this.random.nextInt(0,7)+10)*(1-n*.5+a/2)+r;this.toConquer.enqueue(i,o)}}handleDeadDefender(){if(this.target.isPlayer()&&this.target.numTilesOwned()<100){this.mg.conquerPlayer(this._owner,this.target);for(let e=0;e<10;e++)for(let r of this.target.tiles())if(this.mg.neighbors(r).some(n=>this.mg.owner(n)===this._owner))this._owner.conquer(r);else for(let n of this.mg.neighbors(r)){let a=this.mg.owner(n);if(a.isPlayer()&&a!==this.target){this.mg.player(a.id()).conquer(r);break}}}}owner(){return this._owner}isActive(){return this.active}};var Io=class{constructor(e,r){this.player=e;this.unitID=r;this.active=!0}init(e,r){}tick(e){let r=this.player.units().find(i=>i.id()===this.unitID&&i.type()==="Transport");if(!r){console.warn(`Didn't find outgoing boat with id ${this.unitID}`),this.active=!1;return}r.orderBoatRetreat(),this.active=!1}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var fr=class{constructor(e,r,i){this.requestor=e;this.recipientID=r;this.emoji=i;this.active=!0}init(e,r){if(this.recipientID!==Ge&&!e.hasPlayer(this.recipientID)){console.warn(`EmojiExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=this.recipientID===Ge?Ge:e.player(this.recipientID)}tick(e){let r=kr[this.emoji];r===void 0?console.warn(`cannot send emoji ${this.emoji} from ${this.requestor} to ${this.recipient}`):this.requestor.canSendEmoji(this.recipient)?(this.requestor.sendEmoji(this.recipient,r),r==="\u{1F595}"&&this.recipient!==Ge&&this.recipient.type()==="FAKEHUMAN"&&this.recipient.updateRelation(this.requestor,-100)):console.warn(`cannot send emoji from ${this.requestor} to ${this.recipient}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var fh=ul(yb(),1);var an=class{constructor(e,r,i,n,a,o=0){this.dst=r;this.iterations=i;this.maxTries=n;this.graph=a;this.directionChangePenalty=o;this.fwdCameFrom=new Map;this.bwdCameFrom=new Map;this.fwdGScore=new Map;this.bwdGScore=new Map;this.meetingPoint=null;this.completed=!1;this.fwdOpenSet=new fh.default((s,l)=>s.fScore<l.fScore),this.bwdOpenSet=new fh.default((s,l)=>s.fScore<l.fScore),this.sources=Array.isArray(e)?e:[e],this.closestSource=this.findClosestSource(r),this.sources.forEach(s=>{this.fwdGScore.set(s,0),this.fwdOpenSet.add({tile:s,fScore:this.heuristic(s,r)})}),this.bwdGScore.set(r,0),this.bwdOpenSet.add({tile:r,fScore:this.heuristic(r,this.findClosestSource(r))})}findClosestSource(e){return this.sources.reduce((r,i)=>this.heuristic(e,i)<this.heuristic(e,r)?i:r)}compute(){if(this.completed)return 2;this.maxTries-=1;let e=this.iterations;for(;!this.fwdOpenSet.isEmpty()&&!this.bwdOpenSet.isEmpty();){if(e--,e<=0)return this.maxTries<=0?3:1;let r=this.fwdOpenSet.poll().tile;if(this.bwdGScore.has(r))return this.meetingPoint=r,this.completed=!0,2;this.expandNode(r,!0);let i=this.bwdOpenSet.poll().tile;if(this.fwdGScore.has(i))return this.meetingPoint=i,this.completed=!0,2;this.expandNode(i,!1)}return this.completed?2:3}expandNode(e,r){for(let i of this.graph.neighbors(e)){if(i!==(r?this.dst:this.closestSource)&&!this.graph.isTraversable(e,i))continue;let n=r?this.fwdGScore:this.bwdGScore,a=r?this.fwdOpenSet:this.bwdOpenSet,o=r?this.fwdCameFrom:this.bwdCameFrom,s=n.get(e)+this.graph.cost(i),l=0;if(this.directionChangePenalty>0){let u=o.get(e);if(u){let m=this.getDirection(u,e),h=this.getDirection(e,i);m!==h&&(l=this.directionChangePenalty)}}let d=s+l;if(!n.has(i)||d<n.get(i)){o.set(i,e),n.set(i,d);let u=d+this.heuristic(i,r?this.dst:this.closestSource);a.add({tile:i,fScore:u})}}}heuristic(e,r){let i=this.graph.position(e),n=this.graph.position(r);return 2*(Math.abs(i.x-n.x)+Math.abs(i.y-n.y))}getDirection(e,r){let i=this.graph.position(e),n=this.graph.position(r),a=n.x-i.x,o=n.y-i.y;return`${Math.sign(a)},${Math.sign(o)}`}reconstructPath(){if(!this.meetingPoint)return[];let e=[this.meetingPoint],r=this.meetingPoint;for(;this.fwdCameFrom.has(r);)r=this.fwdCameFrom.get(r),e.unshift(r);for(r=this.meetingPoint;this.bwdCameFrom.has(r);)r=this.bwdCameFrom.get(r),e.push(r);return e}};var gh=class{constructor(e,r){this.gameMap=e;this.waterPath=r;this.waterPenalty=3}neighbors(e){return this.gameMap.neighbors(e)}cost(e){let r=this.gameMap.cost(e);return!this.waterPath&&this.gameMap.isWater(e)&&(r+=this.waterPenalty),r}position(e){return{x:this.gameMap.x(e),y:this.gameMap.y(e)}}isTraversable(e,r){let i=this.gameMap.isWater(r);if(this.waterPath)return i;let n=this.gameMap.isShoreline(e),a=this.gameMap.isShoreline(r);return!i||n||a}},Wt=class{constructor(e,r,i,n,a,o,s=!0,l=0){this.gameMap=e;this.miniMap=r;this.src=i;this.dst=n;let u=(Array.isArray(i)?i:[i]).map(h=>this.miniMap.ref(Math.floor(e.x(h)/2),Math.floor(e.y(h)/2))),m=this.miniMap.ref(Math.floor(e.x(n)/2),Math.floor(e.y(n)/2));this.aStar=new an(u,m,a,o,new gh(r,s),l)}compute(){return this.aStar.compute()}reconstructPath(){let e;Array.isArray(this.src)||(e=new ne(this.gameMap.x(this.src),this.gameMap.y(this.src)));let r=new ne(this.gameMap.x(this.dst),this.gameMap.y(this.dst));return S5(P5(this.aStar.reconstructPath().map(n=>new ne(this.miniMap.x(n),this.miniMap.y(n)))),r,e).map(n=>this.gameMap.ref(n.x,n.y))}};function S5(t,e,r){if(r!==void 0){let n=bb(t,r);n===-1?t.unshift(r):n!==0&&(t=t.slice(n))}let i=bb(t,e);return i===-1?t.push(e):i!==t.length-1&&(t=t.slice(0,i+1)),t}function P5(t,e=2){let r=t.map(n=>new ne(n.x*e,n.y*e)),i=[];for(let n=0;n<r.length-1;n++){let a=r[n],o=r[n+1];i.push(a);let s=o.x-a.x,l=o.y-a.y,u=Math.max(Math.abs(s),Math.abs(l));for(let m=1;m<u;m++)i.push(new ne(Math.round(a.x+s*m/u),Math.round(a.y+l*m/u)))}return r.length>0&&i.push(r[r.length-1]),i}function bb(t,e){for(let r=0;r<t.length;r++)if(t[r].x===e.x&&t[r].y===e.y)return r;return-1}var ce=class ce{constructor(e,r,i,n){this.numLandTiles_=n;this._numTilesWithFallout=0;if(i.length!==e*r)throw new Error(`Terrain data length ${i.length} doesn't match dimensions ${e}x${r}`);this.width_=e,this.height_=r,this.terrain=i,this.state=new Uint16Array(e*r);let a=0;this.refToX=new Array(e*r),this.refToY=new Array(e*r),this.yToRef=new Array(r);for(let o=0;o<r;o++){this.yToRef[o]=a;for(let s=0;s<e;s++)this.refToX[a]=s,this.refToY[a]=o,a++}}numTilesWithFallout(){return this._numTilesWithFallout}ref(e,r){if(!this.isValidCoord(e,r))throw new Error(`Invalid coordinates: ${e},${r}`);return this.yToRef[r]+e}isValidRef(e){return e>=0&&e<this.refToX.length}x(e){return this.refToX[e]}y(e){return this.refToY[e]}cell(e){return new ne(this.x(e),this.y(e))}width(){return this.width_}height(){return this.height_}numLandTiles(){return this.numLandTiles_}isValidCoord(e,r){return e>=0&&e<this.width_&&r>=0&&r<this.height_}isLand(e){return!!(this.terrain[e]&1<<ce.IS_LAND_BIT)}isOceanShore(e){return this.isLand(e)&&this.neighbors(e).some(r=>this.isOcean(r))}isOcean(e){return!!(this.terrain[e]&1<<ce.OCEAN_BIT)}isShoreline(e){return!!(this.terrain[e]&1<<ce.SHORELINE_BIT)}magnitude(e){return this.terrain[e]&ce.MAGNITUDE_MASK}ownerID(e){return this.state[e]&ce.PLAYER_ID_MASK}hasOwner(e){return this.ownerID(e)!==0}setOwnerID(e,r){if(r>ce.PLAYER_ID_MASK)throw new Error(`Player ID ${r} exceeds maximum value ${ce.PLAYER_ID_MASK}`);this.state[e]=this.state[e]&~ce.PLAYER_ID_MASK|r}hasFallout(e){return!!(this.state[e]&1<<ce.FALLOUT_BIT)}setFallout(e,r){let i=this.hasFallout(e);r?i||(this._numTilesWithFallout++,this.state[e]|=1<<ce.FALLOUT_BIT):i&&(this._numTilesWithFallout--,this.state[e]&=~(1<<ce.FALLOUT_BIT))}isOnEdgeOfMap(e){let r=this.x(e),i=this.y(e);return r===0||r===this.width()-1||i===0||i===this.height()-1}isBorder(e){return this.neighbors(e).some(r=>this.ownerID(r)!==this.ownerID(e))}hasDefenseBonus(e){return!!(this.state[e]&1<<ce.DEFENSE_BONUS_BIT)}setDefenseBonus(e,r){r?this.state[e]|=1<<ce.DEFENSE_BONUS_BIT:this.state[e]&=~(1<<ce.DEFENSE_BONUS_BIT)}isWater(e){return!this.isLand(e)}isLake(e){return!this.isLand(e)&&!this.isOcean(e)}isShore(e){return this.isLand(e)&&this.isShoreline(e)}cost(e){return this.magnitude(e)<10?2:1}terrainType(e){if(this.isLand(e)){let r=this.magnitude(e);return r<10?0:r<20?1:2}return this.isOcean(e)?4:3}neighbors(e){let r=[],i=this.width_,n=this.refToX[e];return e>=i&&r.push(e-i),e<(this.height_-1)*i&&r.push(e+i),n!==0&&r.push(e-1),n!==i-1&&r.push(e+1),r}forEachTile(e){for(let r=0;r<this.width_*this.height_;r++)e(r)}manhattanDist(e,r){return Math.abs(this.x(e)-this.x(r))+Math.abs(this.y(e)-this.y(r))}euclideanDistSquared(e,r){let i=this.x(e)-this.x(r),n=this.y(e)-this.y(r);return i*i+n*n}bfs(e,r){let i=new Set,n=[];for(r(this,e)&&(i.add(e),n.push(e));n.length>0;){let a=n.pop();if(a!==void 0)for(let o of this.neighbors(a))!i.has(o)&&r(this,o)&&(i.add(o),n.push(o))}return i}toTileUpdate(e){return BigInt(e)<<16n|BigInt(this.state[e])}updateTile(e){let r=Number(e>>16n),i=Number(e&0xffffn),n=this.hasFallout(r);this.state[r]=i;let a=this.hasFallout(r);return n&&!a&&this._numTilesWithFallout--,!n&&a&&this._numTilesWithFallout++,r}};ce.IS_LAND_BIT=7,ce.SHORELINE_BIT=6,ce.OCEAN_BIT=5,ce.MAGNITUDE_MASK=31,ce.PLAYER_ID_MASK=4095,ce.FALLOUT_BIT=13,ce.DEFENSE_BONUS_BIT=14;var Ao=ce;function Ii(t,e,r=!1){let i=e*e;return r?(n,a)=>{let o=n.x(t)-.5,s=n.y(t)-.5,l=n.x(a)-o,d=n.y(a)-s;return l*l+d*d<=i}:(n,a)=>n.euclideanDistSquared(t,a)<=i}function sn(t,e,r=!1){return r?(i,n)=>{let a=i.x(t)-.5,o=i.y(t)-.5,s=Math.abs(i.x(n)-a),l=Math.abs(i.y(n)-o);return s+l<=e}:(i,n)=>i.manhattanDist(t,n)<=e}function Ai(t,e){return(r,i)=>t(r,i)&&e(r,i)}function Tb(t,e,r){if(e.unitCount("Transport")>=t.config().boatMaxNumber())return!1;let i=Eo(t,r);if(i===null)return!1;let n=t.owner(r);if(n===e||n.isPlayer()&&e.isFriendly(n))return!1;if(t.isOceanShore(i)){let s=!1;for(let d of e.borderTiles())if(t.isOceanShore(d)){s=!0;break}let l=!1;if(!t.hasOwner(r))l=!0;else for(let d of n.borderTiles())if(t.isOceanShore(d)){l=!0;break}return s&&l?vb(t,e,i):!1}let a=t.bfs(i,Ai(sn(i,300),(s,l)=>t.isLake(l)||t.isShore(l))),o=Array.from(a).sort((s,l)=>t.manhattanDist(i,s)-t.manhattanDist(i,l));for(let s of o)if(t.owner(s)===e)return vb(t,e,s);return!1}function vb(t,e,r){if(!t.isShore(r))return!1;let i=xb(t,e,r);return i===null?!1:i}function Eo(t,e){let r=t.playerBySmallID(t.ownerID(e)),i=null;return r.isPlayer()?i=xb(t,r,e):i=I5(t,e,50),i}function xb(t,e,r){let i=Array.from(e.borderTiles()).filter(n=>t.isShore(n));return i.length===0?null:i.reduce((n,a)=>{let o=t.manhattanDist(r,n);return t.manhattanDist(r,a)<o?a:n})}function _b(t,e,r){let i=Eo(t,r);if(i===null)return!1;let n=k5(t,e,i);if(n.length===0)return!1;let a=new Wt(t,t.miniMap(),n,i,1e6,1),o=a.compute();if(o!==2)return console.warn(`bestShoreDeploymentSource: path not found: ${o}`),!1;let s=a.reconstructPath();if(s.length===0)return!1;let l=s[0],d=t.neighbors(l).filter(u=>t.isShore(u)&&t.owner(u)===e);return d.length===0?!1:d[0]}function k5(t,e,r){let i=1/0,n=1/0,a=1/0,o=-1/0,s=-1/0,l=null,d={minX:null,minY:null,maxX:null,maxY:null},u=Array.from(e.borderTiles()).filter(p=>t.isShore(p));for(let p of u){let T=t.manhattanDist(p,r),x=t.cell(p);T<i&&(i=T,l=p),x.x<n?(n=x.x,d.minX=p):x.y<a?(a=x.y,d.minY=p):x.x>o?(o=x.x,d.maxX=p):x.y>s&&(s=x.y,d.maxY=p)}let m=Math.max(10,Math.ceil(u.length/50)),h=u.filter((p,T)=>T%m===0);return[l,d.minX,d.minY,d.maxX,d.maxY,...h].filter(Boolean)}function I5(t,e,r){let i=Array.from(t.bfs(e,Ai((n,a)=>!t.hasOwner(a),sn(e,r)))).filter(n=>t.isShore(n)).sort((n,a)=>t.manhattanDist(e,n)-t.manhattanDist(e,a));return i.length===0?null:i[0]}var yh=class{constructor(e,r,i,n){this.p0=e;this.p1=r;this.p2=i;this.p3=n}getPointAt(e){let r=1-e,i=r*r,n=i*r,a=e*e,o=a*e,s=n*this.p0.x+3*i*e*this.p1.x+3*r*a*this.p2.x+o*this.p3.x,l=n*this.p0.y+3*i*e*this.p1.y+3*r*a*this.p2.y+o*this.p3.y;return{x:s,y:l}}},$o=class extends yh{constructor(r,i,n,a,o){super(r,i,n,a);this.totalDistance=0;this.cachedPoints=[];this.currentIndex=0;this.computeAllPoints(o,.002)}getAllPoints(){return this.cachedPoints}increment(r){for(this.totalDistance+=r;this.currentIndex<this.cachedPoints.length-1&&this.getDistanceUpToIndex(this.currentIndex+1)<this.totalDistance;)this.currentIndex++;return this.currentIndex>=this.cachedPoints.length-1?null:this.cachedPoints[this.currentIndex]}getCurrentIndex(){return this.currentIndex}computeAllPoints(r,i){this.cachedPoints=[],this.totalDistance=0,this.currentIndex=0;let n=0,a=this.getPointAt(n);this.cachedPoints.push(a);let o=0;for(;n<1;){n=Math.min(n+i,1);let l=this.getPointAt(n),d=l.x-a.x,u=l.y-a.y,m=Math.sqrt(d*d+u*u);o+=m,o>=r&&(this.cachedPoints.push(l),o=0),a=l}let s=this.getPointAt(1);(this.cachedPoints.length===0||s.x!==this.cachedPoints[this.cachedPoints.length-1].x||s.y!==this.cachedPoints[this.cachedPoints.length-1].y)&&this.cachedPoints.push(s)}getDistanceUpToIndex(r){let i=0;for(let n=1;n<=r;n++){let a=this.cachedPoints[n-1],o=this.cachedPoints[n],s=o.x-a.x,l=o.y-a.y;i+=Math.sqrt(s*s+l*l)}return i}};var A5=50,ln=class{constructor(e){this.mg=e}computeControlPoints(e,r,i=3,n=!0){let a={x:this.mg.x(e),y:this.mg.y(e)},o={x:this.mg.x(r),y:this.mg.y(r)},s=o.x-a.x,l=o.y-a.y,d=Math.sqrt(s*s+l*l),u=n?Math.max(d/3,A5):0,m={x:a.x+(o.x-a.x)/4,y:Math.max(a.y+(o.y-a.y)/4-u,0)},h={x:a.x+(o.x-a.x)*3/4,y:Math.max(a.y+(o.y-a.y)*3/4-u,0)};this.curve=new $o(a,m,h,o,i)}nextTile(e){if(!this.curve)throw new Error("ParabolaPathFinder not initialized");let r=this.curve.increment(e);return r?this.mg.ref(Math.floor(r.x),Math.floor(r.y)):!0}currentIndex(){return this.curve?this.curve.getCurrentIndex():0}allTiles(){return this.curve?this.curve.getAllPoints().map(e=>this.mg.ref(Math.floor(e.x),Math.floor(e.y))):[]}},cn=class{constructor(e,r){this.mg=e;this.random=r}nextTile(e,r){let i=this.mg.x(e),n=this.mg.y(e),a=this.mg.x(r),o=this.mg.y(r);if(i===a&&n===o)return!0;let s=i,l=n,d=Math.floor(1+Math.abs(o-n)/(Math.abs(a-i)+1));return this.random.chance(d)&&i!==a?i<a?s++:i>a&&s--:n<o?l++:n>o&&l--,s===i&&l===n?!0:this.mg.ref(s,l)}},qt=class t{constructor(e,r){this.game=e;this.newAStar=r;this.curr=null;this.dst=null;this.path=null;this.path_idx=0;this.computeFinished=!0}static Mini(e,r,i=!0,n=20){return new t(e,(a,o)=>new Wt(e.map(),e.miniMap(),a,o,r,n,i))}nextTile(e,r,i=1){if(e===null)return console.error("curr is null"),{type:3};if(r===null)return console.error("dst is null"),{type:3};if(this.game.manhattanDist(e,r)<i)return this.path=null,{type:2,node:e};if(this.computeFinished){if(this.shouldRecompute(e,r))return this.curr=e,this.dst=r,this.path=null,this.path_idx=0,this.aStar=this.newAStar(e,r),this.computeFinished=!1,this.nextTile(e,r);{let n=this.path?.[this.path_idx++];if(n===void 0)throw new Error("missing tile");return{type:0,node:n}}}switch(this.aStar.compute()){case 2:return this.computeFinished=!0,this.path=this.aStar.reconstructPath(),this.path_idx=1,this.nextTile(e,r);case 1:return{type:1};case 3:return{type:3};default:throw new Error("unexpected compute result")}}shouldRecompute(e,r){if(this.path===null||this.curr===null||this.dst===null)return!0;let i=this.game.manhattanDist(e,r),n=10;return i>50?n=10:i>25?n=5:n=0,this.game.manhattanDist(this.dst,r)>n}};var E5=25,Zt=class{constructor(e,r,i,n,a){this.attacker=e;this.targetID=r;this.ref=i;this.startTroops=n;this.src=a;this.ticksPerMove=1;this.active=!0;this.originalOwner=this.attacker}activeDuringSpawnPhase(){return!1}init(e,r){if(this.targetID!==null&&!e.hasPlayer(this.targetID)){console.warn(`TransportShipExecution: target ${this.targetID} not found`),this.active=!1;return}if(!e.isValidRef(this.ref)){console.warn(`TransportShipExecution: ref ${this.ref} not valid`),this.active=!1;return}if(this.src!==null&&!e.isValidRef(this.src)){console.warn(`TransportShipExecution: src ${this.src} not valid`),this.active=!1;return}if(this.lastMove=r,this.mg=e,this.pathFinder=qt.Mini(e,1e4,!0,100),this.attacker.unitCount("Transport")>=e.config().boatMaxNumber()){e.displayMessage(`No boats available, max ${e.config().boatMaxNumber()}`,0,this.attacker.id()),this.active=!1;return}if(this.targetID===null||this.targetID===this.mg.terraNullius().id()?this.target=e.terraNullius():this.target=e.player(this.targetID),this.startTroops??(this.startTroops=this.mg.config().boatAttackAmount(this.attacker,this.target)),this.startTroops=Math.min(this.startTroops,this.attacker.troops()),this.dst=Eo(this.mg,this.ref),this.dst===null){console.warn(`${this.attacker} cannot send ship to ${this.target}, cannot find attack tile`),this.active=!1;return}let i=this.attacker.canBuild("Transport",this.dst);if(i===!1){console.warn("can't build transport ship"),this.active=!1;return}this.src===null?this.src=i:(this.mg.owner(this.src)!==this.attacker||!this.mg.isShore(this.src))&&(console.warn(`src is not a shore tile or not owned by: ${this.attacker.name()}`),this.src=i),this.boat=this.attacker.buildUnit("Transport",this.src,{troops:this.startTroops}),this.dst!==null?this.boat.setTargetTile(this.dst):this.boat.setTargetTile(void 0),this.targetID&&this.targetID!==e.terraNullius().id()&&e.displayIncomingUnit(this.boat.id(),`Naval invasion incoming from ${this.attacker.displayName()}`,7,this.targetID),this.mg.stats().boatSendTroops(this.attacker,this.target,this.boat.troops())}tick(e){if(this.dst===null){this.active=!1;return}if(!this.active)return;if(!this.boat.isActive()){this.active=!1;return}if(e-this.lastMove<this.ticksPerMove)return;this.lastMove=e;let r=this.boat.owner();if(this.originalOwner.isDisconnected()&&r!==this.originalOwner&&r.isOnSameTeam(this.originalOwner)&&(this.attacker=r,this.originalOwner=r),this.boat.retreating()){if(this.mg.owner(this.src)!==this.attacker){let n=this.attacker.bestTransportShipSpawn(this.dst);n===!1?this.src=null:this.src=n}if(this.src===null){console.warn("TransportShipExecution: retreating but no src found for new attacker"),this.attacker.addTroops(this.boat.troops()),this.boat.delete(!1),this.active=!1;return}else this.dst=this.src,this.boat.targetTile()!==this.dst&&this.boat.setTargetTile(this.dst)}let i=this.pathFinder.nextTile(this.boat.tile(),this.dst);switch(i.type){case 2:if(this.mg.owner(this.dst)===this.attacker){let n=this.boat.troops()*(E5/100),a=this.boat.troops()-n;this.attacker.addTroops(a),this.boat.delete(!1),this.active=!1,this.mg.stats().boatArriveTroops(this.attacker,this.target,a),n&&this.mg.displayMessage(`Attack cancelled, ${pr(n)} soldiers killed during retreat.`,1,this.attacker.id());return}this.attacker.conquer(this.dst),this.target.isPlayer()&&this.attacker.isFriendly(this.target)?this.attacker.addTroops(this.boat.troops()):this.mg.addExecution(new It(this.boat.troops(),this.attacker,this.targetID,this.dst,!1)),this.boat.delete(!1),this.active=!1,this.mg.stats().boatArriveTroops(this.attacker,this.target,this.boat.troops());return;case 0:this.boat.move(i.node);break;case 1:break;case 3:console.warn("path not found to dst"),this.attacker.addTroops(this.boat.troops()),this.boat.delete(!1),this.active=!1;return}}owner(){return this.attacker}isActive(){return this.active}};function wb(t,e){return Array.from(t.bfs(e,Ii(e,4,!0))).filter(r=>!t.hasOwner(r)&&t.isLand(r))}function Ro(t,e,r){let i=1/0,n=null;for(let a of e){let o=t.manhattanDist(a,r);o<i&&(i=o,n=a)}return[n,i]}function At(t,e,r){let i=Array.from(e).sort((d,u)=>t.x(d)-t.x(u)),n=Array.from(r).sort((d,u)=>t.x(d)-t.x(u));if(i.length===0||n.length===0)return null;let a=0,o=0,s=1/0,l={x:i[0],y:n[0]};for(;a<i.length&&o<n.length;){let d=i[a],u=n[o],m=Math.abs(t.x(d)-t.x(u))+Math.abs(t.y(d)-t.y(u));m<s&&(s=m,l={x:d,y:u}),a===i.length-1?o++:o===n.length-1||t.x(d)<t.x(u)?a++:o++}return l}function Sb(t,e){let r=e.borderTiles();if(r.size===0)return null;let i=1/0,n=-1/0,a=1/0,o=-1/0;for(let h of r){let f=t.x(h),p=t.y(h);f<i&&(i=f),f>n&&(n=f),p<a&&(a=p),p>o&&(o=p)}let s=Math.floor((i+n)/2),l=Math.floor((a+o)/2),d=t.ref(s,l);if(t.owner(d)===e)return d;let u=null,m=1/0;for(let h of r){let f=t.x(h)-s,p=t.y(h)-l,T=f*f+p*p;T<m&&(m=T,u=h)}return u}var Ei=t=>kr.indexOf(t),$5=["\u{1F44D}","\u26F5","\u{1F91D}","\u{1F3AF}"].map(Ei),R5=["\u{1F971}","\u{1F926}\u200D\u2642\uFE0F"].map(Ei),C5=["\u{1F97A}","\u{1F480}"].map(Ei),M5=["\u{1F54A}\uFE0F","\u{1F44E}"].map(Ei),D5=["\u{1F921}","\u{1F621}"].map(Ei),un=class{constructor(e,r,i,n,a,o){this.random=e;this.game=r;this.player=i;this.triggerRatio=n;this.reserveRatio=a;this.expandRatio=o;this.botAttackTroopsSent=0;this.lastEmojiSent=new Map}emoji(e,r){e.type()==="HUMAN"&&this.game.addExecution(new fr(this.player,e.id(),r))}shouldAttack(e){if(e.isPlayer()===!1||e.type()!=="HUMAN"||e.isTraitor()||this.player.type()==="BOT")return!0;let{difficulty:r}=this.game.config().gameConfig();return!(r==="Easy"&&this.random.chance(4)||r==="Medium"&&this.random.chance(2))}betray(e){let r=this.player.allianceWith(e);r&&this.player.breakAlliance(r)}hasReserveRatioTroops(){let e=this.game.config().maxTroops(this.player);return this.player.troops()/e>=this.reserveRatio}hasTriggerRatioTroops(){let e=this.game.config().maxTroops(this.player);return this.player.troops()/e>=this.triggerRatio}findIncomingAttackPlayer(){let e=this.player.incomingAttacks();this.player.type()!=="BOT"&&(e=e.filter(n=>n.attacker().type()!=="BOT"));let r=0,i;for(let n of e)n.troops()<=r||(r=n.troops(),i=n.attacker());return i!==void 0?i:null}getNeighborTraitorToAttack(){let e=this.player.neighbors().filter(r=>r.isPlayer()&&this.player.isFriendly(r)===!1&&r.isTraitor());return e.length>0?this.random.randElement(e):null}assistAllies(){for(let e of this.player.allies())if(e.targets().length!==0){if(this.player.relation(e)<3){this.emoji(e,this.random.randElement(R5));continue}for(let r of e.targets()){if(r===this.player){this.emoji(e,this.random.randElement(C5));continue}if(this.player.isFriendly(r)){this.emoji(e,this.random.randElement(M5));continue}this.player.updateRelation(e,-20),this.sendAttack(r),this.emoji(e,this.random.randElement($5));return}}}attackBestTarget(e,r){if(!this.hasReserveRatioTroops()||!this.hasTriggerRatioTroops()&&!this.random.chance(10))return;let i=this.findIncomingAttackPlayer();if(i){this.sendAttack(i,!0);return}if(this.attackBots()||this.maybeBetrayAndAttack(e))return;if(this.isBorderingNukedTerritory()){this.sendAttack(this.game.terraNullius());return}let n=this.player.allRelationsSorted()[0];if(n!==void 0&&n.relation===0&&this.player.isFriendly(n.player)===!1){this.sendAttack(n.player);return}if(r.length>0){this.sendAttack(r[0]);return}if(r.length===0){let a=this.findNearestIslandEnemy();if(a){this.sendAttack(a);return}}}attackBots(){let e=this.player.neighbors().filter(a=>a.isPlayer()&&this.player.isFriendly(a)===!1&&a.type()==="BOT");if(e.length===0)return!1;this.botAttackTroopsSent=0;let r=a=>a.troops()/a.numTilesOwned(),n=e.slice().sort((a,o)=>r(a)-r(o)).slice(0,this.getBotAttackMaxParallelism());for(let a of n)this.sendAttack(a);return this.botAttackTroopsSent>0}getBotAttackMaxParallelism(){let{difficulty:e}=this.game.config().gameConfig();switch(e){case"Easy":return 1;case"Medium":return 2;case"Hard":return 4;default:return 100}}maybeBetrayAndAttack(e){if(e.length>0){for(let r of e)if(this.player.isAlliedWith(r)&&this.player.troops()>=r.troops()*10)return this.betray(r),this.sendAttack(r,!0),!0}return!1}findBestNukeTarget(e){let r=this.findIncomingAttackPlayer();if(r)return r;let i=this.player.allRelationsSorted()[0];if(i!==void 0&&i.relation===0&&this.player.isFriendly(i.player)===!1)return i.player;if(e.length>0)return e[0];if(e.length===0){let n=this.findNearestIslandEnemy();if(n)return n}return null}getPlayerCenter(e){return e.largestClusterBoundingBox?Tl(e.largestClusterBoundingBox):Wp(this.game,e.borderTiles())}findNearestIslandEnemy(){if(this.player.borderTiles().size===0)return null;let r=this.game.players().filter(i=>i===this.player||!i.isAlive()||i.borderTiles().size===0||this.player.isFriendly(i)?!1:i.troops()<=this.player.troops()*2);if(r.length>0){let i=this.getPlayerCenter(this.player),n=r.map(o=>{let s=this.getPlayerCenter(o),l=this.game.ref(i.x,i.y),d=this.game.ref(s.x,s.y),u=this.game.manhattanDist(l,d);return{player:o,distance:u}}).sort((o,s)=>o.distance-s.distance),a;if(n.length>1&&this.random.chance(2)?a=n[1].player:a=n[0].player,a!==null)return a}return null}attackRandomTarget(){if(!this.hasTriggerRatioTroops())return;let e=this.findIncomingAttackPlayer();if(e){this.sendAttack(e,!0);return}let r=this.getNeighborTraitorToAttack();if(r!==null&&this.random.chance(3)){this.sendAttack(r);return}let i=this.player.neighbors();for(let n of this.random.shuffleArray(i))if(n.isPlayer()&&!this.player.isFriendly(n)&&!((n.type()==="FAKEHUMAN"||n.type()==="HUMAN")&&this.random.chance(2))){this.sendAttack(n);return}}isBorderingNukedTerritory(){for(let e of this.player.borderTiles())for(let r of this.game.neighbors(e))if(this.game.isLand(r)&&!this.game.hasOwner(r)&&this.game.hasFallout(r))return!0;return!1}forceSendAttack(e){this.game.addExecution(new It(this.player.troops()/2,this.player,e.isPlayer()?e.id():this.game.terraNullius().id()))}sendAttack(e,r=!1){!r&&!this.shouldAttack(e)||(this.player.sharesBorderWith(e)?this.sendLandAttack(e):e.isPlayer()&&this.sendBoatAttack(e))}sendLandAttack(e){let r=this.game.config().maxTroops(this.player),i=e.isPlayer()?this.reserveRatio:this.expandRatio,n=r*i,a;e.isPlayer()&&e.type()==="BOT"&&this.player.type()!=="BOT"?a=this.calculateBotAttackTroops(e,this.player.troops()-n-this.botAttackTroopsSent):a=this.player.troops()-n,!(a<1)&&(this.game.addExecution(new It(a,this.player,e.isPlayer()?e.id():this.game.terraNullius().id())),e.isPlayer()&&this.maybeSendEmoji(e))}sendBoatAttack(e){let r=At(this.game,Array.from(this.player.borderTiles()).filter(n=>this.game.isOceanShore(n)),Array.from(e.borderTiles()).filter(n=>this.game.isOceanShore(n)));if(r===null)return;let i;e.type()==="BOT"?i=this.calculateBotAttackTroops(e,this.player.troops()/5):i=this.player.troops()/5,!(i<1)&&(this.game.addExecution(new Zt(this.player,e.id(),r.y,i,null)),this.maybeSendEmoji(e))}calculateBotAttackTroops(e,r){let{difficulty:i}=this.game.config().gameConfig();if(i==="Easy")return this.botAttackTroopsSent+=r,r;let n=e.troops()*4;return n>r&&(r<e.troops()*2?n=0:n=r),this.botAttackTroopsSent+=n,n}maybeSendEmoji(e){if(this.player.type()==="BOT"||e.type()!=="HUMAN")return;let r=this.lastEmojiSent.get(e)??-300;this.game.ticks()-r<=300||(this.lastEmojiSent.set(e,this.game.ticks()),this.game.addExecution(new fr(this.player,e.id(),this.random.randElement(D5))))}};var Mo=class{constructor(e){this.bot=e;this.active=!0;this.neighborsTerraNullius=!0;this.behavior=null;this.random=new U(Z(e.id())),this.attackRate=this.random.nextInt(40,80),this.attackTick=this.random.nextInt(0,this.attackRate),this.triggerRatio=this.random.nextInt(50,60)/100,this.reserveRatio=this.random.nextInt(30,40)/100,this.expandRatio=this.random.nextInt(10,20)/100}activeDuringSpawnPhase(){return!1}init(e){this.mg=e}tick(e){if(e%this.attackRate===this.attackTick){if(!this.bot.isAlive()){this.active=!1;return}if(this.behavior===null){this.behavior=new un(this.random,this.mg,this.bot,this.triggerRatio,this.reserveRatio,this.expandRatio),this.behavior.sendAttack(this.mg.terraNullius());return}this.acceptAllAllianceRequests(),this.maybeAttack()}}acceptAllAllianceRequests(){for(let e of this.bot.incomingAllianceRequests())e.accept();for(let e of this.bot.alliances()){if(!e.onlyOneAgreedToExtend())continue;let r=e.other(this.bot);this.mg.addExecution(new Ft(this.bot,r.id()))}}maybeAttack(){if(this.behavior===null)throw new Error("not initialized");let e=this.behavior.getNeighborTraitorToAttack();if(e!==null){let r=this.bot.isFriendly(e)?6:3;if(this.random.chance(r)){let i=this.bot.allianceWith(e);i!==null&&this.bot.breakAlliance(i),this.behavior.sendAttack(e);return}}if(this.neighborsTerraNullius){if(this.bot.sharesBorderWith(this.mg.terraNullius())){this.behavior.sendAttack(this.mg.terraNullius());return}this.neighborsTerraNullius=!1}this.behavior.attackRandomTarget()}isActive(){return this.active}};var Pb=new WeakMap,Do=class{constructor(e){this.player=e;this.ticksPerClusterCalc=20;this.lastCalc=0;this.active=!0}activeDuringSpawnPhase(){return!1}init(e,r){this.mg=e,this.config=e.config(),this.lastCalc=r+Z(this.player.name())%this.ticksPerClusterCalc}tick(e){this.player.decayRelations();for(let o of this.player.units()){if(!o.info().territoryBound)continue;let s=this.mg.owner(o.tile());if(!s?.isPlayer()){o.delete();continue}if(s===this.player)continue;let l=this.mg.player(s.id());o.type()==="Defense Post"?(o.decreaseLevel(l),o.isActive()&&l.captureUnit(o)):l.captureUnit(o)}if(!this.player.isAlive()){let o=this.player.gold();this.player.removeGold(o),this.player.units().forEach(s=>{s.type()!=="Atom Bomb"&&s.type()!=="Hydrogen Bomb"&&s.type()!=="MIRV Warhead"&&s.type()!=="MIRV"&&s.delete()}),this.active=!1,this.mg.stats().playerKilled(this.player,e);return}let r=this.config.troopIncreaseRate(this.player);this.player.addTroops(r);let i=this.config.goldAdditionRate(this.player);this.player.addGold(i),this.mg.stats().goldWork(this.player,i);let n=Array.from(this.player.alliances());for(let o of n)o.expiresAt()<=this.mg.ticks()&&o.expire();let a=this.player.getEmbargoes();for(let o of a)o.isTemporary&&this.mg.ticks()-o.createdAt>this.mg.config().temporaryEmbargoDuration()&&this.player.stopEmbargo(o.target);if(e-this.lastCalc>this.ticksPerClusterCalc&&this.player.lastTileChange()>this.lastCalc){this.lastCalc=e;let o=performance.now();this.removeClusters();let s=performance.now();s-o>1e3&&console.log(`player ${this.player.name()}, took ${s-o}ms`)}}removeClusters(){let e=this.calculateClusters();if(e.length===0){this.player.largestClusterBoundingBox=null;return}let r=0,i=e[0].size;for(let o=1;o<e.length;o++){let s=e[o].size;s>i&&(i=s,r=o)}let n=e[r];if(n===void 0)throw new Error("No clusters");this.player.largestClusterBoundingBox=Ye(this.mg,n);let a=this.surroundedBySamePlayer(n);a&&!a.isFriendly(this.player)&&this.removeCluster(n);for(let o=0;o<e.length;o++){if(o===r)continue;let s=e[o];this.isSurrounded(s)&&this.removeCluster(s)}}surroundedBySamePlayer(e){let r=new Set;for(let o of e){let s=!1;if(this.mg.isOceanShore(o)||this.mg.isOnEdgeOfMap(o)||(this.mg.forEachNeighbor(o,l=>{if(!this.mg.hasOwner(l)){s=!0;return}let d=this.mg.ownerID(l);d!==this.player.smallID()&&r.add(d)}),s)||r.size!==1)return!1}if(r.size!==1)return!1;let i=this.mg.playerBySmallID(Array.from(r)[0]),n=Ye(this.mg,i.borderTiles()),a=Ye(this.mg,e);return xl(n,a)?i:!1}isSurrounded(e){let r=new Set;for(let a of e){if(this.mg.isShore(a)||this.mg.isOnEdgeOfMap(a))return!1;this.mg.forEachNeighbor(a,o=>{this.mg.owner(o).isPlayer()&&this.mg.ownerID(o)!==this.player.smallID()&&r.add(o)})}if(r.size===0)return!1;let i=Ye(this.mg,r),n=Ye(this.mg,e);return xl(i,n)}removeCluster(e){if(Array.from(e).some(a=>this.mg?.ownerID(a)!==this.player?.smallID()))return;let r=this.getCapturingPlayer(e);if(r===null)return;let i=e.values().next().value;if(!i)return;let n=this.floodFillWithGen(this.bumpGeneration(),this.traversalState().visited,[i],(a,o)=>this.mg.forEachNeighbor(a,o),a=>this.mg.ownerID(a)===this.player.smallID());this.player.numTilesOwned()===n.size&&this.mg.conquerPlayer(r,this.player);for(let a of n)r.conquer(a)}getCapturingPlayer(e){let r=new Map;for(let a of e)this.mg.forEachNeighbor(a,o=>{let s=this.mg.owner(o);s.isPlayer()&&s!==this.player&&!s.isFriendly(this.player)&&r.set(s,(r.get(s)??0)+1)});if(r.size===0)return null;let i=null,n=0;for(let[a]of r)for(let o of a.outgoingAttacks())o.target()===this.player&&o.troops()>n&&(n=o.troops(),i=a);return i!==null?i:Fp(r)}calculateClusters(){let e=this.player.borderTiles();if(e.size===0)return[];let r=this.traversalState(),i=this.bumpGeneration(),n=r.visited,a=[];for(let o of e){if(n[o]===i)continue;let s=this.floodFillWithGen(i,n,[o],(l,d)=>this.mg.forEachNeighborWithDiag(l,d),l=>e.has(l));a.push(s)}return a}owner(){if(this.player===null)throw new Error("Not initialized");return this.player}isActive(){return this.active}traversalState(){let e=this.mg.width()*this.mg.height(),r=Pb.get(this.mg);return(!r||r.visited.length<e)&&(r={visited:new Uint32Array(e),gen:0},Pb.set(this.mg,r)),r}bumpGeneration(){let e=this.traversalState();return e.gen++,e.gen===4294967295&&(e.visited.fill(0),e.gen=1),e.gen}floodFillWithGen(e,r,i,n,a){let o=new Set,s=[];for(let l of i)r[l]!==e&&a(l)&&(r[l]=e,o.add(l),s.push(l));for(;s.length>0;){let l=s.pop();n(l,d=>{r[d]!==e&&a(d)&&(r[d]=e,o.add(d),s.push(d))})}return o}};var dt=class{constructor(e,r){this.playerInfo=e;this.tile=r;this.active=!0}init(e,r){this.mg=e}tick(e){if(this.active=!1,!this.mg.isValidRef(this.tile)){console.warn(`SpawnExecution: tile ${this.tile} not valid`);return}if(!this.mg.inSpawnPhase()){this.active=!1;return}let r=null;this.mg.hasPlayer(this.playerInfo.id)?r=this.mg.player(this.playerInfo.id):r=this.mg.addPlayer(this.playerInfo),r.tiles().forEach(i=>r.relinquish(i)),wb(this.mg,this.tile).forEach(i=>{r.conquer(i)}),r.hasSpawned()||(this.mg.addExecution(new Do(r)),r.type()==="BOT"&&this.mg.addExecution(new Mo(r))),r.setHasSpawned(!0)}isActive(){return this.active}activeDuringSpawnPhase(){return!0}};var No=class{constructor(e,r){this.gs=e;this.bots=[];this.random=new U(Z(r))}spawnBots(e){let r=0;for(;this.bots.length<e;){if(r>1e4)return console.log("too many retries while spawning bots, giving up"),this.bots;let i=this.randomBotName(),n=this.spawnBot(i);n!==null?this.bots.push(n):r++}return this.bots}spawnBot(e){let r=this.randTile();if(!this.gs.isLand(r))return null;for(let i of this.bots)if(this.gs.manhattanDist(i.tile,r)<30)return null;return new dt(new Qt(e,"BOT",null,this.random.nextID()),r)}randomBotName(){let e=this.random.nextInt(0,Wi.length),r=this.random.nextInt(0,qi.length);return`${Wi[e]} ${qi[r]}`}randTile(){return this.gs.ref(this.random.nextInt(0,this.gs.width()),this.random.nextInt(0,this.gs.height()))}};var mt=(v=>(v[v.Tile=0]="Tile",v[v.Unit=1]="Unit",v[v.Player=2]="Player",v[v.DisplayEvent=3]="DisplayEvent",v[v.DisplayChatEvent=4]="DisplayChatEvent",v[v.AllianceRequest=5]="AllianceRequest",v[v.AllianceRequestReply=6]="AllianceRequestReply",v[v.BrokeAlliance=7]="BrokeAlliance",v[v.AllianceExpired=8]="AllianceExpired",v[v.AllianceExtension=9]="AllianceExtension",v[v.TargetPlayer=10]="TargetPlayer",v[v.Emoji=11]="Emoji",v[v.Win=12]="Win",v[v.Hash=13]="Hash",v[v.UnitIncoming=14]="UnitIncoming",v[v.BonusEvent=15]="BonusEvent",v[v.RailroadEvent=16]="RailroadEvent",v[v.ConquestEvent=17]="ConquestEvent",v[v.EmbargoEvent=18]="EmbargoEvent",v))(mt||{});var bh=class{onStop(e,r,i){let n=r.unit.owner(),a=i.owner(),o=e.config().trainGold(Ib(a,n));a!==n&&n.addGold(o,r.tile()),a.addGold(o,r.tile())}},vh=class{constructor(e){this.random=e}onStop(e,r,i){let n=r.unit.owner(),a=i.owner(),o=e.config().trainGold(Ib(a,n));a.addGold(o,r.tile()),a!==n&&n.addGold(o,r.tile())}},Th=class{onStop(e,r,i){}};function N5(t){return{City:new bh,Port:new vh(t),Factory:new Th}}var Uo=class{constructor(e,r){this.mg=e;this.unit=r;this.stopHandlers={};this.railroads=new Set;this.railroadByNeighbor=new Map;this.stopHandlers=N5(new U(e.ticks()))}tradeAvailable(e){let r=this.unit.owner();return e===r||r.canTrade(e)}clearRailroads(){this.railroads.clear(),this.railroadByNeighbor.clear()}addRailroad(e){this.railroads.add(e);let r=e.from===this?e.to:e.from;this.railroadByNeighbor.set(r,e)}removeRailroad(e){this.railroads.delete(e);let r=e.from===this?e.to:e.from;this.railroadByNeighbor.delete(r)}removeNeighboringRails(e){let r=[...this.railroads].find(i=>i.from===e||i.to===e);if(r){let i=r.tiles.map(n=>({tile:n,railType:0}));this.mg.addUpdate({type:16,isActive:!1,railTiles:i}),this.removeRailroad(r)}}neighbors(){let e=[];for(let r of this.railroads)r.from!==this?e.push(r.from):e.push(r.to);return e}tile(){return this.unit.tile()}isActive(){return this.unit.isActive()}getRailroads(){return this.railroads}getRailroadTo(e){return this.railroadByNeighbor.get(e)??null}setCluster(e){this.cluster=e}getCluster(){return this.cluster}onTrainStop(e){let r=this.unit.type(),i=this.stopHandlers[r];i&&i.onStop(this.mg,this,e)}},zo=class{constructor(e){this.game=e}neighbors(e){return e.neighbors()}cost(e){return 1}position(e){return{x:this.game.x(e.tile()),y:this.game.y(e.tile())}}isTraversable(e,r){return!0}},dn=class{constructor(){this.stations=new Set}has(e){return this.stations.has(e)}addStation(e){this.stations.add(e),e.setCluster(this)}removeStation(e){this.stations.delete(e)}addStations(e){for(let r of e)this.addStation(r)}merge(e){for(let r of e.stations)this.addStation(r)}availableForTrade(e){let r=new Set;for(let i of this.stations)(i.unit.type()==="City"||i.unit.type()==="Port")&&i.tradeAvailable(e)&&r.add(i);return r}size(){return this.stations.size}clear(){this.stations.clear()}};function Ib(t,e){return t===e?"self":t.isOnSameTeam(e)?"team":t.isAlliedWith(e)?"ally":"other"}var Oo=class{constructor(e,r,i){this.from=e;this.to=r;this.tiles=i}delete(e){let r=this.tiles.map(i=>({tile:i,railType:0}));e.addUpdate({type:16,isActive:!1,railTiles:r}),this.from.removeRailroad(this),this.to.removeRailroad(this)}};function _h(t,e){let r=t.getRailroadTo(e);if(!r)return null;let i=r.to===e;return new xh(r,i)}var xh=class{constructor(e,r){this.railroad=e;this.forward=r;this.tiles=[];this.tiles=this.forward?this.railroad.tiles:[...this.railroad.tiles].reverse()}getTiles(){return this.tiles}getStart(){return this.forward?this.railroad.from:this.railroad.to}getEnd(){return this.forward?this.railroad.to:this.railroad.from}};var jo=class{constructor(e,r,i,n,a){this.railNetwork=e;this.player=r;this.source=i;this.destination=n;this.numCars=a;this.active=!0;this.mg=null;this.train=null;this.cars=[];this.hasCargo=!1;this.currentTile=0;this.spacing=2;this.usedTiles=[];this.stations=[];this.currentRailroad=null;this.speed=2}owner(){return this.player}init(e,r){this.mg=e;let i=this.railNetwork.findStationsPath(this.source,this.destination);if(!i||i.length<=1){this.active=!1;return}this.stations=i;let n=_h(this.stations[0],this.stations[1]);if(n)this.currentRailroad=n;else{this.active=!1;return}let a=this.player.canBuild("Train",this.stations[0].tile());if(a===!1){console.warn("cannot build train"),this.active=!1;return}this.train=this.createTrainUnits(a)}tick(e){if(this.train===null)throw new Error("Not initialized");if(!this.train.isActive()||!this.activeSourceOrDestination()){this.deleteTrain();return}let r=this.getNextTile();r?this.updateCarsPositions(r):(this.targetReached(),this.deleteTrain())}loadCargo(){if(!(this.hasCargo||this.train===null)){this.hasCargo=!0;for(let e=1;e<this.cars.length;e++)this.cars[e].setLoaded(!0)}}targetReached(){this.train!==null&&(this.train.setReachedTarget(),this.cars.forEach(e=>{e.setReachedTarget()}))}createTrainUnits(e){let r=this.player.buildUnit("Train",e,{targetUnit:this.destination.unit,trainType:"Engine"});this.cars.push(this.player.buildUnit("Train",e,{targetUnit:this.destination.unit,trainType:"Engine"}));for(let i=0;i<this.numCars;i++)this.cars.push(this.player.buildUnit("Train",e,{trainType:"Carriage",loaded:this.hasCargo}));return r}deleteTrain(){this.active=!1,this.train?.isActive()&&this.train.delete(!1);for(let e of this.cars)e.isActive()&&e.delete(!1)}activeSourceOrDestination(){return this.stations.length>1&&this.stations[1].isActive()&&this.stations[0].isActive()}saveTraversedTiles(e,r){if(!this.currentRailroad)return;let i=e;for(let n=0;n<r&&i<this.currentRailroad.getTiles().length;n++)this.saveTile(this.currentRailroad.getTiles()[i]),i=i+1}saveTile(e){this.usedTiles.push(e),this.usedTiles.length>this.cars.length*this.spacing+3&&this.usedTiles.shift()}updateCarsPositions(e){if(this.cars.length>0)for(let r=this.cars.length-1;r>=0;--r){let i=(r+1)*this.spacing+2;this.usedTiles.length>i&&this.cars[r].move(this.usedTiles[i])}this.train!==null&&this.train.move(e)}nextStation(){if(this.stations.length>2){this.stations.shift();let e=_h(this.stations[0],this.stations[1]);if(e)return this.currentRailroad=e,!0}return!1}canTradeWithDestination(){return this.stations.length>1&&this.stations[1].tradeAvailable(this.player)}getNextTile(){if(this.currentRailroad===null||!this.canTradeWithDestination())return null;this.saveTraversedTiles(this.currentTile,this.speed),this.currentTile=this.currentTile+this.speed;let e=this.currentTile-this.currentRailroad.getTiles().length;if(e>=0){if(this.stationReached(),!this.nextStation())return null;this.currentTile=e,this.saveTraversedTiles(0,e)}return this.currentRailroad.getTiles()[this.currentTile]}stationReached(){if(this.mg===null||this.player===null)throw new Error("Not initialized");this.stations[1].onTrainStop(this)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Et=class{constructor(e,r){this.unit=e;this.spawnTrains=r;this.active=!0;this.station=null;this.numCars=5;this.lastSpawnTick=0;this.ticksCooldown=10;this.unit.setTrainStation(!0)}isActive(){return this.active}init(e,r){this.mg=e,this.spawnTrains&&(this.random=new U(e.ticks()))}tick(e){if(this.mg===void 0)throw new Error("Not initialized");if(!(!this.isActive()||this.unit===void 0)){if(this.station===null&&(this.station=new Uo(this.mg,this.unit),this.mg.railNetwork().connectStation(this.station)),!this.station.isActive()){this.active=!1;return}this.spawnTrain(this.station,e)}}shouldSpawnTrain(){let e=this.mg.config().trainSpawnRate(this.unit.owner().unitCount("Factory"));for(let r=0;r<this.unit.level();r++)if(this.random.chance(e))return!0;return!1}spawnTrain(e,r){if(this.mg===void 0)throw new Error("Not initialized");if(!this.spawnTrains)return;if(this.random===void 0)throw new Error("Not initialized");if(r<this.lastSpawnTick+this.ticksCooldown)return;let i=e.getCluster();if(i===null)return;let n=i.availableForTrade(this.unit.owner());if(n.size===0||!this.shouldSpawnTrain())return;let a=this.random.randFromSet(n);a!==e&&(this.mg.addExecution(new jo(this.mg.railNetwork(),this.unit.owner(),e,a,this.numCars)),this.lastSpawnTick=r)}activeDuringSpawnPhase(){return!1}};var Lo=class{constructor(e){this.city=e;this.active=!0;this.stationCreated=!1}init(e,r){this.mg=e}tick(e){if(this.stationCreated||(this.createStation(),this.stationCreated=!0),!this.city.isActive()){this.active=!1;return}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}createStation(){this.mg.hasUnitNearby(this.city.tile(),this.mg.config().trainStationMaxRange(),"Factory")&&this.mg.addExecution(new Et(this.city))}};var mn=class{constructor(e,r,i,n){this.spawn=e;this._owner=r;this.ownerUnit=i;this.target=n;this.active=!0;this.destroyAtTick=-1}init(e,r){this.pathFinder=new cn(e,new U(e.ticks())),this.mg=e,this.random=new U(e.ticks())}tick(e){if(this.shell??(this.shell=this._owner.buildUnit("Shell",this.spawn,{})),!this.shell.isActive()){this.active=!1;return}if(!this.target.isActive()||this.target.owner()===this.shell.owner()||this.destroyAtTick!==-1&&this.mg.ticks()>=this.destroyAtTick){this.shell.delete(!1),this.active=!1;return}this.destroyAtTick===-1&&!this.ownerUnit.isActive()&&(this.destroyAtTick=this.mg.ticks()+this.mg.config().shellLifetime());for(let r=0;r<3;r++){let i=this.pathFinder.nextTile(this.shell.tile(),this.target.tile());if(i===!0){this.active=!1,this.target.modifyHealth(-this.effectOnTarget(),this._owner),this.shell.setReachedTarget(),this.shell.delete(!1);return}else this.shell.move(i)}}effectOnTarget(){let{damage:e}=this.mg.config().unitInfo("Shell"),r=e??250,n=(this.random.nextInt(1,6)-1)*25+200;return Math.round(r/250*n)}getEffectOnTargetForTesting(){return this.effectOnTarget()}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Bo=class{constructor(e){this.post=e;this.active=!0;this.target=null;this.lastShellAttack=0;this.alreadySentShell=new Set}init(e,r){this.mg=e}shoot(){if(this.target===null)return;let e=this.mg.config().defensePostShellAttackRate();if(this.mg.ticks()-this.lastShellAttack>e&&(this.lastShellAttack=this.mg.ticks(),this.mg.addExecution(new mn(this.post.tile(),this.post.owner(),this.post,this.target)),!this.target.hasHealth())){this.alreadySentShell.add(this.target),this.target=null;return}}tick(e){if(!this.post.isActive()){this.active=!1;return}this.post.isUnderConstruction()||this.target!==null&&!this.target.isActive()&&(this.target=null)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Go=class{constructor(e){this.factory=e;this.active=!0;this.stationCreated=!1}init(e,r){this.game=e}tick(e){if(this.stationCreated||(this.createStation(),this.stationCreated=!0),!this.factory.isActive()){this.active=!1;return}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}createStation(){let e=this.game.nearbyUnits(this.factory.tile(),this.game.config().trainStationMaxRange(),["City","Port","Factory"]);this.game.addExecution(new Et(this.factory,!0));for(let{unit:r}of e)r.hasTrainStation()||this.game.addExecution(new Et(r))}};var U5=16,Vt=class{constructor(e,r,i,n,a=-1,o=0){this.nukeType=e;this.player=r;this.dst=i;this.src=n;this.speed=a;this.waitTicks=o;this.active=!0;this.nuke=null}init(e,r){this.mg=e,this.speed===-1&&(this.speed=this.mg.config().defaultNukeSpeed()),this.pathFinder=new ln(e)}target(){return this.mg.owner(this.dst)}tilesToDestroy(){if(this.tilesToDestroyCache!==void 0)return this.tilesToDestroyCache;if(this.nuke===null)throw new Error("Not initialized");let e=this.mg.config().nukeMagnitudes(this.nuke.type()),r=new U(this.mg.ticks()),i=e.inner*e.inner,n=e.outer*e.outer;return this.tilesToDestroyCache=this.mg.bfs(this.dst,(a,o)=>{let s=this.mg?.euclideanDistSquared(this.dst,o)??0;return s<=n&&(s<=i||r.chance(2))}),this.tilesToDestroyCache}maybeBreakAlliances(e){if(this.nuke===null)throw new Error("Not initialized");let r=new Map;for(let n of e){let a=this.mg.owner(n);if(a.isPlayer()){let o=r.get(a)??0;r.set(a,o+1)}}let i=this.mg.config().nukeAllianceBreakThreshold();for(let[n,a]of r)if(a>i&&this.nuke.type()!=="MIRV Warhead"){let o=n.incomingAllianceRequests().find(l=>l.requestor()===this.player);o&&o?.reject();let s=this.player.allianceWith(n);s!==null&&this.player.breakAlliance(s),n!==this.player&&n.updateRelation(this.player,-100)}}tick(e){if(this.nuke===null){let i=this.player.canBuild(this.nukeType,this.dst);if(i===!1){console.warn("cannot build Nuke"),this.active=!1;return}if(this.src=i,this.pathFinder.computeControlPoints(i,this.dst,this.speed,this.nukeType!=="MIRV Warhead"),this.nuke=this.player.buildUnit(this.nukeType,i,{targetTile:this.dst,trajectory:this.getTrajectory(this.dst)}),this.maybeBreakAlliances(this.tilesToDestroy()),this.mg.hasOwner(this.dst)){let a=this.mg.owner(this.dst);a.isPlayer()&&(this.nukeType==="Atom Bomb"?this.mg.displayIncomingUnit(this.nuke.id(),`${this.player.name()} - atom bomb inbound`,5,a.id()):this.nukeType==="Hydrogen Bomb"&&this.mg.displayIncomingUnit(this.nuke.id(),`${this.player.name()} - hydrogen bomb inbound`,6,a.id())),this.mg.stats().bombLaunch(this.player,a,this.nukeType)}let n=this.player.units("Missile Silo").find(a=>a.tile()===i);n&&n.launch();return}if(!this.nuke.isActive()){console.log("Nuke destroyed before reaching target"),this.active=!1;return}if(this.waitTicks>0){this.waitTicks--;return}let r=this.pathFinder.nextTile(this.speed);if(r===!0){this.detonate();return}else this.updateNukeTargetable(),this.nuke.move(r),this.nuke.setTrajectoryIndex(this.pathFinder.currentIndex())}getNuke(){return this.nuke}getTrajectory(e){let r=[],i=this.mg.config().defaultNukeTargetableRange()**2,n=this.pathFinder.allTiles();for(let a of n)r.push({tile:a,targetable:this.isTargetable(e,a,i)});return r}isTargetable(e,r,i){return this.mg.euclideanDistSquared(r,e)<i||this.src!==void 0&&this.src!==null&&this.mg.euclideanDistSquared(this.src,r)<i}updateNukeTargetable(){if(this.nuke===null||this.nuke.targetTile()===void 0)return;let e=this.mg.config().defaultNukeTargetableRange()**2,r=this.nuke.targetTile();this.nuke.setTargetable(this.isTargetable(r,this.nuke.tile(),e))}detonate(){if(this.nuke===null)throw new Error("Not initialized");let e=this.mg.config().nukeMagnitudes(this.nuke.type()),r=this.tilesToDestroy();this.maybeBreakAlliances(r);let i=this.target().isPlayer()?this.mg.config().maxTroops(this.target()):1;for(let a of r){let o=this.mg.owner(a);o.isPlayer()&&(o.relinquish(a),o.removeTroops(this.mg.config().nukeDeathFactor(this.nukeType,o.troops(),o.numTilesOwned(),i)),o.outgoingAttacks().forEach(s=>{let l=this.mg?.config().nukeDeathFactor(this.nukeType,s.troops(),o.numTilesOwned(),i)??0;s.setTroops(s.troops()-l)}),o.units("Transport").forEach(s=>{let l=this.mg?.config().nukeDeathFactor(this.nukeType,s.troops(),o.numTilesOwned(),i)??0;s.setTroops(s.troops()-l)})),this.mg.isLand(a)&&this.mg.setFallout(a,!0)}let n=e.outer*e.outer;for(let a of this.mg.units())a.type()!=="Atom Bomb"&&a.type()!=="Hydrogen Bomb"&&a.type()!=="MIRV Warhead"&&a.type()!=="MIRV"&&this.mg.euclideanDistSquared(this.dst,a.tile())<n&&a.delete(!0,this.player);this.redrawBuildings(e.outer+U5),this.active=!1,this.nuke.setReachedTarget(),this.nuke.delete(!1),this.mg.stats().bombLand(this.player,this.target(),this.nuke.type())}redrawBuildings(e){let r=e*e;for(let i of this.mg.units())Kp(i.type())&&this.mg.euclideanDistSquared(this.dst,i.tile())<r&&i.touch()}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var hn=class{constructor(e,r){this.player=e;this.dst=r;this.active=!0;this.nuke=null;this.mirvRange=1500;this.warheadCount=350;this.speed=-1}init(e,r){if(this.random=new U(e.ticks()+Z(this.player.id())),this.mg=e,this.pathFinder=new ln(e),this.targetPlayer=this.mg.owner(this.dst),this.speed=this.mg.config().defaultNukeSpeed(),this.targetPlayer.isPlayer()){let i=this.player.allianceWith(this.targetPlayer);i!==null&&this.player.breakAlliance(i),this.targetPlayer!==this.player&&this.targetPlayer.updateRelation(this.player,-100)}}tick(e){if(this.nuke===null){let i=this.player.canBuild("MIRV",this.dst);if(i===!1){console.warn("cannot build MIRV"),this.active=!1;return}this.nuke=this.player.buildUnit("MIRV",i,{targetTile:this.dst}),this.mg.stats().bombLaunch(this.player,this.targetPlayer,"MIRV");let n=Math.floor((this.mg.x(this.dst)+this.mg.x(this.mg.x(this.nuke.tile())))/2),a=Math.max(0,this.mg.y(this.dst)-500)+50;this.separateDst=this.mg.ref(n,a),this.pathFinder.computeControlPoints(i,this.separateDst),this.mg.displayIncomingUnit(this.nuke.id(),`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F ${this.player.name()} - MIRV INBOUND \u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F`,4,this.targetPlayer.id())}let r=this.pathFinder.nextTile(this.speed);if(r===!0){this.separate(),this.active=!1,this.mg.stats().bombLand(this.player,this.targetPlayer,"MIRV");return}else this.nuke.move(r)}separate(){if(this.nuke===null)throw new Error("uninitialized");let e=[this.dst],r=1e3;for(;r>0&&e.length<this.warheadCount;){r--;let i=this.randomLand(this.dst,e);i!==null&&e.push(i)}console.log(`dsts: ${e.length}`),e.sort((i,n)=>this.mg.manhattanDist(n,this.dst)-this.mg.manhattanDist(i,this.dst)),console.log(`got ${e.length} dsts!!`);for(let[i,n]of e.entries())this.mg.addExecution(new Vt("MIRV Warhead",this.player,n,this.nuke.tile(),15+Math.floor(i/this.warheadCount*5),this.random.nextInt(0,15)));this.nuke.delete(!1)}randomLand(e,r){let i=0,n=this.mirvRange*this.mirvRange;for(;i<100;){i++;let a=this.random.nextInt(this.mg.x(e)-this.mirvRange,this.mg.x(e)+this.mirvRange),o=this.random.nextInt(this.mg.y(e)-this.mirvRange,this.mg.y(e)+this.mirvRange);if(!this.mg.isValidCoord(a,o))continue;let s=this.mg.ref(a,o);if(this.mg.isLand(s)&&!(this.mg.euclideanDistSquared(s,e)>n)&&this.mg.owner(s)===this.targetPlayer&&!this.proximityCheck(s,r))return s}return console.log("couldn't find place, giving up"),null}proximityCheck(e,r){for(let i of r)if(this.mg.manhattanDist(e,i)<55)return!0;return!1}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Fo=class{constructor(e){this.active=!0;this.silo=e}init(e,r){this.mg=e}tick(e){if(this.silo.isUnderConstruction())return;let r=this.silo.missileTimerQueue()[0];if(r===void 0)return;this.mg.config().SiloCooldown()-(this.mg.ticks()-r)<=0&&this.silo.reloadMissile()}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Wo=class{constructor(e,r,i){this.origOwner=e;this.srcPort=r;this._dstPort=i;this.active=!0;this.wasCaptured=!1;this.tilesTraveled=0}init(e,r){this.mg=e,this.pathFinder=qt.Mini(e,2500)}tick(e){if(this.tradeShip===void 0){let o=this.origOwner.canBuild("Trade Ship",this.srcPort.tile());if(o===!1){console.warn("cannot build trade ship"),this.active=!1;return}this.tradeShip=this.origOwner.buildUnit("Trade Ship",o,{targetUnit:this._dstPort,lastSetSafeFromPirates:e}),this.mg.stats().boatSendTrade(this.origOwner,this._dstPort.owner())}if(!this.tradeShip.isActive()){this.active=!1;return}let r=this.tradeShip.owner(),i=this._dstPort.owner();if(this.wasCaptured!==!0&&this.origOwner!==r&&(this.wasCaptured=!0),i.id()===this.srcPort.owner().id()){this.tradeShip.delete(!1),this.active=!1;return}if(!this.wasCaptured&&(!this._dstPort.isActive()||!r.canTrade(i))){this.tradeShip.delete(!1),this.active=!1;return}if(this.wasCaptured&&(r!==i||!this._dstPort.isActive())){let o=this.tradeShip.owner().units("Port").sort(Zi(this.mg,this.tradeShip));if(o.length===0){this.tradeShip.delete(!1),this.active=!1;return}else this._dstPort=o[0],this.tradeShip.setTargetUnit(this._dstPort)}let n=this.tradeShip.tile();if(n===this.dstPort()){this.complete();return}let a=this.pathFinder.nextTile(n,this._dstPort.tile());switch(a.type){case 1:this.tradeShip.move(n);break;case 0:this.mg.isWater(a.node)&&this.mg.isShoreline(a.node)&&this.tradeShip.setSafeFromPirates(),this.tradeShip.move(a.node),this.tilesTraveled++;break;case 2:this.complete();break;case 3:console.warn("captured trade ship cannot find route"),this.tradeShip.isActive()&&this.tradeShip.delete(!1),this.active=!1;break}}complete(){this.active=!1,this.tradeShip.delete(!1);let e=this.mg.config().tradeShipGold(this.tilesTraveled,this.tradeShip.owner().unitCount("Port"));this.wasCaptured?(this.tradeShip.owner().addGold(e,this._dstPort.tile()),this.mg.displayMessage(`Received ${ut(e)} gold from ship captured from ${this.origOwner.displayName()}`,10,this.tradeShip.owner().id(),e),this.mg.stats().boatCapturedTrade(this.tradeShip.owner(),this.origOwner,e)):(this.srcPort.owner().addGold(e),this._dstPort.owner().addGold(e,this._dstPort.tile()),this.mg.displayMessage(`Received ${ut(e)} gold from trade with ${this.srcPort.owner().displayName()}`,20,this._dstPort.owner().id(),e),this.mg.displayMessage(`Received ${ut(e)} gold from trade with ${this._dstPort.owner().displayName()}`,20,this.srcPort.owner().id(),e),this.mg.stats().boatArriveTrade(this.srcPort.owner(),this._dstPort.owner(),e))}isActive(){return this.active}activeDuringSpawnPhase(){return!1}dstPort(){return this._dstPort.tile()}};var qo=class{constructor(e){this.active=!0;this.port=e}init(e,r){this.mg=e,this.random=new U(e.ticks()),this.checkOffset=e.ticks()%10}tick(e){if(this.mg===null||this.random===null||this.checkOffset===null)throw new Error("Not initialized");if(!this.port.isActive()){this.active=!1;return}if(this.port.isUnderConstruction()||(this.port.hasTrainStation()||this.createStation(),(this.mg.ticks()+this.checkOffset)%10!==0)||!this.shouldSpawnTradeShip())return;let r=this.tradingPorts();if(r.length===0)return;let i=this.random.randElement(r);this.mg.addExecution(new Wo(this.port.owner(),this.port,i))}isActive(){return this.active}activeDuringSpawnPhase(){return!1}shouldSpawnTradeShip(){let e=this.mg.unitCount("Trade Ship"),r=this.port.owner().unitCount("Port"),i=this.port.owner().unitCount("Trade Ship"),n=this.mg.config().tradeShipSpawnRate(e,r,i);for(let a=0;a<this.port.level();a++)if(this.random.chance(n))return!0;return!1}createStation(){this.mg.hasUnitNearby(this.port.tile(),this.mg.config().trainStationMaxRange(),"Factory")&&this.mg.addExecution(new Et(this.port))}tradingPorts(){let e=this.mg.players().filter(i=>i!==this.port.owner()&&i.canTrade(this.port.owner())).flatMap(i=>i.units("Port")).sort((i,n)=>this.mg.manhattanDist(this.port.tile(),i.tile())-this.mg.manhattanDist(this.port.tile(),n.tile())),r=[];for(let[i,n]of e.entries()){let a=new Array(n.level()).fill(n);r.push(...a);let o=this.mg.manhattanDist(this.port.tile(),n.tile())<this.mg.config().tradeShipShortRangeDebuff(),s=i<this.mg.config().proximityBonusPortsNb(e.length);!o&&s&&r.push(...a),!o&&this.port.owner().isFriendly(n.owner())&&r.push(...a)}return r}};var Zo=class{constructor(e,r,i,n,a){this.spawn=e;this._owner=r;this.ownerUnit=i;this.target=n;this.targetTile=a;this.active=!0;this.speed=0}init(e,r){this.pathFinder=new cn(e,new U(e.ticks())),this.mg=e,this.speed=this.mg.config().defaultSamMissileSpeed()}tick(e){if(this.SAMMissile??(this.SAMMissile=this._owner.buildUnit("SAMMissile",this.spawn,{})),!this.SAMMissile.isActive()){this.active=!1;return}let r=["Atom Bomb","Hydrogen Bomb"];if(!this.target.isActive()||!this.ownerUnit.isActive()||this.target.owner()===this.SAMMissile.owner()||!r.includes(this.target.type())){this.SAMMissile.delete(!1),this.active=!1;return}for(let i=0;i<this.speed;i++){let n=this.pathFinder.nextTile(this.SAMMissile.tile(),this.targetTile);if(n===!0){this.mg.displayMessage(`Missile intercepted ${this.target.type()}`,9,this._owner.id()),this.active=!1,this.target.delete(!0,this._owner),this.SAMMissile.delete(!1),this.mg.stats().bombIntercept(this._owner,this.target.type(),1);return}else this.SAMMissile.move(n)}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var wh=class{constructor(e,r){this.mg=e;this.sam=r;this.precomputedNukes=new Map;this.missileSpeed=this.mg.config().defaultSamMissileSpeed()}updateUnreachableNukes(e){let r=new Set(e.map(i=>i.unit.id()));for(let i of this.precomputedNukes.keys())r.has(i)||this.precomputedNukes.delete(i)}isInRange(e){let r=this.sam.tile(),i=this.mg.config().samRange(this.sam.level()),n=i*i;return this.mg.euclideanDistSquared(r,e)<=n}tickToReach(e,r){return Math.ceil(this.mg.manhattanDist(e,r)/this.missileSpeed)}computeInterceptionTile(e){let r=e.trajectory(),i=this.sam.tile(),n=e.trajectoryIndex(),a=r.length-n;for(let o=n;o<r.length;o++){let s=r[o];if(s.targetable&&this.isInRange(s.tile)){let l=o-n,d=this.tickToReach(i,s.tile),u=l-d;if(d<a&&u>=0)return{tick:u,tile:s.tile}}}}getSingleTarget(e){let r=this.mg.config().maxSamRange()*2,i=this.mg.nearbyUnits(this.sam.tile(),r,["Atom Bomb","Hydrogen Bomb"],({unit:a})=>$n(a)&&a.owner()!==this.sam.owner()&&!this.sam.owner().isFriendly(a.owner()));this.updateUnreachableNukes(i);let n=[];for(let a of i){let o=a.unit.id(),s=this.precomputedNukes.get(o);if(s!==void 0){if(s===null)continue;if(s.tick===e){n.push({tile:s.tile,unit:a.unit}),this.precomputedNukes.delete(o);continue}if(s.tick>e)continue;this.precomputedNukes.delete(o)}let l=this.computeInterceptionTile(a.unit);l!==void 0?l.tick<=1?n.push({unit:a.unit,tile:l.tile}):this.precomputedNukes.set(o,{tick:l.tick+e,tile:l.tile}):this.precomputedNukes.set(o,null)}return n.sort((a,o)=>a.unit.type()==="Hydrogen Bomb"&&o.unit.type()!=="Hydrogen Bomb"?-1:a.unit.type()!=="Hydrogen Bomb"&&o.unit.type()==="Hydrogen Bomb"?1:0)[0]??null}},Vo=class{constructor(e,r,i=null){this.player=e;this.tile=r;this.sam=i;this.active=!0;this.MIRVWarheadSearchRadius=400;this.MIRVWarheadProtectionRadius=50;i!==null&&(this.tile=i.tile())}init(e,r){this.mg=e}tick(e){if(this.mg===null||this.player===null)throw new Error("Not initialized");if(this.sam===null){if(this.tile===null)throw new Error("tile is null");let a=this.player.canBuild("SAM Launcher",this.tile);if(a===!1){console.warn("cannot build SAM Launcher"),this.active=!1;return}this.sam=this.player.buildUnit("SAM Launcher",a,{})}if(this.targetingSystem??(this.targetingSystem=new wh(this.mg,this.sam)),this.sam.isUnderConstruction())return;if(this.sam.isInCooldown()){let a=this.sam.missileTimerQueue()[0];if(a===void 0)return;this.mg.config().SAMCooldown()-(this.mg.ticks()-a)<=0&&this.sam.reloadMissile();return}if(!this.sam.isActive()){this.active=!1;return}this.player!==this.sam.owner()&&(this.player=this.sam.owner()),this.pseudoRandom??(this.pseudoRandom=new U(this.sam.id()));let r=this.mg.nearbyUnits(this.sam.tile(),this.MIRVWarheadSearchRadius,"MIRV Warhead",({unit:a})=>{if(!$n(a)||a.owner()===this.player||this.player.isFriendly(a.owner()))return!1;let o=a.targetTile();return this.sam!==null&&o!==void 0&&this.mg.manhattanDist(o,this.sam.tile())<this.MIRVWarheadProtectionRadius}),i=null;if(r.length===0&&(i=this.targetingSystem.getSingleTarget(e),i!==null&&console.log("Target acquired")),i&&!i.unit.targetedBySAM()||r.length>0){if(this.sam.launch(),(r.length>0?"MIRV Warhead":i?.unit.type())===void 0)throw new Error("Unknown unit type");if(r.length>0){let o=this.sam.owner();this.mg.displayMessage(`${r.length} MIRV warheads intercepted`,9,o.id()),r.forEach(({unit:s})=>{s.delete()}),this.mg.stats().bombIntercept(o,"MIRV Warhead",r.length)}else if(i!==null)i.unit.setTargetedBySAM(!0),this.mg.addExecution(new Zo(this.sam.tile(),this.sam.owner(),this.sam,i.unit,i.tile));else throw new Error("target is null")}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Ho=class{constructor(e){this.input=e;this.lastShellAttack=0;this.alreadySentShell=new Set}init(e,r){if(this.mg=e,this.pathfinder=qt.Mini(e,1e4,!0,100),this.random=new U(e.ticks()),$n(this.input))this.warship=this.input;else{let i=this.input.owner.canBuild("Warship",this.input.patrolTile);if(i===!1){console.warn(`Failed to spawn warship for ${this.input.owner.name()} at ${this.input.patrolTile}`);return}this.warship=this.input.owner.buildUnit("Warship",i,this.input)}}tick(e){if(this.warship.health()<=0){this.warship.delete();return}if(this.warship.owner().unitCount("Port")>0&&this.warship.modifyHealth(1),this.warship.setTargetUnit(this.findTargetUnit()),this.warship.targetUnit()?.type()==="Trade Ship"){this.huntDownTradeShip();return}if(this.patrol(),this.warship.targetUnit()!==void 0){this.shootTarget();return}}findTargetUnit(){let e=this.warship.owner().unitCount("Port")>0,r=this.mg.config().warshipPatrolRange()**2,i=this.mg.nearbyUnits(this.warship.tile(),this.mg.config().warshipTargettingRange(),["Transport","Warship","Trade Ship"]),n=[];for(let{unit:a,distSquared:o}of i)a.owner()===this.warship.owner()||a===this.warship||a.owner().isFriendly(this.warship.owner(),!0)||this.alreadySentShell.has(a)||a.type()==="Trade Ship"&&(!e||a.isSafeFromPirates()||a.targetUnit()?.owner()===this.warship.owner()||a.targetUnit()?.owner().isFriendly(this.warship.owner())||this.mg.euclideanDistSquared(this.warship.patrolTile(),a.tile())>r)||n.push({unit:a,distSquared:o});return n.sort((a,o)=>{let{unit:s,distSquared:l}=a,{unit:d,distSquared:u}=o;return s.type()==="Transport"&&d.type()!=="Transport"?-1:s.type()!=="Transport"&&d.type()==="Transport"?1:s.type()==="Warship"&&d.type()!=="Warship"?-1:s.type()!=="Warship"&&d.type()==="Warship"?1:l-u})[0]?.unit}shootTarget(){let e=this.mg.config().warshipShellAttackRate();if(this.mg.ticks()-this.lastShellAttack>e&&(this.warship.targetUnit()?.type()!=="Transport"&&(this.lastShellAttack=this.mg.ticks()),this.mg.addExecution(new mn(this.warship.tile(),this.warship.owner(),this.warship,this.warship.targetUnit())),!this.warship.targetUnit().hasHealth())){this.alreadySentShell.add(this.warship.targetUnit()),this.warship.setTargetUnit(void 0);return}}huntDownTradeShip(){for(let e=0;e<2;e++){let r=this.pathfinder.nextTile(this.warship.tile(),this.warship.targetUnit().tile(),5);switch(r.type){case 2:this.warship.owner().captureUnit(this.warship.targetUnit()),this.warship.setTargetUnit(void 0),this.warship.move(this.warship.tile());return;case 0:this.warship.move(r.node);break;case 1:this.warship.touch();break;case 3:console.log("path not found to target");break}}}patrol(){if(this.warship.targetTile()===void 0&&(this.warship.setTargetTile(this.randomTile()),this.warship.targetTile()===void 0))return;let e=this.pathfinder.nextTile(this.warship.tile(),this.warship.targetTile());switch(e.type){case 2:this.warship.setTargetTile(void 0),this.warship.move(e.node);break;case 0:this.warship.move(e.node);break;case 1:this.warship.touch();return;case 3:console.warn("path not found to target tile"),this.warship.setTargetTile(void 0);break}}isActive(){return this.warship?.isActive()}activeDuringSpawnPhase(){return!1}randomTile(e=!1){let r=this.mg.config().warshipPatrolRange(),i=500,n=0,a=0;for(;a<3;){let o=this.mg.x(this.warship.patrolTile())+this.random.nextInt(-r/2,r/2),s=this.mg.y(this.warship.patrolTile())+this.random.nextInt(-r/2,r/2);if(!this.mg.isValidCoord(o,s))continue;let l=this.mg.ref(o,s);if(!this.mg.isOcean(l)||!e&&this.mg.isShoreline(l)){n++,n===i&&(a++,n=0,r=r+Math.floor(r/2));continue}return l}if(console.warn(`Failed to find random tile for warship for ${this.warship.owner().name()}`),!e)return this.randomTile(!0)}};var Ht=class{constructor(e,r,i){this.player=e;this.constructionType=r;this.tile=i;this.structure=null;this.active=!0}init(e,r){if(this.mg=e,this.mg.config().isUnitDisabled(this.constructionType)){console.warn(`cannot build construction ${this.constructionType} because it is disabled`),this.active=!1;return}if(!this.mg.isValidRef(this.tile)){console.warn(`cannot build construction invalid tile ${this.tile}`),this.active=!1;return}}tick(e){if(this.structure===null){let r=this.mg.unitInfo(this.constructionType);if(!this.isStructure(this.constructionType)){this.completeConstruction(),this.active=!1;return}let n=this.player.canBuild(this.constructionType,this.tile);if(n===!1){console.warn(`cannot build ${this.constructionType}`),this.active=!1;return}this.structure=this.player.buildUnit(this.constructionType,n,{});let a=r.constructionDuration??0;if(a>0){this.structure.setUnderConstruction(!0),this.ticksUntilComplete=a;return}this.completeConstruction(),this.active=!1;return}if(!this.structure.isActive()){this.active=!1;return}if(this.player!==this.structure.owner()&&(this.player=this.structure.owner()),this.ticksUntilComplete===0){this.player=this.structure.owner(),this.completeConstruction(),this.active=!1;return}this.ticksUntilComplete--}completeConstruction(){this.structure&&this.structure.setUnderConstruction(!1);let e=this.player;switch(this.constructionType){case"Atom Bomb":case"Hydrogen Bomb":this.mg.addExecution(new Vt(this.constructionType,e,this.tile));break;case"MIRV":this.mg.addExecution(new hn(e,this.tile));break;case"Warship":this.mg.addExecution(new Ho({owner:e,patrolTile:this.tile}));break;case"Port":this.mg.addExecution(new qo(this.structure));break;case"Missile Silo":this.mg.addExecution(new Fo(this.structure));break;case"Defense Post":this.mg.addExecution(new Bo(this.structure));break;case"SAM Launcher":this.mg.addExecution(new Vo(e,null,this.structure));break;case"City":this.mg.addExecution(new Lo(this.structure));break;case"Factory":this.mg.addExecution(new Go(this.structure));break;default:console.warn(`unit type ${this.constructionType} cannot be constructed`);break}}isStructure(e){switch(e){case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":return!0;default:return!1}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Ko=class{constructor(e,r){this.player=e;this.unitId=r;this.active=!0;this.unit=null}activeDuringSpawnPhase(){return!1}init(e,r){if(!this.active)return;this.mg=e;let i=this.player.units().find(a=>a.id()===this.unitId);if(!i){console.warn(`SECURITY: unit ${this.unitId} not found or not owned by player ${this.player.displayName()}`),this.active=!1;return}if(!i.isActive()){console.warn(`SECURITY: unit ${this.unitId} is not active`),this.active=!1;return}this.unit=i;let n=e.owner(i.tile());if(!n.isPlayer()||n.id()!==this.player.id()){console.warn(`SECURITY: unit ${this.unitId} is not on player's territory`),this.active=!1;return}if(!e.isLand(i.tile())){console.warn(`SECURITY: unit ${this.unitId} is not on land`),this.active=!1;return}if(e.inSpawnPhase()){console.warn("SECURITY: cannot delete units during spawn phase"),this.active=!1;return}if(!this.player.canDeleteUnit()){console.warn("SECURITY: delete unit cooldown not expired"),this.active=!1;return}this.player.recordDeleteUnit(),i.markForDeletion()}tick(e){if(!(!this.active||!this.unit)){if(!this.unit.isActive()){this.active=!1;return}this.unit.isOverdueDeletion()&&(this.unit.delete(!1),this.mg.displayMessage("events_display.unit_voluntarily_deleted",12,this.player.id()),this.active=!1)}}isActive(){return this.active}};var Yo=class{constructor(e,r,i){this.sender=e;this.recipientID=r;this.active=!0;this.gold=nt(i??0)}init(e,r){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`DonateGoldExecution recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.gold??(this.gold=this.sender.gold()/3n)}tick(e){if(this.gold===null)throw new Error("not initialized");if(this.sender.canDonateGold(this.recipient)&&this.sender.donateGold(this.recipient,this.gold)){let r=this.calculateRelationUpdate(this.gold,e);r>0&&this.recipient.updateRelation(this.sender,r)}else console.warn(`cannot send gold from ${this.sender.name()} to ${this.recipient.name()}`);this.active=!1}getGoldChunkSize(){let{difficulty:e}=this.mg.config().gameConfig();switch(e){case"Easy":return 2500;case"Medium":return 5e3;case"Hard":return 12500;case"Impossible":return 25e3;default:Dt(e)}}calculateRelationUpdate(e,r){let i=this.getGoldChunkSize(),n=r/(3e3+this.mg.config().numSpawnPhaseTurns()),a=BigInt(Math.round(i+i*n)),s=Number(e/a)*5;return s>100?100:s}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Xo=class{constructor(e,r,i){this.sender=e;this.recipientID=r;this.troops=i;this.active=!0}init(e,r){if(this.mg=e,this.random=new U(e.ticks()),!e.hasPlayer(this.recipientID)){console.warn(`DonateTroopExecution recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.troops??(this.troops=e.config().defaultDonationAmount(this.sender));let i=e.config().maxTroops(this.recipient)-this.recipient.troops();this.troops=Math.min(this.troops,i)}tick(e){if(this.troops===null)throw new Error("not initialized");let r=this.getMinTroopsForRelationUpdate();this.sender.canDonateTroops(this.recipient)&&this.sender.donateTroops(this.recipient,this.troops)?this.troops>=r&&this.recipient.updateRelation(this.sender,50):console.warn(`cannot send troops from ${this.sender} to ${this.recipient}`),this.active=!1}getMinTroopsForRelationUpdate(){let{difficulty:e}=this.mg.config().gameConfig(),r=this.mg.config().maxTroops(this.recipient);switch(e){case"Easy":return this.random.nextInt(r/13,r/11);case"Medium":return this.random.nextInt(r/11,r/9);case"Hard":return this.random.nextInt(r/9,r/7);case"Impossible":return this.random.nextInt(r/7,r/5);default:Dt(e)}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Jo=class{constructor(e,r){this.player=e;this.action=r}init(e,r){if(!this.player.canEmbargoAll())return;let i=this.player;for(let n of e.players())n.id()!==i.id()&&n.type()!=="BOT"&&(i.isOnSameTeam(n)||(this.action==="start"?i.hasEmbargoAgainst(n)||i.addEmbargo(n,!1):i.hasEmbargoAgainst(n)&&i.stopEmbargo(n)));this.player.recordEmbargoAll()}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Qo=class{constructor(e,r,i){this.player=e;this.targetID=r;this.action=i;this.active=!0}init(e,r){if(!e.hasPlayer(this.targetID)){console.warn(`EmbargoExecution recipient ${this.targetID} not found`),this.active=!1;return}this.target=e.player(this.targetID)}tick(e){this.action==="start"?this.player.addEmbargo(this.target,!1):this.player.stopEmbargo(this.target),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};function Ab(t,e,r){let i=e.borderTiles(),n=e.units(r),a=t.config().nukeMagnitudes("Atom Bomb").outer,o=a*2;switch(r){case"City":case"Factory":case"Missile Silo":return s=>{let l=0;l+=t.magnitude(s);let[,d]=Ro(t,i,s);l+=Math.min(d,a);let u=new Set(n.map(h=>h.tile()));u.delete(s);let m=At(t,u,[s]);if(m!==null){let h=t.manhattanDist(m.x,s);l+=Math.min(h,o)}return l};case"Port":return s=>{let l=0,d=new Set(n.map(m=>m.tile()));d.delete(s);let[,u]=Ro(t,d,s);return l+=Math.min(u,o),l};case"Defense Post":return s=>{let l=0;l+=t.magnitude(s);let[d,u]=Ro(t,i,s);if(d!==null){l+=Math.max(0,a-Math.abs(a-u));let f=new Set;for(let p of t.neighbors(d)){if(!t.isLand(p))continue;let T=t.ownerID(p);if(T===e.smallID())continue;let x=t.playerBySmallID(T);x.isPlayer()&&f.add(x)}for(let p of f)l+=a*(3-e.relation(p))}let m=new Set(n.map(f=>f.tile()));m.delete(s);let h=At(t,m,[s]);if(h!==null){let f=t.manhattanDist(h.x,s);l+=Math.min(f,o)}return l};case"SAM Launcher":{let s=new Set;for(let u of e.units())switch(u.type()){case"City":case"Factory":case"Missile Silo":case"Port":s.add(u.tile())}let l=t.config().defaultSamRange(),d=l*l;return u=>{let m=0;m+=t.magnitude(u);let h=At(t,i,[u]);if(h!==null){let T=t.manhattanDist(h.x,u);m+=Math.min(T,a)}let f=new Set(n.map(T=>T.tile()));f.delete(u);let p=At(t,f,[u]);if(p!==null){let T=t.manhattanDist(p.x,u);m+=Math.min(T,o)}for(let T of s)t.euclideanDistSquared(u,T)>d||(m+=o);return m}}default:throw new Error(`Value function not implemented for ${r}`)}}var es=class{constructor(e,r,i){this.random=e;this.game=r;this.player=i}handleAllianceRequests(){for(let e of this.player.incomingAllianceRequests())this.getAllianceRequestDecision(e.requestor())?e.accept():e.reject()}handleAllianceExtensionRequests(){for(let e of this.player.alliances()){if(!e.onlyOneAgreedToExtend())continue;let r=e.other(this.player);this.getAllianceRequestDecision(r)&&this.game.addExecution(new Ft(this.player,r.id()))}}maybeSendAllianceRequests(e){let{difficulty:r}=this.game.config().gameConfig(),i=()=>{switch(r){case"Easy":return this.random.chance(35);case"Medium":return this.random.chance(30);case"Hard":return this.random.chance(25);default:return this.random.chance(20)}},n=a=>a.type()==="BOT"&&r==="Easy"||a.type()!=="BOT";for(let a of e)i()&&n(a)&&this.player.canSendAllianceRequest(a)&&this.getAllianceRequestDecision(a)&&this.game.addExecution(new nn(this.player,a.id()))}getAllianceRequestDecision(e){return this.isConfused()?this.random.chance(2):e.isTraitor()&&this.random.nextInt(0,100)>=10?!1:this.isAlliancePartnerThreat(e)?!0:this.player.relation(e)<2?!1:this.isAlliancePartnerFriendly(e)?!0:this.checkAlreadyEnoughAlliances(e)?!1:this.isAlliancePartnerSimilarlyStrong(e)}isConfused(){let{difficulty:e}=this.game.config().gameConfig();switch(e){case"Easy":return this.random.chance(10);case"Medium":return this.random.chance(20);case"Hard":return this.random.chance(40);default:return!1}}isAlliancePartnerThreat(e){let{difficulty:r}=this.game.config().gameConfig();switch(r){case"Easy":return!1;case"Medium":return e.troops()>this.player.troops()*2.5;case"Hard":return e.troops()>this.player.troops()&&this.game.config().maxTroops(e)>this.game.config().maxTroops(this.player)*2;default:{let i=e.troops()>this.player.troops()*1.5,n=e.troops()>this.player.troops()&&this.game.config().maxTroops(e)>this.game.config().maxTroops(this.player)*1.5,a=e.troops()>this.player.troops()&&e.numTilesOwned()>this.player.numTilesOwned()*1.5;return i||n||a}}}checkAlreadyEnoughAlliances(e){let{difficulty:r}=this.game.config().gameConfig();switch(r){case"Easy":return!1;case"Medium":return this.player.alliances().length>=this.random.nextInt(5,8);default:{let i=this.player.neighbors().filter(a=>a.isPlayer()&&a.type()!=="BOT"),n=i.filter(a=>this.player?.isFriendly(a)===!0);return i.length>=3&&i.includes(e)?i.length<=n.length+1:r==="Hard"?this.player.alliances().length>=this.random.nextInt(3,6):this.player.alliances().length>=this.random.nextInt(2,5)}}}isAlliancePartnerFriendly(e){let{difficulty:r}=this.game.config().gameConfig();switch(r){case"Easy":case"Medium":return this.player.relation(e)===3;case"Hard":return this.player.relation(e)===3&&this.random.nextInt(0,100)>=17;default:return this.player.relation(e)===3&&this.random.nextInt(0,100)>=33}}isAlliancePartnerSimilarlyStrong(e){let{difficulty:r}=this.game.config().gameConfig();switch(r){case"Easy":return e.troops()>this.player.troops()*(this.random.nextInt(60,70)/100);case"Medium":return e.troops()>this.player.troops()*(this.random.nextInt(70,80)/100);case"Hard":return e.troops()>this.player.troops()*(this.random.nextInt(75,85)/100);default:return e.troops()>this.player.troops()*(this.random.nextInt(80,90)/100)}}};var Be=class Be{constructor(e,r){this.nation=r;this.active=!0;this.behavior=null;this.allianceBehavior=null;this.player=null;this.lastNukeSent=[];this.lastMIRVSent=[];this.embargoMalusApplied=new Set;this.trackedTransportShips=new Set;this.trackedTradeShips=new Set;this.mirvTargetsCache=null;this.random=new U(Z(r.playerInfo.id)+Z(e)),this.attackRate=this.random.nextInt(40,80),this.attackTick=this.random.nextInt(0,this.attackRate),this.triggerRatio=this.random.nextInt(50,60)/100,this.reserveRatio=this.random.nextInt(30,40)/100,this.expandRatio=this.random.nextInt(10,20)/100}init(e){this.mg=e,this.random.chance(10)}updateRelationsFromEmbargos(){let e=this.player;if(e===null)return;this.mg.players().filter(i=>i.id()!==e.id()).forEach(i=>{i.hasEmbargoAgainst(e)&&!this.embargoMalusApplied.has(i.id())?(e.updateRelation(i,-20),this.embargoMalusApplied.add(i.id())):!i.hasEmbargoAgainst(e)&&this.embargoMalusApplied.has(i.id())&&(e.updateRelation(i,20),this.embargoMalusApplied.delete(i.id()))})}handleEmbargoesToHostileNations(){let e=this.player;if(e===null)return;this.mg.players().filter(i=>i.id()!==e.id()).forEach(i=>{e.relation(i)<=0&&!e.hasEmbargoAgainst(i)&&!e.isOnSameTeam(i)?e.addEmbargo(i,!1):e.relation(i)>=2&&e.hasEmbargoAgainst(i)&&e.stopEmbargo(i)})}tick(e){if(this.player!==null&&this.player.isAlive()&&this.mg.config().gameConfig().difficulty!=="Easy"&&(this.trackTransportShipsAndRetaliate(),this.trackTradeShipsAndRetaliate()),e%this.attackRate===this.attackTick){if(this.mg.inSpawnPhase()){let r=this.randomSpawnLand();if(r===null){console.warn(`cannot spawn ${this.nation.playerInfo.name}`);return}this.mg.addExecution(new dt(this.nation.playerInfo,r));return}if(!(this.player===null&&(this.player=this.mg.players().find(r=>r.id()===this.nation.playerInfo.id)??null,this.player===null))){if(!this.player.isAlive()){this.active=!1;return}if(this.behavior===null||this.allianceBehavior===null){this.behavior=new un(this.random,this.mg,this.player,this.triggerRatio,this.reserveRatio,this.expandRatio),this.allianceBehavior=new es(this.random,this.mg,this.player),this.behavior.forceSendAttack(this.mg.terraNullius());return}this.updateRelationsFromEmbargos(),this.allianceBehavior.handleAllianceRequests(),this.allianceBehavior.handleAllianceExtensionRequests(),this.handleUnits(),this.handleEmbargoesToHostileNations(),this.considerMIRV(),this.maybeAttack()}}}maybeAttack(){if(this.player===null||this.behavior===null||this.allianceBehavior===null)throw new Error("not initialized");let e=Array.from(this.player.borderTiles()).flatMap(o=>this.mg.neighbors(o)).filter(o=>this.mg.isLand(o)&&this.mg.ownerID(o)!==this.player?.smallID()),r=[...new Set(e.map(o=>this.mg.playerBySmallID(this.mg.ownerID(o))).filter(o=>o.isPlayer()))].sort((o,s)=>o.troops()-s.troops()),i=r.filter(o=>this.player?.isFriendly(o)===!0),n=r.filter(o=>this.player?.isFriendly(o)===!1);if(e.some(o=>!this.mg.hasOwner(o)&&!this.mg.hasFallout(o))){this.behavior.sendAttack(this.mg.terraNullius());return}if(n.length===0)this.random.chance(5)&&this.sendBoatRandomly();else{if(this.random.chance(10)){this.sendBoatRandomly(n);return}this.allianceBehavior.maybeSendAllianceRequests(n)}this.behavior.assistAllies(),this.behavior.attackBestTarget(i,n),this.maybeSendNuke(this.behavior.findBestNukeTarget(n))}maybeSendNuke(e){if(this.player===null)throw new Error("not initialized");let r=this.player.units("Missile Silo");if(r.length===0||this.player.gold()<this.cost("Atom Bomb")||e===null||e.type()==="BOT"||this.player.isOnSameTeam(e))return;let i=this.player.gold()>this.cost("Hydrogen Bomb")?"Hydrogen Bomb":"Atom Bomb",n=i==="Hydrogen Bomb"?60:15,a=e.units("City","Defense Post","Missile Silo","Port","SAM Launcher"),o=a.map(m=>m.tile()),l=this.randTerritoryTileArray(10).concat(o),d=null,u=0;this.removeOldNukeEvents();e:for(let m of new Set(l)){if(m===null)continue;let h=vl(this.mg,m,n).concat(vl(this.mg,m,Math.floor(n/2)));for(let p of h)if(this.mg.owner(p)!==e)continue e;if(!this.player.canBuild(i,m))continue;let f=this.nukeTileScore(m,r,a);f>u&&(d=m,u=f)}d!==null&&this.sendNuke(d,i,e)}removeOldNukeEvents(){let r=this.mg.ticks();for(;this.lastNukeSent.length>0&&this.lastNukeSent[0][0]+500<r;)this.lastNukeSent.shift()}sendNuke(e,r,i){if(this.player===null)throw new Error("not initialized");let n=this.mg.ticks();this.lastNukeSent.push([n,e]),this.mg.addExecution(new Vt(r,this.player,e)),this.behavior?.maybeSendEmoji(i)}nukeTileScore(e,r,i){let n=Ii(e,25,!1),a=i.filter(h=>n(this.mg,h.tile())).map(h=>{switch(h.type()){case"City":return 25e3;case"Defense Post":return 5e3;case"Missile Silo":return 5e4;case"Port":return 1e4;default:return 0}}).reduce((h,f)=>h+f,0),o=Ii(e,50,!1);a-=5e4*i.filter(h=>h.type()==="SAM Launcher"&&o(this.mg,h.tile())).length;let s=r.map(h=>h.tile()),l=At(this.mg,s,[e]);if(l===null)throw new Error("Missing result");let{x:d}=l,u=this.mg.euclideanDistSquared(e,d),m=Math.sqrt(u);return a-=m*30,a-=this.lastNukeSent.filter(([h,f])=>n(this.mg,f)).map(h=>1e6).reduce((h,f)=>h+f,0),a}handleUnits(){return this.maybeSpawnStructure("City",e=>e)||this.maybeSpawnStructure("Port",e=>e)||this.maybeSpawnWarship()||this.maybeSpawnStructure("Factory",e=>e)||this.maybeSpawnStructure("Defense Post",e=>(e+2)**2)||this.maybeSpawnStructure("SAM Launcher",e=>e**2)||this.maybeSpawnStructure("Missile Silo",e=>e**2)}maybeSpawnStructure(e,r){if(this.player===null)throw new Error("not initialized");let i=this.player.unitsOwned(e),n=r(i+1),o=this.cost(e)*BigInt(n);if(this.player.gold()<o)return!1;let s=this.structureSpawnTile(e);return s===null||this.player.canBuild(e,s)===!1?!1:(this.mg.addExecution(new Ht(this.player,e,s)),!0)}structureSpawnTile(e){if(this.mg===void 0)throw new Error("Not initialized");if(this.player===null)throw new Error("Not initialized");let r=e==="Port"?this.randCoastalTileArray(25):this.randTerritoryTileArray(25);if(r.length===0)return null;let i=Ab(this.mg,this.player,e),n=null,a=0;for(let o of r){let s=i(o);s<=a&&n!==null||this.player.canBuild(e,o)&&(n=o,a=s)}return n}randCoastalTileArray(e){let r=Array.from(this.player.borderTiles()).filter(i=>this.mg.isOceanShore(i));return Array.from(this.arraySampler(r,e))}*arraySampler(e,r){if(e.length<=r)yield*e;else{let i=new Set(e);for(;r--;){let n=this.random.randFromSet(i);i.delete(n),yield n}}}maybeSpawnWarship(){if(this.player===null)throw new Error("not initialized");if(!this.random.chance(50))return!1;let e=this.player.units("Port"),r=this.player.units("Warship");if(e.length>0&&r.length===0&&this.player.gold()>this.cost("Warship")){let i=this.random.randElement(e),n=this.warshipSpawnTile(i.tile());return n===null?!1:this.player.canBuild("Warship",n)===!1?(console.warn("cannot spawn destroyer"),!1):(this.mg.addExecution(new Ht(this.player,"Warship",n)),!0)}return!1}randTerritoryTileArray(e){let r=Ye(this.mg,this.player.borderTiles()),i=[];for(let n=0;n<e;n++){let a=this.randTerritoryTile(this.player,r);a!==null&&i.push(a)}return i}randTerritoryTile(e,r=null){r??(r=Ye(this.mg,e.borderTiles()));for(let i=0;i<100;i++){let n=this.random.nextInt(r.min.x,r.max.x),a=this.random.nextInt(r.min.y,r.max.y);if(!this.mg.isOnMap(new ne(n,a)))continue;let o=this.mg.ref(n,a);if(this.mg.owner(o)===e)return o}return null}warshipSpawnTile(e){for(let i=0;i<50;i++){let n=this.random.nextInt(this.mg.x(e)-250,this.mg.x(e)+250),a=this.random.nextInt(this.mg.y(e)-250,this.mg.y(e)+250);if(!this.mg.isValidCoord(n,a))continue;let o=this.mg.ref(n,a);if(this.mg.isOcean(o))return o}return null}cost(e){if(this.player===null)throw new Error("not initialized");return this.mg.unitInfo(e).cost(this.mg,this.player)}sendBoatRandomly(e=[]){if(this.player===null)throw new Error("not initialized");let r=Array.from(this.player.borderTiles()).filter(a=>this.mg.isOceanShore(a));if(r.length===0)return;let i=this.random.randElement(r),n=this.randomBoatTarget(i,e,!0);n===null&&(n=this.randomBoatTarget(i,e,!1),n===null)||this.mg.addExecution(new Zt(this.player,this.mg.owner(n).id(),n,this.player.troops()/5,null))}randomSpawnLand(){let r=0;for(;r<50;){r++;let i=this.nation.spawnCell,n=this.random.nextInt(i.x-25,i.x+25),a=this.random.nextInt(i.y-25,i.y+25);if(!this.mg.isValidCoord(n,a))continue;let o=this.mg.ref(n,a);if(this.mg.isLand(o)&&!this.mg.hasOwner(o)){if(this.mg.terrainType(o)===2&&this.random.chance(2))continue;return o}}return null}randomBoatTarget(e,r,i=!1){if(this.player===null)throw new Error("not initialized");let n=this.mg.x(e),a=this.mg.y(e);for(let o=0;o<500;o++){let s=this.random.nextInt(n-150,n+150),l=this.random.nextInt(a-150,a+150);if(!this.mg.isValidCoord(s,l))continue;let d=this.mg.ref(s,l);if(!this.mg.isLand(d))continue;let u=this.mg.owner(d);if(u!==this.player&&!(u.isPlayer()&&r.includes(u))&&!(u.isPlayer()&&u.troops()>this.player.troops()*2)){if(i){if(!u.isPlayer()||u.type()==="BOT")return d}else if(!u.isPlayer()||!u.isFriendly(this.player))return d}}return null}considerMIRV(){if(this.player===null)throw new Error("not initialized");if(this.player.units("Missile Silo").length===0||this.player.gold()<this.cost("MIRV")||(this.removeOldMIRVEvents(),this.lastMIRVSent.length>0))return!1;if(this.random.chance(Be.MIRV_HESITATION_ODDS))return this.triggerMIRVCooldown(),!1;let e=this.selectCounterMirvTarget();if(e)return this.maybeSendMIRV(e),!0;let r=this.selectVictoryDenialTarget();if(r)return this.maybeSendMIRV(r),!0;let i=this.selectSteamrollStopTarget();return i?(this.maybeSendMIRV(i),!0):!1}selectCounterMirvTarget(){if(this.player===null)throw new Error("not initialized");let e=this.getValidMirvTargetPlayers().filter(r=>this.isInboundMIRVFrom(r));return e.length===0?null:(e.sort((r,i)=>i.numTilesOwned()-r.numTilesOwned()),e[0])}selectVictoryDenialTarget(){if(this.player===null)throw new Error("not initialized");let e=this.mg.numLandTiles();if(e===0)return null;let r=null;for(let i of this.getValidMirvTargetPlayers()){let n=0,a=i.team();if(a!==null){let o=this.mg.players().filter(d=>d.team()===a&&d.isPlayer()),l=o.map(d=>d.numTilesOwned()).reduce((d,u)=>d+u,0)/e;if(l>=Be.VICTORY_DENIAL_TEAM_THRESHOLD){let d=null,u=-1;for(let m of o){let h=m.numTilesOwned();h>u&&(u=h,d=m)}d===i?n=l:n=0}}else{let o=i.numTilesOwned()/e;o>=Be.VICTORY_DENIAL_INDIVIDUAL_THRESHOLD&&(n=o)}n>0&&(r===null||n>r.severity)&&(r={p:i,severity:n})}return r?r.p:null}selectSteamrollStopTarget(){if(this.player===null)throw new Error("not initialized");let e=this.getValidMirvTargetPlayers();if(e.length===0)return null;let r=this.mg.players().filter(o=>o.isPlayer()).map(o=>({p:o,cityCount:this.countCities(o)})).sort((o,s)=>s.cityCount-o.cityCount);if(r.length<2)return null;let i=r[0];if(i.cityCount<=Be.STEAMROLL_MIN_LEADER_CITIES)return null;let a=r[1].cityCount*Be.STEAMROLL_CITY_GAP_MULTIPLIER;return i.cityCount>=a&&e.some(o=>o===i.p)?i.p:null}getValidMirvTargetPlayers(){if(this.player===null)throw new Error("not initialized");if(this.mirvTargetsCache&&this.mg.ticks()-this.mirvTargetsCache.tick<20)return this.mirvTargetsCache.players;let r=this.mg.players().filter(i=>i!==this.player&&i.isPlayer()&&i.type()!=="BOT"&&!this.player.isOnSameTeam(i));return this.mirvTargetsCache={tick:this.mg.ticks(),players:r},r}isInboundMIRVFrom(e){if(this.player===null)throw new Error("not initialized");let r=e.units("MIRV");for(let i of r){let n=i.targetTile();if(!n||!this.mg.hasOwner(n))continue;if(this.mg.owner(n)===this.player)return!0}return!1}countCities(e){return e.unitCount("City")}calculateTerritoryCenter(e){return Sb(this.mg,e)}maybeSendMIRV(e){if(this.player===null)throw new Error("not initialized");this.behavior?.maybeSendEmoji(e);let r=this.calculateTerritoryCenter(e);if(r&&this.player.canBuild("MIRV",r)){this.sendMIRV(r);return}}sendMIRV(e){if(this.player===null)throw new Error("not initialized");this.triggerMIRVCooldown(e),this.mg.addExecution(new hn(this.player,e))}triggerMIRVCooldown(e){if(this.player===null)throw new Error("not initialized");this.removeOldMIRVEvents();let r=this.mg.ticks(),i=e??Array.from(this.player.tiles())[0]??this.mg.ref(0,0);this.lastMIRVSent.push([r,i])}removeOldMIRVEvents(){let e=Be.MIRV_COOLDOWN_TICKS,r=this.mg.ticks();for(;this.lastMIRVSent.length>0&&this.lastMIRVSent[0][0]+e<=r;)this.lastMIRVSent.shift()}trackTransportShipsAndRetaliate(){if(this.player!==null){this.player.units("Transport").forEach(e=>this.trackedTransportShips.add(e));for(let e of Array.from(this.trackedTransportShips))e.isActive()||(e.wasDestroyedByEnemy()&&this.maybeRetaliateWithWarship(e.tile()),this.trackedTransportShips.delete(e))}}trackTradeShipsAndRetaliate(){if(this.player!==null){this.player.units("Trade Ship").forEach(e=>this.trackedTradeShips.add(e));for(let e of Array.from(this.trackedTradeShips)){if(!e.isActive()){this.trackedTradeShips.delete(e);continue}e.owner().id()!==this.player.id()&&(this.maybeRetaliateWithWarship(e.tile()),this.trackedTradeShips.delete(e))}}}maybeRetaliateWithWarship(e){if(this.player===null)return;let{difficulty:r}=this.mg.config().gameConfig();if(r==="Medium"&&this.random.nextInt(0,100)<15||r==="Hard"&&this.random.nextInt(0,100)<50||r==="Impossible"&&this.random.nextInt(0,100)<80){if(this.player.canBuild("Warship",e)===!1)return;this.mg.addExecution(new Ht(this.player,"Warship",e))}}isActive(){return this.active}activeDuringSpawnPhase(){return!0}};Be.MIRV_COOLDOWN_TICKS=20,Be.MIRV_HESITATION_ODDS=7,Be.VICTORY_DENIAL_TEAM_THRESHOLD=.8,Be.VICTORY_DENIAL_INDIVIDUAL_THRESHOLD=.65,Be.STEAMROLL_CITY_GAP_MULTIPLIER=1.3,Be.STEAMROLL_MIN_LEADER_CITIES=10;var ts=Be;var rs=class{constructor(e,r){this.player=e;this.isDisconnected=r}init(e,r){this.player.markDisconnected(this.isDisconnected)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var ns=class{constructor(e,r,i){this.owner=e;this.unitId=r;this.position=i}init(e,r){if(!e.isValidRef(this.position)){console.warn(`MoveWarshipExecution: position ${this.position} not valid`);return}let i=this.owner.units("Warship").find(n=>n.id()===this.unitId);if(!i){console.warn("MoveWarshipExecution: warship not found");return}if(!i.isActive()){console.warn("MoveWarshipExecution: warship is not active");return}i.setPatrolTile(this.position),i.setTargetTile(void 0)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var is=class{isActive(){return!1}activeDuringSpawnPhase(){return!1}init(e,r){}tick(e){}};var as=class{constructor(e,r,i,n){this.sender=e;this.recipientID=r;this.quickChatKey=i;this.target=n;this.active=!0}init(e,r){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`QuickChatExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID)}tick(e){let r=this.getMessageFromKey(this.quickChatKey);this.mg.displayChat(r[1],r[0],this.target,this.recipient.id(),!0,this.sender.id()),this.mg.displayChat(r[1],r[0],this.target,this.sender.id(),!1,this.recipient.id()),console.log(`[QuickChat] ${this.sender.name} \u2192 ${this.recipient.displayName}: ${r}`),this.active=!1}owner(){return this.sender}isActive(){return this.active}activeDuringSpawnPhase(){return!1}getMessageFromKey(e){return e.split(".")}};var z5=20,os=class{constructor(e,r){this.player=e;this.attackID=r;this.active=!0;this.retreatOrdered=!1}init(e,r){this.mg=e,this.startTick=e.ticks()}tick(e){this.retreatOrdered||(this.player.orderRetreat(this.attackID),this.retreatOrdered=!0),this.mg.ticks()>=this.startTick+z5&&(this.player.executeRetreat(this.attackID),this.active=!1)}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ss=class{constructor(e,r){this.requestor=e;this.targetID=r;this.active=!0}init(e,r){if(!e.hasPlayer(this.targetID)){console.warn(`TargetPlayerExecution: target ${this.targetID} not found`),this.active=!1;return}this.target=e.player(this.targetID)}tick(e){this.requestor.canTarget(this.target)&&(this.requestor.target(this.target),this.target.updateRelation(this.requestor,-40)),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ls=class{constructor(e,r){this.player=e;this.unitId=r}init(e,r){if(this.structure=this.player.units().find(i=>i.id()===this.unitId),this.structure===void 0){console.warn("structure is undefined");return}if(!this.player.canUpgradeUnit(this.structure)){console.warn(`[UpgradeStructureExecution] unit type ${this.structure.type()} cannot be upgraded`);return}this.player.upgradeUnit(this.structure)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var pn=class pn{constructor(e,r){this.gm=e;this.players=[];this.random=new U(Z(r))}randTile(){let e=this.random.nextInt(0,this.gm.width()),r=this.random.nextInt(0,this.gm.height());return this.gm.ref(e,r)}randomSpawnLand(){let e=0;for(;e<pn.MAX_SPAWN_TRIES;){e++;let r=this.randTile();if(!this.gm.isLand(r)||this.gm.hasOwner(r)||this.gm.isBorder(r))continue;let i=!1;for(let n of this.players)if(this.gm.manhattanDist(n.tile,r)<pn.MIN_SPAWN_DISTANCE){i=!0;break}if(!i)return r}return null}spawnPlayers(){for(let e of this.gm.allPlayers()){if(e.type()!=="HUMAN")continue;let r=this.randomSpawnLand();r!==null&&this.players.push(new dt(e.info(),r))}return this.players}};pn.MAX_SPAWN_TRIES=1e4,pn.MIN_SPAWN_DISTANCE=30;var cs=pn;var us=class{constructor(e,r,i){this.mg=e;this.gameID=r;this.clientID=i;this.random=new U(Z(r)+1)}createExecs(e){return e.intents.map(r=>this.createExec(r))}createExec(e){let r=this.mg.playerByClientID(e.clientID);if(!r)return console.warn(`player with clientID ${e.clientID} not found`),new is;switch(e.type){case"attack":return new It(e.troops,r,e.targetID,null);case"cancel_attack":return new os(r,e.attackID);case"cancel_boat":return new Io(r,e.unitID);case"move_warship":return new ns(r,e.unitId,e.tile);case"spawn":return new dt(r.info(),e.tile);case"boat":return new Zt(r,e.targetID,e.dst,e.troops,e.src);case"allianceRequest":return new nn(r,e.recipient);case"allianceRequestReply":return new So(e.requestor,r,e.accept);case"breakAlliance":return new Po(r,e.recipient);case"targetPlayer":return new ss(r,e.target);case"emoji":return new fr(r,e.recipient,e.emoji);case"donate_troops":return new Xo(r,e.recipient,e.troops);case"donate_gold":return new Yo(r,e.recipient,e.gold);case"embargo":return new Qo(r,e.targetID,e.action);case"embargo_all":return new Jo(r,e.action);case"build_unit":return new Ht(r,e.unit,e.tile);case"allianceExtension":return new Ft(r,e.recipient);case"upgrade_structure":return new ls(r,e.unitId);case"delete_unit":return new Ko(r,e.unitId);case"quick_chat":return new as(r,e.recipient,e.quickChatKey,e.target);case"mark_disconnected":return new rs(r,e.isDisconnected);default:throw new Error(`intent type ${e} not found`)}}spawnBots(e){return new No(this.mg,this.gameID).spawnBots(e)}spawnPlayers(){return new cs(this.mg,this.gameID).spawnPlayers()}fakeHumanExecutions(){let e=[];for(let r of this.mg.nations())e.push(new ts(this.gameID,r));return e}};var ds=class{constructor(){this.active=!0;this.mg=null}init(e,r){this.mg=e}tick(e){if(e%10===0){if(this.mg===null)throw new Error("Not initialized");this.mg.config().gameConfig().gameMode==="Free For All"?this.checkWinnerFFA():this.checkWinnerTeam()}}checkWinnerFFA(){if(this.mg===null)throw new Error("Not initialized");let e=this.mg.players().sort((a,o)=>o.numTilesOwned()-a.numTilesOwned());if(e.length===0)return;let r=e[0],i=(this.mg.ticks()-this.mg.config().numSpawnPhaseTurns())/10,n=this.mg.numLandTiles()-this.mg.numTilesWithFallout();(r.numTilesOwned()/n*100>this.mg.config().percentageTilesOwnedToWin()||this.mg.config().gameConfig().maxTimerValue!==void 0&&i-this.mg.config().gameConfig().maxTimerValue*60>=0)&&(this.mg.setWinner(r,this.mg.stats().stats()),console.log(`${r.name()} has won the game`),this.active=!1)}checkWinnerTeam(){if(this.mg===null)throw new Error("Not initialized");let e=new Map;for(let s of this.mg.players()){let l=s.team();l!==null&&e.set(l,(e.get(l)??0)+s.numTilesOwned())}let r=Array.from(e.entries()).sort((s,l)=>l[1]-s[1]);if(r.length===0)return;let i=r[0],n=(this.mg.ticks()-this.mg.config().numSpawnPhaseTurns())/10,a=this.mg.numLandTiles()-this.mg.numTilesWithFallout();if(i[1]/a*100>this.mg.config().percentageTilesOwnedToWin()||this.mg.config().gameConfig().maxTimerValue!==void 0&&n-this.mg.config().gameConfig().maxTimerValue*60>=0){if(i[0]===K.Bot)return;this.mg.setWinner(i[0],this.mg.stats().stats()),console.log(`${i[0]} has won the game`),this.active=!1}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ms=class{constructor(e,r,i,n,a){this.mg=e;this.requestor_=r;this.recipient_=i;this.createdAt_=n;this.id_=a;this.extensionRequestedRequestor_=!1;this.extensionRequestedRecipient_=!1;this.expiresAt_=n+e.config().allianceDuration()}other(e){return this.requestor_===e?this.recipient_:this.requestor_}requestor(){return this.requestor_}recipient(){return this.recipient_}createdAt(){return this.createdAt_}expire(){this.mg.expireAlliance(this)}addExtensionRequest(e){this.requestor_===e?this.extensionRequestedRequestor_=!0:this.recipient_===e&&(this.extensionRequestedRecipient_=!0)}bothAgreedToExtend(){return this.extensionRequestedRequestor_&&this.extensionRequestedRecipient_}onlyOneAgreedToExtend(){return this.extensionRequestedRequestor_!==this.extensionRequestedRecipient_}id(){return this.id_}extend(){this.extensionRequestedRequestor_=!1,this.extensionRequestedRecipient_=!1,this.expiresAt_=this.mg.ticks()+this.mg.config().allianceDuration()}expiresAt(){return this.expiresAt_}};var hs=class{constructor(e,r,i,n){this.requestor_=e;this.recipient_=r;this.tickCreated=i;this.game=n;this.status_="pending"}status(){return this.status_}requestor(){return this.requestor_}recipient(){return this.recipient_}createdAt(){return this.tickCreated}accept(){this.status_="accepted",this.game.acceptAllianceRequest(this)}reject(){this.status_="rejected",this.game.rejectAllianceRequest(this)}toUpdate(){return{type:5,requestorID:this.requestor_.smallID(),recipientID:this.recipient_.smallID(),createdAt:this.tickCreated}}};var ps=class{constructor(e,r,i,n,a,o,s){this._id=e;this._target=r;this._attacker=i;this._troops=n;this._sourceTile=a;this._border=o;this._mg=s;this._isActive=!0;this._borderSize=0;this._retreating=!1;this._retreated=!1}sourceTile(){return this._sourceTile}target(){return this._target}attacker(){return this._attacker}troops(){return this._troops}setTroops(e){this._troops=e}isActive(){return this._isActive}id(){return this._id}delete(){this._target.isPlayer()&&(this._target._incomingAttacks=this._target._incomingAttacks.filter(e=>e!==this)),this._attacker._outgoingAttacks=this._attacker._outgoingAttacks.filter(e=>e!==this),this._isActive=!1}orderRetreat(){this._retreating=!0}executeRetreat(){this._retreated=!0}retreating(){return this._retreating}retreated(){return this._retreated}borderSize(){return this._borderSize}clearBorder(){this._borderSize=0,this._border.clear()}addBorderTile(e){this._border.has(e)||(this._borderSize+=1,this._border.add(e))}removeBorderTile(e){this._border.has(e)&&(this._borderSize-=1,this._border.delete(e))}averagePosition(){if(this._borderSize===0){if(this.sourceTile()===null)return null;let i=this.sourceTile();return new ne(this._mg.map().x(i),this._mg.map().y(i))}let e=0,r=0;for(let i of this._border)e+=this._mg.map().x(i),r+=this._mg.map().y(i);return e=e/this._borderSize,r=r/this._borderSize,new ne(e,r)}};var fs=class{constructor(e,r,i,n,a,o={}){this._type=e;this.mg=r;this._tile=i;this._id=n;this._owner=a;this._active=!0;this._retreating=!1;this._targetedBySAM=!1;this._reachedTarget=!1;this._wasDestroyedByEnemy=!1;this._underConstruction=!1;this._lastOwner=null;this._missileTimerQueue=[];this._hasTrainStation=!1;this._level=1;this._targetable=!0;this._trajectoryIndex=0;this._deletionAt=null;switch(this._lastTile=i,this._health=nt(this.mg.unitInfo(e).maxHealth??1),this._targetTile="targetTile"in o?o.targetTile??void 0:void 0,this._trajectory="trajectory"in o?o.trajectory??[]:[],this._troops="troops"in o?o.troops??0:0,this._lastSetSafeFromPirates="lastSetSafeFromPirates"in o?o.lastSetSafeFromPirates??0:0,this._patrolTile="patrolTile"in o?o.patrolTile??void 0:void 0,this._targetUnit="targetUnit"in o?o.targetUnit??void 0:void 0,this._loaded="loaded"in o?o.loaded??void 0:void 0,this._trainType="trainType"in o?o.trainType:void 0,this._type){case"Warship":case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":this.mg.stats().unitBuild(a,this._type)}}setTargetable(e){this._targetable!==e&&(this._targetable=e,this.mg.addUpdate(this.toUpdate()))}isTargetable(){return this._targetable}setPatrolTile(e){this._patrolTile=e}patrolTile(){return this._patrolTile}isUnit(){return!0}touch(){this.mg.addUpdate(this.toUpdate())}setTileTarget(e){this._targetTile=e}tileTarget(){return this._targetTile}id(){return this._id}toUpdate(){return{type:1,unitType:this._type,id:this._id,troops:this._troops,ownerID:this._owner.smallID(),lastOwnerID:this._lastOwner?.smallID(),isActive:this._active,reachedTarget:this._reachedTarget,retreating:this._retreating,pos:this._tile,markedForDeletion:this._deletionAt??!1,targetable:this._targetable,lastPos:this._lastTile,health:this.hasHealth()?Number(this._health):void 0,underConstruction:this._underConstruction,targetUnitId:this._targetUnit?.id()??void 0,targetTile:this.targetTile()??void 0,missileTimerQueue:this._missileTimerQueue,level:this.level(),hasTrainStation:this._hasTrainStation,trainType:this._trainType,loaded:this._loaded}}type(){return this._type}lastTile(){return this._lastTile}move(e){if(e===null)throw new Error("tile cannot be null");this._lastTile=this._tile,this._tile=e,this.mg.updateUnitTile(this),this.mg.addUpdate(this.toUpdate())}setTroops(e){this._troops=e}troops(){return this._troops}health(){return Number(this._health)}hasHealth(){return this.info().maxHealth!==void 0}tile(){return this._tile}owner(){return this._owner}info(){return this.mg.unitInfo(this._type)}setOwner(e){switch(this.clearPendingDeletion(),this._type){case"Warship":case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":this.mg.stats().unitCapture(e,this._type),this.mg.stats().unitLose(this._owner,this._type);break}this._lastOwner=this._owner,this._lastOwner._units=this._lastOwner._units.filter(r=>r!==this),this._owner=e,this._owner._units.push(this),this.mg.addUpdate(this.toUpdate()),this.mg.displayMessage(`Your ${this.type()} was captured by ${e.displayName()}`,11,this._lastOwner.id()),this.mg.displayMessage(`Captured ${this.type()} from ${this._lastOwner.displayName()}`,10,e.id())}modifyHealth(e,r){this._health=qp(this._health+nt(e),0n,nt(this.info().maxHealth??1)),this._health===0n&&this.delete(!0,r)}clearPendingDeletion(){this._deletionAt=null}isMarkedForDeletion(){return this._deletionAt!==null}markForDeletion(){this.isActive()&&(this._deletionAt=this.mg.ticks()+this.mg.config().deletionMarkDuration(),this.mg.addUpdate(this.toUpdate()))}isOverdueDeletion(){return this.isActive()?this._deletionAt!==null&&this.mg.ticks()-this._deletionAt>0:!1}delete(e,r){if(!this.isActive())throw new Error(`cannot delete ${this} not active`);if(this._wasDestroyedByEnemy=r!==void 0,this._owner._units=this._owner._units.filter(i=>i!==this),this._active=!1,this.mg.addUpdate(this.toUpdate()),this.mg.removeUnit(this),e!==!1&&this._type!=="MIRV Warhead"&&this.mg.displayMessage(`Your ${this._type} was destroyed`,12,this.owner().id()),r!==void 0)switch(this._type){case"Transport":this.mg.stats().boatDestroyTroops(r,this._owner,this._troops);break;case"Trade Ship":this.mg.stats().boatDestroyTrade(r,this._owner);break;case"City":case"Defense Post":case"Missile Silo":case"Port":case"SAM Launcher":case"Warship":case"Factory":this.mg.stats().unitDestroy(r,this._type),this.mg.stats().unitLose(this.owner(),this._type);break}}isActive(){return this._active}wasDestroyedByEnemy(){return this._wasDestroyedByEnemy}retreating(){return this._retreating}orderBoatRetreat(){if(this.type()!=="Transport")throw new Error(`Cannot retreat ${this.type()}`);this._retreating=!0}isUnderConstruction(){return this._underConstruction}setUnderConstruction(e){this._underConstruction!==e&&(this._underConstruction=e,this.mg.addUpdate(this.toUpdate()))}hash(){return this.tile()+Z(this.type())*this._id}toString(){return`Unit:${this._type},owner:${this.owner().name()}`}launch(){this._missileTimerQueue.push(this.mg.ticks()),this.mg.addUpdate(this.toUpdate())}ticksLeftInCooldown(){return this._missileTimerQueue[0]}isInCooldown(){return this._missileTimerQueue.length===this._level}missileTimerQueue(){return this._missileTimerQueue}reloadMissile(){this._missileTimerQueue.shift(),this.mg.addUpdate(this.toUpdate())}setTargetTile(e){this._targetTile=e}targetTile(){return this._targetTile}setTrajectoryIndex(e){let r=this._trajectory.length-1;this._trajectoryIndex=e<0?0:e>r?r:e}trajectoryIndex(){return this._trajectoryIndex}trajectory(){return this._trajectory}setTargetUnit(e){this._targetUnit=e}targetUnit(){return this._targetUnit}setTargetedBySAM(e){this._targetedBySAM=e}targetedBySAM(){return this._targetedBySAM}setReachedTarget(){this._reachedTarget=!0}reachedTarget(){return this._reachedTarget}setSafeFromPirates(){this._lastSetSafeFromPirates=this.mg.ticks()}isSafeFromPirates(){return this.mg.ticks()-this._lastSetSafeFromPirates<this.mg.config().safeFromPiratesCooldownMax()}level(){return this._level}setTrainStation(e){this._hasTrainStation=e,this.mg.addUpdate(this.toUpdate())}hasTrainStation(){return this._hasTrainStation}increaseLevel(){this._level++,["Missile Silo","SAM Launcher"].includes(this.type())&&this._missileTimerQueue.push(this.mg.ticks()),this.mg.addUpdate(this.toUpdate())}decreaseLevel(e){if(this._level--,["Missile Silo","SAM Launcher"].includes(this.type())&&this._missileTimerQueue.pop(),this._level<=0){this.delete(!0,e);return}this.mg.addUpdate(this.toUpdate())}trainType(){return this._trainType}isLoaded(){return this._loaded}setLoaded(e){this._loaded!==e&&(this._loaded=e,this.mg.addUpdate(this.toUpdate()))}};var gs=class{constructor(e,r){this.recipient=e;this.tick=r}},ys=class{constructor(e,r,i,n,a){this.mg=e;this._smallID=r;this.playerInfo=i;this._team=a;this._lastTileChange=0;this.markedTraitorTick=-1;this._betrayalCount=0;this.embargoes=new Map;this._borderTiles=new Set;this._units=[];this._tiles=new Set;this.pastOutgoingAllianceRequests=[];this._expiredAlliances=[];this.targets_=[];this.outgoingEmojis_=[];this.sentDonations=[];this.relations=new Map;this.lastDeleteUnitTick=-1;this.lastEmbargoAllTick=-1;this._incomingAttacks=[];this._outgoingAttacks=[];this._outgoingLandAttacks=[];this._hasSpawned=!1;this._isDisconnected=!1;this.numUnitsConstructed={};this._name=i.name,this._troops=nt(n),this._gold=0n,this._displayName=this._name,this._pseudo_random=new U(Z(this.playerInfo.id))}toUpdate(){let e=this.outgoingAllianceRequests().map(r=>r.recipient().id());return{type:2,clientID:this.clientID(),name:this.name(),displayName:this.displayName(),id:this.id(),team:this.team()??void 0,smallID:this.smallID(),playerType:this.type(),isAlive:this.isAlive(),isDisconnected:this.isDisconnected(),tilesOwned:this.numTilesOwned(),gold:this._gold,troops:this.troops(),allies:this.alliances().map(r=>r.other(this).smallID()),embargoes:new Set([...this.embargoes.keys()].map(r=>r.toString())),isTraitor:this.isTraitor(),traitorRemainingTicks:this.getTraitorRemainingTicks(),targets:this.targets().map(r=>r.smallID()),outgoingEmojis:this.outgoingEmojis(),outgoingAttacks:this._outgoingAttacks.map(r=>({attackerID:r.attacker().smallID(),targetID:r.target().smallID(),troops:r.troops(),id:r.id(),retreating:r.retreating()})),incomingAttacks:this._incomingAttacks.map(r=>({attackerID:r.attacker().smallID(),targetID:r.target().smallID(),troops:r.troops(),id:r.id(),retreating:r.retreating()})),outgoingAllianceRequests:e,alliances:this.alliances().map(r=>({id:r.id(),other:r.other(this).id(),createdAt:r.createdAt(),expiresAt:r.expiresAt(),hasExtensionRequest:r.expiresAt()<=this.mg.ticks()+this.mg.config().allianceExtensionPromptOffset()})),hasSpawned:this.hasSpawned(),betrayals:this._betrayalCount,lastDeleteUnitTick:this.lastDeleteUnitTick}}smallID(){return this._smallID}name(){return this._name}displayName(){return this._displayName}clientID(){return this.playerInfo.clientID}id(){return this.playerInfo.id}type(){return this.playerInfo.playerType}clan(){return this.playerInfo.clan}units(...e){if(e.length===0)return this._units;let r=new Set(e);return this._units.filter(i=>r.has(i.type()))}recordUnitConstructed(e){this.numUnitsConstructed[e]!==void 0?this.numUnitsConstructed[e]++:this.numUnitsConstructed[e]=1}unitsConstructed(e){let r=this.numUnitsConstructed[e]??0,i=0;for(let a of this._units)a.type()===e&&a.isUnderConstruction()&&i++;return i+r}unitCount(e){let r=0;for(let i of this._units)i.type()===e&&(r+=i.level());return r}unitsOwned(e){let r=0;for(let i of this._units)i.type()===e&&(i.isUnderConstruction()?r++:r+=i.level());return r}sharesBorderWith(e){for(let r of this._borderTiles)for(let i of this.mg.map().neighbors(r))if(this.mg.map().ownerID(i)===e.smallID())return!0;return!1}numTilesOwned(){return this._tiles.size}tiles(){return new Set(this._tiles.values())}borderTiles(){return this._borderTiles}neighbors(){let e=new Set;for(let r of this.borderTiles())for(let i of this.mg.map().neighbors(r))if(this.mg.map().isLand(i)){let n=this.mg.map().ownerID(i);n!==this.smallID()&&e.add(this.mg.playerBySmallID(n))}return Array.from(e)}isPlayer(){return!0}setTroops(e){this._troops=nt(e)}conquer(e){this.mg.conquer(this,e)}orderRetreat(e){let r=this._outgoingAttacks.filter(i=>i.id()===e);if(!r||!r[0]){console.warn(`Didn't find outgoing attack with id ${e}`);return}r[0].orderRetreat()}executeRetreat(e){let r=this._outgoingAttacks.filter(i=>i.id()===e);!r||!r[0]||r[0].executeRetreat()}relinquish(e){if(this.mg.owner(e)!==this)throw new Error("Cannot relinquish tile not owned by this player");this.mg.relinquish(e)}info(){return this.playerInfo}isAlive(){return this._tiles.size>0}hasSpawned(){return this._hasSpawned}setHasSpawned(e){this._hasSpawned=e}incomingAllianceRequests(){return this.mg.allianceRequests.filter(e=>e.recipient()===this)}outgoingAllianceRequests(){return this.mg.allianceRequests.filter(e=>e.requestor()===this)}alliances(){return this.mg.alliances_.filter(e=>e.requestor()===this||e.recipient()===this)}expiredAlliances(){return[...this._expiredAlliances]}allies(){return this.alliances().map(e=>e.other(this))}isAlliedWith(e){return e===this?!1:this.allianceWith(e)!==null}allianceWith(e){return e===this?null:this.alliances().find(r=>r.recipient()===e||r.requestor()===e)??null}canSendAllianceRequest(e){if(e===this||this.isDisconnected()||e.isDisconnected()||this.isFriendly(e)||!this.isAlive()||this.outgoingAllianceRequests().some(a=>a.recipient()===e))return!1;let i=this.pastOutgoingAllianceRequests.filter(a=>a.recipient()===e).sort((a,o)=>o.createdAt()-a.createdAt());return i.length===0?!0:this.mg.ticks()-i[0].createdAt()>=this.mg.config().allianceRequestCooldown()}breakAlliance(e){this.mg.breakAlliance(this,e)}isTraitor(){return this.getTraitorRemainingTicks()>0}getTraitorRemainingTicks(){if(this.markedTraitorTick<0)return 0;let e=this.mg.ticks()-this.markedTraitorTick,i=this.mg.config().traitorDuration()-e;return i>0?i:0}markTraitor(){this.markedTraitorTick=this.mg.ticks(),this._betrayalCount++,this.mg.stats().betray(this)}betrayals(){return this._betrayalCount}createAllianceRequest(e){if(this.isAlliedWith(e))throw new Error("cannot create alliance request, already allies");return this.mg.createAllianceRequest(this,e)}relation(e){if(e===this)throw new Error(`cannot get relation with self: ${this}`);let r=this.relations.get(e)??0;return this.relationFromValue(r)}relationFromValue(e){return e<-50?0:e<0?1:e<50?2:3}allRelationsSorted(){return Array.from(this.relations,([e,r])=>({player:e,relation:r})).sort((e,r)=>e.relation-r.relation).map(e=>({player:e.player,relation:this.relationFromValue(e.relation)}))}updateRelation(e,r){if(e===this)throw new Error(`cannot update relation with self: ${this}`);let i=this.relations.get(e)??0,n=Mt(i+r,-100,100);this.relations.set(e,n)}decayRelations(){this.relations.forEach((e,r)=>{let i=-1*Math.sign(e),n=.05;e+=i*n,Math.abs(e)<n*2&&(e=0),this.relations.set(r,e)})}canTarget(e){if(this===e||this.isFriendly(e))return!1;for(let r of this.targets_)if(this.mg.ticks()-r.tick<this.mg.config().targetCooldown())return!1;return!0}target(e){this.targets_.push({tick:this.mg.ticks(),target:e}),this.mg.target(this,e)}targets(){return this.targets_.filter(e=>this.mg.ticks()-e.tick<this.mg.config().targetDuration()).map(e=>e.target)}transitiveTargets(){let e=this.alliances().map(r=>r.other(this)).flatMap(r=>r.targets());return e.push(...this.targets()),[...new Set(e)]}sendEmoji(e,r){if(e===this)throw Error(`Cannot send emoji to oneself: ${this}`);let i={message:r,senderID:this.smallID(),recipientID:e===Ge?e:e.smallID(),createdAt:this.mg.ticks()};this.outgoingEmojis_.push(i),this.mg.sendEmojiUpdate(i)}outgoingEmojis(){return this.outgoingEmojis_.filter(e=>this.mg.ticks()-e.createdAt<this.mg.config().emojiMessageDuration()).sort((e,r)=>r.createdAt-e.createdAt)}canSendEmoji(e){if(e===this)return!1;let r=e===Ge?Ge:e.smallID(),i=this.outgoingEmojis_.filter(n=>n.recipientID===r);for(let n of i)if(this.mg.ticks()-n.createdAt<this.mg.config().emojiMessageCooldown())return!1;return!0}canDonateGold(e){if(!this.isAlive()||!e.isAlive()||!this.isFriendly(e)||e.type()==="HUMAN"&&this.mg.config().donateGold()===!1)return!1;for(let r of this.sentDonations)if(r.recipient===e&&this.mg.ticks()-r.tick<this.mg.config().donateCooldown())return!1;return!0}canDonateTroops(e){if(!this.isAlive()||!e.isAlive()||!this.isFriendly(e)||e.type()==="HUMAN"&&this.mg.config().donateTroops()===!1)return!1;for(let r of this.sentDonations)if(r.recipient===e&&this.mg.ticks()-r.tick<this.mg.config().donateCooldown())return!1;return!0}donateTroops(e,r){if(r<=0)return!1;let i=this.removeTroops(r);return i===0?!1:(e.addTroops(i),this.sentDonations.push(new gs(e,this.mg.ticks())),this.mg.displayMessage(`Sent ${pr(r)} troops to ${e.name()}`,21,this.id()),this.mg.displayMessage(`Received ${pr(r)} troops from ${this.name()}`,22,e.id()),!0)}donateGold(e,r){if(r<=0n)return!1;let i=this.removeGold(r);return i===0n?!1:(e.addGold(i),this.sentDonations.push(new gs(e,this.mg.ticks())),this.mg.displayMessage(`Sent ${ut(r)} gold to ${e.name()}`,18,this.id()),this.mg.displayMessage(`Received ${ut(r)} gold from ${this.name()}`,19,e.id(),r),!0)}canDeleteUnit(){return this.mg.ticks()-this.lastDeleteUnitTick>=this.mg.config().deleteUnitCooldown()}recordDeleteUnit(){this.lastDeleteUnitTick=this.mg.ticks()}canEmbargoAll(){if(this.mg.ticks()-this.lastEmbargoAllTick<this.mg.config().embargoAllCooldown())return!1;for(let e of this.mg.players())if(e.id()!==this.id()&&e.type()!=="BOT"&&!this.isOnSameTeam(e))return!0;return!1}recordEmbargoAll(){this.lastEmbargoAllTick=this.mg.ticks()}hasEmbargoAgainst(e){return this.embargoes.has(e.id())}canTrade(e){return!(e.hasEmbargoAgainst(this)||this.hasEmbargoAgainst(e))&&e.id()!==this.id()}getEmbargoes(){return[...this.embargoes.values()]}addEmbargo(e,r){let i=this.embargoes.get(e.id());i!==void 0&&!i.isTemporary||(this.mg.addUpdate({type:18,event:"start",playerID:this.smallID(),embargoedID:e.smallID()}),this.embargoes.set(e.id(),{createdAt:this.mg.ticks(),isTemporary:r,target:e}))}stopEmbargo(e){this.embargoes.delete(e.id()),this.mg.addUpdate({type:18,event:"stop",playerID:this.smallID(),embargoedID:e.smallID()})}endTemporaryEmbargo(e){let r=this.embargoes.get(e.id());r!==void 0&&!r.isTemporary||this.stopEmbargo(e)}tradingPartners(){return this.mg.players().filter(e=>e!==this&&this.canTrade(e))}team(){return this._team}isOnSameTeam(e){return e===this||this.team()===null||e.team()===null||this.team()===K.Bot||e.team()===K.Bot?!1:this._team===e.team()}isFriendly(e,r=!1){return e.isDisconnected()&&!r?!1:this.isOnSameTeam(e)||this.isAlliedWith(e)}gold(){return this._gold}addGold(e,r){this._gold+=e,r&&this.mg.addUpdate({type:15,player:this.id(),tile:r,gold:Number(e),troops:0})}removeGold(e){if(e<=0n)return 0n;let r=Vi(this._gold,e);return this._gold-=r,r}troops(){return Number(this._troops)}addTroops(e){if(e<0){this.removeTroops(-1*e);return}this._troops+=nt(e)}removeTroops(e){if(e<=0)return 0;let r=Vi(this._troops,nt(e));return this._troops-=r,Number(r)}captureUnit(e){if(e.owner()===this)throw new Error(`Cannot capture unit, ${this} already owns ${e}`);e.setOwner(this)}buildUnit(e,r,i){if(this.mg.config().isUnitDisabled(e))throw new Error(`Attempted to build disabled unit ${e} at tile ${r} by player ${this.name()}`);let n=this.mg.unitInfo(e).cost(this.mg,this),a=new fs(e,this.mg,r,this.mg.nextUnitID(),this,i);return this._units.push(a),this.recordUnitConstructed(e),this.removeGold(n),this.removeTroops("troops"in i?i.troops??0:0),this.mg.addUpdate(a.toUpdate()),this.mg.addUnit(a),a}findUnitToUpgrade(e,r){let i=this.mg.config().structureMinDist(),n=this.mg.nearbyUnits(r,i,e,void 0,!0).sort((o,s)=>o.distSquared-s.distSquared);if(n.length===0)return!1;let a=n[0].unit;return this.canUpgradeUnit(a)?a:!1}canUpgradeUnit(e){return!(e.isMarkedForDeletion()||e.isUnderConstruction()||!this.mg.config().unitInfo(e.type()).upgradable||this.mg.config().isUnitDisabled(e.type())||this._gold<this.mg.config().unitInfo(e.type()).cost(this.mg,this)||e.owner()!==this)}upgradeUnit(e){let r=this.mg.unitInfo(e.type()).cost(this.mg,this);this.removeGold(r),e.increaseLevel(),this.recordUnitConstructed(e.type())}buildableUnits(e){let r=e!==null?this.validStructureSpawnTiles(e):[];return Object.values(W).map(i=>{let n=!1;if(!this.mg.inSpawnPhase()){let a=e!==null&&this.findUnitToUpgrade(i,e);a!==!1&&(n=a.id())}return{type:i,canBuild:this.mg.inSpawnPhase()||e===null?!1:this.canBuild(i,e,r),canUpgrade:n,cost:this.mg.config().unitInfo(i).cost(this.mg,this)}})}canBuild(e,r,i=null){if(this.mg.config().isUnitDisabled(e))return!1;let n=this.mg.unitInfo(e).cost(this.mg,this);if(!this.isAlive()||this.gold()<n)return!1;switch(e){case"MIRV":return this.mg.hasOwner(r)?this.nukeSpawn(r):!1;case"Atom Bomb":case"Hydrogen Bomb":return this.nukeSpawn(r);case"MIRV Warhead":return r;case"Port":return this.portSpawn(r,i);case"Warship":return this.warshipSpawn(r);case"Shell":case"SAMMissile":return r;case"Transport":return Tb(this.mg,this,r);case"Trade Ship":return this.tradeShipSpawn(r);case"Train":return this.landBasedUnitSpawn(r);case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":return this.landBasedStructureSpawn(r,i);default:Dt(e)}}nukeSpawn(e){let r=this.mg.owner(e);if(r.isPlayer()&&this.isOnSameTeam(r))return!1;let i=this.units("Missile Silo").filter(n=>!n.isInCooldown()&&!n.isUnderConstruction()).sort(Zi(this.mg,e));return i.length===0?!1:i[0].tile()}portSpawn(e,r){let i=Array.from(this.mg.bfs(e,sn(e,this.mg.config().radiusPortSpawn()))).filter(a=>this.mg.owner(a)===this&&this.mg.isOceanShore(a)).sort((a,o)=>this.mg.manhattanDist(a,e)-this.mg.manhattanDist(o,e)),n=new Set(r??this.validStructureSpawnTiles(e));for(let a of i)if(n.has(a))return a;return!1}warshipSpawn(e){if(!this.mg.isOcean(e))return!1;let r=this.units("Port").sort((i,n)=>this.mg.manhattanDist(i.tile(),e)-this.mg.manhattanDist(n.tile(),e));return r.length===0?!1:r[0].tile()}landBasedUnitSpawn(e){return this.mg.isLand(e)?e:!1}landBasedStructureSpawn(e,r=null){let i=r??this.validStructureSpawnTiles(e);return i.length===0?!1:i[0]}validStructureSpawnTiles(e){if(this.mg.owner(e)!==this)return[];let r=15,i=r**2,n=Object.values(W).filter(u=>this.mg.config().unitInfo(u).territoryBound),a=this.mg.nearbyUnits(e,r*2,n,void 0,!0),o=this.mg.bfs(e,(u,m)=>this.mg.euclideanDistSquared(e,m)<i&&u.ownerID(m)===this.smallID()),s=new Set(o),l=this.mg.config().structureMinDist()**2;for(let u of o)for(let{unit:m}of a)if(this.mg.euclideanDistSquared(m.tile(),u)<l){s.delete(u);break}let d=Array.from(s);return d.sort((u,m)=>this.mg.euclideanDistSquared(u,e)-this.mg.euclideanDistSquared(m,e)),d}tradeShipSpawn(e){let r=this.units("Port").filter(i=>i.tile()===e);return r.length===0?!1:r[0].tile()}lastTileChange(){return this._lastTileChange}isDisconnected(){return this._isDisconnected}markDisconnected(e){this._isDisconnected=e}hash(){return Z(this.id())*(this.troops()+this.numTilesOwned())+this._units.reduce((e,r)=>e+r.hash(),0)}toString(){return`Player:{name:${this.info().name},clientID:${this.info().clientID},isAlive:${this.isAlive()},troops:${this._troops},numTileOwned:${this.numTilesOwned()}}]`}playerProfile(){return{relations:Object.fromEntries(this.allRelationsSorted().map(({player:r,relation:i})=>[r.smallID(),i])),alliances:this.alliances().map(r=>r.other(this).smallID())}}createAttack(e,r,i,n){let a=new ps(this._pseudo_random.nextID(),e,this,r,i,n,this.mg);return this._outgoingAttacks.push(a),e.isPlayer()&&e._incomingAttacks.push(a),a}outgoingAttacks(){return this._outgoingAttacks}incomingAttacks(){return this._incomingAttacks}canAttack(e){if(this.mg.hasOwner(e)&&this.mg.config().numSpawnPhaseTurns()+this.mg.config().spawnImmunityDuration()>this.mg.ticks()||this.mg.owner(e)===this)return!1;let r=this.mg.owner(e);if(r.isPlayer()&&this.isFriendly(r)||!this.mg.isLand(e))return!1;if(this.mg.hasOwner(e))return this.sharesBorderWith(r);for(let i of this.mg.bfs(e,Ai((n,a)=>!n.hasOwner(a)&&n.isLand(a),sn(e,200))))for(let n of this.mg.neighbors(i))if(this.mg.owner(n)===this)return!0;return!1}bestTransportShipSpawn(e){return _b(this.mg,this,e)}};var bs=class{constructor(e){this.railRoad=e;this.active=!0;this.headIndex=0;this.tailIndex=0;this.increment=3;this.railTiles=[];this.tailIndex=e.tiles.length}isActive(){return this.active}init(e,r){this.mg=e;let i=this.railRoad.tiles;this.railTiles.push({tile:i[0],railType:i.length>0?this.computeExtremityDirection(i[0],i[1]):0});for(let n=1;n<i.length-1;n++){let a=this.computeDirection(i[n-1],i[n],i[n+1]);this.railTiles.push({tile:i[n],railType:a})}this.railTiles.push({tile:i[i.length-1],railType:i.length>0?this.computeExtremityDirection(i[i.length-1],i[i.length-2]):0})}computeExtremityDirection(e,r){let i=this.mg.x(e),n=this.mg.y(e),a=this.mg.x(r),o=this.mg.y(r),s=a-i,l=o-n;return s===0&&l===0?0:s===0?0:l===0?1:0}computeDirection(e,r,i){if(this.mg===null)throw new Error("Not initialized");let n=this.mg.x(e),a=this.mg.y(e),o=this.mg.x(r),s=this.mg.y(r),l=this.mg.x(i),d=this.mg.y(i),u=o-n,m=s-a,h=l-o,f=d-s;if(u===h&&m===f){if(u!==0)return 1;if(m!==0)return 0}if(u===0&&h!==0||u!==0&&h===0){if(u===0&&h===1&&m===-1)return 5;if(u===0&&h===-1&&m===-1)return 4;if(u===0&&h===1&&m===1)return 3;if(u===0&&h===-1&&m===1)return 2;if(u===1&&h===0&&f===-1)return 2;if(u===-1&&h===0&&f===-1)return 3;if(u===1&&h===0&&f===1)return 4;if(u===-1&&h===0&&f===1)return 5}return console.warn(`Invalid rail segment: ${u}:${m}, ${h}:${f}`),0}tick(e){if(this.mg===null)throw new Error("Not initialized");if(!this.activeSourceOrDestination()){this.active=!1;return}if(this.headIndex>this.tailIndex){this.constructionComplete();return}let r;this.tailIndex-this.headIndex<=2*this.increment?(r=this.railTiles.slice(this.headIndex,this.tailIndex),this.constructionComplete()):(r=this.railTiles.slice(this.headIndex,this.headIndex+this.increment),r=r.concat(this.railTiles.slice(this.tailIndex-this.increment,this.tailIndex)),this.headIndex+=this.increment,this.tailIndex-=this.increment),r&&this.mg.addUpdate({type:16,isActive:!0,railTiles:r})}activeDuringSpawnPhase(){return!1}activeSourceOrDestination(){return this.railRoad.from.isActive()&&this.railRoad.to.isActive()}constructionComplete(){this.redrawBuildings(),this.active=!1}redrawBuildings(){this.railRoad.from.unit.isActive()&&this.railRoad.from.unit.touch(),this.railRoad.to.unit.isActive()&&this.railRoad.to.unit.touch()}};var Sh=class{constructor(){this.stations=new Set}addStation(e){this.stations.add(e)}removeStation(e){this.stations.delete(e)}findStation(e){for(let r of this.stations)if(r.unit===e)return r;return null}getAll(){return this.stations}},Ph=class{constructor(e){this.game=e}findTilePath(e,r){let i=new Wt(this.game.map(),this.game.miniMap(),e,r,5e3,20,!1,3);return i.compute()===2?i.reconstructPath():[]}findStationsPath(e,r){let i=new an(e,r,5e3,20,new zo(this.game));return i.compute()===2?i.reconstructPath():[]}};function Eb(t){let e=new Sh,r=new Ph(t);return new kh(t,e,r)}var kh=class{constructor(e,r,i){this.game=e;this.stationManager=r;this.pathService=i;this.maxConnectionDistance=4}connectStation(e){this.stationManager.addStation(e),this.connectToNearbyStations(e)}removeStation(e){let r=this.stationManager.findStation(e);if(!r)return;let i=r.neighbors();this.disconnectFromNetwork(r),this.stationManager.removeStation(r);let n=r.getCluster();if(n){if(i.length===1)n.removeStation(r);else if(i.length>1)for(let a of i){let o=this.computeCluster(a);new dn().addStations(o)}r.unit.setTrainStation(!1)}}findStationsPath(e,r){return this.pathService.findStationsPath(e,r)}connectToNearbyStations(e){let r=this.game.nearbyUnits(e.tile(),this.game.config().trainStationMaxRange(),["City","Factory","Port"]),i=new Set;r.sort((n,a)=>n.distSquared-a.distSquared);for(let n of r){if(n.unit===e.unit)continue;let a=this.stationManager.findStation(n.unit);if(!a)continue;let o=this.distanceFrom(a,e,this.maxConnectionDistance),s=a.getCluster();if(s===null)continue;(o>this.maxConnectionDistance||o===-1)&&n.distSquared>this.game.config().trainStationMinRange()**2&&this.connect(e,a)&&(s.addStation(e),i.add(s))}i.size>1?this.mergeClusters(i):i.size===0&&new dn().addStation(e)}disconnectFromNetwork(e){for(let i of e.getRailroads())i.delete(this.game);e.clearRailroads();let r=e.getCluster();r!==null&&r.size()===1&&this.deleteCluster(r)}deleteCluster(e){for(let r of e.stations)r.setCluster(null);e.clear()}connect(e,r){let i=this.pathService.findTilePath(e.tile(),r.tile());if(i.length>0&&i.length<this.game.config().railroadMaxSize()){let n=new Oo(e,r,i);return this.game.addExecution(new bs(n)),e.addRailroad(n),r.addRailroad(n),!0}return!1}distanceFrom(e,r,i){if(e===r)return 0;let n=new Set,a=[{station:e,distance:0}];for(;a.length>0;){let{station:o,distance:s}=a.shift();if(!n.has(o)&&(n.add(o),!(s>=i)))for(let l of o.neighbors()){if(l===r)return s+1;n.has(l)||a.push({station:l,distance:s+1})}}return-1}computeCluster(e){let r=new Set,i=[e];for(;i.length>0;){let n=i.shift();if(!r.has(n)){r.add(n);for(let a of n.neighbors())r.has(a)||i.push(a)}}return r}mergeClusters(e){let r=new dn;for(let i of e)r.merge(i)}};var O5=["abomb","hbomb","mirv","mirvw"],j5=g.enum(O5),$b={"Atom Bomb":"abomb","Hydrogen Bomb":"hbomb",MIRV:"mirv","MIRV Warhead":"mirvw"},L5=["trade","trans"],B5=g.enum(L5),G5=["city","defp","port","wshp","silo","saml","fact"],F5=g.enum(G5),Rb={City:"city","Defense Post":"defp","Missile Silo":"silo",Port:"port","SAM Launcher":"saml",Warship:"wshp",Factory:"fact"},Ih=0,Ah=1,Cb=2,Eh=0,$h=1,Mb=2,Rh=3,Db=0,Nb=1,Ub=2,zb=0,Ob=1,Ch=2,jb=3,Lb=0,Bb=1,Gb=2,Fb=3,Wb=4,vs=g.preprocess(t=>typeof t=="string"&&/^-?\d+$/.test(t)?BigInt(t):t,g.bigint()),$i=vs.array().min(1),Mh=g.object({attacks:$i.optional(),betrayals:vs.optional(),killedAt:vs.optional(),conquests:vs.optional(),boats:g.partialRecord(B5,$i).optional(),bombs:g.partialRecord(j5,$i).optional(),gold:$i.optional(),units:g.partialRecord(F5,$i).optional()}).optional();function $t(t){switch(typeof t){case"bigint":return t;case"number":return BigInt(Math.floor(t))}}var Ts=class{constructor(){this.data={};this._numMirvLaunched=0n}numMirvsLaunched(){return this._numMirvLaunched}getPlayerStats(e){let r=e.clientID();if(r!==null)return this.data[r]}stats(){return this.data}_makePlayerStats(e){let r=e.clientID();if(r===null)return;if(r in this.data)return this.data[r];let i={};return this.data[r]=i,i}_addAttack(e,r,i){let n=this._makePlayerStats(e);if(n!==void 0){for(n.attacks??(n.attacks=[0n]);n.attacks.length<=r;)n.attacks.push(0n);n.attacks[r]+=$t(i)}}_addBetrayal(e,r){let i=this._makePlayerStats(e);i!==void 0&&(i.betrayals??(i.betrayals=0n),i.betrayals+=$t(r))}_addBoat(e,r,i,n){var o;let a=this._makePlayerStats(e);if(a!==void 0){for(a.boats??(a.boats={[r]:[0n]}),(o=a.boats)[r]??(o[r]=[0n]);a.boats[r].length<=i;)a.boats[r].push(0n);a.boats[r][i]+=$t(n)}}_addBomb(e,r,i,n){var s;let a=$b[r],o=this._makePlayerStats(e);if(o!==void 0){for(o.bombs??(o.bombs={[a]:[0n]}),(s=o.bombs)[a]??(s[a]=[0n]);o.bombs[a].length<=i;)o.bombs[a].push(0n);o.bombs[a][i]+=$t(n)}}_addGold(e,r,i){let n=this._makePlayerStats(e);if(n!==void 0){for(n.gold??(n.gold=[0n]);n.gold.length<=r;)n.gold.push(0n);n.gold[r]+=$t(i)}}_addOtherUnit(e,r,i,n){var s;let a=Rb[r],o=this._makePlayerStats(e);if(o!==void 0){for(o.units??(o.units={[a]:[0n]}),(s=o.units)[a]??(s[a]=[0n]);o.units[a].length<=i;)o.units[a].push(0n);o.units[a][i]+=$t(n)}}_addConquest(e){let r=this._makePlayerStats(e);r!==void 0&&(r.conquests===void 0?r.conquests=$t(1):r.conquests+=$t(1))}_addPlayerKilled(e,r){let i=this._makePlayerStats(e);i!==void 0&&(i.killedAt=$t(r))}attack(e,r,i){this._addAttack(e,Ih,i),r.isPlayer()&&this._addAttack(r,Ah,i)}attackCancel(e,r,i){this._addAttack(e,Cb,i),this._addAttack(e,Ih,-i),r.isPlayer()&&this._addAttack(r,Ah,-i)}betray(e){this._addBetrayal(e,1)}boatSendTrade(e,r){this._addBoat(e,"trade",Eh,1)}boatArriveTrade(e,r,i){this._addBoat(e,"trade",$h,1),this._addGold(e,Ch,i),this._addGold(r,Ch,i)}boatCapturedTrade(e,r,i){this._addBoat(e,"trade",Mb,1),this._addGold(e,jb,i)}boatDestroyTrade(e,r){this._addBoat(e,"trade",Rh,1)}boatSendTroops(e,r,i){this._addBoat(e,"trans",Eh,1)}boatArriveTroops(e,r,i){this._addBoat(e,"trans",$h,1)}boatDestroyTroops(e,r,i){this._addBoat(e,"trans",Rh,1)}bombLaunch(e,r,i){i==="MIRV"&&this._numMirvLaunched++,this._addBomb(e,i,Db,1)}bombLand(e,r,i){this._addBomb(e,i,Nb,1)}bombIntercept(e,r,i){this._addBomb(e,r,Ub,i)}goldWork(e,r){this._addGold(e,zb,r)}goldWar(e,r,i){this._addGold(e,Ob,i),this._addConquest(e)}unitBuild(e,r){this._addOtherUnit(e,r,Lb,1)}unitCapture(e,r){this._addOtherUnit(e,r,Gb,1)}unitUpgrade(e,r){this._addOtherUnit(e,r,Wb,1)}unitDestroy(e,r){this._addOtherUnit(e,r,Bb,1)}unitLose(e,r){this._addOtherUnit(e,r,Fb,1)}playerKilled(e,r){this._addPlayerKilled(e,r)}lobbyFillTime(e){}};function qb(t,e,r=W5(t.length,e.length)){let i=new Map,n=new Map,a=new Map,o=[];for(let u of t)u.clan?(a.has(u.clan)||a.set(u.clan,[]),a.get(u.clan).push(u)):o.push(u);let s=Array.from(a.entries()).sort((u,m)=>m[1].length-u[1].length);for(let[u,m]of s){let h=null,f=0;for(let p of e){let T=n.get(p)??0;h!==null&&f<=T||(f=T,h=p)}if(h!==null){for(let p of m)f<r?(f++,i.set(p,h)):i.set(p,"kicked");n.set(h,f)}}let l=o.filter(u=>u.playerType==="FAKEHUMAN");l.length>0&&(l=new U(Z(l[0].id)).shuffleArray(l));let d=o.filter(u=>u.playerType!=="FAKEHUMAN");for(let u of d.concat(l)){let m=null,h=0;for(let f of e){let p=n.get(f)??0;m!==null&&h<=p||(h=p,m=f)}m!==null&&(n.set(m,h+1),i.set(u,m))}return i}function W5(t,e){return Math.ceil(t/e)}var xs=class{constructor(){}smallID(){return 0}clientID(){return"TERRA_NULLIUS_CLIENT_ID"}id(){return null}isPlayer(){return!1}};var _s=class{constructor(e){this.gm=e;this.cellSize=100;this.grid=Array(Math.ceil(e.height()/this.cellSize)).fill(null).map(()=>Array(Math.ceil(e.width()/this.cellSize)).fill(null).map(()=>new Map))}getGridCoords(e,r){return[Math.floor(e/this.cellSize),Math.floor(r/this.cellSize)]}addUnit(e){let r=e.tile(),[i,n]=this.getGridCoords(this.gm.x(r),this.gm.y(r));if(this.isValidCell(i,n)){let a=this.grid[n][i].get(e.type());a!==void 0?a.add(e):this.grid[n][i].set(e.type(),new Set([e]))}}removeUnit(e){let r=e.tile();this.removeUnitByTile(e,r)}removeUnitByTile(e,r){let[i,n]=this.getGridCoords(this.gm.x(r),this.gm.y(r));if(this.isValidCell(i,n)){let a=this.grid[n][i].get(e.type());a!==void 0&&a.delete(e)}}updateUnitCell(e){let r=e.tile(),i=e.lastTile(),[n,a]=this.getGridCoords(this.gm.x(i),this.gm.y(i)),[o,s]=this.getGridCoords(this.gm.x(r),this.gm.y(r));(n!==o||a!==s)&&(this.removeUnitByTile(e,i),this.addUnit(e))}isValidCell(e,r){return e>=0&&e<this.grid[0].length&&r>=0&&r<this.grid.length}getCellsInRange(e,r){let i=this.gm.x(e),n=this.gm.y(e),a=this.cellSize,[o,s]=this.getGridCoords(i,n),l=Math.max(0,o-Math.ceil((r-i%a)/a)),d=Math.min(this.grid[0].length-1,o+Math.ceil((r-(a-i%a))/a)),u=Math.max(0,s-Math.ceil((r-n%a)/a)),m=Math.min(this.grid.length-1,s+Math.ceil((r-(a-n%a))/a));return{startGridX:l,endGridX:d,startGridY:u,endGridY:m}}squaredDistanceFromTile(e,r){let i=this.gm.x(r),n=this.gm.y(r),a=this.gm.x(e.tile()),o=this.gm.y(e.tile()),s=a-i,l=o-n;return s*s+l*l}nearbyUnits(e,r,i,n,a=!1){let o=[],{startGridX:s,endGridX:l,startGridY:d,endGridY:u}=this.getCellsInRange(e,r),m=r*r,h=Array.isArray(i)?new Set(i):new Set([i]);for(let f=d;f<=u;f++)for(let p=s;p<=l;p++)for(let T of h){let x=this.grid[f][p].get(T);if(x!==void 0)for(let $ of x){if(!$.isActive()||!a&&$.isUnderConstruction())continue;let I=this.squaredDistanceFromTile($,e);if(I>m)continue;let v={unit:$,distSquared:I};n!==void 0&&!n(v)||o.push(v)}}return o}unitIsInRange(e,r,i,n,a=!1){return!e.isActive()||!a&&e.isUnderConstruction()||n!==void 0&&e.owner().id()!==n?!1:this.squaredDistanceFromTile(e,r)<=i}hasUnitNearby(e,r,i,n,a=!1){let{startGridX:o,endGridX:s,startGridY:l,endGridY:d}=this.getCellsInRange(e,r),u=r*r;for(let m=l;m<=d;m++)for(let h=o;h<=s;h++){let f=this.grid[m][h].get(i);if(f!==void 0){for(let p of f)if(this.unitIsInRange(p,e,u,n,a))return!0}}return!1}};function Vb(t,e,r,i,n){let a=new Ts;return new Dh(t,e,r,i,n,a)}var Dh=class{constructor(e,r,i,n,a,o){this._humans=e;this._nations=r;this._map=i;this.miniGameMap=n;this._config=a;this._stats=o;this._ticks=0;this.unInitExecs=[];this._players=new Map;this._playersBySmallID=[];this.execs=[];this.allianceRequests=[];this.alliances_=[];this.nextPlayerID=1;this._nextUnitID=1;this.updates=Zb();this.botTeam=K.Bot;this._railNetwork=Eb(this);this.nextAllianceID=0;this._terraNullius=new xs,this._width=i.width(),this._height=i.height(),this.unitGrid=new _s(this._map),a.gameConfig().gameMode==="Team"&&this.populateTeams(),this.addPlayers()}populateTeams(){let e=this._config.playerTeams();if(e===er){this.playerTeams=[K.Humans,K.Nations];return}if(typeof e!="number"){let r=this._humans.length+this._nations.length;switch(e){case Ir:e=Math.ceil(r/2);break;case Ar:e=Math.ceil(r/3);break;case Er:e=Math.ceil(r/4);break;default:throw new Error(`Unknown TeamCountConfig ${e}`)}}if(e<2)throw new Error(`Too few teams: ${e}`);if(e<8)this.playerTeams=[K.Red,K.Blue],e>=3&&this.playerTeams.push(K.Yellow),e>=4&&this.playerTeams.push(K.Green),e>=5&&this.playerTeams.push(K.Purple),e>=6&&this.playerTeams.push(K.Orange),e>=7&&this.playerTeams.push(K.Teal);else{this.playerTeams=[];for(let r=1;r<=e;r++)this.playerTeams.push(`Team ${r}`)}}addPlayers(){if(this.config().gameConfig().gameMode==="Free For All"){this._humans.forEach(i=>this.addPlayer(i)),this._nations.forEach(i=>this.addPlayer(i.playerInfo));return}if(this._config.playerTeams()===er){this._humans.forEach(i=>this.addPlayer(i,K.Humans)),this._nations.forEach(i=>this.addPlayer(i.playerInfo,K.Nations));return}let e=[...this._humans,...this._nations.map(i=>i.playerInfo)],r=qb(e,this.playerTeams);for(let[i,n]of r.entries()){if(n==="kicked"){console.warn(`Player ${i.name} was kicked from team`);continue}this.addPlayer(i,n)}}isOnEdgeOfMap(e){return this._map.isOnEdgeOfMap(e)}owner(e){return this.playerBySmallID(this.ownerID(e))}alliances(){return this.alliances_}playerBySmallID(e){return e===0?this.terraNullius():this._playersBySmallID[e-1]}map(){return this._map}miniMap(){return this.miniGameMap}addUpdate(e){this.updates[e.type].push(e)}nextUnitID(){let e=this._nextUnitID;return this._nextUnitID++,e}setFallout(e,r){if(r&&this.hasOwner(e))throw Error(`cannot set fallout, tile ${e} has owner`);this._map.hasFallout(e)||(this._map.setFallout(e,r),this.addUpdate({type:0,update:this.toTileUpdate(e)}))}units(...e){return Array.from(this._players.values()).flatMap(r=>r.units(...e))}unitCount(e){let r=0;for(let i of this._players.values())r+=i.unitCount(e);return r}unitInfo(e){return this.config().unitInfo(e)}nations(){return this._nations}createAllianceRequest(e,r){if(e.isAlliedWith(r))return console.log("cannot request alliance, already allied"),null;if(r.incomingAllianceRequests().find(a=>a.requestor()===e)!==void 0)return console.log(`duplicate alliance request from ${e.name()}`),null;let i=e.incomingAllianceRequests().find(a=>a.requestor()===r);if(i!==void 0)return console.log("got corresponding alliance requests, accepting"),i.accept(),null;let n=new hs(e,r,this._ticks,this);return this.allianceRequests.push(n),this.addUpdate(n.toUpdate()),n}acceptAllianceRequest(e){this.allianceRequests=this.allianceRequests.filter(o=>o!==e);let r=e.requestor(),i=e.recipient();if(r.allianceWith(i))throw new Error(`cannot accept alliance request, already allied with ${i.name()}`);let a=new ms(this,r,i,this._ticks,this.nextAllianceID++);this.alliances_.push(a),e.requestor().pastOutgoingAllianceRequests.push(e),r.hasEmbargoAgainst(i)&&r.endTemporaryEmbargo(i),i.hasEmbargoAgainst(r)&&i.endTemporaryEmbargo(r),this.addUpdate({type:6,request:e.toUpdate(),accepted:!0})}rejectAllianceRequest(e){this.allianceRequests=this.allianceRequests.filter(r=>r!==e),e.requestor().pastOutgoingAllianceRequests.push(e),this.addUpdate({type:6,request:e.toUpdate(),accepted:!1})}hasPlayer(e){return this._players.has(e)}config(){return this._config}inSpawnPhase(){return this._ticks<=this.config().numSpawnPhaseTurns()}ticks(){return this._ticks}executeNextTick(){this.updates=Zb(),this.execs.forEach(i=>{(!this.inSpawnPhase()||i.activeDuringSpawnPhase())&&i.isActive()&&i.tick(this._ticks)});let e=[],r=[];this.unInitExecs.forEach(i=>{!this.inSpawnPhase()||i.activeDuringSpawnPhase()?(i.init(this,this._ticks),e.push(i)):r.push(i)}),this.removeInactiveExecutions(),this.execs.push(...e),this.unInitExecs=r;for(let i of this._players.values())this.addUpdate(i.toUpdate());return this.ticks()%10===0&&this.addUpdate({type:13,tick:this.ticks(),hash:this.hash()}),this._ticks++,this.updates}hash(){let e=1;return this._players.forEach(r=>{e+=r.hash()}),e}terraNullius(){return this._terraNullius}removeInactiveExecutions(){let e=[];for(let r of this.execs)this.inSpawnPhase()?r.activeDuringSpawnPhase()?r.isActive()&&e.push(r):e.push(r):r.isActive()&&e.push(r);this.execs=e}players(){return Array.from(this._players.values()).filter(e=>e.isAlive())}allPlayers(){return Array.from(this._players.values())}executions(){return[...this.execs,...this.unInitExecs]}addExecution(...e){this.unInitExecs.push(...e)}removeExecution(e){this.execs=this.execs.filter(r=>r!==e),this.unInitExecs=this.unInitExecs.filter(r=>r!==e)}playerView(e){return this.player(e)}addPlayer(e,r=null){let i=new ys(this,this.nextPlayerID,e,this.config().startManpower(e),r??this.maybeAssignTeam(e));return this._playersBySmallID.push(i),this.nextPlayerID++,this._players.set(e.id,i),i}maybeAssignTeam(e){if(this._config.gameConfig().gameMode!=="Team")return null;if(e.playerType==="BOT")return this.botTeam;let r=Z(e.id);return this.playerTeams[r%this.playerTeams.length]}player(e){let r=this._players.get(e);if(r===void 0)throw new Error(`Player with id ${e} not found`);return r}playerByClientID(e){for(let[,r]of this._players)if(r.clientID()===e)return r;return null}isOnMap(e){return e.x>=0&&e.x<this._width&&e.y>=0&&e.y<this._height}neighborsWithDiag(e){let r=this.x(e),i=this.y(e),n=[];for(let a=-1;a<=1;a++)for(let o=-1;o<=1;o++){if(a===0&&o===0)continue;let s=r+a,l=i+o;s>=0&&s<this._width&&l>=0&&l<this._height&&n.push(this._map.ref(s,l))}return n}forEachNeighborWithDiag(e,r){let i=this.x(e),n=this.y(e);for(let a=-1;a<=1;a++)for(let o=-1;o<=1;o++){if(a===0&&o===0)continue;let s=i+a,l=n+o;s>=0&&s<this._width&&l>=0&&l<this._height&&r(this._map.ref(s,l))}}conquer(e,r){if(!this.isLand(r))throw Error("cannot conquer water");let i=this.owner(r);i.isPlayer()&&(i._lastTileChange=this._ticks,i._tiles.delete(r),i._borderTiles.delete(r)),this._map.setOwnerID(r,e.smallID()),e._tiles.add(r),e._lastTileChange=this._ticks,this.updateBorders(r),this._map.setFallout(r,!1),this.addUpdate({type:0,update:this.toTileUpdate(r)})}relinquish(e){if(!this.hasOwner(e))throw new Error("Cannot relinquish tile because it is unowned");if(this.isWater(e))throw new Error("Cannot relinquish water");let r=this.owner(e);r._lastTileChange=this._ticks,r._tiles.delete(e),r._borderTiles.delete(e),this._map.setOwnerID(e,0),this.updateBorders(e),this.addUpdate({type:0,update:this.toTileUpdate(e)})}updateBorders(e){let r=[];r.push(e),this.neighbors(e).forEach(i=>r.push(i));for(let i of r)this.hasOwner(i)&&(this.calcIsBorder(i)?this.owner(i)._borderTiles.add(i):this.owner(i)._borderTiles.delete(i))}calcIsBorder(e){if(!this.hasOwner(e))return!1;for(let r of this.neighbors(e))if(this.owner(e)!==this.owner(r))return!0;return!1}target(e,r){this.addUpdate({type:10,playerID:e.smallID(),targetID:r.smallID()})}breakAlliance(e,r){let i;if(r.requestor()===e?i=r.recipient():i=r.requestor(),!e.isAlliedWith(i))throw new Error(`${e} not allied with ${i}, cannot break alliance`);!i.isTraitor()&&!i.isDisconnected()&&e.markTraitor();let n=new Set(e.alliances()),a=i.alliances().filter(o=>n.has(o));if(a.length!==1)throw new Error(`must have exactly one alliance, have ${a.length}`);this.alliances_=this.alliances_.filter(o=>o!==a[0]),this.addUpdate({type:7,traitorID:e.smallID(),betrayedID:i.smallID()})}expireAlliance(e){let r=new Set(e.recipient().alliances()),i=e.requestor().alliances().filter(n=>r.has(n));if(i.length!==1)throw new Error(`cannot expire alliance: must have exactly one alliance, have ${i.length}`);this.alliances_=this.alliances_.filter(n=>n!==i[0]),this.addUpdate({type:8,player1ID:e.requestor().smallID(),player2ID:e.recipient().smallID()})}sendEmojiUpdate(e){this.addUpdate({type:11,emoji:e})}setWinner(e,r){this.addUpdate({type:12,winner:this.makeWinner(e),allPlayersStats:r})}makeWinner(e){if(typeof e=="string")return["team",e,...this.players().filter(r=>r.team()===e&&r.clientID()!==null).map(r=>r.clientID())];{let r=e.clientID();return r===null?void 0:["player",r]}}teams(){return this._config.gameConfig().gameMode!=="Team"?[]:[this.botTeam,...this.playerTeams]}displayMessage(e,r,i,n,a){let o=null;i!==null&&(o=this.player(i).smallID()),this.addUpdate({type:3,messageType:r,message:e,playerID:o,goldAmount:n,params:a})}displayChat(e,r,i,n,a,o){let s=null;n!==null&&(s=this.player(n).smallID()),this.addUpdate({type:4,key:e,category:r,target:i,playerID:s,isFrom:a,recipient:o})}displayIncomingUnit(e,r,i,n){let a=this.player(n).smallID();this.addUpdate({type:14,unitID:e,message:r,messageType:i,playerID:a})}addUnit(e){this.unitGrid.addUnit(e)}removeUnit(e){this.unitGrid.removeUnit(e),e.hasTrainStation()&&this._railNetwork.removeStation(e)}updateUnitTile(e){this.unitGrid.updateUnitCell(e)}hasUnitNearby(e,r,i,n,a){return this.unitGrid.hasUnitNearby(e,r,i,n,a)}nearbyUnits(e,r,i,n,a){return this.unitGrid.nearbyUnits(e,r,i,n,a)}ref(e,r){return this._map.ref(e,r)}isValidRef(e){return this._map.isValidRef(e)}x(e){return this._map.x(e)}y(e){return this._map.y(e)}cell(e){return this._map.cell(e)}width(){return this._map.width()}height(){return this._map.height()}numLandTiles(){return this._map.numLandTiles()}isValidCoord(e,r){return this._map.isValidCoord(e,r)}isLand(e){return this._map.isLand(e)}isOceanShore(e){return this._map.isOceanShore(e)}isOcean(e){return this._map.isOcean(e)}isShoreline(e){return this._map.isShoreline(e)}magnitude(e){return this._map.magnitude(e)}ownerID(e){return this._map.ownerID(e)}hasOwner(e){return this._map.hasOwner(e)}setOwnerID(e,r){return this._map.setOwnerID(e,r)}hasFallout(e){return this._map.hasFallout(e)}isBorder(e){return this._map.isBorder(e)}neighbors(e){return this._map.neighbors(e)}forEachNeighbor(e,r){let i=this.x(e),n=this.y(e);i>0&&r(this._map.ref(i-1,n)),i+1<this._width&&r(this._map.ref(i+1,n)),n>0&&r(this._map.ref(i,n-1)),n+1<this._height&&r(this._map.ref(i,n+1))}isWater(e){return this._map.isWater(e)}isLake(e){return this._map.isLake(e)}isShore(e){return this._map.isShore(e)}cost(e){return this._map.cost(e)}terrainType(e){return this._map.terrainType(e)}forEachTile(e){return this._map.forEachTile(e)}manhattanDist(e,r){return this._map.manhattanDist(e,r)}euclideanDistSquared(e,r){return this._map.euclideanDistSquared(e,r)}bfs(e,r){return this._map.bfs(e,r)}toTileUpdate(e){return this._map.toTileUpdate(e)}updateTile(e){return this._map.updateTile(e)}numTilesWithFallout(){return this._map.numTilesWithFallout()}stats(){return this._stats}railNetwork(){return this._railNetwork}conquerPlayer(e,r){if(r.isDisconnected()&&e.isOnSameTeam(r)){let n=r.units().filter(a=>a.type()==="Warship"||a.type()==="Transport");for(let a of n)e.captureUnit(a)}let i=r.gold();this.displayMessage(`Conquered ${r.displayName()} received ${ut(i)} gold`,3,e.id(),i),e.addGold(i),r.removeGold(i),this.addUpdate({type:17,conquerorId:e.id(),conqueredId:r.id(),gold:i}),this.stats().goldWar(e,r,i)}},Zb=()=>{let t={};return Object.values(mt).filter(e=>!isNaN(Number(e))).forEach(e=>{t[e]=[]}),t};var Hb=new Map;async function Kb(t,e,r){let i=Hb.get(t);if(i!==void 0)return i;let n=r.getMapData(t),a=await n.manifest(),o=e==="Normal"?await ws(a.map,await n.mapBin()):await ws(a.map4x,await n.map4xBin()),s=e==="Normal"?await ws(e==="Normal"?a.map4x:a.map16x,await n.map4xBin()):await ws(a.map16x,await n.map16xBin());e==="Compact"&&a.nations.forEach(d=>{d.coordinates=[Math.floor(d.coordinates[0]/2),Math.floor(d.coordinates[1]/2)]});let l={nations:a.nations,gameMap:o,miniGameMap:s};return Hb.set(t,l),l}async function ws(t,e){if(e.length!==t.width*t.height)throw new Error(`Invalid data: buffer size ${e.length} incorrect for ${t.width}x${t.height} terrain plus 4 bytes for dimensions.`);return new Ao(t.width,t.height,e,t.num_land_tiles)}var X=ul(Pv(),1);var $z=X.default.DataSet,Rz=X.default.ParserError,Cz=X.default.PhraseBuilder,kv=X.default.RegExpMatcher,Mz=X.default.SyntaxKind,Dz=X.default.TextCensor,Nz=X.default.assignIncrementingIds,Uz=X.default.asteriskCensorStrategy,Iv=X.default.collapseDuplicatesTransformer,zz=X.default.compareMatchByPositionAndId,Av=X.default.englishDataset,Oz=X.default.englishRecommendedBlacklistMatcherTransformers,Ev=X.default.englishRecommendedTransformers,jz=X.default.englishRecommendedWhitelistMatcherTransformers,Lz=X.default.fixedCharCensorStrategy,Bz=X.default.fixedPhraseCensorStrategy,Gz=X.default.grawlixCensorStrategy,Fz=X.default.keepEndCensorStrategy,Wz=X.default.keepStartCensorStrategy,qz=X.default.parseRawPattern,Zz=X.default.pattern,Vz=X.default.randomCharFromSetCensorStrategy,Hz=X.default.remapCharactersTransformer,$v=X.default.resolveConfusablesTransformer,Rv=X.default.resolveLeetSpeakTransformer,Cv=X.default.skipNonAlphabeticTransformer,Kz=X.default.toAsciiLowerCaseTransformer;var Mv={help:[{key:"troops",requiresPlayer:!1},{key:"troops_frontlines",requiresPlayer:!1},{key:"gold",requiresPlayer:!1},{key:"no_attack",requiresPlayer:!1},{key:"sorry_attack",requiresPlayer:!1},{key:"alliance",requiresPlayer:!1},{key:"help_defend",requiresPlayer:!0},{key:"trade_partners",requiresPlayer:!1}],attack:[{key:"attack",requiresPlayer:!0},{key:"mirv",requiresPlayer:!0},{key:"focus",requiresPlayer:!0},{key:"finish",requiresPlayer:!0},{key:"build_warships",requiresPlayer:!1}],defend:[{key:"defend",requiresPlayer:!0},{key:"defend_from",requiresPlayer:!0},{key:"dont_attack",requiresPlayer:!0},{key:"ally",requiresPlayer:!0},{key:"build_posts",requiresPlayer:!1}],greet:[{key:"hello",requiresPlayer:!1},{key:"good_job",requiresPlayer:!1},{key:"good_luck",requiresPlayer:!1},{key:"have_fun",requiresPlayer:!1},{key:"gg",requiresPlayer:!1},{key:"nice_to_meet",requiresPlayer:!1},{key:"well_played",requiresPlayer:!1},{key:"hi_again",requiresPlayer:!1},{key:"bye",requiresPlayer:!1},{key:"thanks",requiresPlayer:!1},{key:"oops",requiresPlayer:!1},{key:"trust_me",requiresPlayer:!1},{key:"trust_broken",requiresPlayer:!1},{key:"ruining_games",requiresPlayer:!1},{key:"dont_do_that",requiresPlayer:!1},{key:"same_team",requiresPlayer:!1}],misc:[{key:"go",requiresPlayer:!1},{key:"strategy",requiresPlayer:!1},{key:"fun",requiresPlayer:!1},{key:"team_up",requiresPlayer:!0},{key:"pr",requiresPlayer:!1},{key:"build_closer",requiresPlayer:!1},{key:"coastline",requiresPlayer:!1}],warnings:[{key:"strong",requiresPlayer:!0},{key:"weak",requiresPlayer:!0},{key:"mirv_soon",requiresPlayer:!0},{key:"number1_warning",requiresPlayer:!1},{key:"stalemate",requiresPlayer:!1},{key:"has_allies",requiresPlayer:!0},{key:"no_allies",requiresPlayer:!0},{key:"betrayed",requiresPlayer:!0},{key:"betrayed_me",requiresPlayer:!0},{key:"getting_big",requiresPlayer:!0},{key:"danger_base",requiresPlayer:!0},{key:"saving_for_mirv",requiresPlayer:!0},{key:"mirv_ready",requiresPlayer:!0},{key:"snowballing",requiresPlayer:!0},{key:"cheating",requiresPlayer:!0},{key:"stop_trading",requiresPlayer:!0}]};var Dv=[{code:"xx",name:"None"},{code:"Abbasid Caliphate",continent:"Asia",name:"Abbasid Caliphate"},{code:"Achaemenid Empire",continent:"Asia",name:"Achaemenid Empire"},{code:"ae",continent:"Asia",name:"United Arab Emirates"},{code:"af",continent:"Asia",name:"Afghanistan"},{code:"African union",continent:"Africa",name:"African Union"},{code:"ag",continent:"North America",name:"Antigua and Barbuda"},{code:"ai",continent:"North America",name:"Anguilla"},{code:"1_Airgialla",continent:"Europe",name:"Airgialla"},{code:"al",continent:"Europe",name:"Albania"},{code:"Alabama",continent:"North America",name:"Alabama"},{code:"ax",continent:"Europe",name:"Aland Islands"},{code:"Alaska",continent:"North America",name:"Alaska"},{code:"dz",continent:"Africa",name:"Algeria"},{code:"Amazigh flag",continent:"Africa",name:"Amazigh Flag"},{code:"amazonas",continent:"South America",name:"Amazonas"},{code:"as",continent:"Oceania",name:"American Samoa"},{code:"am",continent:"Asia",name:"Armenia"},{code:"Anarchist flag",name:"Anarchist Flag"},{code:"ad",continent:"Europe",name:"Andorra"},{code:"ao",continent:"Africa",name:"Angola"},{code:"aq",name:"Antarctica"},{code:"antipope",continent:"Europe",name:"Anti-Pope"},{code:"aquitaine",continent:"Europe",name:"Aquitaine"},{code:"ar",continent:"South America",name:"Argentina"},{code:"Aram Damascus",continent:"Asia",name:"Aram Damascus"},{code:"Arabia",continent:"Asia",name:"Arabia"},{code:"Arizona",continent:"North America",name:"Arizona"},{code:"Arkansas",continent:"North America",name:"Arkansas"},{code:"armagnac",continent:"Europe",name:"Armagnac"},{code:"aw",continent:"South America",name:"Aruba"},{code:"sh-ac",continent:"Africa",name:"Ascension Island"},{code:"Assyria",continent:"Asia",name:"Assyria"},{code:"asturias",continent:"Europe",name:"Asturias"},{code:"Athens",continent:"Europe",name:"Athens"},{code:"at",continent:"Europe",name:"Austria"},{code:"austria-hungary",continent:"Europe",name:"Austria-Hungary"},{code:"au",continent:"Oceania",name:"Australia"},{code:"az",continent:"Asia",name:"Azerbaijan"},{code:"Aztec Empire",continent:"North America",name:"Aztec Empire"},{code:"bs",continent:"North America",name:"Bahamas"},{code:"bahia",continent:"South America",name:"Bahia"},{code:"bh",continent:"Asia",name:"Bahrain"},{code:"baguette",name:"Baguette"},{code:"bd",continent:"Asia",name:"Bangladesh"},{code:"bb",continent:"North America",name:"Barbados"},{code:"Babylonia",continent:"Asia",name:"Babylonia"},{code:"es-pv",continent:"Europe",name:"Basque Country"},{code:"by",continent:"Europe",name:"Belarus"},{code:"be",continent:"Europe",name:"Belgium"},{code:"bz",continent:"North America",name:"Belize"},{code:"bj",continent:"Africa",name:"Benin"},{code:"bm",continent:"North America",name:"Bermuda"},{code:"bt",continent:"Asia",name:"Bhutan"},{code:"bo",continent:"South America",name:"Bolivia"},{code:"bq",continent:"South America",name:"Bonaire, Sint Eustatius and Saba"},{code:"ba",continent:"Europe",name:"Bosnia and Herzegovina"},{code:"bw",continent:"Africa",name:"Botswana"},{code:"bv",name:"Bouvet Island"},{code:"br",continent:"South America",name:"Brazil"},{code:"io",continent:"Asia",name:"British Indian Ocean Territory"},{code:"brittany",continent:"Europe",name:"Brittany"},{code:"bn",continent:"Asia",name:"Brunei Darussalam"},{code:"buenos_aires",continent:"South America",name:"Buenos Aires"},{code:"bg",continent:"Europe",name:"Bulgaria"},{code:"bf",continent:"Africa",name:"Burkina Faso"},{code:"burgundy",continent:"Europe",name:"Burgundy"},{code:"Burma",continent:"Asia",name:"Burma"},{code:"bi",continent:"Africa",name:"Burundi"},{code:"Byzantine Empire",continent:"Europe",name:"Byzantine Empire"},{code:"cv",continent:"Africa",name:"Cabo Verde"},{code:"California",continent:"North America",name:"California"},{code:"kh",continent:"Asia",name:"Cambodia"},{code:"cm",continent:"Africa",name:"Cameroon"},{code:"ca",continent:"North America",name:"Canada"},{code:"ic",continent:"Africa",name:"Canary Islands"},{code:"Capybara",name:"Capybara"},{code:"Carthage",continent:"Africa",name:"Carthage"},{code:"castille",continent:"Europe",name:"Castille"},{code:"catamarca",continent:"South America",name:"Catamarca"},{code:"es-ct",continent:"Europe",name:"Catalonia"},{code:"ky",continent:"North America",name:"Cayman Islands"},{code:"Ceara",continent:"South America",name:"Cear\xE1"},{code:"cf",continent:"Africa",name:"Central African Republic"},{code:"td",continent:"Africa",name:"Chad"},{code:"cl",continent:"South America",name:"Chile"},{code:"cn",continent:"Asia",name:"China"},{code:"Chinook",continent:"North America",name:"Chinook"},{code:"cx",continent:"Asia",name:"Christmas Island"},{code:"Chuvashia",continent:"Europe",name:"Chuvashia"},{code:"Circassia",continent:"Asia",name:"Circassia"},{code:"cp",name:"Clipperton Island"},{code:"cc",continent:"Asia",name:"Cocos (Keeling) Islands"},{code:"Colchis",continent:"Asia",name:"Colchis"},{code:"co",continent:"South America",name:"Colombia"},{code:"Colorado",continent:"North America",name:"Colorado"},{code:"km",continent:"Africa",name:"Comoros"},{code:"Communist flag",name:"Communist Flag"},{code:"Confederate States",continent:"North America",name:"Confederate States",restricted:!0},{code:"1_Connacht",continent:"Europe",name:"Connacht"},{code:"ck",continent:"Oceania",name:"Cook Islands"},{code:"cordoba",continent:"Europe",name:"Cordoba"},{code:"Corsica",continent:"Europe",name:"Corsica"},{code:"cr",continent:"North America",name:"Costa Rica"},{code:"ci",continent:"Africa",name:"C\xF4te d'Ivoire"},{code:"hr",continent:"Europe",name:"Croatia"},{code:"Cthulhu Republic",name:"Cthulhu Republic"},{code:"cu",continent:"North America",name:"Cuba"},{code:"cw",continent:"South America",name:"Cura\xE7ao"},{code:"cy",continent:"Europe",name:"Cyprus"},{code:"cz",continent:"Europe",name:"Czech Republic"},{code:"Danzig",continent:"Europe",name:"Danzig"},{code:"1_Dalriata",continent:"Europe",name:"D\xE1l Riata"},{code:"dk",continent:"Europe",name:"Denmark"},{code:"cd",continent:"Africa",name:"Democratic Republic of the Congo"},{code:"dg",continent:"Asia",name:"Diego Garcia"},{code:"Dilmun",continent:"Asia",name:"Dilmun"},{code:"dj",continent:"Africa",name:"Djibouti"},{code:"dm",continent:"North America",name:"Dominica"},{code:"do",continent:"North America",name:"Dominican Republic"},{code:"1_Dumnonia",continent:"Europe",name:"Dumnonia"},{code:"Dutch East India Company",name:"Dutch East India Company"},{code:"1_Dyfed",continent:"Europe",name:"Dyfed"},{code:"1_East Anglia",continent:"Europe",name:"East Anglia"},{code:"east_germany",continent:"Europe",name:"East Germany"},{code:"ec",continent:"South America",name:"Ecuador"},{code:"eg",continent:"Africa",name:"Egypt"},{code:"Elam",continent:"Asia",name:"Elam"},{code:"sv",continent:"North America",name:"El Salvador"},{code:"granada",continent:"Europe",name:"Emirate of Granada"},{code:"Empire of Japan",continent:"Asia",name:"Empire of Japan"},{code:"Empire of Japan1",continent:"Asia",name:"Empire of Japan"},{code:"gb-eng",continent:"Europe",name:"England"},{code:"gq",continent:"Africa",name:"Equatorial Guinea"},{code:"er",continent:"Africa",name:"Eritrea"},{code:"1_Essex",continent:"Europe",name:"Essex"},{code:"ee",continent:"Europe",name:"Estonia"},{code:"sz",continent:"Africa",name:"Eswatini"},{code:"et",continent:"Africa",name:"Ethiopia"},{code:"eu",continent:"Europe",name:"Europe"},{code:"fk",continent:"South America",name:"Falkland Islands"},{code:"fo",continent:"Europe",name:"Faroe Islands"},{code:"Fascist Spain",continent:"Europe",name:"Fascist Spain",restricted:!0},{code:"fm",continent:"Oceania",name:"Federated States of Micronesia"},{code:"fj",continent:"Oceania",name:"Fiji"},{code:"fi",continent:"Europe",name:"Finland"},{code:"Flanders",continent:"Europe",name:"Flanders"},{code:"Florida",continent:"North America",name:"Florida"},{code:"1_Fortriu",continent:"Europe",name:"Fortriu"},{code:"fr",continent:"Europe",name:"France"},{code:"1_Franks",continent:"Europe",name:"Franks"},{code:"French foreign legion",name:"French Foreign Legion"},{code:"gf",continent:"South America",name:"French Guiana"},{code:"pf",continent:"Oceania",name:"French Polynesia"},{code:"frost_giant",name:"Frost Giant"},{code:"tf",continent:"Africa",name:"French Southern Territories"},{code:"ga",continent:"Africa",name:"Gabon"},{code:"galapagos",continent:"South America",name:"Gal\xE1pagos"},{code:"es-ga",continent:"Europe",name:"Galicia"},{code:"gm",continent:"Africa",name:"Gambia"},{code:"Garamant",continent:"Africa",name:"Garamantes"},{code:"ge",continent:"Asia",name:"Georgia"},{code:"Georgia_US",continent:"North America",name:"Georgia (US State)"},{code:"German Empire",continent:"Europe",name:"German Empire",restricted:!0},{code:"de",continent:"Europe",name:"Germany"},{code:"gh",continent:"Africa",name:"Ghana"},{code:"gi",continent:"Europe",name:"Gibraltar"},{code:"gr",continent:"Europe",name:"Greece"},{code:"gl",continent:"North America",name:"Greenland"},{code:"gd",continent:"North America",name:"Grenada"},{code:"gp",continent:"North America",name:"Guadeloupe"},{code:"gu",continent:"Oceania",name:"Guam"},{code:"gt",continent:"North America",name:"Guatemala"},{code:"gg",continent:"Europe",name:"Guernsey"},{code:"gn",continent:"Africa",name:"Guinea"},{code:"gw",continent:"Africa",name:"Guinea-Bissau"},{code:"1_Gwent",continent:"Europe",name:"Gwent"},{code:"1_Gwynedd",continent:"Europe",name:"Gwynedd"},{code:"gy",continent:"South America",name:"Guyana"},{code:"Habsburg Austria",continent:"Europe",name:"Habsburg Austria"},{code:"ht",continent:"North America",name:"Haiti"},{code:"Hawaii",continent:"Oceania",name:"Hawaii"},{code:"hm",name:"Heard Island and McDonald Islands"},{code:"va",continent:"Europe",name:"Holy See"},{code:"Holy Roman Empire",continent:"Europe",name:"Holy Roman Empire"},{code:"hn",continent:"North America",name:"Honduras"},{code:"hk",continent:"Asia",name:"Hong Kong"},{code:"hu",continent:"Europe",name:"Hungary"},{code:"Hyrcania",continent:"Asia",name:"Hyrcania"},{code:"is",continent:"Europe",name:"Iceland"},{code:"Idaho",continent:"North America",name:"Idaho"},{code:"Illinois",continent:"North America",name:"Illinois"},{code:"in",continent:"Asia",name:"India"},{code:"Indiana",continent:"North America",name:"Indiana"},{code:"id",continent:"Asia",name:"Indonesia"},{code:"Iowa",continent:"North America",name:"Iowa"},{code:"iq",continent:"Asia",name:"Iraq"},{code:"ir",continent:"Asia",name:"Iran"},{code:"Pahlavi Iran",continent:"Asia",name:"Pahlavi Iran"},{code:"ie",continent:"Europe",name:"Ireland"},{code:"im",continent:"Europe",name:"Isle of Man"},{code:"il",continent:"Asia",name:"Israel"},{code:"it",continent:"Europe",name:"Italy"},{code:"italy",continent:"Europe",name:"Kingdom of Italy"},{code:"jm",continent:"North America",name:"Jamaica"},{code:"jp",continent:"Asia",name:"Japan"},{code:"je",continent:"Europe",name:"Jersey"},{code:"jo",continent:"Asia",name:"Jordan"},{code:"Kansas",continent:"North America",name:"Kansas"},{code:"kz",continent:"Asia",name:"Kazakhstan"},{code:"Kemet",continent:"Africa",name:"Kemet"},{code:"ke",continent:"Africa",name:"Kenya"},{code:"1_Kent",continent:"Europe",name:"Kent"},{code:"Kentucky",continent:"North America",name:"Kentucky"},{code:"Khemet",continent:"Africa",name:"Khemet"},{code:"Kingdom of Egypt",continent:"Africa",name:"Kingdom of Egypt"},{code:"Kingdom of Iraq",continent:"Asia",name:"Kingdom of Iraq"},{code:"Kingdom of Jerusalem",continent:"Asia",name:"Kingdom of Jerusalem"},{code:"Kingdom of Judah",continent:"Asia",name:"Kingdom of Judah"},{code:"ki",continent:"Oceania",name:"Kiribati"},{code:"Kiwi",name:"Kiwi"},{code:"xk",continent:"Europe",name:"Kosovo"},{code:"kurdistan",continent:"Asia",name:"Kurdistan"},{code:"Kush",continent:"Africa",name:"Kush"},{code:"kw",continent:"Asia",name:"Kuwait"},{code:"kg",continent:"Asia",name:"Kyrgyzstan"},{code:"1_Laigin",continent:"Europe",name:"Laigin"},{code:"la",continent:"Asia",name:"Laos"},{code:"lv",continent:"Europe",name:"Latvia"},{code:"League of Nations",name:"League of Nations"},{code:"lb",continent:"Asia",name:"Lebanon"},{code:"Leinster",continent:"Europe",name:"Leinster"},{code:"leon",continent:"Europe",name:"Le\xF3n"},{code:"ls",continent:"Africa",name:"Lesotho"},{code:"lr",continent:"Africa",name:"Liberia"},{code:"Liberalism_flag",name:"Liberalism Flag"},{code:"Libyan Jamahiriya",continent:"Africa",name:"Libyan Jamahiriya"},{code:"ly",continent:"Africa",name:"Libya"},{code:"li",continent:"Europe",name:"Liechtenstein"},{code:"Listenbourg",name:"Listenbourg"},{code:"lt",continent:"Europe",name:"Lithuania"},{code:"Louisiana",continent:"North America",name:"Louisiana"},{code:"lu",continent:"Europe",name:"Luxembourg"},{code:"Lydia",continent:"Asia",name:"Lydia"},{code:"Macedonia",continent:"Europe",name:"Macedonia"},{code:"mo",continent:"Asia",name:"Macau"},{code:"mg",continent:"Africa",name:"Madagascar"},{code:"Maine",continent:"North America",name:"Maine"},{code:"mw",continent:"Africa",name:"Malawi"},{code:"my",continent:"Asia",name:"Malaysia"},{code:"mv",continent:"Asia",name:"Maldives"},{code:"ml",continent:"Africa",name:"Mali"},{code:"mt",continent:"Europe",name:"Malta"},{code:"Maori flag",continent:"Oceania",name:"M\u0101ori Flag"},{code:"mh",continent:"Oceania",name:"Marshall Islands"},{code:"mq",continent:"North America",name:"Martinique"},{code:"Maryland",continent:"North America",name:"Maryland"},{code:"mr",continent:"Africa",name:"Mauritania"},{code:"mu",continent:"Africa",name:"Mauritius"},{code:"yt",continent:"Africa",name:"Mayotte"},{code:"Median Empire",continent:"Asia",name:"Median Empire"},{code:"1_Mercia",continent:"Europe",name:"Mercia"},{code:"mx",continent:"North America",name:"Mexico"},{code:"Michigan",continent:"North America",name:"Michigan"},{code:"minas_gerais",continent:"South America",name:"Minas Gerais"},{code:"Minnesota",continent:"North America",name:"Minnesota"},{code:"Mississippi",continent:"North America",name:"Mississippi"},{code:"Missouri",continent:"North America",name:"Missouri"},{code:"md",continent:"Europe",name:"Moldova"},{code:"mc",continent:"Europe",name:"Monaco"},{code:"Mongol Empire",continent:"Asia",name:"Mongol Empire"},{code:"mn",continent:"Asia",name:"Mongolia"},{code:"Montana",continent:"North America",name:"Montana"},{code:"me",continent:"Europe",name:"Montenegro"},{code:"ms",continent:"North America",name:"Montserrat"},{code:"ma",continent:"Africa",name:"Morocco"},{code:"mz",continent:"Africa",name:"Mozambique"},{code:"1_Munster",continent:"Europe",name:"Munster"},{code:"mm",continent:"Asia",name:"Myanmar"},{code:"na",continent:"Africa",name:"Namibia"},{code:"NATO",name:"NATO"},{code:"nr",continent:"Oceania",name:"Nauru"},{code:"Nebraska",continent:"North America",name:"Nebraska"},{code:"np",continent:"Asia",name:"Nepal"},{code:"nl",continent:"Europe",name:"Netherlands"},{code:"neuragic_empire",name:"Neuragic Empire"},{code:"Nevada",continent:"North America",name:"Nevada"},{code:"nc",continent:"Oceania",name:"New Caledonia"},{code:"New_Hampshire",continent:"North America",name:"New Hampshire"},{code:"New_Jersey",continent:"North America",name:"New Jersey"},{code:"New_Mexico",continent:"North America",name:"New Mexico"},{code:"New_York",continent:"North America",name:"New York"},{code:"nz",continent:"Oceania",name:"New Zealand"},{code:"ni",continent:"North America",name:"Nicaragua"},{code:"ne",continent:"Africa",name:"Niger"},{code:"ng",continent:"Africa",name:"Nigeria"},{code:"nu",continent:"Oceania",name:"Niue"},{code:"nf",continent:"Oceania",name:"Norfolk Island"},{code:"normandy",continent:"Europe",name:"Normandy"},{code:"North karelia",continent:"Europe",name:"North Karelia"},{code:"North_Carolina",continent:"North America",name:"North Carolina"},{code:"North_Dakota",continent:"North America",name:"North Dakota"},{code:"kp",continent:"Asia",name:"North Korea"},{code:"mk",continent:"Europe",name:"North Macedonia"},{code:"northern_ireland",continent:"Europe",name:"Northern Ireland"},{code:"mp",continent:"Oceania",name:"Northern Mariana Islands"},{code:"1_Northern Ui Neill",continent:"Europe",name:"Northern U\xED N\xE9ill"},{code:"1_Northumbria",continent:"Europe",name:"Northumbria"},{code:"no",continent:"Europe",name:"Norway"},{code:"Ohio",continent:"North America",name:"Ohio"},{code:"Oklahoma",continent:"North America",name:"Oklahoma"},{code:"om",continent:"Asia",name:"Oman"},{code:"Oregon",continent:"North America",name:"Oregon"},{code:"Ottoman Empire",continent:"Asia",name:"Ottoman Empire"},{code:"pk",continent:"Asia",name:"Pakistan"},{code:"pw",continent:"Oceania",name:"Palau"},{code:"Palekh",continent:"Europe",name:"Palekh"},{code:"pa",continent:"North America",name:"Panama"},{code:"pg",continent:"Oceania",name:"Papua New Guinea"},{code:"Para",continent:"South America",name:"Par\xE1"},{code:"py",continent:"South America",name:"Paraguay"},{code:"paris",continent:"Europe",name:"Paris"},{code:"Pennsylvania",continent:"North America",name:"Pennsylvania"},{code:"pe",continent:"South America",name:"Peru"},{code:"Persia",continent:"Asia",name:"Persia"},{code:"ph",continent:"Asia",name:"Philippines"},{code:"Phrygia",continent:"Asia",name:"Phrygia"},{code:"pn",continent:"Oceania",name:"Pitcairn"},{code:"pl",continent:"Europe",name:"Poland"},{code:"polar_bears",name:"Polar Bears"},{code:"Polish\u2013Lithuanian Commonwealth",continent:"Europe",name:"Polish\u2013Lithuanian Commonwealth"},{code:"pt",continent:"Europe",name:"Portugal"},{code:"1_Powys",continent:"Europe",name:"Powys"},{code:"provence",continent:"Europe",name:"Provence"},{code:"prussia",continent:"Europe",name:"Prussia"},{code:"pr",continent:"North America",name:"Puerto Rico"},{code:"qa",continent:"Asia",name:"Qatar"},{code:"Qing Dynasty",continent:"Asia",name:"Qing Dynasty"},{code:"Quebec",continent:"North America",name:"Quebec"},{code:"Republic of China",continent:"Asia",name:"Republic of China"},{code:"cg",continent:"Africa",name:"Republic of the Congo"},{code:"Republic of Egypt",continent:"Africa",name:"Republic of Egypt"},{code:"Republic of Formosa",continent:"Asia",name:"Republic of Formosa"},{code:"Republic of Korea",continent:"Asia",name:"Republic of Korea"},{code:"Republic of Pirates",continent:"North America",name:"Republic of Pirates"},{code:"re",continent:"Africa",name:"R\xE9union"},{code:"Rhode_Island",continent:"North America",name:"Rhode Island"},{code:"rio_de_janeiro",continent:"South America",name:"Rio de Janeiro"},{code:"Romanov Russia",continent:"Europe",name:"Romanov Russia"},{code:"ro",continent:"Europe",name:"Romania"},{code:"Ror Empire",name:"Ror Empire"},{code:"ru",continent:"Europe",name:"Russia"},{code:"rw",continent:"Africa",name:"Rwanda"},{code:"Saba kingdom",continent:"Asia",name:"Saba Kingdom"},{code:"bl",continent:"North America",name:"Saint Barth\xE9lemy"},{code:"sh-hl",continent:"Africa",name:"Saint Helena"},{code:"kn",continent:"North America",name:"Saint Kitts and Nevis"},{code:"lc",continent:"North America",name:"Saint Lucia"},{code:"mf",continent:"North America",name:"Saint Martin"},{code:"pm",continent:"North America",name:"Saint Pierre and Miquelon"},{code:"vc",continent:"North America",name:"Saint Vincent and the Grenadines"},{code:"Sami flag",continent:"Europe",name:"Sami Flag"},{code:"ws",continent:"Oceania",name:"Samoa"},{code:"sm",continent:"Europe",name:"San Marino"},{code:"Santa Cruz",continent:"South America",name:"Santa Cruz"},{code:"santa_claus",name:"Santa Claus"},{code:"st",continent:"Africa",name:"Sao Tome and Principe"},{code:"Sao Paulo",continent:"South America",name:"S\xE3o Paulo"},{code:"sardines",name:"Sardines"},{code:"Sassanid Empire",continent:"Asia",name:"Sassanid Empire"},{code:"sa",continent:"Asia",name:"Saudi Arabia"},{code:"gb-sct",continent:"Europe",name:"Scotland"},{code:"Second Republic of Iraq",continent:"Asia",name:"Second Republic of Iraq"},{code:"Second Spanish Republic",continent:"Europe",name:"Second Spanish Republic"},{code:"sn",continent:"Africa",name:"Senegal"},{code:"rs",continent:"Europe",name:"Serbia"},{code:"seville",continent:"Europe",name:"Seville"},{code:"sc",continent:"Africa",name:"Seychelles"},{code:"Siam",continent:"Asia",name:"Siam"},{code:"Siberia",continent:"Asia",name:"Siberia"},{code:"Sicily",continent:"Europe",name:"Sicily"},{code:"sl",continent:"Africa",name:"Sierra Leone"},{code:"sg",continent:"Asia",name:"Singapore"},{code:"sx",continent:"North America",name:"Sint Maarten"},{code:"sk",continent:"Europe",name:"Slovakia"},{code:"si",continent:"Europe",name:"Slovenia"},{code:"Socialist_flag",name:"Socialist Flag"},{code:"sb",continent:"Oceania",name:"Solomon Islands"},{code:"so",continent:"Africa",name:"Somalia"},{code:"za",continent:"Africa",name:"South Africa"},{code:"South_Carolina",continent:"North America",name:"South Carolina"},{code:"South_Dakota",continent:"North America",name:"South Dakota"},{code:"gs",continent:"Antarctica",name:"South Georgia and the South Sandwich Islands"},{code:"kr",continent:"Asia",name:"South Korea"},{code:"ss",continent:"Africa",name:"South Sudan"},{code:"1_Southern Ui Neill",continent:"Europe",name:"Southern U\xED N\xE9ill"},{code:"es",continent:"Europe",name:"Spain"},{code:"spanish_empire",continent:"Europe",name:"Spanish Empire"},{code:"Sparta",continent:"Europe",name:"Sparta"},{code:"SPQR",continent:"Europe",name:"SPQR"},{code:"lk",continent:"Asia",name:"Sri Lanka"},{code:"ps",continent:"Asia",name:"State of Palestine"},{code:"1_Strathclyde",continent:"Europe",name:"Strathclyde"},{code:"sd",continent:"Africa",name:"Sudan"},{code:"Sultanate of Nejd",continent:"Asia",name:"Sultanate of Nejd"},{code:"sr",continent:"South America",name:"Suriname"},{code:"1_Sussex",continent:"Europe",name:"Sussex"},{code:"sj",continent:"Europe",name:"Svalbard and Jan Mayen"},{code:"se",continent:"Europe",name:"Sweden"},{code:"Sweden Norway Union",continent:"Europe",name:"Sweden Norway Union"},{code:"ch",continent:"Europe",name:"Switzerland"},{code:"sy",continent:"Asia",name:"Syria"},{code:"tw",continent:"Asia",name:"Taiwan"},{code:"tj",continent:"Asia",name:"Tajikistan"},{code:"tz",continent:"Africa",name:"Tanzania"},{code:"Tennessee",continent:"North America",name:"Tennessee"},{code:"Texas",continent:"North America",name:"Texas"},{code:"th",continent:"Asia",name:"Thailand"},{code:"tibet",continent:"Asia",name:"Tibet"},{code:"tl",continent:"Asia",name:"Timor-Leste"},{code:"tg",continent:"Africa",name:"Togo"},{code:"tk",continent:"Oceania",name:"Tokelau"},{code:"to",continent:"Oceania",name:"Tonga"},{code:"tt",continent:"South America",name:"Trinidad and Tobago"},{code:"sh-ta",continent:"Africa",name:"Tristan da Cunha"},{code:"Trucial States",continent:"Asia",name:"Trucial States"},{code:"tn",continent:"Africa",name:"Tunisia"},{code:"tr",continent:"Asia",name:"T\xFCrkiye"},{code:"tm",continent:"Asia",name:"Turkmenistan"},{code:"tc",continent:"North America",name:"Turks and Caicos Islands"},{code:"tv",continent:"Oceania",name:"Tuvalu"},{code:"USA 1776",continent:"North America",name:"USA 1776"},{code:"ussr",continent:"Europe",name:"USSR"},{code:"ug",continent:"Africa",name:"Uganda"},{code:"ua",continent:"Europe",name:"Ukraine"},{code:"1_Ulaid",continent:"Europe",name:"Ulaid"},{code:"Umayyad Caliphate",continent:"Asia",name:"Umayyad Caliphate"},{code:"United Arab Republic",continent:"Asia",name:"United Arab Republic"},{code:"gb",continent:"Europe",name:"United Kingdom"},{code:"un",name:"United Nations"},{code:"us",continent:"North America",name:"United States of America"},{code:"Urartu",continent:"Asia",name:"Urartu"},{code:"uy",continent:"South America",name:"Uruguay"},{code:"Utah",continent:"North America",name:"Utah"},{code:"uz",continent:"Asia",name:"Uzbekistan"},{code:"valencia",continent:"Europe",name:"Valencia"},{code:"vu",continent:"Oceania",name:"Vanuatu"},{code:"ve",continent:"South America",name:"Venezuela"},{code:"venice",continent:"Europe",name:"Venice"},{code:"Vermont",continent:"North America",name:"Vermont"},{code:"vn",continent:"Asia",name:"Vietnam"},{code:"vg",continent:"North America",name:"Virgin Islands (British)"},{code:"vi",continent:"North America",name:"Virgin Islands (U.S.)"},{code:"Virginia",continent:"North America",name:"Virginia"},{code:"gb-wls",continent:"Europe",name:"Wales"},{code:"Wallonia",continent:"Europe",name:"Wallonia"},{code:"wf",continent:"Oceania",name:"Wallis and Futuna"},{code:"Washington",continent:"North America",name:"Washington"},{code:"1_Wessex",continent:"Europe",name:"Wessex"},{code:"west_germany",continent:"Europe",name:"West Germany"},{code:"West Roman Empire",continent:"Europe",name:"West Roman Empire"},{code:"West_Virginia",continent:"North America",name:"West Virginia"},{code:"eh",continent:"Africa",name:"Western Sahara"},{code:"Wisconsin",continent:"North America",name:"Wisconsin"},{code:"Wyoming",continent:"North America",name:"Wyoming"},{code:"Yellow_Flag",name:"Yellow Flag"},{code:"ye",continent:"Asia",name:"Yemen"},{code:"yugoslavia",continent:"Europe",name:"Yugoslavia"},{code:"Zaire",continent:"Africa",name:"Zaire"},{code:"zm",continent:"Africa",name:"Zambia"},{code:"Zheleznogorsk",continent:"Asia",name:"Zheleznogorsk"},{code:"zw",continent:"Africa",name:"Zimbabwe"}];var Ys={};Ct(Ys,{decode:()=>X2,encode:()=>J2});var Nv=new TextEncoder,rp=new TextDecoder,Qz=2**32;function Uv(t){if(Uint8Array.prototype.toBase64)return t.toBase64();let e=32768,r=[];for(let i=0;i<t.length;i+=e)r.push(String.fromCharCode.apply(null,t.subarray(i,i+e)));return btoa(r.join(""))}function zv(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);let e=atob(t),r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}function X2(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:rp.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=rp.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return zv(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function J2(t){let e=t;return typeof e=="string"&&(e=Nv.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):Uv(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ov(t,e){let r=e(t);if(r.length<3)throw new Error("Pattern data is too short to contain required metadata.");let i=r[0];if(i!==0)throw new Error(`Unrecognized pattern version ${i}.`);let n=r[1],a=r[2],o=n&7,s=((a&3)<<5|n>>3&31)+2,l=(a>>2&63)+2,u=s*l+7>>3;if(r.length-3<u)throw new Error("Pattern data is too short for the specified dimensions.");return{height:l,width:s,scale:o,bytes:r}}var Q2=g.object({productId:g.string(),priceId:g.string(),price:g.string()}),Xs=g.string().regex(/^[a-z0-9_]+$/).max(32),np=g.string().max(1403).base64url().refine(t=>{try{return Ov(t,Ys.decode),!0}catch(e){return e instanceof Error?console.error(JSON.stringify(e.message,null,2)):console.error(String(e)),!1}},{message:"Invalid pattern"}),ip=g.object({name:g.string(),primaryColor:g.string(),secondaryColor:g.string()}),eP=g.object({name:Xs,pattern:np,colorPalettes:g.object({name:g.string(),isArchived:g.boolean()}).array().optional(),affiliateCode:g.string().nullable(),product:Q2.nullable()}),mO=g.object({colorPalettes:g.record(g.string(),ip).optional(),patterns:g.record(g.string(),eP),flag:g.object({layers:g.record(g.string(),g.object({name:g.string(),flares:g.array(g.string()).optional()})),color:g.record(g.string(),g.object({color:g.string(),name:g.string(),flares:g.array(g.string()).optional()}))}).optional()});var jv=(a=>(a.Debug="DEBUG",a.Info="INFO",a.Warn="WARN",a.Error="ERROR",a.Fatal="FATAL",a))(jv||{}),tP=g.union([g.number(),g.literal(Ir),g.literal(Ar),g.literal(Er),g.literal(er)]),rP=g.object({gameMap:g.enum(An),difficulty:g.enum(yt),donateGold:g.boolean(),donateTroops:g.boolean(),gameType:g.enum(Ki),gameMode:g.enum($r),gameMapSize:g.enum(En),disableNPCs:g.boolean(),bots:g.number().int().min(0).max(400),infiniteGold:g.boolean(),infiniteTroops:g.boolean(),instantBuild:g.boolean(),randomSpawn:g.boolean(),maxPlayers:g.number().optional(),maxTimerValue:g.number().int().min(1).max(120).optional(),disabledUnits:g.enum(W).array().optional(),playerTeams:tP.optional()}),xO=g.string(),nP=g.string().regex(/^([a-zA-Z0-9\s.,!?@#$%&*()\-_+=[\]{}|;:"'/\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]|[])*$/u).max(1e3),Lv=g.uuid(),iP=g.jwt(),Bv=g.string().refine(t=>Lv.safeParse(t).success||iP.safeParse(t).success,{message:"Token must be a valid UUID or JWT"}),aP=g.number().nonnegative().max(kr.length-1),re=g.string().regex(/^[a-zA-Z0-9]+$/).length(8),oP=g.record(re,Mh),ap=g.string().regex(/^[a-zA-Z0-9_ [\]]+$/u).min(3).max(27),sP=Dv.filter(t=>!t.restricted).map(t=>t.code),lP=g.enum(Object.entries(Mv).flatMap(([t,e])=>e.map(r=>`${t}.${r.key}`))),me=g.object({clientID:re}),cP=me.extend({type:g.literal("allianceExtension"),recipient:re}),uP=me.extend({type:g.literal("attack"),targetID:re.nullable(),troops:g.number().nonnegative().nullable()}),dP=me.extend({type:g.literal("spawn"),tile:g.number()}),mP=me.extend({type:g.literal("boat"),targetID:re.nullable(),troops:g.number().nonnegative(),dst:g.number(),src:g.number().nullable()}),hP=me.extend({type:g.literal("allianceRequest"),recipient:re}),pP=me.extend({type:g.literal("allianceRequestReply"),requestor:re,accept:g.boolean()}),fP=me.extend({type:g.literal("breakAlliance"),recipient:re}),gP=me.extend({type:g.literal("targetPlayer"),target:re}),yP=me.extend({type:g.literal("emoji"),recipient:g.union([re,g.literal(Ge)]),emoji:aP}),bP=me.extend({type:g.literal("embargo"),targetID:re,action:g.union([g.literal("start"),g.literal("stop")])}),vP=me.extend({type:g.literal("embargo_all"),action:g.union([g.literal("start"),g.literal("stop")])}),TP=me.extend({type:g.literal("donate_gold"),recipient:re,gold:g.number().nullable()}),xP=me.extend({type:g.literal("donate_troops"),recipient:re,troops:g.number().nullable()}),_P=me.extend({type:g.literal("build_unit"),unit:g.enum(W),tile:g.number()}),wP=me.extend({type:g.literal("upgrade_structure"),unit:g.enum(W),unitId:g.number()}),SP=me.extend({type:g.literal("cancel_attack"),attackID:g.string()}),PP=me.extend({type:g.literal("cancel_boat"),unitID:g.number()}),kP=me.extend({type:g.literal("move_warship"),unitId:g.number(),tile:g.number()}),IP=me.extend({type:g.literal("delete_unit"),unitId:g.number()}),AP=me.extend({type:g.literal("quick_chat"),recipient:re,quickChatKey:lP,target:re.optional()}),EP=me.extend({type:g.literal("mark_disconnected"),isDisconnected:g.boolean()}),$P=me.extend({type:g.literal("kick_player"),target:re}),Gv=g.discriminatedUnion("type",[uP,SP,dP,EP,mP,PP,hP,pP,fP,gP,yP,TP,xP,_P,wP,bP,vP,kP,AP,cP,IP,$P]),Js=g.object({turnNumber:g.number(),intents:Gv.array(),hash:g.number().nullable().optional()}),Fv=g.string().max(128).optional().refine(t=>t===void 0||t===""||t.startsWith("!")?!0:sP.includes(t),{message:"Invalid flag: must be a valid country code or start with !"}),RP=g.object({flag:Fv.optional(),color:g.string().optional(),patternName:Xs.optional(),patternColorPaletteName:g.string().optional()}),CP=g.object({name:Xs,patternData:np,colorPalette:ip.optional()}),MP=g.object({color:g.string()}),DP=g.object({flag:Fv.optional(),pattern:CP.optional(),color:MP.optional()}),Wv=g.object({clientID:re,username:ap,cosmetics:DP.optional()}),qv=g.object({gameID:re,lobbyCreatedAt:g.number(),config:rP,players:Wv.array()}),Zv=g.union([g.tuple([g.literal("player"),re]).rest(re),g.tuple([g.literal("team"),nP]).rest(re)]).optional(),NP=g.object({type:g.literal("turn"),turn:Js}),UP=g.object({type:g.literal("ping")}),zP=g.object({type:g.literal("prestart"),gameMap:g.enum(An),gameMapSize:g.enum(En)}),OP=g.object({type:g.literal("start"),turns:Js.array(),gameStartInfo:qv,lobbyCreatedAt:g.number()}),jP=g.object({type:g.literal("desync"),turn:g.number(),correctHash:g.number().nullable(),clientsWithCorrectHash:g.number(),totalActiveClients:g.number(),yourHash:g.number().optional()}),LP=g.object({type:g.literal("error"),error:g.string(),message:g.string().optional()}),_O=g.discriminatedUnion("type",[NP,zP,OP,UP,jP,LP]),BP=g.object({type:g.literal("winner"),winner:Zv,allPlayersStats:oP}),GP=g.object({type:g.literal("hash"),hash:g.number(),turnNumber:g.number()}),FP=g.object({type:g.literal("log"),severity:g.enum(jv),log:re}),WP=g.object({type:g.literal("ping")}),qP=g.object({type:g.literal("intent"),intent:Gv}),ZP=g.object({type:g.literal("join"),clientID:re,token:Bv,gameID:re,username:ap,cosmetics:RP.optional(),turnstileToken:g.string().nullable()}),VP=g.object({type:g.literal("rejoin"),gameID:re,clientID:re,lastTurn:g.number(),token:Bv}),wO=g.discriminatedUnion("type",[BP,WP,qP,ZP,VP,FP,GP]),HP=Wv.extend({persistentID:Lv.nullable(),clanTag:g.string().optional(),stats:Mh}),KP=qv.extend({players:HP.array(),start:g.number(),end:g.number(),duration:g.number().nonnegative(),num_turns:g.number(),winner:Zv,lobbyFillTime:g.number().nonnegative()}),YP=g.string().regex(/^[0-9a-fA-F]{40}$/).or(g.literal("DEV")),Vv=g.object({info:KP,version:g.literal("v0.0.2")}),XP=Vv.extend({gitCommit:YP,subdomain:g.string(),domain:g.string()}),SO=XP.extend({turns:Js.array()}),PO=Vv.extend({turns:Js.array()});var JP=new kv({...Av.build(),...Ev,...$v(),...Cv(),...Iv(),...Rv()});var Hv=["NicePeopleOnly","BeKindPlz","LearningManners","StayClassy","BeNicer","NeedHugs","MakeFriends"];function QP(t){return op(t)?Hv[Z(t)%Hv.length]:t}function op(t){return JP.hasMatch(t)}function Kv(t){let e=Vp(t),r=e?t.replace(`[${e}]`,"").trim():t,i=e?op(e):!1,n=op(r),a=n?QP(r):r;return e&&!i?n?`[${e}] ${a}`:t:a}async function t3(t,e,r,i){let n=await fb(t.config,null),a=await Kb(t.config.gameMap,t.config.gameMapSize,r),o=new U(Z(t.gameID)),s=t.players.map(m=>new Qt(m.clientID===e?m.username:Kv(m.username),"HUMAN",m.clientID,o.nextID())),l=t.config.disableNPCs?[]:a.nations.map(m=>new Hi(new ne(m.coordinates[0],m.coordinates[1]),new Qt(m.name,"FAKEHUMAN",null,o.nextID(),m.strength))),d=Vb(s,l,a.gameMap,a.miniGameMap,n),u=new sp(d,new us(d,t.gameID,e),i);return u.init(),u}var sp=class{constructor(e,r,i){this.game=e;this.execManager=r;this.callBack=i;this.turns=[];this.currTurn=0;this.isExecuting=!1;this.playerViewData={}}init(){this.game.config().isRandomSpawn()&&this.game.addExecution(...this.execManager.spawnPlayers()),this.game.config().bots()>0&&this.game.addExecution(...this.execManager.spawnBots(this.game.config().numBots())),this.game.config().spawnNPCs()&&this.game.addExecution(...this.execManager.fakeHumanExecutions()),this.game.addExecution(new ds)}addTurn(e){this.turns.push(e)}executeNextTick(){if(this.isExecuting||this.currTurn>=this.turns.length)return;this.isExecuting=!0,this.game.addExecution(...this.execManager.createExecs(this.turns[this.currTurn])),this.currTurn++;let e,r=0;try{let n=performance.now();e=this.game.executeNextTick(),r=performance.now()-n}catch(n){n instanceof Error?(console.error("Game tick error:",n.message),this.callBack({errMsg:n.message,stack:n.stack})):console.error("Game tick error:",n);return}this.game.inSpawnPhase()&&this.game.ticks()%2===0&&this.game.players().filter(n=>n.type()==="HUMAN"||n.type()==="FAKEHUMAN").forEach(n=>this.playerViewData[n.id()]=wl(this.game,n)),(this.game.ticks()<3||this.game.ticks()%30===0)&&this.game.players().forEach(n=>{this.playerViewData[n.id()]=wl(this.game,n)});let i=e[0].map(n=>n.update);e[0]=[],this.callBack({tick:this.game.ticks(),packedTileUpdates:new BigUint64Array(i),updates:e,playerNameViewData:this.playerViewData,tickExecutionDuration:r}),this.isExecuting=!1}playerActions(e,r,i){let n=this.game.player(e),a=r!==void 0&&i!==void 0?this.game.ref(r,i):null,o={canAttack:a!==null&&n.canAttack(a),buildableUnits:n.buildableUnits(a),canSendEmojiAllPlayers:n.canSendEmoji(Ge),canEmbargoAll:n.canEmbargoAll()};if(a!==null&&this.game.hasOwner(a)){let s=this.game.owner(a);o.interaction={sharedBorder:n.sharesBorderWith(s),canSendEmoji:n.canSendEmoji(s),canTarget:n.canTarget(s),canSendAllianceRequest:n.canSendAllianceRequest(s),canBreakAlliance:n.isAlliedWith(s),canDonateGold:n.canDonateGold(s),canDonateTroops:n.canDonateTroops(s),canEmbargo:!n.hasEmbargoAgainst(s)};let l=n.allianceWith(s);l&&(o.interaction.allianceExpiresAt=l.expiresAt())}return o}playerProfile(e){let r=this.game.playerBySmallID(e);if(!r.isPlayer())throw new Error(`player with id ${e} not found`);return r.playerProfile()}playerBorderTiles(e){let r=this.game.player(e);if(!r.isPlayer())throw new Error(`player with id ${e} not found`);return{borderTiles:r.borderTiles()}}attackAveragePosition(e,r){let i=this.game.playerBySmallID(e);if(!i.isPlayer())throw new Error(`player with id ${e} not found`);let n=o=>o.id()===r,a=i.outgoingAttacks().find(n)??i.incomingAttacks().find(n);return a===void 0?null:a.averagePosition()}bestTransportShipSpawn(e,r){let i=this.game.player(e);if(!i.isPlayer())throw new Error(`player with id ${e} not found`);return i.bestTransportShipSpawn(r)}};export{sp as GameRunner,t3 as createGameRunner};
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
*/
//# sourceMappingURL=793efe4dd1bada597ed201059cfe27d21660f0c2.js.map
