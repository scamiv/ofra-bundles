/**
 * OpenFront Game Engine Bundle
 * Version: Generated from source
 * Built: 2026-01-03T16:31:21.425Z
 * This bundle contains only the core simulation engine for replay analysis.
 */
var bv=Object.create;var Pi=Object.defineProperty;var vv=Object.getOwnPropertyDescriptor;var Tv=Object.getOwnPropertyNames;var _v=Object.getPrototypeOf,xv=Object.prototype.hasOwnProperty;var wv=(t,e,n)=>e in t?Pi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sv=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wt=(t,e)=>{for(var n in e)Pi(t,n,{get:e[n],enumerable:!0})},Pv=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Tv(e))!xv.call(t,r)&&r!==n&&Pi(t,r,{get:()=>e[r],enumerable:!(i=vv(e,r))||i.enumerable});return t};var Hs=(t,e,n)=>(n=t!=null?bv(_v(t)):{},Pv(e||!t||!t.__esModule?Pi(n,"default",{value:t,enumerable:!0}):n,t));var Ys=(t,e,n)=>wv(t,typeof e!="symbol"?e+"":e,n);var Mg=O((Rg,rm)=>{(function(t,e,n){function i(s){var l=this,c=o();l.next=function(){var u=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=u-(l.c=u|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(s),l.s0<0&&(l.s0+=1),l.s1-=c(s),l.s1<0&&(l.s1+=1),l.s2-=c(s),l.s2<0&&(l.s2+=1),c=null}function r(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function a(s,l){var c=new i(s),u=l&&l.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&r(u,c),d.state=function(){return r(c,{})}),d}function o(){var s=4022871197,l=function(c){c=String(c);for(var u=0;u<c.length;u++){s+=c.charCodeAt(u);var d=.02519603282416938*s;s=d>>>0,d-=s,d*=s,s=d>>>0,d-=s,s+=d*4294967296}return(s>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.alea=a})(Rg,typeof rm=="object"&&rm,typeof define=="function"&&define)});var Cg=O((Dg,nm)=>{(function(t,e,n){function i(o){var s=this,l="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var u=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^u^u>>>8},o===(o|0)?s.x=o:l+=o;for(var c=0;c<l.length+64;c++)s.x^=l.charCodeAt(c)|0,s.next()}function r(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s}function a(o,s){var l=new i(o),c=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xor128=a})(Dg,typeof nm=="object"&&nm,typeof define=="function"&&define)});var Ng=O((Ug,im)=>{(function(t,e,n){function i(o){var s=this,l="";s.next=function(){var u=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(u^u<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,o===(o|0)?s.x=o:l+=o;for(var c=0;c<l.length+64;c++)s.x^=l.charCodeAt(c)|0,c==l.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function r(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s.v=o.v,s.d=o.d,s}function a(o,s){var l=new i(o),c=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xorwow=a})(Ug,typeof im=="object"&&im,typeof define=="function"&&define)});var Og=O((zg,am)=>{(function(t,e,n){function i(o){var s=this;s.next=function(){var c=s.x,u=s.i,d,h,f;return d=c[u],d^=d>>>7,h=d^d<<24,d=c[u+1&7],h^=d^d>>>10,d=c[u+3&7],h^=d^d>>>3,d=c[u+4&7],h^=d^d<<7,d=c[u+7&7],d=d^d<<13,h^=d^d<<9,c[u]=h,s.i=u+1&7,h};function l(c,u){var d,h,f=[];if(u===(u|0))h=f[0]=u;else for(u=""+u,d=0;d<u.length;++d)f[d&7]=f[d&7]<<15^u.charCodeAt(d)+f[d+1&7]<<13;for(;f.length<8;)f.push(0);for(d=0;d<8&&f[d]===0;++d);for(d==8?h=f[7]=-1:h=f[d],c.x=f,c.i=0,d=256;d>0;--d)c.next()}l(s,o)}function r(o,s){return s.x=o.x.slice(),s.i=o.i,s}function a(o,s){o==null&&(o=+new Date);var l=new i(o),c=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,c&&(c.x&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xorshift7=a})(zg,typeof am=="object"&&am,typeof define=="function"&&define)});var Lg=O((jg,om)=>{(function(t,e,n){function i(o){var s=this;s.next=function(){var c=s.w,u=s.X,d=s.i,h,f;return s.w=c=c+1640531527|0,f=u[d+34&127],h=u[d=d+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,f=u[d]=f^h,s.i=d,f+(c^c>>>16)|0};function l(c,u){var d,h,f,p,v,T=[],A=128;for(u===(u|0)?(h=u,u=null):(u=u+"\0",h=0,A=Math.max(A,u.length)),f=0,p=-32;p<A;++p)u&&(h^=u.charCodeAt((p+32)%u.length)),p===0&&(v=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(v=v+1640531527|0,d=T[p&127]^=h+v,f=d==0?f+1:0);for(f>=128&&(T[(u&&u.length||0)&127]=-1),f=127,p=4*128;p>0;--p)h=T[f+34&127],d=T[f=f+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,T[f]=h^d;c.w=v,c.X=T,c.i=f}l(s,o)}function r(o,s){return s.i=o.i,s.w=o.w,s.X=o.X.slice(),s}function a(o,s){o==null&&(o=+new Date);var l=new i(o),c=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,c&&(c.X&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.xor4096=a})(jg,typeof om=="object"&&om,typeof define=="function"&&define)});var Gg=O((Bg,sm)=>{(function(t,e,n){function i(o){var s=this,l="";s.next=function(){var u=s.b,d=s.c,h=s.d,f=s.a;return u=u<<25^u>>>7^d,d=d-h|0,h=h<<24^h>>>8^f,f=f-u|0,s.b=u=u<<20^u>>>12^d,s.c=d=d-h|0,s.d=h<<16^d>>>16^f,s.a=f-u|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,o===Math.floor(o)?(s.a=o/4294967296|0,s.b=o|0):l+=o;for(var c=0;c<l.length+20;c++)s.b^=l.charCodeAt(c)|0,s.next()}function r(o,s){return s.a=o.a,s.b=o.b,s.c=o.c,s.d=o.d,s}function a(o,s){var l=new i(o),c=s&&s.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=a:n&&n.amd?n(function(){return a}):this.tychei=a})(Bg,typeof sm=="object"&&sm,typeof define=="function"&&define)});var Zg=O((Fg,La)=>{(function(t,e,n){var i=256,r=6,a=52,o="random",s=n.pow(i,r),l=n.pow(2,a),c=l*2,u=i-1,d;function h(b,w,C){var L=[];w=w==!0?{entropy:!0}:w||{};var G=T(v(w.entropy?[b,k(e)]:b??A(),3),L),Z=new f(L),V=function(){for(var X=Z.g(r),B=s,ce=0;X<l;)X=(X+ce)*i,B*=i,ce=Z.g(1);for(;X>=c;)X/=2,B/=2,ce>>>=1;return(X+ce)/B};return V.int32=function(){return Z.g(4)|0},V.quick=function(){return Z.g(4)/4294967296},V.double=V,T(k(Z.S),e),(w.pass||C||function(X,B,ce,Q){return Q&&(Q.S&&p(Q,Z),X.state=function(){return p(Z,{})}),ce?(n[o]=X,B):X})(V,G,"global"in w?w.global:this==n,w.state)}function f(b){var w,C=b.length,L=this,G=0,Z=L.i=L.j=0,V=L.S=[];for(C||(b=[C++]);G<i;)V[G]=G++;for(G=0;G<i;G++)V[G]=V[Z=u&Z+b[G%C]+(w=V[G])],V[Z]=w;(L.g=function(X){for(var B,ce=0,Q=L.i,Me=L.j,Fe=L.S;X--;)B=Fe[Q=u&Q+1],ce=ce*i+Fe[u&(Fe[Q]=Fe[Me=u&Me+B])+(Fe[Me]=B)];return L.i=Q,L.j=Me,ce})(i)}function p(b,w){return w.i=b.i,w.j=b.j,w.S=b.S.slice(),w}function v(b,w){var C=[],L=typeof b,G;if(w&&L=="object")for(G in b)try{C.push(v(b[G],w-1))}catch{}return C.length?C:L=="string"?b:b+"\0"}function T(b,w){for(var C=b+"",L,G=0;G<C.length;)w[u&G]=u&(L^=w[u&G]*19)+C.charCodeAt(G++);return k(w)}function A(){try{var b;return d&&(b=d.randomBytes)?b=b(i):(b=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(b)),k(b)}catch{var w=t.navigator,C=w&&w.plugins;return[+new Date,t,C,t.screen,k(e)]}}function k(b){return String.fromCharCode.apply(0,b)}if(T(n.random(),e),typeof La=="object"&&La.exports){La.exports=h;try{d=Sv("crypto")}catch{}}else typeof define=="function"&&define.amd?define(function(){return h}):n["seed"+o]=h})(typeof self<"u"?self:Fg,[],Math)});var qg=O((WI,Wg)=>{var ax=Mg(),ox=Cg(),sx=Ng(),lx=Og(),ux=Lg(),cx=Gg(),tr=Zg();tr.alea=ax;tr.xor128=ox;tr.xorwow=sx;tr.xorshift7=lx;tr.xor4096=ux;tr.tychei=cx;Wg.exports=tr});var Xy=O((TE,Yy)=>{"use strict";var Z2=function(t,e){return t<e};function de(t){if(!(this instanceof de))return new de(t);this.array=[],this.size=0,this.compare=t||Z2}de.prototype.clone=function(){var t=new de(this.compare);return t.size=this.size,t.array=this.array.slice(0,this.size),t};de.prototype.add=function(t){var e=this.size;this.array[this.size]=t,this.size+=1;for(var n,i;e>0&&(n=e-1>>1,i=this.array[n],!!this.compare(t,i));)this.array[e]=i,e=n;this.array[e]=t};de.prototype.heapify=function(t){this.array=t,this.size=t.length;var e;for(e=this.size>>1;e>=0;e--)this._percolateDown(e)};de.prototype._percolateUp=function(t,e){for(var n=this.array[t],i,r;t>0&&(i=t-1>>1,r=this.array[i],!(!e&&!this.compare(n,r)));)this.array[t]=r,t=i;this.array[t]=n};de.prototype._percolateDown=function(t){for(var e=this.size,n=this.size>>>1,i=this.array[t],r,a,o;t<n&&(r=(t<<1)+1,a=r+1,o=this.array[r],a<e&&this.compare(this.array[a],o)&&(r=a,o=this.array[a]),!!this.compare(o,i));)this.array[t]=o,t=r;this.array[t]=i};de.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()};de.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1};de.prototype.removeOne=function(t){if(typeof t=="function"){for(var e=0;e<this.size;e++)if(t(this.array[e]))return this._removeAt(e)}};de.prototype.removeMany=function(t,e){if(typeof t!="function"||this.size<1)return[];e=e?Math.min(e,this.size):this.size;for(var n=0,i=new Array(e),r=0,a=new Array(this.size);n<e&&!this.isEmpty();){var o=this.poll();t(o)?i[n++]=o:a[r++]=o}i.length=n;for(var s=0;s<r;)this.add(a[s++]);return i};de.prototype.peek=function(){if(this.size!=0)return this.array[0]};de.prototype.poll=function(){if(this.size!=0){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}};de.prototype.replaceTop=function(t){if(this.size!=0){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}};de.prototype.trim=function(){this.array=this.array.slice(0,this.size)};de.prototype.isEmpty=function(){return this.size===0};de.prototype.forEach=function(t){if(!(this.isEmpty()||typeof t!="function"))for(var e=0,n=this.clone();!n.isEmpty();)t(n.poll(),e++)};de.prototype.kSmallest=function(t){if(this.size==0||t<=0)return[];t=Math.min(this.size,t);let e=Math.min(this.size,2**(t-1)+1);if(e<2)return[this.peek()];let n=new de(this.compare);n.size=e,n.array=this.array.slice(0,e);let i=new Array(t);for(let r=0;r<t;r++)i[r]=n.poll();return i};Yy.exports=de});var Pt=O(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.getAndAssertSingleCodePoint=ue.invertCaseOfAlphabeticChar=ue.isUpperCase=ue.isLowerCase=ue.isAlphabetic=ue.isDigit=ue.isWordChar=ue.convertSurrogatePairToCodePoint=ue.isLowSurrogate=ue.isHighSurrogate=void 0;function J2(t){return 55296<=t&&t<=56319}ue.isHighSurrogate=J2;function Q2(t){return 56320<=t&&t<=57343}ue.isLowSurrogate=Q2;function eS(t,e){return(t-55296)*1024+e-56320+65536}ue.convertSurrogatePairToCodePoint=eS;function tS(t){return nb(t)||ib(t)}ue.isWordChar=tS;function nb(t){return 48<=t&&t<=57}ue.isDigit=nb;function ib(t){return ab(t)||ob(t)}ue.isAlphabetic=ib;function ab(t){return 97<=t&&t<=122}ue.isLowerCase=ab;function ob(t){return 65<=t&&t<=90}ue.isUpperCase=ob;function rS(t){return t^32}ue.invertCaseOfAlphabeticChar=rS;function nS(t){if([...t].length!==1)throw new RangeError("Expected the input string to be one code point in length.");return t.codePointAt(0)}ue.getAndAssertSingleCodePoint=nS});var oh=O(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.randomCharFromSetCensorStrategy=Ie.fixedCharCensorStrategy=Ie.fixedPhraseCensorStrategy=Ie.grawlixCensorStrategy=Ie.asteriskCensorStrategy=Ie.keepEndCensorStrategy=Ie.keepStartCensorStrategy=void 0;var iS=Pt();function aS(t){return e=>e.overlapsAtStart?t(e):String.fromCodePoint(e.input.codePointAt(e.startIndex))+t({...e,matchLength:e.matchLength-1})}Ie.keepStartCensorStrategy=aS;function oS(t){return e=>{if(e.overlapsAtEnd)return t(e);let n=String.fromCodePoint(e.input.codePointAt(e.endIndex));return t({...e,matchLength:e.matchLength-1})+n}}Ie.keepEndCensorStrategy=oS;function sS(){return sb("*")}Ie.asteriskCensorStrategy=sS;function lS(){return lb("%@$&*")}Ie.grawlixCensorStrategy=lS;function uS(t){return()=>t}Ie.fixedPhraseCensorStrategy=uS;function sb(t){return(0,iS.getAndAssertSingleCodePoint)(t),e=>t.repeat(e.matchLength)}Ie.fixedCharCensorStrategy=sb;function lb(t){let e=[...t];if(e.length<2)throw new Error("The character set passed must have at least 2 characters.");return n=>{if(n.matchLength===0)return"";let i=Math.floor(Math.random()*e.length),r=e[i];for(let a=1;a<n.matchLength;a++){let o=Math.floor(Math.random()*(e.length-1));o>=i&&o++,i=o,r+=e[o]}return r}}Ie.randomCharFromSetCensorStrategy=lb});var ub=O(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.compareIntervals=void 0;function cS(t,e,n,i){return t<n?-1:n<t?1:e<i?-1:i<e?1:0}ts.compareIntervals=cS});var ns=O(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.compareMatchByPositionAndId=void 0;var dS=ub();function mS(t,e){let n=(0,dS.compareIntervals)(t.startIndex,t.endIndex,e.startIndex,e.endIndex);return n!==0?n:t.termId===e.termId?0:t.termId<e.termId?-1:1}rs.compareMatchByPositionAndId=mS});var cb=O(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.TextCensor=void 0;var hS=ns(),pS=oh(),sh=class{constructor(){this.strategy=(0,pS.grawlixCensorStrategy)()}setStrategy(e){return this.strategy=e,this}applyTo(e,n){if(n.length===0)return e;let i=[...n].sort(hS.compareMatchByPositionAndId),r="",a=0;for(let o=0;o<i.length;o++){let s=i[o];if(a>s.endIndex)continue;let l=s.startIndex<a;l||(r+=e.slice(a,s.startIndex));let c=Math.max(a,s.startIndex),u=o<i.length-1&&s.endIndex>=i[o+1].startIndex&&s.endIndex<i[o+1].endIndex;r+=this.strategy({...s,startIndex:c,input:e,overlapsAtStart:l,overlapsAtEnd:u}),a=s.endIndex+1}return r+=e.slice(a),r}};is.TextCensor=sh});var lh=O(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.assignIncrementingIds=void 0;function fS(t){let e=0;return t.map(n=>({id:e++,pattern:n}))}as.assignIncrementingIds=fS});var ch=O(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.PhraseBuilder=en.DataSet=void 0;var gS=lh(),uh=class{constructor(){this.containers=[],this.patternCount=0,this.patternIdToPhraseContainer=new Map}addAll(e){for(let n of e.containers)this.registerContainer(n);return this}removePhrasesIf(e){this.patternCount=0,this.patternIdToPhraseContainer.clear();let n=this.containers.splice(0);for(let i of n)e(i)||this.registerContainer(i);return this}addPhrase(e){let n=e(new os).build();return this.registerContainer(n),this}getPayloadWithPhraseMetadata(e){let n=this.patternIdToPhraseContainer.get(e.termId);if(n===void 0)throw new Error(`The pattern with ID ${e.termId} does not exist in this dataset.`);return{...e,phraseMetadata:this.containers[n].metadata}}build(){return{blacklistedTerms:(0,gS.assignIncrementingIds)(this.containers.flatMap(e=>e.patterns)),whitelistedTerms:this.containers.flatMap(e=>e.whitelistedTerms)}}registerContainer(e){let n=this.containers.push(e)-1;for(let i=0,r=this.patternCount;i<e.patterns.length;i++,r++)this.patternIdToPhraseContainer.set(r,n),this.patternCount++}};en.DataSet=uh;var os=class{constructor(){this.patterns=[],this.whitelistedTerms=[]}addPattern(e){return this.patterns.push(e),this}addWhitelistedTerm(e){return this.whitelistedTerms.push(e),this}setMetadata(e){return this.metadata=e,this}build(){return{patterns:this.patterns,whitelistedTerms:this.whitelistedTerms,metadata:this.metadata}}};en.PhraseBuilder=os});var ls=O(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.SyntaxKind=void 0;var db;(function(t){t[t.Optional=0]="Optional",t[t.Wildcard=1]="Wildcard",t[t.Literal=2]="Literal",t[t.BoundaryAssertion=3]="BoundaryAssertion"})(db||(ss.SyntaxKind=db={}))});var mb=O(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getRegExpStringForNode=Bt.compilePatternToRegExp=Bt.potentiallyMatchesEmptyString=void 0;var us=ls();function yS(t){return t.nodes.every(e=>e.kind===us.SyntaxKind.Optional)}Bt.potentiallyMatchesEmptyString=yS;function bS(t){let e="";t.requireWordBoundaryAtStart&&(e+="\\b");for(let n of t.nodes)e+=dh(n);return t.requireWordBoundaryAtEnd&&(e+="\\b"),new RegExp(e,"gs")}Bt.compilePatternToRegExp=bS;var vS=["[",".","*","+","?","^","$","{","}","(",")","|","[","\\","]"].map(t=>t.charCodeAt(0));function dh(t){switch(t.kind){case us.SyntaxKind.Literal:{let e="";for(let n of t.chars)vS.includes(n)&&(e+="\\"),e+=String.fromCodePoint(n);return e}case us.SyntaxKind.Optional:return`(?:${dh(t.childNode)})?`;case us.SyntaxKind.Wildcard:return"."}}Bt.getRegExpStringForNode=dh});var hb=O(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.TransformerSet=void 0;var mh=class{constructor(e){this.transformers=e,this.statefulTransformers=Array.from({length:this.transformers.length});for(let n=0;n<this.transformers.length;n++){let i=this.transformers[n];i.type===1&&(this.statefulTransformers[n]=i.factory())}}applyTo(e){let n=e;for(let i=0;i<this.transformers.length&&n!==void 0;i++){let r=this.transformers[i];r.type===0?n=r.transform(n):n=this.statefulTransformers[i].transform(n)}return n}resetAll(){for(let e=0;e<this.transformers.length;e++)this.transformers[e].type===1&&this.statefulTransformers[e].reset()}};cs.TransformerSet=mh});var ms=O(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.CharacterIterator=void 0;var hh=Pt(),ph=class{constructor(e){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0,this._input=e??""}get input(){return this._input}setInput(e){return this._input=e,this.reset(),this}reset(){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0}next(){if(this.done)return{done:!0,value:void 0};this.lastPosition=this.currentPosition;let e=this._input.charCodeAt(this.currentPosition++);if(this._lastWidth=1,this.done||!(0,hh.isHighSurrogate)(e))return{done:!1,value:e};let n=this._input.charCodeAt(this.currentPosition);return(0,hh.isLowSurrogate)(n)?(this._lastWidth++,this.currentPosition++,{done:!1,value:(0,hh.convertSurrogatePairToCodePoint)(e,n)}):{done:!1,value:e}}get position(){return this.lastPosition}get lastWidth(){return this._lastWidth}get done(){return this.currentPosition>=this._input.length}[Symbol.iterator](){return this}};ds.CharacterIterator=ph});var pb=O(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.IntervalCollection=void 0;var fh=class{constructor(){this.dirty=!1,this.intervals=[]}insert(e,n){this.intervals.push([e,n]),this.dirty=!0}query(e,n){if(this.intervals.length===0)return!1;this.dirty&&(this.dirty=!1,this.intervals.sort((i,r)=>i[0]<r[0]?-1:r[0]<i[0]?1:0));for(let i of this.intervals){if(i[0]>e)break;if(i[0]<=e&&n<=i[1])return!0}return!1}values(){return this.intervals.values()}[Symbol.iterator](){return this.values()}};hs.IntervalCollection=fh});var yb=O(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.RegExpMatcher=void 0;var tn=Pt(),fb=mb(),gb=hb(),TS=ms(),_S=pb(),xS=ns(),gh=class{constructor({blacklistedTerms:e,whitelistedTerms:n=[],blacklistMatcherTransformers:i=[],whitelistMatcherTransformers:r=[]}){this.blacklistedTerms=this.compileTerms(e),this.validateWhitelistedTerms(n),this.whitelistedTerms=n,this.blacklistMatcherTransformers=new gb.TransformerSet(i),this.whitelistMatcherTransformers=new gb.TransformerSet(r)}getAllMatches(e,n=!1){let i=this.getWhitelistedIntervals(e),[r,a]=this.applyTransformers(e,this.blacklistMatcherTransformers),o=[];for(let s of this.blacklistedTerms)for(let l of a.matchAll(s.regExp)){let c=r[l.index],u=r[l.index+l[0].length-1];u<e.length-1&&(0,tn.isHighSurrogate)(e.charCodeAt(u))&&(0,tn.isLowSurrogate)(e.charCodeAt(u+1))&&u++,i.query(c,u)||o.push({termId:s.id,startIndex:c,endIndex:u,matchLength:[...l[0]].length})}return n&&o.sort(xS.compareMatchByPositionAndId),o}hasMatch(e){let n=this.getWhitelistedIntervals(e),[i,r]=this.applyTransformers(e,this.blacklistMatcherTransformers);for(let a of this.blacklistedTerms)for(let o of r.matchAll(a.regExp)){let s=i[o.index],l=i[o.index+o[0].length-1];if(l<e.length-1&&(0,tn.isHighSurrogate)(e.charCodeAt(l))&&(0,tn.isLowSurrogate)(e.charCodeAt(l+1))&&l++,!n.query(s,l))return!0}return!1}getWhitelistedIntervals(e){let n=new _S.IntervalCollection,[i,r]=this.applyTransformers(e,this.whitelistMatcherTransformers);for(let a of this.whitelistedTerms){let o=0;for(let s=r.indexOf(a,o);s!==-1;s=r.indexOf(a,o)){let l=i[s+a.length-1];l<e.length-1&&(0,tn.isHighSurrogate)(e.charCodeAt(l))&&(0,tn.isLowSurrogate)(e.charCodeAt(l+1))&&l++,n.insert(i[s],l),o=s+a.length}}return n}applyTransformers(e,n){let i=[],r="",a=new TS.CharacterIterator(e);for(let o of a){let s=n.applyTo(o);if(s!==void 0)for(r+=String.fromCodePoint(s);i.length<r.length;)i.push(a.position)}return n.resetAll(),[i,r]}compileTerms(e){let n=[],i=new Set;for(let r of e){if(i.has(r.id))throw new Error(`Duplicate blacklisted term ID ${r.id}.`);if((0,fb.potentiallyMatchesEmptyString)(r.pattern))throw new Error(`Pattern with ID ${r.id} potentially matches empty string; this is unsupported.`);n.push({id:r.id,regExp:(0,fb.compilePatternToRegExp)(r.pattern)}),i.add(r.id)}return n}validateWhitelistedTerms(e){if(e.some(n=>n.length===0))throw new Error("Whitelisted term set contains empty string; this is unsupported.")}};ps.RegExpMatcher=gh});var vb=O(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0})});var bh=O(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.ParserError=void 0;var yh=class extends Error{constructor(e,n,i){super(`${n}:${i}: ${e}`),this.name="ParserError",this.line=n,this.column=i}};fs.ParserError=yh});var xb=O(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.Parser=void 0;var vh=Pt(),wS=ms(),lr=ls(),SS=bh(),_b=[92,91,93,63,124],PS=_b.map(t=>`'${String.fromCodePoint(t)}'`).join(", "),Tb=-1,Th=class{constructor(){this.input="",this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0}parse(e){this.setInput(e);let n=[],i=this.nextNode(),r=i?.kind===lr.SyntaxKind.BoundaryAssertion;i&&!r&&n.push(i);let a=!1;for(;!this.done;){let o=this.mark(),s=this.nextNode();if(s.kind!==lr.SyntaxKind.BoundaryAssertion){n.push(s);continue}this.done||this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",o),a=!0}return{requireWordBoundaryAtStart:r,requireWordBoundaryAtEnd:a,nodes:n}}setInput(e){return this.input=e,this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0,this}nextNode(){switch(this.peek()){case Tb:return;case 91:return this.parseOptional();case 93:this.reportError("Unexpected ']' with no corresponding '['.");case 63:return this.parseWildcard();case 124:return this.parseBoundaryAssertion();default:return this.parseLiteral()}}get done(){return this.position>=this.input.length}parseOptional(){let e=this.mark();this.next();let n=this.mark();this.done&&this.reportError("Unexpected unclosed '['.",e),this.accept("[")&&this.reportError("Unexpected nested optional node.",n);let i=this.nextNode();return i.kind===lr.SyntaxKind.BoundaryAssertion&&this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",n),this.accept("]")||this.reportError("Unexpected unclosed '['."),{kind:lr.SyntaxKind.Optional,childNode:i}}parseWildcard(){return this.next(),{kind:lr.SyntaxKind.Wildcard}}parseBoundaryAssertion(){return this.next(),{kind:lr.SyntaxKind.BoundaryAssertion}}parseLiteral(){let e=[];for(;!this.done;){if(this.accept("[]?|")){this.backup();break}let n=this.next();if(n===92){this.done&&(this.backup(),this.reportError("Unexpected trailing backslash."));let i=this.next();if(!_b.includes(i)){let r=String.fromCodePoint(i);this.backup(),this.reportError(`Cannot escape character '${r}'; the only characters that can be escaped are the following: ${PS}.`)}e.push(i)}else e.push(n)}return{kind:lr.SyntaxKind.Literal,chars:e}}reportError(e,{line:n=this.line,column:i=this.column}={}){throw new SS.ParserError(e,n,i)}mark(){return{line:this.line,column:this.column}}accept(e){let n=this.next(),i=new wS.CharacterIterator(e);for(let r of i)if(r===n)return!0;return this.backup(),!1}peek(){let e=this.next();return this.backup(),e}next(){if(this.done)return Tb;let e=this.input.charCodeAt(this.position++);if(this.lastWidth=1,e===10)return this.lastColumn=this.column,this.column=1,this.line++,e;if(this.lastColumn=this.column++,!(0,vh.isHighSurrogate)(e)||this.done)return e;let n=this.input.charCodeAt(this.position);return(0,vh.isLowSurrogate)(n)?(this.position++,this.lastWidth++,(0,vh.convertSurrogatePairToCodePoint)(e,n)):e}backup(){this.position-=this.lastWidth,this.column=this.lastColumn,this.lastWidth===1&&this.input.charCodeAt(this.position)===10&&this.line--}};gs.Parser=Th});var _h=O(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.parseRawPattern=rn.pattern=void 0;var kS=xb(),wb=new kS.Parser;function IS(t,...e){let n=t.raw[0];for(let[i,r]of e.entries())n+=r,n+=t.raw[i+1];return wb.parse(n)}rn.pattern=IS;function $S(t){return wb.parse(t)}rn.parseRawPattern=$S});var fi=O(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.createStatefulTransformer=nn.createSimpleTransformer=void 0;function AS(t){return{type:0,transform:t}}nn.createSimpleTransformer=AS;function ES(t){return{type:1,factory:t}}nn.createStatefulTransformer=ES});var Sb=O(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.CollapseDuplicatesTransformer=void 0;var xh=class{constructor({defaultThreshold:e,customThresholds:n}){this.remaining=-1,this.lastChar=-1,this.defaultThreshold=e,this.customThresholds=n}transform(e){if(e===this.lastChar)return this.remaining-- >0?e:void 0;let n=this.customThresholds.get(e)??this.defaultThreshold;return this.remaining=n-1,this.lastChar=e,n>0?e:void 0}reset(){this.remaining=-1,this.lastChar=-1}};ys.CollapseDuplicatesTransformer=xh});var wh=O(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.collapseDuplicatesTransformer=void 0;var RS=Pt(),MS=fi(),DS=Sb();function CS({defaultThreshold:t=1,customThresholds:e=new Map}={}){let n=US(e);return(0,MS.createStatefulTransformer)(()=>new DS.CollapseDuplicatesTransformer({defaultThreshold:t,customThresholds:n}))}bs.collapseDuplicatesTransformer=CS;function US(t){let e=new Map;for(let[n,i]of t){if(i<0)throw new RangeError("Expected all thresholds to be non-negative.");let r=(0,RS.getAndAssertSingleCodePoint)(n);e.set(r,i)}return e}});var Ts=O(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.remapCharactersTransformer=void 0;var NS=Pt(),zS=ms(),OS=fi();function jS(t){let e=LS(t);return(0,OS.createSimpleTransformer)(n=>e.get(n)??n)}vs.remapCharactersTransformer=jS;function LS(t){let e=new Map,n=t instanceof Map?t.entries():Object.entries(t);for(let[i,r]of n){let a=(0,NS.getAndAssertSingleCodePoint)(i),o=new zS.CharacterIterator(r);for(let s of o)e.set(s,a)}return e}});var Pb=O(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.confusables=void 0;_s.confusables=new Map([[" "," "],["0","\u24FF"],["1","\u24F5\u278A\u2474\xB9\u{1D7CF}\u{1D7D9}\uFF11\u{1D7F7}\u{1D7E3}\u2488\u{1D7ED}1\u2780\u2081\u2460\u2776\u2960"],["2","\u24F6\u2489\u2475\u278B\u01BB\xB2\u14BF\u{1D7DA}\uFF12\u{1D7EE}\u{1D7E4}\u14BE\u{1D7F8}\u01A7\u{1D7D0}\u2461\u1D24\u2082\u2781\u2777\u161D\u01A8"],["3","\xB3\u2CCC\uA7AB\u{1D7D1}\u2128\u{1D7DB}\u{1D7EF}\u{1D7E5}\uA76A\u278C\u0417\u021C\u24F7\u04E0\u01B7\uFF13\u{1D7F9}\u2476\u248A\u0292\u0293\u01EF\u01EE\u01BA\u{1D574}\u1DBE\u0437\u19A1\u2782\u2462\u2083\u1D9A\u1D23\u1D1F\u2778\u0498\u0499\u04EC\u04E1\u04ED\u04DF\u04DE"],["4","\u278D\u04B6\u13CE\u{1D7DC}\u04B7\u24F8\u04B8\u04B9\u04F4\u04F5\u1DA3\uFF14\u0447\u3129\u2074\u2783\u2084\u2463\u2779\u04CB\u2477\u248B"],["5","\u{1D7F1}\u24F9\u278E\u01BC\u{1D7D3}\u{1D7FB}\u{1D7DD}\u{1D7E7}\uFF15\u2784\u2085\u2464\u2075\u277A\u01BD\u2478\u248C"],["6","\u2CD2\u13EE\u{1D7DE}\u{1D7E8}\u{1D7D4}\u278F\u24FA\u03EC\u03ED\u2076\u0431\uFF16\u19C8\u2465\u2785\u2086\u277B\u2479\u248D"],["7","\u24FB\u{104D2}\u2790\uFF17\u2077\u2466\u2087\u277C\u2786\u247A\u248E"],["8","\u{1031A}\u2791\u24FC\uFF18\u{1D7E0}\u{1D7EA}\u09EA\u2078\u2088\u{1D7F4}\u2787\u2467\u277D\u{1D7FE}\u{1D7D6}\u247B\u248F"],["9","\uA76E\u2CCA\u24FD\u2792\u0A67\u09ED\u0B68\uFF19\u{1D7EB}\u{1D7FF}\u{1D7D7}\u2079\u2089\u0533\u2788\u2468\u277E\u247C\u2490"],["A","\u{1F130}\u13AF\u{102A0}\u{1D56C}\u{1D71C}\u{1D434}\uA4EE\u13AA\u{1D6A8}\uAB7A\u{1D756}\u{1F150}\u212B\u2200\u{1F1E6}\u20B3\u{1F170}\u{1D49C}\u{1D608}\u{1D400}\u{1D538}\u0434\u01FA\u15C5\u24B6\uFF21\u0391\u1F8B\u15E9\u0102\xC3\xC5\u01CD\u0200\u0202\u0100\u023A\u0104\u028C\u039B\u03BB\u019B\u1D00\u1D2C\u0414\u0410\u120D\xC4\u2090\u1571\xAA\u01DE\u04D2\u0386\u1EA0\u1EA2\u1EA6\u1EA8\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1FB8\u1FB9\u1FBA\u1FBB\u1FBC\u1F88\u1F89\u1F8A\u1F8C\u1F8D\u1F8E\u1F8F\u1F08\u1F09\u1F0A\u1F0B\u1F0C\u1F0D\u1F0E\u1F0F\u1E00\u0226\u01E0\u04D0\xC0\xC1\xC2\u1EA4\u1EAA\u{1D6E2}\u{1D4D0}\u{1D670}\u{1D63C}"],["a","\u2202\u237A\u24D0\u0571\u01DF\u1D43\u1D8F\u249C\u0430\u0252\uFF41\u03B1\u0203\u0201\u0E04\u01CE\u10DB\xE4\u0251\u0101\u0250\u0105\u1F84\u1E9A\u1EA1\u1EA3\u01E1\u1EA7\u1EB5\u1E01\u0227\u04D1\u04D3\xE3\xE5\u03AC\u1F70\u1F71\u0103\u1EA9\u1EB1\u1EB3\u1EB7\u1F80\u1F81\u1F82\u1F83\u1F85\u1F86\u1FB0\u1FB1\u1FB2\u1FB3\u1FB4\u1D90\u1FB6\u1FB7\u1F00\u1F01\u1F02\u1F03\u1F04\u1F05\u1F06\u1F07\u1F87\u1EAD\u1EAF\xE0\xE1\xE2\u1EA5\u1EAB\u01FB\u2C65\u{1D41A}\u{1D44E}\u{1D482}\u{1D4B6}\u{1D4EA}\u{1D51E}\u{1D552}\u{1D586}\u{1D5BA}\u{1D5EE}\u{1D622}\u{1D656}\u{1D68A}\u{1D6C2}\u{1D6FC}\u{1D736}\u{1D770}\u{1D7AA}\u2376"],["B","\u{10301}\u{1D469}\u{1D56D}\u{1F131}\u{102A1}\u{1D5A1}\u{1D63D}\uA4D0\u{1D5D5}\u{1D609}\u{1D71D}\u{10282}\u{1D6A9}\u{1D401}\u{1D6E3}\u{1D757}\u{1D435}\u{1D671}\u{1D539}\u13F4\u13FC\u{1D791}\uA7B4\u{1D505}\u{1F151}\u0E3F\u{1D4D1}\u15FF\u15FE\u15FD\u{1F171}\u24B7\uFF22\u0432\u03D0\u15F7\u0181\u4E43\xDF\u10EA\u10E9\u0E56\u03B2\u026E\u0411\u0545\u0E52\u1656\u0299\u1D2E\u1D47\u130C\u1E04\u212C\u0392\u0412\u1E9E\u1E02\u1E06\u0243\u0D26\u15F9\u15F8\u1D5D\u165E\u165F\u165D\u16D2\u1657\u1658\u1D03\u{1F1E7}"],["b","\u13CF\u{1D41B}\u{1D623}\u{1D4B7}\u{1D51F}\u{1D4EB}\u{1D587}\u{1D5BB}\u{1D44F}\u{1D657}\u{1D553}\u{1D483}\u{1D5EF}\u{1D68B}\u266D\u1473\u1488\uFF42\u159A\u1579\u157A\u24D1\u1E03\u1E05\u048D\u044A\u1E07\u0183\u0253\u0185\u15AF\u0184\u042C\u1472\xFE\u0182\u249D\u042A\u1D80\u147F\u1480\u1482\u1481\u147E\u044C\u0180\u048C\u0462\u0463\u150E"],["C","\u13DF\u2CA4\u{1F132}\uA4DA\u{102A2}\u{10302}\u{1F172}\u{10415}\u{1F152}\u263E\u010C\xC7\u24B8\uFF23\u2183\u0187\u1455\u3108\xA2\u096E\u21BB\u0108\u03FE\u0547\u023B\u1645\u1D9C\u249E\u0106\u0480\u010A\xA9\u091F\u0186\u2102\u212D\u03F9\u0421\u531A\u1E08\u04AA\u0297\u1456\u1461\u1462\u1463\u1464\u1465\u216D\u{1D402}\u{1D436}\u{1D46A}\u{1D49E}\u{1D4D2}\u{1D56E}\u{1D5A2}\u{1D5D6}\u{1D60A}\u{1D63E}\u150D"],["c","\u2CA5\u{1043D}\uABAF\u0109\uFF43\u24D2\u0107\u010D\u010B\xE7\u0481\u0188\u1E09\u023C\u2184\u0441\u122D\u1D04\u03F2\u04AB\uA49D\u03C2\u027D\u03DB\u{1D672}\u1466\u19DA\u{1D41C}\u{1D450}\u{1D484}\u{1D4B8}\u{1D4EC}\u{1D520}\u{1D554}\u{1D588}\u{1D5BC}\u{1D5F0}\u{1D624}\u{1D658}\u{1D68C}\u20B5\u{1F1E8}\u1974\u14BC\u217D"],["D","\u13A0\u{1F133}\u{1D521}\u{1D589}\u{1D53B}\u{1D5D7}\u{1D60B}\u{1D673}\u{1D437}\u{1D4D3}\u{1D403}\u{1D46B}\u{1D56F}\u{1D5A3}\u{1D507}\u{1D63F}\uAB70\u2145\u{1D49F}\uA4D3\u{1F173}\u{1F153}\u24B9\uFF24\u0189\u15EA\u018A\xD0\u053A\u1D05\u1D30\u2181\u1E0A\u0110\xDE\u216E\u15DE\u146F\u010E\u1E0C\u1E10\u1E12\u1E0E\u15EB\u15EC\u15DF\u15E0\u1D9B\u1D06\u{1F1E9}"],["d","\u13E7\uA4D2\u{1D4ED}\u1D6D\u20AB\u0503\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u1D48\u249F\u0501\u217E\u1D81\u0500\u147A\u147B\u147C\u147D\u1484\u1470\u1471\u1D91\u{1D555}\u{1D5BD}\u{1D451}\u{1D625}\u{1D485}\u{1D659}\u{1D41D}\u{1D5F1}\u{1D68D}\u2146\u{1D4B9}\u02A0\u056A"],["E","\uAB7C\u{1F134}\u{1D640}\u{1D53C}\u{10286}\u{1D6AC}\uA4F0\u{1D75A}\u{1D794}\u{1D4D4}\u{1D46C}\u{1D5D8}\u{1F174}\u{1F154}\u24BA\u0388\uFF25\u018E\u1F1D\u156E\u0190\u30E2\u0404\u1D07\u1D31\u1D49\xC9\u4E47\u0401\u0246\uA085\u20AC\xC8\u2130\u0395\u0415\u2D39\u13AC\u0112\u0114\u0116\u0118\u011A\xCA\xCB\u0510\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u1E14\u1E16\u1EBA\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u1E18\u1E1A\u1F18\u1F19\u1F1A\u1F1B\u1F1C\u1FC8\u1FC9\u04D6\u1F72\u1F73\u0400\u03F5\u{1F1EA}"],["e","\u{1D452}\u{1D4EE}\u{1D556}\u{1D58A}\u{1D626}\u{1D5F2}\u{1D68E}\u{1D65A}\u{1D486}\u{1D522}\u{1D5BE}\u{1D41E}\u04BE\u04BF\u24D4\uFF45\u24A0\xE8\u19C9\xE9\u1D92\xEA\u0258\u1F14\u1EC1\u1EBF\u1EC5\u0AEF\u01DD\u0454\u03B5\u0113\u04BD\u025B\u1EC3\u1EBD\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u0247\u2091\u0119\u1E1D\u1E19\u1E1B\u212E\u0435\u0511\u0450\u04D7\u1971\u0451\u1F10\u1F11\u1F12\u1F13\u1F15\u212F"],["F","\u{1F135}\u{10287}\u{1D509}\u{1D60D}\u{102A5}\uA4DD\uA798\u{1F175}\u{1F155}\u{1D4D5}\u24BB\uFF26\u0493\u0492\u15B4\u0191\u0532\u03DD\u127B\u1E1E\u2131\u03DC\u20A3\u{1F1EB}\u2132"],["f","\u{1D41F}\u{1D58B}\u24D5\uFF46\u0192\u1E1F\u0283\u0562\u1DA0\u24A1\u017F\uA2B0\u0284\u2231\u1D82\u{1D627}"],["G","\uA4D6\u13F3\u{1F136}\u13C0\u13FB\u{1D53E}\u{1D4D6}\u{1D46E}\u{1D572}\uAB90\u{1D4A2}\u{1D642}\u{1D5A6}\u{1D676}\u{1D50A}\u{1D43A}\u{1D406}\u{1F176}\u{1F156}\u24BC\uFF27\u0262\u0193\u029B\u0122\u161C\u1D33\u01F4\u0120\u050C\u011C\u1E20\u011E\u01E6\u01E4\u050D\u20B2\u{1F1EC}\u2141"],["g","\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u0581\u0AED\u01E5\u0260\uFEED\uFEEE\u1D4D\u24A2\u210A\u0261\u19C1\u{1D420}\u{1D454}\u{1D488}\u{1D4F0}\u{1D524}\u{1D558}\u{1D58C}\u{1D5C0}\u{1D5F4}\u{1D628}\u{1D65C}\u{1D690}"],["H","\u{1F137}\u{1D722}\uA4E7\u{1D60F}\u{1D43B}\u{1D75C}\u{1D5A7}\u{102CF}\u{1D5DB}\uAB8B\u210D\u13BB\u210C\u2C8E\u{1D46F}\u{1D796}\u{1F177}\u{1F157}\u12DE\u01F6\u050B\u24BD\uFF28\u0124\u16BA\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u04A2\u04A3\u04A4\u1FCA\u1FCB\u1FCC\u1F28\u1F29\u1F2A\u1F2B\u1F2D\u1F2E\u1F2F\u1F98\u1F99\u1F9A\u1F9B\u1F9C\u1F9D\u1F9E\u1F9F\u04C9\u04C8\u04A5\u0389\u043D\u5344\u2653\u{1D4D7}\u210B\u041D\u{1D407}\u{1D643}\u{1D677}\u029C\u{1D6E8}\u0397\u{1D6AE}\u157C\u04C7\u1D34\u1D78\u{1F1ED}"],["h","\u04BA\u24A3\u0452\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u0570\u04BB\u12A8\u12A9\u12AA\u12AB\u0266\u210E\u{1D421}\u{1D489}\u{1D4BD}\u{1D4F1}\u{1D525}\u{1D559}\u{1D58D}\u{1D5C1}\u{1D5F5}\u{1D629}\u{1D65D}\u{1D691}\u056B\u02B0\u144B\u15C1\u0267\u3093\u0265"],["I","\u{1F138}\u0407\uA024\u13C6\u{1F178}\u{1F158}\u0625\uFE87\u0673\u0623\uFE83\u0672\u0675\u24BE\uFF29\u17F8\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197\u30A7\u30A8\u1FD8\u1FD9\u1FDA\u1FDB\u1F38\u1F39\u1F3A\u1F3B\u1F3C\u1F3D\u1F3E\u2160\u03AA\u038A\u026A\u1DA6\u144A\u1963\u{1D6EA}\u{1D408}\u{1D644}\u{1D678}\u{1D4F5}\u{1D661}\u{1D43C}\u1D35\u{1D6B0}\u{1D470}\u{1F1EE}"],["i","\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u1E2D\u1FD0\u1FD1\u1FD2\u1FD3\u1FD6\u1FD7\u1F30\u1F31\u1F32\u2170\u217C\u2223\u2D4F\uFFE8\u05C0\u0627\u0661\u06F1\u07CA\u16C1\u1F33\u1F34\u1F35\u0268\u0456\u1F76\u1F77\u1D96\u{1D526}\u{1D692}\u{1D778}\u{1D5C2}\u{1D422}\u{1D55A}\u{1D58E}\u{1D5F6}\u{1D62A}\u{1D65E}\u03AF\u2071\u1D62\u{1D4F2}\u24A4"],["J","\u{1F139}\u{1F179}\u{1F159}\u24BF\uFF2A\u0408\u029D\u148D\u05E0\uFF8C\u0134\u0286\u0E27\u0644\u0575\u0296\u1D0A\u1D36\uFEDD\u130B\u0248\u2C7C\u0542\u0E45\u10B1\u012F\u13AB\u0237\u4E3F\u2110\u2111\u1498\u1499\u149A\u149B\u14B4\u14B5\u148E\u148F\u{1F1EF}"],["j","\u24D9\uFF4A\u03F3\u02B2\u24A5\u0249\u0135\u01F0\u0458\u06B6\u1DA8\u{1D4BF}\u{1D62B}\u{1D5F7}\u{1D457}\u{1D65F}\u{1D527}\u{1D48B}\u{1D5C3}\u{1D4F3}\u{1D55B}\u{1D693}\u{1D58F}\u{1D423}"],["K","\u{1D5DE}\u{1F13A}\u{1D725}\u{1D612}\uA4D7\u{1D646}\u{1D542}\u2C94\u{1D50E}\u{1D6EB}\u13E6\u{1D799}\u{1D4A6}\u{1F17A}\u{1F15A}\u20AD\u24C0\uFF2B\u0138\u1E30\u045C\u0198\u043A\u04A0\u03BA\u049B\u049F\u04C4\u029E\u049A\u041A\u04A1\u1D0B\u1D37\u1D4F\u24A6\u16D5\u040C\u1315\u1E32\u039A\u212A\u049C\u049D\u049E\u0136\u1E34\u01E8\u2C69\u03D7\u04C3\u{1F1F0}"],["k","\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\u1D84\u{1D424}\u{1D62C}\u{1D5C4}\u{1D55C}\u{1D705}\u{1D718}\u{1D73F}\u{1D752}\u{1D779}\u{1D78C}\u{1D7B3}\u{1D660}\u{1D694}\u{1D458}\u{1D48C}\u03F0\u{1D6CB}\u{1D6DE}\u{1D7C6}\u{1D5F8}\u{1D4F4}\u{1D4C0}"],["L","\u{1F13B}\u{1041B}\u2CD0\u{1D473}\u{1D67B}\u{10443}\u{1D4DB}\u2CD1\uABAE\u13DE\uA4E1\u{1F17B}\u{1F15B}\uFE88\u2514\u24C1\u0582\uFF2C\u013F\u14AA\u4E5A\u0546\u029F\uA4F6\u03B9\u053C\u1D38\u02E1\u0139\u1228\u1E36\u2097\u0393\u056C\u013B\u1102\u216C\u2112\u2C62\u1967\u1968\u14BB\u14B6\u14B7\u1DAB\uFE8E\u14BA\u14B9\u14B8\u14AB\u23B3\u3125\u0141\u2C60\uFE84\u023D\u{1F1F1}"],["l","\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u04C0\u2113\u1E3D\u1E3B\u0142\uFF9A\u026D\u019A\u026B\u2C61|\u0196\u24A7\u0285\u01C0\u05D5\u05DF\u0399\u0406\uFF5C\u1DA9\u04CF\u{1D4D8}\u{1D540}\u{1D5A8}\u{1D5DC}\u{1D610}\u{1D425}\u{1D459}\u{1D48D}\u{1D4C1}\u{1D529}\u{1D55D}\u{1D591}\u{1D5C5}\u{1D5F9}\u{1D62D}\u{1D695}\u{1D724}\u{1D75E}\u0131\u{1D6A4}\u0269\u1FBE\u{1D6CA}\u{1D704}\u{1D73E}\u{1D7B2}"],["M","\u{1F13C}\u{10311}\u{102B0}\uA4DF\u2C98\u13B7\u{1F17C}\u{1F15C}\u24C2\uFF2D\u043C\u1E42\u0D71\u15F0\u5DDE\u163B\u10DD\u0E53\u264F\u028D\u164F\u1D0D\u1D39\u1D50\u24A8\u1E3E\u041C\u1E40\u0BF1\u216F\u2133\u039C\u03FA\u16D6\u04CD\u04CE\u{1D40C}\u{1D440}\u{1D474}\u{1D4DC}\u{1D510}\u{1D544}\u{1D578}\u{1D5AC}\u{1D5E0}\u{1D614}\u{1D648}\u{1D67C}\u{1D6B3}\u{1D6ED}\u{1D727}\u{1D761}\u{1D79B}\u{1F1F2}"],["m","\u20A5\u1D6F\u{1D592}\u{1D426}\u{1D5C6}\u{1D52A}\u{1D55E}\u{1D4C2}\u24DC\uFF4D\u0D28\u1662\u0D69\u1E3F\u1E41\u217F\u03FB\u1E43\u1320\u0271\u17F3\u1D86\u{1D662}\u{1D4F6}\u{1D696}\u{1D45A}\u{1D5FA}\u19D5\u19D7"],["N","\u{1F13D}\u2115\uA4E0\u{1D6EE}\u{1D762}\u{1D67D}\u{1D6B4}\u{1D475}\u{1D441}\u2C9A\u{1D40D}\u{1D4A9}\u{1D79C}\u{1D5E1}\u{1D615}\u{1D728}\u{1D4DD}\u{1D5AD}\u{1F17D}\u20A6\u{1F15D}\u0419\u040D\u24C3\u048B\u17F7\uFF2E\u1D0E\u0274\u019D\u144E\u51E0\u0438\u0548\u057C\u0418\u05D4\u041B\u03C0\u1D3A\u1DB0\u0143\u5200\u12AD\u1E44\u207F\xD1\u041F\u039D\u1D28\u0578\u03D6\u01F8\u0147\u1E46\u0145\u1E4A\u1E48\u0E17\u014A\u04E2\u04E3\u04E4\u04E5\u045B\u045D\u0439\u1962\u048A\u1D3B\u{1F1F3}"],["n","\u05D7\u{1D48F}\u{1D4F7}\u{1D663}\u{1D45B}\u{1D593}\u{1D52B}\u{1D5C7}\u{1D697}\u{1D5FB}\u1952\u24DD\u03AE\uFF4E\u01F9\u1D12\u0144\xF1\u1F97\u03B7\u1E45\u0148\u1E47\u0272\u0146\u1E4B\u1E49\u0572\u0E96\u054C\u019E\u014B\u24A9\u0E20\u0E01\u0273\u043F\u0149\u043B\u0509\u0220\u1F20\u1F21\u1FC3\u0564\u1F90\u1F91\u1F92\u1F93\u1F94\u1F95\u1F96\u1FC4\u1FC6\u1FC7\u1FC2\u1F22\u1F23\u1F24\u1F25\u1F26\u1F27\u1F74\u1F75\u1260\u1261\u1262\u1263\u1264\u1265\u1266\u0235\u{1D6C8}\u{1D702}\u{1D73C}\u{1D776}\u{1D7B0}\u{1D55F}\u{1D62F}\u{1D427}\u{1D4C3}\u1D87\u1D70\u1965\u2229"],["O","\uA132\u{1F13E}\u{10292}\u{1D7EC}\uA4F3\u2C9E\u{10404}\u{102AB}\u{104C2}\u{1D79E}\u{1F15E}\u2365\u25EF\u2D41\u2296\uFF10\u229D\u{1D764}\u0472\u03F4\u{1D6B6}\u{1D72A}\u047A\u04E6\u04E8\u04EA\u038C\u0298\u{1D40E}\u01D1\xD2\u014E\xD3\xD4\xD5\u020C\u020E\u31FF\u274D\u24C4\uFF2F\u1F4B\u30ED\u2764\u0AE6\u2295\xD8\u0424\u053E\u0398\u01A0\u1D3C\u1D52\u24AA\u0150\xD6\u2092\xA4\u25CA\u03A6\u3007\u039F\u041E\u0555\u0B20\u0D20\u0BE6\u05E1\u1ED2\u1ED0\u1ED6\u1ED4\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u022E\u0230\u022A\u1ECE\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u01FE\u019F\u2D54\u07C0\u17F0\u235C\u2394\u2395\u29B0\u29B1\u29B2\u29B3\u29B4\u29B5\u29B6\u29B7\u29B8\u29B9\u29BA\u29BB\u29BC\u29BD\u29BE\u29BF\u29C0\u29C1\u29C2\u29C3\u1F48\u1F49\u1F4A\u1F4C\u1F4D"],["o","\u{1D698}\u{1D6D0}\u{1D5C8}\u{1D7BC}\u101D\u2C9F\u{1D664}\u1040\u{1042C}\u{1D52C}\u{104EA}\u{1D4F8}\u{1F1F4}\u2364\u25CB\u03D9\u{1F17E}\u{1D4AA}\u{1D5AE}\u{1D7E2}\u{1D7F6}\u{1D67E}\u{1D630}\u{1D5FC}\u{1D560}\u{1D70A}\u{1D428}\u{1D77E}\u{1D7B8}\u1424\u24DE\u0473\u19D0\u1972\xF0\uFF4F\u0C20\u199E\u0553\xF2\u04E9\u04E7\xF3\xBA\u014D\xF4\u01D2\u020F\u014F\u1ED3\u1ED1\u020D\u1ED7\u1ED5\xF5\u03C3\u1E4D\u022D\u1E4F\u1F44\u1E51\u1E53\u022F\u022B\u0E4F\u1D0F\u0151\xF6\u047B\u043E\u12D0\u01ED\u0231\u09E6\u0B66\u0665\u0C66\u0CE6\u0D66\u0E50\u0ED0\u03BF\u0585\u1D11\u0966\u0A66\u1ECF\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\xF8\u01FF\u0275\u056E\u1F40\u1F41\u03CC\u1F78\u1F79\u1F42\u1F43\u1F45"],["P","\u{1F13F}\uA4D1\u{1D6B8}\u{1D67F}\u{1D7A0}\u{1D64B}\uABB2\u2CA2\u{1D4AB}\u{1D766}\u{1D443}\u{1D477}\u{1D5E3}\u{1D40F}\u{10295}\u{1D72C}\u{1D617}\u{1D4DF}\u{1D5AF}\u{1D6F2}\u13E2\u{1F15F}\u048E\u{1F17F}\u24C5\uFF30\u01A4\u146D\u5C38\u1E56\u0580\u03C6\u0584\u1D18\u1D3E\u1D56\u24AB\u1E54\uFF71\u05E7\u0420\u12E8\u1D29\u2C63\u2119\u03A1\u1FEC\u1478\u1476\u1477\u1479\u146C\u146E\u{1F1F5}\u20B1"],["p","\u048F\u2117\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\u1FE5\u03C1\u0440\u01BF\u01F7\u1FE4\u2374\u{1D4F9}\u{1D4C5}\u{1D429}\u{1D45D}\u{1D491}\u{1D52D}\u{1D561}\u{1D595}\u{1D5C9}\u{1D5FD}\u{1D631}\u{1D665}\u{1D699}\u{1D6D2}\u{1D746}\u{1D7BA}\u{1D70C}\u{1D780}"],["Q","\u{1F140}\u{1F180}\u{1F160}\u24C6\uFF31\u211A\u2D55\u051A\u{1D410}\u{1D444}\u{1D478}\u{1D4AC}\u{1D4E0}\u{1D680}\u{1D618}\u{1D64C}\u{1D5B0}\u{1D57C}\u{1D514}\u{1D5E4}\u{1F1F6}"],["q","\u24E0\uFF51\u0563\u24AC\u06F9\u0566\u146B\u024B\u024A\u051B\u{1D5CA}\u{1D45E}\u{1D632}\u{1D562}\u{1D69A}\u{1D492}\u{1D596}\u{1D42A}\u{1D52E}\u{1D4FA}\u{1D666}"],["R","\u211E\u211F\uAB71\u13D2\u{104B4}\uABA2\u13A1\uA4E3\u{1F181}\u{1F161}\u24C7\uFF32\u1D19\u0212\u0280\u1587\u044F\u5C3A\u0154\u042F\u0AB0\u01A6\u1D3F\u12EA\u1E5A\u024C\u0281\u211B\u211C\u211D\u1E58\u0158\u0210\u1E5C\u0156\u1E5E\u2C64\u{1D411}\u{1D445}\u{1D479}\u{1D4E1}\u{1D57D}\u{1D5B1}\u{1D5E5}\u{1D619}\u{1D64D}\u{1D681}\u16B1\u{1F1F7}\u1D1A"],["r","\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u0433\u0550\u027E\u196C\u1E5F\u024D\u02B3\u24AD\u027C\u0453\u1D26\u1D89\u{1D42B}\u{1D45F}\u{1D493}\u{1D4C7}\u{1D4FB}\u{1D52F}\u{1D563}\u{1D597}\u{1D5CB}\u{1D5FF}\u{1D633}\u{1D667}\u1D72\u0491\u1D63"],["S","\u{1F142}\uA1D9\u{1D4E2}\u{1D5E6}\u13DA\u{1D4AE}\u13D5\u{1D682}\u{1D412}\uA4E2\u{1D5B2}\u{1D516}\u{1D64E}\u{10296}\u{1D57E}\u{10420}\u{1D61A}\u{1D54A}\u{1D446}\u{1D47A}\u{1F182}\u{1F162}\u24C8\uFF33\u1E68\u015E\u0586\u054F\u0218\u02E2\u24AE\u0405\u1E60\u0160\u015A\u1E64\u015C\u1E66\u1E62\u0D1F\u1515\u1516\u1522\u1521\u1523\u1524"],["s","\u24E2\uA731\u{10448}\uABAA\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u0282\u1E63\u1E69\u0455\u015F\u0219\u023F\u1D8A\u0C15\u{1D42C}\u{1D460}\u{1D494}\u{1D4C8}\u{1D4FC}\u{1D530}\u{1D564}\u{1D598}\u{1D5CC}\u{1D600}\u{1D634}\u{1D668}\u{1D69C}\u078E\u{1F1F8}"],["T","\u{1F143}\u{1F183}\u{10315}\u{1D6BB}\u{1D6F5}\u{1D54B}\u{1D57F}\u{1D47B}\u{102B1}\u{10297}\u{1D5B3}\u{1D64F}\u{1F768}\u{1D769}\u{1D7A3}\u{1D683}\u{1D61B}\u{1D447}\uA4D4\u27D9\u{1D413}\u2CA6\u{1D5E7}\u22A4\u{1D517}\u13A2\uAB72\u{1D4AF}\u{1F163}\u23C7\u23C9\u24C9\uFF34\u0442\u04AC\u04AD\u01AC\u30A4\u0166\u0535\u03C4\u1D1B\u1D40\uFF72\u1355\u03EE\u0164\u22A5\u01AE\u03A4\u0422\u4E0B\u1E6A\u1E6C\u021A\u0162\u1E70\u1E6E\u4E05\u4E01\u142A\u{1D6D5}\u{1D70F}\u{1D749}\u{1D783}\u{1D7BD}\u{1D4E3}\u3112\u{1F1F9}\u1325"],["t","\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0236\u0A6E\u0567\u0287\u2020\u0163\u1E71\u1E6F\u01AD\u0167\u1D57\u24AF\u0288\u0565\u01AB\u{1D42D}\u{1D461}\u{1D495}\u{1D4C9}\u{1D4FD}\u{1D531}\u{1D565}\u{1D599}\u{1D5CD}\u{1D601}\u{1D635}\u{1D669}\u{1D69D}\u30CA"],["U","\u{1F144}\uA4F4\u{104CE}\uA4A4\u{1F184}\u{1F164}\u0168\u016C\u016E\u1457\u1458\u01D3\u01D5\u01D7\u01D9\u24CA\uFF35\u0216\u144C\u51F5\u01B1\u0574\u0531\uA4F5\u0426\u016A\u0544\u01B2\u1640\u1D41\u1D58\u24B0\u0170\u0AAA\xDC\u054D\xD9\xDA\xDB\u1E78\u1E7A\u01DB\u1EE6\u0214\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244\u1969\u1467\u222A\u162E\u22C3\u{1D414}\u{1D448}\u{1D47C}\u{1D4B0}\u{1D4E4}\u{1D518}\u{1D54C}\u{1D580}\u{1D5B4}\u{1D5E8}\u{1D61C}\u{1D650}\u{1D684}\u{1F1FA}"],["u","\u1F7A\u1F7B\u24E4\uFF55\xF9\u0169\u016B\u1EEB\u1E77\u1E79\u016D\u01D6\u1EEF\u1959\u01DA\u01DC\u1F57\u03C5\u03B0\u0E19\u057D\u028A\u01D8\u01D4\xFA\u016F\u1D1C\u0171\u0173\u0E22\xFB\u1E7B\u0446\u1201\xFC\u1D7E\u1D64\xB5\u028B\u1EE7\u0215\u0217\u01B0\u1EE9\u1EED\u1EF1\u1EE5\u1E73\u1E75\u0289\u1FE0\u1FE1\u1FE2\u1FE3\u1FE6\u1FE7\u1F50\u1F51\u03CB\u03CD\u1F52\u1F53\u1F54\u1F55\u1F56\u1954\u{1D42E}\u{1D462}\u{1D496}\u{1D4CA}\u{1D4FE}\u{1D532}\u{1D566}\u{1D59A}\u{1D5CE}\u1D99"],["V","\u{1F145}\uA4E6\u{1D47D}\u{1D5B5}\u{1D61D}\u13D9\u{1D685}\u{1D651}\u{1D415}\u{1F185}\u{1F165}\u24CB\uFF36\u142F\u0474\u1D5B\u24B1\u06F7\u1E7E\u2174\u2164\u1E7C\u0667\u2D38\u0476\u143A\u143B\u{1F1FB}\u{1D4E5}"],["v","\u1200\u24E5\uFF56\u{1D710}\u{1D74A}\u1E7D\u1E7F\u0C6E\u0E07\u0475\u05E2\u1D20\u03BD\u05D8\u1D65\u0477\u17F4\u1601\u{1D66B}\u{1D69F}\u{1D6CE}\u{1D708}\u{1D742}\u{1D77C}\u{1D7B6}\u{1D637}\u{1D603}\u{1D4FF}"],["W","\u{1F146}\u13D4\u13B3\u{1D47E}\uA4EA\u{1D4B2}\u{1D61E}\u{1F186}\u24CC\u{1F166}\uFF57\uFF37\u1E82\u1FA7\u15EF\u1955\u5C71\u0460\u0E9F\u0C1A\u0561\u0429\u0428\u03CE\u0449\u0E2C\u0448\u164E\u1D42\u02B7\u24B2\u0E1D\u1220\u1E84\u051C\u1E80\u0174\u1E86\u1E88\u0D27\u163A\u047F\u1661\u019C\u20A9\u{1F1FC}"],["w","\u1E81\uAB83\u1E83\u24E6\u2375\u0175\u1E87\u1E85\u1E98\u1E89\u2C73\u1F7C\u1F60\u1F61\u1F62\u1F63\u03C9\u1F64\u1F65\u1F66\u1F67\u1FF2\u1FF3\u1FF4\u1FF6\u1FF7\u2C72\u0461\u051D\u1D21\u1F7D\u1FA0\u1FA1\u1FA2\u1FA3\u1FA4\u1FA5\u1FA6\u026F\u{1D755}\u{1D7C9}\u{1D78F}"],["X","\u{1F7A8}\u{1F7A9}\u{1F7AA}\u{1F147}\u{1F7AB}\u{1F7AC}\u{10317}\u2CAC\uA4EB\u{1D583}\u{1D7A6}\u{1D61F}\u{10290}\u{1D6BE}\u{1D76C}\u{1D732}\uA7B3\u{10322}\u{1D5B7}\u{1D44B}\u{1D54F}\u{1D51B}\u{102B4}\u{1D5EB}\u{1F187}\u{1F167}\u274C\u24CD\u{1D4E7}\uFF38\u1E8A\u166D\u03C7\u3128\u{1D4B3}\u04FE\u10EF\u04FC\u04B3\u0416\u03A7\u04B2\u1D61\u02E3\u24B3\u05D0\u1238\u1E8C\uA2BC\u2169\u0425\u2573\u166E\u1541\u157D\u2179\u16B7\u2D5D\u{1D653}\u{1D687}\u4E42\u{1D417}\u{1F1FD}"],["x","\u24E7\uFF58\u0445\u1E8B\xD7\u2093\u292B\u292C\u2A2F\u1E8D\u1D8D\u{1D66D}\u04FD\u{1D639}\u{1D431}\u{1D6A1}\u2A30\uFF92\u{1D501}"],["Y","\u2CA8\u{1D688}\u{1D44C}\u{1D5EC}\u{1D418}\uA4EC\u{1D480}\u{1D730}\u{102B2}\u{1F188}\u{1F168}\u24CE\uFF39\u1F5B\u01B3\u311A\u028F\u2144\u03D4\uFFE5\xA5\u054E\u03D3\u03B3\u05E5\u04F2\u0427\u040E\u1203\u0178\u024E\u03E4\u03A5\u03D2\u04AE\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u1EF6\u1EF4\u1FE8\u1FE9\u1FEA\u1FEB\u1F59\u1F5D\u1F5F\u03AB\u038E\u04EE\u04F0\u04B0\u04B1\u{1D550}\u{1F1FE}"],["y","\u{1F148}\u13BD\u13A9\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u0443\u10E7\u1E99\u1EF5\u01B4\u024F\u1D5E\u0263\u02B8\u1D8C\u04AF\u24B4\u04F3\u04F1\u04EF\u045E\u0423\u028E"],["Z","\u{1F149}\uA4DC\u{1D5ED}\u{1D419}\u2621\u13C3\u{1D621}\u{1F189}\u{1F169}\u24CF\uFF3A\u1E94\u01B5\u4E59\u1E90\u0224\u1DBB\u24B5\u0179\u2124\u0396\u017B\u017D\u1E92\u2C6B\u{1F1FF}"],["z","\uAB93\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u1D22\u130A\u0290\u2C6C\u1D8E\u0291\u1646"]])});var Sh=O(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.resolveConfusablesTransformer=void 0;var BS=Ts(),GS=Pb();function FS(){return(0,BS.remapCharactersTransformer)(GS.confusables)}xs.resolveConfusablesTransformer=FS});var kb=O(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.dictionary=void 0;ws.dictionary=new Map([["a","@4"],["c","("],["e","3"],["i","1|!"],["g","6"],["o","0"],["s","$5"],["t","7"],["z","2"]])});var Ph=O(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.resolveLeetSpeakTransformer=void 0;var ZS=Ts(),WS=kb();function qS(){return(0,ZS.remapCharactersTransformer)(WS.dictionary)}Ss.resolveLeetSpeakTransformer=qS});var kh=O(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.toAsciiLowerCaseTransformer=void 0;var Ib=Pt(),VS=fi();function HS(){return(0,VS.createSimpleTransformer)(t=>(0,Ib.isUpperCase)(t)?(0,Ib.invertCaseOfAlphabeticChar)(t):t)}Ps.toAsciiLowerCaseTransformer=HS});var Eb=O(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.englishDataset=He.englishRecommendedTransformers=He.englishRecommendedWhitelistMatcherTransformers=He.englishRecommendedBlacklistMatcherTransformers=void 0;var YS=ch(),_=_h(),$b=wh(),XS=Sh(),KS=Ph(),Ab=kh();He.englishRecommendedBlacklistMatcherTransformers=[(0,XS.resolveConfusablesTransformer)(),(0,KS.resolveLeetSpeakTransformer)(),(0,Ab.toAsciiLowerCaseTransformer)(),(0,$b.collapseDuplicatesTransformer)({defaultThreshold:1,customThresholds:new Map([["b",2],["e",2],["o",2],["l",2],["s",2],["g",2]])})];He.englishRecommendedWhitelistMatcherTransformers=[(0,Ab.toAsciiLowerCaseTransformer)(),(0,$b.collapseDuplicatesTransformer)({defaultThreshold:Number.POSITIVE_INFINITY,customThresholds:new Map([[" ",1]])})];He.englishRecommendedTransformers={blacklistMatcherTransformers:He.englishRecommendedBlacklistMatcherTransformers,whitelistMatcherTransformers:He.englishRecommendedWhitelistMatcherTransformers};He.englishDataset=new YS.DataSet().addPhrase(t=>t.setMetadata({originalWord:"abo"}).addPattern((0,_.pattern)`|ab[b]o[s]|`)).addPhrase(t=>t.setMetadata({originalWord:"abeed"}).addPattern((0,_.pattern)`ab[b]eed`)).addPhrase(t=>t.setMetadata({originalWord:"africoon"}).addPattern((0,_.pattern)`africoon`)).addPhrase(t=>t.setMetadata({originalWord:"anal"}).addPattern((0,_.pattern)`|anal`).addWhitelistedTerm("analabos").addWhitelistedTerm("analagous").addWhitelistedTerm("analav").addWhitelistedTerm("analy").addWhitelistedTerm("analog").addWhitelistedTerm("an al").addPattern((0,_.pattern)`danal`).addPattern((0,_.pattern)`eanal`).addPattern((0,_.pattern)`fanal`).addWhitelistedTerm("fan al").addPattern((0,_.pattern)`ganal`).addWhitelistedTerm("gan al").addPattern((0,_.pattern)`ianal`).addWhitelistedTerm("ian al").addPattern((0,_.pattern)`janal`).addWhitelistedTerm("trojan al").addPattern((0,_.pattern)`kanal`).addPattern((0,_.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,_.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,_.pattern)`oanal|`).addPattern((0,_.pattern)`panal`).addWhitelistedTerm("pan al").addPattern((0,_.pattern)`qanal`).addPattern((0,_.pattern)`ranal`).addPattern((0,_.pattern)`sanal`).addPattern((0,_.pattern)`tanal`).addWhitelistedTerm("tan al").addPattern((0,_.pattern)`uanal`).addWhitelistedTerm("uan al").addPattern((0,_.pattern)`vanal`).addWhitelistedTerm("van al").addPattern((0,_.pattern)`wanal`).addPattern((0,_.pattern)`xanal`).addWhitelistedTerm("texan al").addPattern((0,_.pattern)`yanal`).addPattern((0,_.pattern)`zanal`)).addPhrase(t=>t.setMetadata({originalWord:"anus"}).addPattern((0,_.pattern)`anus`).addWhitelistedTerm("an us").addWhitelistedTerm("tetanus").addWhitelistedTerm("uranus").addWhitelistedTerm("janus").addWhitelistedTerm("manus")).addPhrase(t=>t.setMetadata({originalWord:"arabush"}).addPattern((0,_.pattern)`arab[b]ush`)).addPhrase(t=>t.setMetadata({originalWord:"arse"}).addPattern((0,_.pattern)`|ars[s]e`).addWhitelistedTerm("arsen")).addPhrase(t=>t.setMetadata({originalWord:"ass"}).addPattern((0,_.pattern)`|ass`).addWhitelistedTerm("assa").addWhitelistedTerm("assem").addWhitelistedTerm("assen").addWhitelistedTerm("asser").addWhitelistedTerm("asset").addWhitelistedTerm("assev").addWhitelistedTerm("assi").addWhitelistedTerm("assoc").addWhitelistedTerm("assoi").addWhitelistedTerm("assu")).addPhrase(t=>t.setMetadata({originalWord:"bastard"}).addPattern((0,_.pattern)`bas[s]tard`)).addPhrase(t=>t.setMetadata({originalWord:"bestiality"}).addPattern((0,_.pattern)`be[e][a]s[s]tial`)).addPhrase(t=>t.setMetadata({originalWord:"bitch"}).addPattern((0,_.pattern)`bitch`).addPattern((0,_.pattern)`bich|`)).addPhrase(t=>t.setMetadata({originalWord:"blowjob"}).addPattern((0,_.pattern)`b[b]l[l][o]wj[o]b`)).addPhrase(t=>t.setMetadata({originalWord:"bollocks"}).addPattern((0,_.pattern)`bol[l]ock`)).addPhrase(t=>t.setMetadata({originalWord:"boob"}).addPattern((0,_.pattern)`boob`)).addPhrase(t=>t.setMetadata({originalWord:"boonga"}).addPattern((0,_.pattern)`boonga`).addWhitelistedTerm("baboon ga")).addPhrase(t=>t.setMetadata({originalWord:"buttplug"}).addPattern((0,_.pattern)`buttplug`)).addPhrase(t=>t.setMetadata({originalWord:"chingchong"}).addPattern((0,_.pattern)`chingchong`)).addPhrase(t=>t.setMetadata({originalWord:"chink"}).addPattern((0,_.pattern)`chink`).addWhitelistedTerm("chin k")).addPhrase(t=>t.setMetadata({originalWord:"cock"}).addPattern((0,_.pattern)`|cock|`).addPattern((0,_.pattern)`|cocks`).addPattern((0,_.pattern)`|cockp`).addPattern((0,_.pattern)`|cocke[e]|`).addWhitelistedTerm("cockney")).addPhrase(t=>t.setMetadata({originalWord:"cuck"}).addPattern((0,_.pattern)`cuck`).addWhitelistedTerm("cuckoo")).addPhrase(t=>t.setMetadata({originalWord:"cum"}).addPattern((0,_.pattern)`|cum`).addWhitelistedTerm("cumu").addWhitelistedTerm("cumb")).addPhrase(t=>t.setMetadata({originalWord:"cunt"}).addPattern((0,_.pattern)`|cunt`).addPattern((0,_.pattern)`cunt|`)).addPhrase(t=>t.setMetadata({originalWord:"deepthroat"}).addPattern((0,_.pattern)`deepthro[o]at`).addPattern((0,_.pattern)`deepthro[o]t`)).addPhrase(t=>t.setMetadata({originalWord:"dick"}).addPattern((0,_.pattern)`|dck|`).addPattern((0,_.pattern)`dick`).addWhitelistedTerm("benedick").addWhitelistedTerm("dickens")).addPhrase(t=>t.setMetadata({originalWord:"dildo"}).addPattern((0,_.pattern)`dildo`)).addPhrase(t=>t.setMetadata({originalWord:"doggystyle"}).addPattern((0,_.pattern)`d[o]g[g]ys[s]t[y]l[l]`)).addPhrase(t=>t.setMetadata({originalWord:"double penetration"}).addPattern((0,_.pattern)`double penetra`)).addPhrase(t=>t.setMetadata({originalWord:"dyke"}).addPattern((0,_.pattern)`dyke`).addWhitelistedTerm("van dyke")).addPhrase(t=>t.setMetadata({originalWord:"ejaculate"}).addPattern((0,_.pattern)`e[e]jacul`).addPattern((0,_.pattern)`e[e]jakul`).addPattern((0,_.pattern)`e[e]acul[l]ate`)).addPhrase(t=>t.setMetadata({originalWord:"fag"}).addPattern((0,_.pattern)`|fag`).addPattern((0,_.pattern)`fggot`)).addPhrase(t=>t.setMetadata({originalWord:"felch"}).addPattern((0,_.pattern)`fe[e]l[l]ch`)).addPhrase(t=>t.setMetadata({originalWord:"fellatio"}).addPattern((0,_.pattern)`f[e][e]llat`)).addPhrase(t=>t.setMetadata({originalWord:"finger bang"}).addPattern((0,_.pattern)`fingerbang`)).addPhrase(t=>t.setMetadata({originalWord:"fisting"}).addPattern((0,_.pattern)`fistin`)).addPhrase(t=>t.setMetadata({originalWord:"fuck"}).addPattern((0,_.pattern)`f[?]ck`).addPattern((0,_.pattern)`|fk`).addPattern((0,_.pattern)`|fu|`).addPattern((0,_.pattern)`|fuk`).addWhitelistedTerm("fick").addWhitelistedTerm("kung-fu").addWhitelistedTerm("kung fu")).addPhrase(t=>t.setMetadata({originalWord:"gangbang"}).addPattern((0,_.pattern)`g[?]ngbang`)).addPhrase(t=>t.setMetadata({originalWord:"handjob"}).addPattern((0,_.pattern)`h[?]ndjob`)).addPhrase(t=>t.setMetadata({originalWord:"hentai"}).addPattern((0,_.pattern)`h[e][e]ntai`)).addPhrase(t=>t.setMetadata({originalWord:"hooker"}).addPattern((0,_.pattern)`hooker`)).addPhrase(t=>t.setMetadata({originalWord:"incest"}).addPattern((0,_.pattern)`incest`)).addPhrase(t=>t.setMetadata({originalWord:"jerk off"}).addPattern((0,_.pattern)`jerkoff`)).addPhrase(t=>t.setMetadata({originalWord:"jizz"}).addPattern((0,_.pattern)`jizz`)).addPhrase(t=>t.setMetadata({originalWord:"kike"}).addPattern((0,_.pattern)`kike`)).addPhrase(t=>t.setMetadata({originalWord:"lubejob"}).addPattern((0,_.pattern)`lubejob`)).addPhrase(t=>t.setMetadata({originalWord:"masturbate"}).addPattern((0,_.pattern)`m[?]sturbate`).addPattern((0,_.pattern)`masterbate`)).addPhrase(t=>t.setMetadata({originalWord:"negro"}).addPattern((0,_.pattern)`negro`).addWhitelistedTerm("montenegro").addWhitelistedTerm("negron").addWhitelistedTerm("stoneground").addWhitelistedTerm("winegrow")).addPhrase(t=>t.setMetadata({originalWord:"nigger"}).addPattern((0,_.pattern)`n[i]gger`).addPattern((0,_.pattern)`n[i]gga`).addPattern((0,_.pattern)`|nig|`).addPattern((0,_.pattern)`|nigs|`).addWhitelistedTerm("snigger")).addPhrase(t=>t.setMetadata({originalWord:"orgasm"}).addPattern((0,_.pattern)`[or]gasm`).addWhitelistedTerm("gasma")).addPhrase(t=>t.setMetadata({originalWord:"orgy"}).addPattern((0,_.pattern)`orgy`).addPattern((0,_.pattern)`orgies`).addWhitelistedTerm("porgy")).addPhrase(t=>t.setMetadata({originalWord:"penis"}).addPattern((0,_.pattern)`pe[e]nis`).addPattern((0,_.pattern)`|pnis`).addWhitelistedTerm("pen is")).addPhrase(t=>t.setMetadata({originalWord:"piss"}).addPattern((0,_.pattern)`|piss`)).addPhrase(t=>t.setMetadata({originalWord:"porn"}).addPattern((0,_.pattern)`|prn|`).addPattern((0,_.pattern)`porn`).addWhitelistedTerm("p orna")).addPhrase(t=>t.setMetadata({originalWord:"prick"}).addPattern((0,_.pattern)`|prick[s]|`)).addPhrase(t=>t.setMetadata({originalWord:"pussy"}).addPattern((0,_.pattern)`p[u]ssy`)).addPhrase(t=>t.setMetadata({originalWord:"rape"}).addPattern((0,_.pattern)`|rape`).addPattern((0,_.pattern)`|rapis[s]t`)).addPhrase(t=>t.setMetadata({originalWord:"retard"}).addPattern((0,_.pattern)`retard`)).addPhrase(t=>t.setMetadata({originalWord:"scat"}).addPattern((0,_.pattern)`|s[s]cat|`)).addPhrase(t=>t.setMetadata({originalWord:"semen"}).addPattern((0,_.pattern)`|s[s]e[e]me[e]n`)).addPhrase(t=>t.setMetadata({originalWord:"sex"}).addPattern((0,_.pattern)`|s[s]e[e]x|`).addPattern((0,_.pattern)`|s[s]e[e]xy|`)).addPhrase(t=>t.setMetadata({originalWord:"shit"}).addPattern((0,_.pattern)`|shit`).addPattern((0,_.pattern)`shit|`).addWhitelistedTerm("s hit").addWhitelistedTerm("sh it").addWhitelistedTerm("shi t").addWhitelistedTerm("shitake")).addPhrase(t=>t.setMetadata({originalWord:"slut"}).addPattern((0,_.pattern)`s[s]lut`)).addPhrase(t=>t.setMetadata({originalWord:"spastic"}).addPattern((0,_.pattern)`|spastic`)).addPhrase(t=>t.setMetadata({originalWord:"tit"}).addPattern((0,_.pattern)`|tit|`).addPattern((0,_.pattern)`|tits|`).addPattern((0,_.pattern)`|titt`).addPattern((0,_.pattern)`|tiddies`).addPattern((0,_.pattern)`|tities`)).addPhrase(t=>t.setMetadata({originalWord:"tranny"}).addPattern((0,_.pattern)`tranny`)).addPhrase(t=>t.setMetadata({originalWord:"turd"}).addPattern((0,_.pattern)`|turd`).addWhitelistedTerm("turducken")).addPhrase(t=>t.setMetadata({originalWord:"twat"}).addPattern((0,_.pattern)`|twat`).addWhitelistedTerm("twattle")).addPhrase(t=>t.setMetadata({originalWord:"vagina"}).addPattern((0,_.pattern)`vagina`).addPattern((0,_.pattern)`|v[?]gina`)).addPhrase(t=>t.setMetadata({originalWord:"wank"}).addPattern((0,_.pattern)`|wank`)).addPhrase(t=>t.setMetadata({originalWord:"whore"}).addPattern((0,_.pattern)`|wh[o]re|`).addPattern((0,_.pattern)`|who[o]res[s]|`).addWhitelistedTerm("who're"))});var Rb=O(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.skipNonAlphabeticTransformer=void 0;var JS=Pt(),QS=fi();function eP(){return(0,QS.createSimpleTransformer)(t=>(0,JS.isAlphabetic)(t)?t:void 0)}ks.skipNonAlphabeticTransformer=eP});var Mb=O(le=>{"use strict";var tP=le&&le.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),xe=le&&le.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&tP(e,t,n)};Object.defineProperty(le,"__esModule",{value:!0});xe(oh(),le);xe(cb(),le);xe(ch(),le);xe(yb(),le);xe(lh(),le);xe(ns(),le);xe(vb(),le);xe(ls(),le);xe(bh(),le);xe(_h(),le);xe(Eb(),le);xe(wh(),le);xe(Ts(),le);xe(Sh(),le);xe(Ph(),le);xe(Rb(),le);xe(kh(),le)});var Xe="AllPlayers";var Ii="Duos",$i="Trios",Ai="Quads",ae={Red:"Red",Blue:"Blue",Teal:"Teal",Purple:"Purple",Yellow:"Yellow",Orange:"Orange",Green:"Green",Bot:"Bot"};var W=(A=>(A.TransportShip="Transport",A.Warship="Warship",A.Shell="Shell",A.SAMMissile="SAMMissile",A.Port="Port",A.AtomBomb="Atom Bomb",A.HydrogenBomb="Hydrogen Bomb",A.TradeShip="Trade Ship",A.MissileSilo="Missile Silo",A.DefensePost="Defense Post",A.SAMLauncher="SAM Launcher",A.City="City",A.MIRV="MIRV",A.MIRVWarhead="MIRV Warhead",A.Construction="Construction",A.Train="Train",A.Factory="Factory",A))(W||{});var kv=new Set(["City","Construction","Defense Post","SAM Launcher","Missile Silo","Port","Factory"]);function ap(t){return kv.has(t)}var ki=class{constructor(e,n,i){this.spawnCell=e;this.strength=n;this.playerInfo=i}},te=class{constructor(e,n){this.x=e;this.y=n;this.strRepr=`Cell[${this.x},${this.y}]`}pos(){return{x:this.x,y:this.y}}toString(){return this.strRepr}};var qt=class{constructor(e,n,i,r,a){this.name=e;this.playerType=n;this.clientID=i;this.id=r;this.nation=a;if(!e.startsWith("[")||!e.includes("]"))this.clan=null;else{let o=e.match(/^\[([a-zA-Z]{2,5})\]/);this.clan=o?o[1]:null}}};function un(t){return t&&typeof t=="object"&&"isUnit"in t&&typeof t.isUnit=="function"&&t.isUnit()}var{entries:fp,setPrototypeOf:op,isFrozen:Iv,getPrototypeOf:$v,getOwnPropertyDescriptor:Av}=Object,{freeze:Ae,seal:Ze,create:gp}=Object,{apply:tl,construct:rl}=typeof Reflect<"u"&&Reflect;Ae||(Ae=function(e){return e});Ze||(Ze=function(e){return e});tl||(tl=function(e,n,i){return e.apply(n,i)});rl||(rl=function(e,n){return new e(...n)});var Ei=Ee(Array.prototype.forEach),Ev=Ee(Array.prototype.lastIndexOf),sp=Ee(Array.prototype.pop),cn=Ee(Array.prototype.push),Rv=Ee(Array.prototype.splice),Mi=Ee(String.prototype.toLowerCase),Xs=Ee(String.prototype.toString),lp=Ee(String.prototype.match),dn=Ee(String.prototype.replace),Mv=Ee(String.prototype.indexOf),Dv=Ee(String.prototype.trim),Ke=Ee(Object.prototype.hasOwnProperty),$e=Ee(RegExp.prototype.test),mn=Cv(TypeError);function Ee(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return tl(t,e,i)}}function Cv(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return rl(t,n)}}function j(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mi;op&&op(t,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){let a=n(r);a!==r&&(Iv(e)||(e[i]=a),r=a)}t[r]=!0}return t}function Uv(t){for(let e=0;e<t.length;e++)Ke(t,e)||(t[e]=null);return t}function ht(t){let e=gp(null);for(let[n,i]of fp(t))Ke(t,n)&&(Array.isArray(i)?e[n]=Uv(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=ht(i):e[n]=i);return e}function hn(t,e){for(;t!==null;){let i=Av(t,e);if(i){if(i.get)return Ee(i.get);if(typeof i.value=="function")return Ee(i.value)}t=$v(t)}function n(){return null}return n}var up=Ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ks=Ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Js=Ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Nv=Ae(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qs=Ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zv=Ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cp=Ae(["#text"]),dp=Ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),el=Ae(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mp=Ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ri=Ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ov=Ze(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jv=Ze(/<%[\w\W]*|[\w\W]*%>/gm),Lv=Ze(/\$\{[\w\W]*/gm),Bv=Ze(/^data-[\-\w.\u00B7-\uFFFF]+$/),Gv=Ze(/^aria-[\-\w]+$/),yp=Ze(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Fv=Ze(/^(?:\w+script|data):/i),Zv=Ze(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bp=Ze(/^html$/i),Wv=Ze(/^[a-z][.\w]*(-[.\w]+)+$/i),hp=Object.freeze({__proto__:null,ARIA_ATTR:Gv,ATTR_WHITESPACE:Zv,CUSTOM_ELEMENT:Wv,DATA_ATTR:Bv,DOCTYPE_NAME:bp,ERB_EXPR:jv,IS_ALLOWED_URI:yp,IS_SCRIPT_OR_DATA:Fv,MUSTACHE_EXPR:Ov,TMPLIT_EXPR:Lv}),pn={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},qv=function(){return typeof window>"u"?null:window},Vv=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));let a="dompurify"+(i?"#"+i:"");try{return e.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},pp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function vp(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qv(),e=M=>vp(M);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==pn.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t,i=n,r=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=t,p=l.prototype,v=hn(p,"cloneNode"),T=hn(p,"remove"),A=hn(p,"nextSibling"),k=hn(p,"childNodes"),b=hn(p,"parentNode");if(typeof o=="function"){let M=n.createElement("template");M.content&&M.content.ownerDocument&&(n=M.content.ownerDocument)}let w,C="",{implementation:L,createNodeIterator:G,createDocumentFragment:Z,getElementsByTagName:V}=n,{importNode:X}=i,B=pp();e.isSupported=typeof fp=="function"&&typeof b=="function"&&L&&L.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ce,ERB_EXPR:Q,TMPLIT_EXPR:Me,DATA_ATTR:Fe,ARIA_ATTR:De,IS_SCRIPT_OR_DATA:Gt,ATTR_WHITESPACE:ur,CUSTOM_ELEMENT:Ft}=hp,{IS_ALLOWED_URI:Ye}=hp,ie=null,cr=j({},[...up,...Ks,...Js,...Qs,...cp]),fe=null,yi=j({},[...dp,...el,...mp,...Ri]),K=Object.seal(gp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),an=null,zs=null,Oh=!0,Os=!0,jh=!1,Lh=!0,dr=!1,bi=!0,Zt=!1,js=!1,Ls=!1,mr=!1,vi=!1,Ti=!1,Bh=!0,Gh=!1,cv="user-content-",Bs=!0,on=!1,hr={},pr=null,Fh=j({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Zh=null,Wh=j({},["audio","video","img","source","image","track"]),Gs=null,qh=j({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_i="http://www.w3.org/1998/Math/MathML",xi="http://www.w3.org/2000/svg",ct="http://www.w3.org/1999/xhtml",fr=ct,Fs=!1,Zs=null,dv=j({},[_i,xi,ct],Xs),wi=j({},["mi","mo","mn","ms","mtext"]),Si=j({},["annotation-xml"]),mv=j({},["title","style","font","a","script"]),sn=null,hv=["application/xhtml+xml","text/html"],pv="text/html",ve=null,gr=null,fv=n.createElement("form"),Vh=function(g){return g instanceof RegExp||g instanceof Function},Ws=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gr&&gr===g)){if((!g||typeof g!="object")&&(g={}),g=ht(g),sn=hv.indexOf(g.PARSER_MEDIA_TYPE)===-1?pv:g.PARSER_MEDIA_TYPE,ve=sn==="application/xhtml+xml"?Xs:Mi,ie=Ke(g,"ALLOWED_TAGS")?j({},g.ALLOWED_TAGS,ve):cr,fe=Ke(g,"ALLOWED_ATTR")?j({},g.ALLOWED_ATTR,ve):yi,Zs=Ke(g,"ALLOWED_NAMESPACES")?j({},g.ALLOWED_NAMESPACES,Xs):dv,Gs=Ke(g,"ADD_URI_SAFE_ATTR")?j(ht(qh),g.ADD_URI_SAFE_ATTR,ve):qh,Zh=Ke(g,"ADD_DATA_URI_TAGS")?j(ht(Wh),g.ADD_DATA_URI_TAGS,ve):Wh,pr=Ke(g,"FORBID_CONTENTS")?j({},g.FORBID_CONTENTS,ve):Fh,an=Ke(g,"FORBID_TAGS")?j({},g.FORBID_TAGS,ve):ht({}),zs=Ke(g,"FORBID_ATTR")?j({},g.FORBID_ATTR,ve):ht({}),hr=Ke(g,"USE_PROFILES")?g.USE_PROFILES:!1,Oh=g.ALLOW_ARIA_ATTR!==!1,Os=g.ALLOW_DATA_ATTR!==!1,jh=g.ALLOW_UNKNOWN_PROTOCOLS||!1,Lh=g.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dr=g.SAFE_FOR_TEMPLATES||!1,bi=g.SAFE_FOR_XML!==!1,Zt=g.WHOLE_DOCUMENT||!1,mr=g.RETURN_DOM||!1,vi=g.RETURN_DOM_FRAGMENT||!1,Ti=g.RETURN_TRUSTED_TYPE||!1,Ls=g.FORCE_BODY||!1,Bh=g.SANITIZE_DOM!==!1,Gh=g.SANITIZE_NAMED_PROPS||!1,Bs=g.KEEP_CONTENT!==!1,on=g.IN_PLACE||!1,Ye=g.ALLOWED_URI_REGEXP||yp,fr=g.NAMESPACE||ct,wi=g.MATHML_TEXT_INTEGRATION_POINTS||wi,Si=g.HTML_INTEGRATION_POINTS||Si,K=g.CUSTOM_ELEMENT_HANDLING||{},g.CUSTOM_ELEMENT_HANDLING&&Vh(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(K.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&Vh(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(K.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(K.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dr&&(Os=!1),vi&&(mr=!0),hr&&(ie=j({},cp),fe=[],hr.html===!0&&(j(ie,up),j(fe,dp)),hr.svg===!0&&(j(ie,Ks),j(fe,el),j(fe,Ri)),hr.svgFilters===!0&&(j(ie,Js),j(fe,el),j(fe,Ri)),hr.mathMl===!0&&(j(ie,Qs),j(fe,mp),j(fe,Ri))),g.ADD_TAGS&&(ie===cr&&(ie=ht(ie)),j(ie,g.ADD_TAGS,ve)),g.ADD_ATTR&&(fe===yi&&(fe=ht(fe)),j(fe,g.ADD_ATTR,ve)),g.ADD_URI_SAFE_ATTR&&j(Gs,g.ADD_URI_SAFE_ATTR,ve),g.FORBID_CONTENTS&&(pr===Fh&&(pr=ht(pr)),j(pr,g.FORBID_CONTENTS,ve)),Bs&&(ie["#text"]=!0),Zt&&j(ie,["html","head","body"]),ie.table&&(j(ie,["tbody"]),delete an.tbody),g.TRUSTED_TYPES_POLICY){if(typeof g.TRUSTED_TYPES_POLICY.createHTML!="function")throw mn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof g.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw mn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=g.TRUSTED_TYPES_POLICY,C=w.createHTML("")}else w===void 0&&(w=Vv(f,r)),w!==null&&typeof C=="string"&&(C=w.createHTML(""));Ae&&Ae(g),gr=g}},Hh=j({},[...Ks,...Js,...Nv]),Yh=j({},[...Qs,...zv]),gv=function(g){let S=b(g);(!S||!S.tagName)&&(S={namespaceURI:fr,tagName:"template"});let E=Mi(g.tagName),ee=Mi(S.tagName);return Zs[g.namespaceURI]?g.namespaceURI===xi?S.namespaceURI===ct?E==="svg":S.namespaceURI===_i?E==="svg"&&(ee==="annotation-xml"||wi[ee]):!!Hh[E]:g.namespaceURI===_i?S.namespaceURI===ct?E==="math":S.namespaceURI===xi?E==="math"&&Si[ee]:!!Yh[E]:g.namespaceURI===ct?S.namespaceURI===xi&&!Si[ee]||S.namespaceURI===_i&&!wi[ee]?!1:!Yh[E]&&(mv[E]||!Hh[E]):!!(sn==="application/xhtml+xml"&&Zs[g.namespaceURI]):!1},rt=function(g){cn(e.removed,{element:g});try{b(g).removeChild(g)}catch{T(g)}},yr=function(g,S){try{cn(e.removed,{attribute:S.getAttributeNode(g),from:S})}catch{cn(e.removed,{attribute:null,from:S})}if(S.removeAttribute(g),g==="is")if(mr||vi)try{rt(S)}catch{}else try{S.setAttribute(g,"")}catch{}},Xh=function(g){let S=null,E=null;if(Ls)g="<remove></remove>"+g;else{let ge=lp(g,/^[\r\n\t ]+/);E=ge&&ge[0]}sn==="application/xhtml+xml"&&fr===ct&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");let ee=w?w.createHTML(g):g;if(fr===ct)try{S=new h().parseFromString(ee,sn)}catch{}if(!S||!S.documentElement){S=L.createDocument(fr,"template",null);try{S.documentElement.innerHTML=Fs?C:ee}catch{}}let we=S.body||S.documentElement;return g&&E&&we.insertBefore(n.createTextNode(E),we.childNodes[0]||null),fr===ct?V.call(S,Zt?"html":"body")[0]:Zt?S.documentElement:we},Kh=function(g){return G.call(g.ownerDocument||g,g,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},qs=function(g){return g instanceof d&&(typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof u)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},Jh=function(g){return typeof s=="function"&&g instanceof s};function dt(M,g,S){Ei(M,E=>{E.call(e,g,S,gr)})}let Qh=function(g){let S=null;if(dt(B.beforeSanitizeElements,g,null),qs(g))return rt(g),!0;let E=ve(g.nodeName);if(dt(B.uponSanitizeElement,g,{tagName:E,allowedTags:ie}),bi&&g.hasChildNodes()&&!Jh(g.firstElementChild)&&$e(/<[/\w!]/g,g.innerHTML)&&$e(/<[/\w!]/g,g.textContent)||g.nodeType===pn.progressingInstruction||bi&&g.nodeType===pn.comment&&$e(/<[/\w]/g,g.data))return rt(g),!0;if(!ie[E]||an[E]){if(!an[E]&&tp(E)&&(K.tagNameCheck instanceof RegExp&&$e(K.tagNameCheck,E)||K.tagNameCheck instanceof Function&&K.tagNameCheck(E)))return!1;if(Bs&&!pr[E]){let ee=b(g)||g.parentNode,we=k(g)||g.childNodes;if(we&&ee){let ge=we.length;for(let Ce=ge-1;Ce>=0;--Ce){let mt=v(we[Ce],!0);mt.__removalCount=(g.__removalCount||0)+1,ee.insertBefore(mt,A(g))}}}return rt(g),!0}return g instanceof l&&!gv(g)||(E==="noscript"||E==="noembed"||E==="noframes")&&$e(/<\/no(script|embed|frames)/i,g.innerHTML)?(rt(g),!0):(dr&&g.nodeType===pn.text&&(S=g.textContent,Ei([ce,Q,Me],ee=>{S=dn(S,ee," ")}),g.textContent!==S&&(cn(e.removed,{element:g.cloneNode()}),g.textContent=S)),dt(B.afterSanitizeElements,g,null),!1)},ep=function(g,S,E){if(Bh&&(S==="id"||S==="name")&&(E in n||E in fv))return!1;if(!(Os&&!zs[S]&&$e(Fe,S))){if(!(Oh&&$e(De,S))){if(!fe[S]||zs[S]){if(!(tp(g)&&(K.tagNameCheck instanceof RegExp&&$e(K.tagNameCheck,g)||K.tagNameCheck instanceof Function&&K.tagNameCheck(g))&&(K.attributeNameCheck instanceof RegExp&&$e(K.attributeNameCheck,S)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck(S))||S==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&$e(K.tagNameCheck,E)||K.tagNameCheck instanceof Function&&K.tagNameCheck(E))))return!1}else if(!Gs[S]){if(!$e(Ye,dn(E,ur,""))){if(!((S==="src"||S==="xlink:href"||S==="href")&&g!=="script"&&Mv(E,"data:")===0&&Zh[g])){if(!(jh&&!$e(Gt,dn(E,ur,"")))){if(E)return!1}}}}}}return!0},tp=function(g){return g!=="annotation-xml"&&lp(g,Ft)},rp=function(g){dt(B.beforeSanitizeAttributes,g,null);let{attributes:S}=g;if(!S||qs(g))return;let E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe,forceKeepAttr:void 0},ee=S.length;for(;ee--;){let we=S[ee],{name:ge,namespaceURI:Ce,value:mt}=we,ln=ve(ge),Vs=mt,Se=ge==="value"?Vs:Dv(Vs);if(E.attrName=ln,E.attrValue=Se,E.keepAttr=!0,E.forceKeepAttr=void 0,dt(B.uponSanitizeAttribute,g,E),Se=E.attrValue,Gh&&(ln==="id"||ln==="name")&&(yr(ge,g),Se=cv+Se),bi&&$e(/((--!?|])>)|<\/(style|title)/i,Se)){yr(ge,g);continue}if(E.forceKeepAttr)continue;if(!E.keepAttr){yr(ge,g);continue}if(!Lh&&$e(/\/>/i,Se)){yr(ge,g);continue}dr&&Ei([ce,Q,Me],ip=>{Se=dn(Se,ip," ")});let np=ve(g.nodeName);if(!ep(np,ln,Se)){yr(ge,g);continue}if(w&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ce)switch(f.getAttributeType(np,ln)){case"TrustedHTML":{Se=w.createHTML(Se);break}case"TrustedScriptURL":{Se=w.createScriptURL(Se);break}}if(Se!==Vs)try{Ce?g.setAttributeNS(Ce,ge,Se):g.setAttribute(ge,Se),qs(g)?rt(g):sp(e.removed)}catch{yr(ge,g)}}dt(B.afterSanitizeAttributes,g,null)},yv=function M(g){let S=null,E=Kh(g);for(dt(B.beforeSanitizeShadowDOM,g,null);S=E.nextNode();)dt(B.uponSanitizeShadowNode,S,null),Qh(S),rp(S),S.content instanceof a&&M(S.content);dt(B.afterSanitizeShadowDOM,g,null)};return e.sanitize=function(M){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=null,E=null,ee=null,we=null;if(Fs=!M,Fs&&(M="<!-->"),typeof M!="string"&&!Jh(M))if(typeof M.toString=="function"){if(M=M.toString(),typeof M!="string")throw mn("dirty is not a string, aborting")}else throw mn("toString is not a function");if(!e.isSupported)return M;if(js||Ws(g),e.removed=[],typeof M=="string"&&(on=!1),on){if(M.nodeName){let mt=ve(M.nodeName);if(!ie[mt]||an[mt])throw mn("root node is forbidden and cannot be sanitized in-place")}}else if(M instanceof s)S=Xh("<!---->"),E=S.ownerDocument.importNode(M,!0),E.nodeType===pn.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?S=E:S.appendChild(E);else{if(!mr&&!dr&&!Zt&&M.indexOf("<")===-1)return w&&Ti?w.createHTML(M):M;if(S=Xh(M),!S)return mr?null:Ti?C:""}S&&Ls&&rt(S.firstChild);let ge=Kh(on?M:S);for(;ee=ge.nextNode();)Qh(ee),rp(ee),ee.content instanceof a&&yv(ee.content);if(on)return M;if(mr){if(vi)for(we=Z.call(S.ownerDocument);S.firstChild;)we.appendChild(S.firstChild);else we=S;return(fe.shadowroot||fe.shadowrootmode)&&(we=X.call(i,we,!0)),we}let Ce=Zt?S.outerHTML:S.innerHTML;return Zt&&ie["!doctype"]&&S.ownerDocument&&S.ownerDocument.doctype&&S.ownerDocument.doctype.name&&$e(bp,S.ownerDocument.doctype.name)&&(Ce="<!DOCTYPE "+S.ownerDocument.doctype.name+`>
`+Ce),dr&&Ei([ce,Q,Me],mt=>{Ce=dn(Ce,mt," ")}),w&&Ti?w.createHTML(Ce):Ce},e.setConfig=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ws(M),js=!0},e.clearConfig=function(){gr=null,js=!1},e.isValidAttribute=function(M,g,S){gr||Ws({});let E=ve(M),ee=ve(g);return ep(E,ee,S)},e.addHook=function(M,g){typeof g=="function"&&cn(B[M],g)},e.removeHook=function(M,g){if(g!==void 0){let S=Ev(B[M],g);return S===-1?void 0:Rv(B[M],S,1)[0]}return sp(B[M])},e.removeHooks=function(M){B[M]=[]},e.removeAllHooks=function(){B=pp()},e}var Hv=vp();var Di=["Akkadian","Babylonian","Sumerian","Hittite","Phoenician","Canaanite","Minoan","Mycenaean","Etruscan","Scythian","Thracian","Dacian","Illyrian","Median","Chaldean","Roman","Greek","Byzantine","Persian","Parthian","Seleucid","Ptolemaic","Palmyrene","Macedonian","Carthaginian","Ming","Tang","Song","Yuan","Mauryan","Kushan","Rajput","Mughal","Satavahana","Vijayanagara","Egyptian","Nubian","Kushite","Aksumite","Ethiopian","Songhai","Malian","Ghanaian","Benin","Ashanti","Zulu","Tuareg","Berber","Kanem-Bornu","Buganda","Mossi","Swahili","Somali","Wolof","Umayyad","Abbasid","Ayyubid","Fatimid","Mamluk","Seljuk","Safavid","Ottoman","Almoravid","Almohad","Rashidun","Ziyarid","Frankish","Visigothic","Ostrogothic","Viking","Norman","Saxon","Anglo-Saxon","Celtic","Gaulish","Carolingian","Merovingian","Capetian","Plantagenet","Tudor","Stuart","Habsburg","Romanov","Lancaster","York","Bourbon","Napoleonic","British","French","Spanish","Portuguese","Dutch","Russian","German","Italian","Swedish","Norwegian","Danish","Polish","Hungarian","Austrian","Swiss","Czech","Slovak","Serbian","Croatian","Bosnian","Montenegrin","Bulgarian","Romanian","Apache","Sioux","Cherokee","Navajo","Iroquois","Inuit","Arawak","Carib","Taino","Aztec","Mayan","Incan","Mapuche","Guarani","Tupi","Yanomami","Zuni","Hopi","Kiowa","Comanche","Shoshone","Japanese","Ryukyu","Ainu","Cham","Khmer","Thai","Vietnamese","Burmese","Balinese","Malay","Filipino","Mongolian","Korean","Tibetan","Manchu","Uyghur","Hmong","Karen","Pyu","Hawaiian","Fijian","Tongan","Samoan","Maori","Micronesian","Hebrew","Armenian","Circassian","Georgian","Phoenician","Chaldean","Kurdish","Turkic","Kazakh","Uzbek","Kyrgyz","Tajik","Uighur","Pashtun","Baloch","Afghan","Persian","Kenyan","Ugandan","Bhutanese","Latin","Moldovan","Militant","Spartan"],Ci=["Empire","Dynasty","Kingdom","Queendom","Sultanate","Confederation","Union","Republic","Caliphate","Dominion","Realm","State","Federation","Territory","Commonwealth","League","Duchy","Province","Protectorate","Colony","Mandate","Free State","Canton","Region","Nation","Assembly","Hierarchy","Archduchy","Grand Duchy","Metropolis","Cluster","Alliance","Tribunal","Council","Confederacy","Order","Regime","Dominion","Syndicate","Guild","Corporation","Patriarchy","Matriarchy","Legion","Horde","Clan","Brotherhood","Sisterhood","Ascendancy","Supremacy","Province","Tribe","Dominion","Assembly","Republics","Army","Dictatorship","Country","Oligarchy","Monkdom","Throng","Host","Area","District","Fief","Wilderness","Settlement","Parliament","Anarchy","Democracy","Autocracy"];function kt(t,e,n){return Math.min(Math.max(t,e),n)}function Ui(t,e){let n=typeof e=="number"?e:e.tile();return(i,r)=>t.manhattanDist(i.tile(),n)-t.manhattanDist(r.tile(),n)}function q(t){let e=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);e=(e<<5)-e+i,e=e&e}return Math.abs(e)}function Je(t,e){let n=1/0,i=1/0,r=-1/0,a=-1/0;return e.forEach(o=>{let s=t.cell(o);n=Math.min(n,s.x),i=Math.min(i,s.y),r=Math.max(r,s.x),a=Math.max(a,s.y)}),{min:new te(n,i),max:new te(r,a)}}function nl(t,e,n){let i=[],r=t.x(e),a=t.y(e),o=r-n,s=r+n,l=a-n,c=a+n;for(let u=o;u<=s;u++)t.isValidCoord(u,l)&&i.push(t.ref(u,l)),t.isValidCoord(u,c)&&l!==c&&i.push(t.ref(u,c));for(let u=l+1;u<c;u++)t.isValidCoord(o,u)&&i.push(t.ref(o,u)),t.isValidCoord(s,u)&&o!==s&&i.push(t.ref(s,u));return i}function Tp(t){let e=null,n=0;for(let[i,r]of t)r>n&&(n=r,e=i);return e}function il(t,e){return t.min.x<=e.min.x&&t.min.y<=e.min.y&&t.max.x>=e.max.x&&t.max.y>=e.max.y}function al(t){return Array.from(t).join("").replace(/[^\p{L}\p{N}\s\p{Emoji}\p{Emoji_Component}[\]_]/gu,"")}function Ni(t){throw new Error("Unexpected value: "+t)}function Qe(t){return BigInt(t===1/0?Number.MAX_SAFE_INTEGER:t===-1/0?Number.MIN_SAFE_INTEGER:Math.floor(t))}function Yv(t,e){return t>e?t:e}function zi(t,e){return t<e?t:e}function _p(t,e,n){let i=Yv(t,e);return zi(i,n)}var Xv=[["\u{1F600}","\u{1F60A}","\u{1F970}","\u{1F607}","\u{1F60E}"],["\u{1F61E}","\u{1F97A}","\u{1F62D}","\u{1F631}","\u{1F621}"],["\u{1F608}","\u{1F921}","\u{1F595}","\u{1F971}","\u{1F926}\u200D\u2642\uFE0F"],["\u{1F44B}","\u{1F44F}","\u{1F90C}","\u{1F4AA}","\u{1FAE1}"],["\u{1F44D}","\u{1F44E}","\u2753","\u{1F414}","\u{1F400}"],["\u{1F91D}","\u{1F198}","\u{1F54A}\uFE0F","\u{1F3F3}\uFE0F","\u23F3"],["\u{1F525}","\u{1F4A5}","\u{1F480}","\u2622\uFE0F","\u26A0\uFE0F"],["\u2196\uFE0F","\u2B06\uFE0F","\u2197\uFE0F","\u{1F451}","\u{1F947}"],["\u2B05\uFE0F","\u{1F3AF}","\u27A1\uFE0F","\u{1F948}","\u{1F949}"],["\u2199\uFE0F","\u2B07\uFE0F","\u2198\uFE0F","\u2764\uFE0F","\u{1F494}"],["\u{1F4B0}","\u2693","\u26F5","\u{1F3E1}","\u{1F6E1}\uFE0F"]],Oi=Xv.flat();function ol(t,e,n){return 1/(1+Math.exp(-e*(t-n)))}function sl(t,e){let n=e.largestClusterBoundingBox??Je(t,e.borderTiles()),i=1,r=n.max.x-n.min.x,a=n.max.y-n.min.y,o=Math.min(r,a);o<25?i=1:o<50?i=2:o<100?i=4:o<250?i=8:o<500?i=16:i=32;let s=Kv(t,e,n,i),l=Jv(s);l.x=l.x*i,l.y=l.y*i,l.width=l.width*i,l.height=l.height*i;let c=new te(Math.floor(l.x+l.width/2+n.min.x),Math.floor(l.y+l.height/2+n.min.y)),u=eT(l,e.name());return c=new te(c.x,c.y-u/3),{x:Math.ceil(c.x),y:Math.ceil(c.y),size:u}}function Kv(t,e,n,i){let r={min:{x:Math.floor(n.min.x/i),y:Math.floor(n.min.y/i)},max:{x:Math.floor(n.max.x/i),y:Math.floor(n.max.y/i)}},a=r.max.x-r.min.x+1,o=r.max.y-r.min.y+1,s=Array(a).fill(null).map(()=>Array(o).fill(!1));for(let l=r.min.x;l<=r.max.x;l++)for(let c=r.min.y;c<=r.max.y;c++){let u=new te(l*i,c*i);if(t.isOnMap(u)){let d=t.ref(u.x,u.y);s[l-r.min.x][c-r.min.y]=t.isLake(d)||t.owner(d)===e||t.hasFallout(d)}}return s}function Jv(t){let e=t[0].length,n=t.length,i=new Array(n).fill(0),r={x:0,y:0,width:0,height:0};for(let a=0;a<e;a++){for(let s=0;s<n;s++)t[s][a]?i[s]++:i[s]=0;let o=Qv(i);o.width*o.height>r.width*r.height&&(r={x:o.x,y:a-o.height+1,width:o.width,height:o.height})}return r}function Qv(t){let e=[],n=0,i={x:0,y:0,width:0,height:0};for(let r=0;r<=t.length;r++){let a=r===t.length?0:t[r];for(;e.length>0&&a<t[e[e.length-1]];){let o=t[e.pop()],s=e.length===0?r:r-e[e.length-1]-1;o*s>n&&(n=o*s,i={x:e.length===0?0:e[e.length-1]+1,y:0,width:s,height:o})}e.push(r)}return i}function eT(t,e){let n=t.width/e.length*2,i=t.height/3;return Math.min(n,i)}var he={};Wt(he,{$brand:()=>ul,$input:()=>wc,$output:()=>xc,NEVER:()=>ll,TimePrecision:()=>kc,ZodAny:()=>Lf,ZodArray:()=>Zf,ZodBase64:()=>Nd,ZodBase64URL:()=>zd,ZodBigInt:()=>Kn,ZodBigIntFormat:()=>Ld,ZodBoolean:()=>Xn,ZodCIDRv4:()=>Cd,ZodCIDRv6:()=>Ud,ZodCUID:()=>Id,ZodCUID2:()=>$d,ZodCatch:()=>ug,ZodCustom:()=>Oa,ZodCustomStringFormat:()=>Df,ZodDate:()=>Ua,ZodDefault:()=>ng,ZodDiscriminatedUnion:()=>Wf,ZodE164:()=>Od,ZodEmail:()=>wd,ZodEmoji:()=>Pd,ZodEnum:()=>Vn,ZodError:()=>L1,ZodFile:()=>tg,ZodFirstPartyTypeKind:()=>Yd,ZodGUID:()=>Aa,ZodIPv4:()=>Md,ZodIPv6:()=>Dd,ZodISODate:()=>Pa,ZodISODateTime:()=>Sa,ZodISODuration:()=>Ia,ZodISOTime:()=>ka,ZodIntersection:()=>qf,ZodIssueCode:()=>Z_,ZodJWT:()=>jd,ZodKSUID:()=>Rd,ZodLazy:()=>fg,ZodLiteral:()=>Qf,ZodMap:()=>Xf,ZodNaN:()=>dg,ZodNanoID:()=>kd,ZodNever:()=>Gf,ZodNonOptional:()=>Vd,ZodNull:()=>Of,ZodNullable:()=>rg,ZodNumber:()=>Yn,ZodNumberFormat:()=>Ar,ZodObject:()=>Na,ZodOptional:()=>qd,ZodPipe:()=>Hd,ZodPrefault:()=>ag,ZodPromise:()=>yg,ZodReadonly:()=>mg,ZodRealError:()=>$r,ZodRecord:()=>Fd,ZodSet:()=>Kf,ZodString:()=>Hn,ZodStringFormat:()=>J,ZodSuccess:()=>lg,ZodSymbol:()=>Nf,ZodTemplateLiteral:()=>pg,ZodTransform:()=>Zd,ZodTuple:()=>Hf,ZodType:()=>z,ZodULID:()=>Ad,ZodURL:()=>Sd,ZodUUID:()=>vt,ZodUndefined:()=>zf,ZodUnion:()=>Gd,ZodUnknown:()=>Bf,ZodVoid:()=>Ff,ZodXID:()=>Ed,_ZodString:()=>xd,_default:()=>ig,any:()=>T_,array:()=>Bd,base64:()=>o_,base64url:()=>s_,bigint:()=>f_,boolean:()=>Uf,catch:()=>cg,check:()=>bg,cidrv4:()=>i_,cidrv6:()=>a_,clone:()=>Oe,coerce:()=>Xd,config:()=>me,core:()=>bt,cuid:()=>K1,cuid2:()=>J1,custom:()=>j_,date:()=>x_,discriminatedUnion:()=>I_,e164:()=>l_,email:()=>G1,emoji:()=>Y1,endsWith:()=>jn,enum:()=>Jf,file:()=>D_,flattenError:()=>Sn,float32:()=>d_,float64:()=>m_,formatError:()=>Pn,function:()=>cd,getErrorMap:()=>q_,globalRegistry:()=>it,gt:()=>gt,gte:()=>Ne,guid:()=>F1,includes:()=>zn,instanceof:()=>L_,int:()=>_d,int32:()=>h_,int64:()=>g_,intersection:()=>Vf,ipv4:()=>r_,ipv6:()=>n_,iso:()=>$a,json:()=>G_,jwt:()=>u_,keyof:()=>w_,ksuid:()=>t_,lazy:()=>gg,length:()=>Ir,literal:()=>eg,locales:()=>Rn,looseObject:()=>k_,lowercase:()=>Un,lt:()=>ft,lte:()=>We,map:()=>E_,maxLength:()=>kr,maxSize:()=>Pr,mime:()=>Ln,minLength:()=>$t,minSize:()=>er,multipleOf:()=>Qt,nan:()=>N_,nanoid:()=>X1,nativeEnum:()=>M_,negative:()=>ed,never:()=>Ca,nonnegative:()=>rd,nonoptional:()=>sg,nonpositive:()=>td,normalize:()=>Bn,null:()=>jf,nullable:()=>Ma,nullish:()=>C_,number:()=>Cf,object:()=>S_,optional:()=>Ra,overwrite:()=>yt,parse:()=>gd,parseAsync:()=>yd,partialRecord:()=>A_,pipe:()=>Da,positive:()=>Qc,prefault:()=>og,preprocess:()=>F_,prettifyError:()=>xl,promise:()=>O_,property:()=>nd,readonly:()=>hg,record:()=>Yf,refine:()=>vg,regex:()=>Cn,regexes:()=>Xt,registry:()=>ta,safeParse:()=>bd,safeParseAsync:()=>vd,set:()=>R_,setErrorMap:()=>W_,size:()=>Dn,startsWith:()=>On,strictObject:()=>P_,string:()=>Td,stringFormat:()=>c_,stringbool:()=>B_,success:()=>U_,superRefine:()=>Tg,symbol:()=>b_,templateLiteral:()=>z_,toJSONSchema:()=>dd,toLowerCase:()=>Fn,toUpperCase:()=>Zn,transform:()=>Wd,treeifyError:()=>_l,trim:()=>Gn,tuple:()=>$_,uint32:()=>p_,uint64:()=>y_,ulid:()=>Q1,undefined:()=>v_,union:()=>za,unknown:()=>Ea,uppercase:()=>Nn,url:()=>H1,uuid:()=>Z1,uuidv4:()=>W1,uuidv6:()=>q1,uuidv7:()=>V1,void:()=>__,xid:()=>e_});var bt={};Wt(bt,{$ZodAny:()=>Xu,$ZodArray:()=>$n,$ZodAsyncError:()=>nt,$ZodBase64:()=>Lu,$ZodBase64URL:()=>Bu,$ZodBigInt:()=>Ji,$ZodBigIntFormat:()=>qu,$ZodBoolean:()=>In,$ZodCIDRv4:()=>zu,$ZodCIDRv6:()=>Ou,$ZodCUID:()=>ku,$ZodCUID2:()=>Iu,$ZodCatch:()=>fc,$ZodCheck:()=>oe,$ZodCheckBigIntFormat:()=>ru,$ZodCheckEndsWith:()=>pu,$ZodCheckGreaterThan:()=>Hi,$ZodCheckIncludes:()=>mu,$ZodCheckLengthEquals:()=>lu,$ZodCheckLessThan:()=>Vi,$ZodCheckLowerCase:()=>cu,$ZodCheckMaxLength:()=>ou,$ZodCheckMaxSize:()=>nu,$ZodCheckMimeType:()=>gu,$ZodCheckMinLength:()=>su,$ZodCheckMinSize:()=>iu,$ZodCheckMultipleOf:()=>eu,$ZodCheckNumberFormat:()=>tu,$ZodCheckOverwrite:()=>yu,$ZodCheckProperty:()=>fu,$ZodCheckRegex:()=>uu,$ZodCheckSizeEquals:()=>au,$ZodCheckStartsWith:()=>hu,$ZodCheckStringFormat:()=>_r,$ZodCheckUpperCase:()=>du,$ZodCustom:()=>_c,$ZodCustomStringFormat:()=>Zu,$ZodDate:()=>Qu,$ZodDefault:()=>dc,$ZodDiscriminatedUnion:()=>tc,$ZodE164:()=>Gu,$ZodEmail:()=>xu,$ZodEmoji:()=>Su,$ZodEnum:()=>oc,$ZodError:()=>wn,$ZodFile:()=>lc,$ZodFunction:()=>wa,$ZodGUID:()=>Tu,$ZodIPv4:()=>Uu,$ZodIPv6:()=>Nu,$ZodISODate:()=>Mu,$ZodISODateTime:()=>Ru,$ZodISODuration:()=>Cu,$ZodISOTime:()=>Du,$ZodIntersection:()=>rc,$ZodJWT:()=>Fu,$ZodKSUID:()=>Eu,$ZodLazy:()=>Tc,$ZodLiteral:()=>sc,$ZodMap:()=>ic,$ZodNaN:()=>gc,$ZodNanoID:()=>Pu,$ZodNever:()=>Ku,$ZodNonOptional:()=>hc,$ZodNull:()=>Yu,$ZodNullable:()=>cc,$ZodNumber:()=>Ki,$ZodNumberFormat:()=>Wu,$ZodObject:()=>ec,$ZodOptional:()=>uc,$ZodPipe:()=>En,$ZodPrefault:()=>mc,$ZodPromise:()=>vc,$ZodReadonly:()=>yc,$ZodRealError:()=>Tr,$ZodRecord:()=>nc,$ZodRegistry:()=>wr,$ZodSet:()=>ac,$ZodString:()=>Kt,$ZodStringFormat:()=>Y,$ZodSuccess:()=>pc,$ZodSymbol:()=>Vu,$ZodTemplateLiteral:()=>bc,$ZodTransform:()=>An,$ZodTuple:()=>Jt,$ZodType:()=>D,$ZodULID:()=>$u,$ZodURL:()=>wu,$ZodUUID:()=>_u,$ZodUndefined:()=>Hu,$ZodUnion:()=>Qi,$ZodUnknown:()=>xr,$ZodVoid:()=>Ju,$ZodXID:()=>Au,$brand:()=>ul,$constructor:()=>y,$input:()=>wc,$output:()=>xc,Doc:()=>kn,JSONSchema:()=>Ef,JSONSchemaGenerator:()=>qn,NEVER:()=>ll,TimePrecision:()=>kc,_any:()=>Vc,_array:()=>Wn,_base64:()=>va,_base64url:()=>Ta,_bigint:()=>Lc,_boolean:()=>Oc,_catch:()=>D1,_cidrv4:()=>ya,_cidrv6:()=>ba,_coercedBigint:()=>Bc,_coercedBoolean:()=>jc,_coercedDate:()=>Kc,_coercedNumber:()=>Mc,_coercedString:()=>Pc,_cuid:()=>ca,_cuid2:()=>da,_custom:()=>od,_date:()=>Xc,_default:()=>E1,_discriminatedUnion:()=>v1,_e164:()=>_a,_email:()=>ra,_emoji:()=>la,_endsWith:()=>jn,_enum:()=>S1,_file:()=>ad,_float32:()=>Cc,_float64:()=>Uc,_gt:()=>gt,_gte:()=>Ne,_guid:()=>Mn,_includes:()=>zn,_int:()=>Dc,_int32:()=>Nc,_int64:()=>Gc,_intersection:()=>T1,_ipv4:()=>fa,_ipv6:()=>ga,_isoDate:()=>$c,_isoDateTime:()=>Ic,_isoDuration:()=>Ec,_isoTime:()=>Ac,_jwt:()=>xa,_ksuid:()=>pa,_lazy:()=>z1,_length:()=>Ir,_literal:()=>k1,_lowercase:()=>Un,_lt:()=>ft,_lte:()=>We,_map:()=>x1,_max:()=>We,_maxLength:()=>kr,_maxSize:()=>Pr,_mime:()=>Ln,_min:()=>Ne,_minLength:()=>$t,_minSize:()=>er,_multipleOf:()=>Qt,_nan:()=>Jc,_nanoid:()=>ua,_nativeEnum:()=>P1,_negative:()=>ed,_never:()=>Hc,_nonnegative:()=>rd,_nonoptional:()=>R1,_nonpositive:()=>td,_normalize:()=>Bn,_null:()=>qc,_nullable:()=>A1,_number:()=>Rc,_optional:()=>$1,_overwrite:()=>yt,_parse:()=>Li,_parseAsync:()=>Gi,_pipe:()=>C1,_positive:()=>Qc,_promise:()=>O1,_property:()=>nd,_readonly:()=>U1,_record:()=>_1,_refine:()=>sd,_regex:()=>Cn,_safeParse:()=>Zi,_safeParseAsync:()=>Wi,_set:()=>w1,_size:()=>Dn,_startsWith:()=>On,_string:()=>Sc,_stringFormat:()=>ud,_stringbool:()=>ld,_success:()=>M1,_symbol:()=>Zc,_templateLiteral:()=>N1,_toLowerCase:()=>Fn,_toUpperCase:()=>Zn,_transform:()=>I1,_trim:()=>Gn,_tuple:()=>id,_uint32:()=>zc,_uint64:()=>Fc,_ulid:()=>ma,_undefined:()=>Wc,_union:()=>b1,_unknown:()=>Sr,_uppercase:()=>Nn,_url:()=>sa,_uuid:()=>na,_uuidv4:()=>ia,_uuidv6:()=>aa,_uuidv7:()=>oa,_void:()=>Yc,_xid:()=>ha,clone:()=>Oe,config:()=>me,flattenError:()=>Sn,formatError:()=>Pn,function:()=>cd,globalConfig:()=>fn,globalRegistry:()=>it,isValidBase64:()=>ju,isValidBase64URL:()=>Lp,isValidJWT:()=>Bp,locales:()=>Rn,parse:()=>Bi,parseAsync:()=>Fi,prettifyError:()=>xl,regexes:()=>Xt,registry:()=>ta,safeParse:()=>wl,safeParseAsync:()=>Sl,toDotPath:()=>wp,toJSONSchema:()=>dd,treeifyError:()=>_l,util:()=>$,version:()=>bu});var ll=Object.freeze({status:"aborted"});function y(t,e,n){function i(s,l){var c;Object.defineProperty(s,"_zod",{value:s._zod??{},enumerable:!1}),(c=s._zod).traits??(c.traits=new Set),s._zod.traits.add(t),e(s,l);for(let u in o.prototype)u in s||Object.defineProperty(s,u,{value:o.prototype[u].bind(s)});s._zod.constr=o,s._zod.def=l}let r=n?.Parent??Object;class a extends r{}Object.defineProperty(a,"name",{value:t});function o(s){var l;let c=n?.Parent?new a:this;i(c,s),(l=c._zod).deferred??(l.deferred=[]);for(let u of c._zod.deferred)u();return c}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>n?.Parent&&s instanceof n.Parent?!0:s?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}var ul=Symbol("zod_brand"),nt=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},fn={};function me(t){return t&&Object.assign(fn,t),fn}var $={};Wt($,{BIGINT_FORMAT_RANGES:()=>vl,Class:()=>dl,NUMBER_FORMAT_RANGES:()=>bl,aborted:()=>Ht,allowsEval:()=>fl,assert:()=>aT,assertEqual:()=>tT,assertIs:()=>nT,assertNever:()=>iT,assertNotEqual:()=>rT,assignProp:()=>pl,cached:()=>bn,captureStackTrace:()=>ji,cleanEnum:()=>bT,cleanRegex:()=>vn,clone:()=>Oe,createTransparentProxy:()=>dT,defineLazy:()=>F,esc:()=>Vt,escapeRegex:()=>pt,extend:()=>pT,finalizeIssue:()=>je,floatSafeRemainder:()=>hl,getElementAtPath:()=>oT,getEnumValues:()=>yn,getLengthableOrigin:()=>xn,getParsedType:()=>cT,getSizableOrigin:()=>_n,isObject:()=>br,isPlainObject:()=>vr,issue:()=>Tl,joinValues:()=>x,jsonStringifyReplacer:()=>ml,merge:()=>fT,normalizeParams:()=>P,nullish:()=>It,numKeys:()=>uT,omit:()=>hT,optionalKeys:()=>yl,partial:()=>gT,pick:()=>mT,prefixIssues:()=>Ue,primitiveTypes:()=>gl,promiseAllObject:()=>sT,propertyKeyTypes:()=>Tn,randomString:()=>lT,required:()=>yT,stringifyPrimitive:()=>I,unwrapMessage:()=>gn});function tT(t){return t}function rT(t){return t}function nT(t){}function iT(t){throw new Error}function aT(t){}function yn(t){let e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,r])=>e.indexOf(+i)===-1).map(([i,r])=>r)}function x(t,e="|"){return t.map(n=>I(n)).join(e)}function ml(t,e){return typeof e=="bigint"?e.toString():e}function bn(t){return{get value(){{let n=t();return Object.defineProperty(this,"value",{value:n}),n}throw new Error("cached value already set")}}}function It(t){return t==null}function vn(t){let e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function hl(t,e){let n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=n>i?n:i,a=Number.parseInt(t.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return a%o/10**r}function F(t,e,n){Object.defineProperty(t,e,{get(){{let r=n();return t[e]=r,r}throw new Error("cached value already set")},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function pl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function oT(t,e){return e?e.reduce((n,i)=>n?.[i],t):t}function sT(t){let e=Object.keys(t),n=e.map(i=>t[i]);return Promise.all(n).then(i=>{let r={};for(let a=0;a<e.length;a++)r[e[a]]=i[a];return r})}function lT(t=10){let e="abcdefghijklmnopqrstuvwxyz",n="";for(let i=0;i<t;i++)n+=e[Math.floor(Math.random()*e.length)];return n}function Vt(t){return JSON.stringify(t)}var ji=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function br(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var fl=bn(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function vr(t){if(br(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let n=e.prototype;return!(br(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function uT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}var cT=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},Tn=new Set(["string","number","symbol"]),gl=new Set(["string","number","bigint","boolean","symbol","undefined"]);function pt(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Oe(t,e,n){let i=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(i._zod.parent=t),i}function P(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function dT(t){let e;return new Proxy({},{get(n,i,r){return e??(e=t()),Reflect.get(e,i,r)},set(n,i,r,a){return e??(e=t()),Reflect.set(e,i,r,a)},has(n,i){return e??(e=t()),Reflect.has(e,i)},deleteProperty(n,i){return e??(e=t()),Reflect.deleteProperty(e,i)},ownKeys(n){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(n,i){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,i)},defineProperty(n,i,r){return e??(e=t()),Reflect.defineProperty(e,i,r)}})}function I(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function yl(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var bl={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},vl={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function mT(t,e){let n={},i=t._zod.def;for(let r in e){if(!(r in i.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&(n[r]=i.shape[r])}return Oe(t,{...t._zod.def,shape:n,checks:[]})}function hT(t,e){let n={...t._zod.def.shape},i=t._zod.def;for(let r in e){if(!(r in i.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&delete n[r]}return Oe(t,{...t._zod.def,shape:n,checks:[]})}function pT(t,e){if(!vr(e))throw new Error("Invalid input to extend: expected a plain object");let n={...t._zod.def,get shape(){let i={...t._zod.def.shape,...e};return pl(this,"shape",i),i},checks:[]};return Oe(t,n)}function fT(t,e){return Oe(t,{...t._zod.def,get shape(){let n={...t._zod.def.shape,...e._zod.def.shape};return pl(this,"shape",n),n},catchall:e._zod.def.catchall,checks:[]})}function gT(t,e,n){let i=e._zod.def.shape,r={...i};if(n)for(let a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(let a in i)r[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return Oe(e,{...e._zod.def,shape:r,checks:[]})}function yT(t,e,n){let i=e._zod.def.shape,r={...i};if(n)for(let a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(let a in i)r[a]=new t({type:"nonoptional",innerType:i[a]});return Oe(e,{...e._zod.def,shape:r,checks:[]})}function Ht(t,e=0){for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Ue(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function gn(t){return typeof t=="string"?t:t?.message}function je(t,e,n){let i={...t,path:t.path??[]};if(!t.message){let r=gn(t.inst?._zod.def?.error?.(t))??gn(e?.error?.(t))??gn(n.customError?.(t))??gn(n.localeError?.(t))??"Invalid input";i.message=r}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function _n(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function xn(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Tl(...t){let[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}function bT(t){return Object.entries(t).filter(([e,n])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var dl=class{constructor(...e){}};var xp=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,ml,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},wn=y("$ZodError",xp),Tr=y("$ZodError",xp,{Parent:Error});function Sn(t,e=n=>n.message){let n={},i=[];for(let r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:n}}function Pn(t,e){let n=e||function(a){return a.message},i={_errors:[]},r=a=>{for(let o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>r({issues:s}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)i._errors.push(n(o));else{let s=i,l=0;for(;l<o.path.length;){let c=o.path[l];l===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(n(o))):s[c]=s[c]||{_errors:[]},s=s[c],l++}}};return r(t),i}function _l(t,e){let n=e||function(a){return a.message},i={errors:[]},r=(a,o=[])=>{var s,l;for(let c of a.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(u=>r({issues:u},c.path));else if(c.code==="invalid_key")r({issues:c.issues},c.path);else if(c.code==="invalid_element")r({issues:c.issues},c.path);else{let u=[...o,...c.path];if(u.length===0){i.errors.push(n(c));continue}let d=i,h=0;for(;h<u.length;){let f=u[h],p=h===u.length-1;typeof f=="string"?(d.properties??(d.properties={}),(s=d.properties)[f]??(s[f]={errors:[]}),d=d.properties[f]):(d.items??(d.items=[]),(l=d.items)[f]??(l[f]={errors:[]}),d=d.items[f]),p&&d.errors.push(n(c)),h++}}};return r(t),i}function wp(t){let e=[];for(let n of t)typeof n=="number"?e.push(`[${n}]`):typeof n=="symbol"?e.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?e.push(`[${JSON.stringify(n)}]`):(e.length&&e.push("."),e.push(n));return e.join("")}function xl(t){let e=[],n=[...t.issues].sort((i,r)=>i.path.length-r.path.length);for(let i of n)e.push(`\u2716 ${i.message}`),i.path?.length&&e.push(`  \u2192 at ${wp(i.path)}`);return e.join(`
`)}var Li=t=>(e,n,i,r)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new nt;if(o.issues.length){let s=new(r?.Err??t)(o.issues.map(l=>je(l,a,me())));throw ji(s,r?.callee),s}return o.value},Bi=Li(Tr),Gi=t=>async(e,n,i,r)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},o=e._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let s=new(r?.Err??t)(o.issues.map(l=>je(l,a,me())));throw ji(s,r?.callee),s}return o.value},Fi=Gi(Tr),Zi=t=>(e,n,i)=>{let r=i?{...i,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new nt;return a.issues.length?{success:!1,error:new(t??wn)(a.issues.map(o=>je(o,r,me())))}:{success:!0,data:a.value}},wl=Zi(Tr),Wi=t=>async(e,n,i)=>{let r=i?Object.assign(i,{async:!0}):{async:!0},a=e._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(o=>je(o,r,me())))}:{success:!0,data:a.value}},Sl=Wi(Tr);var Xt={};Wt(Xt,{base64:()=>jl,base64url:()=>qi,bigint:()=>ql,boolean:()=>Yl,browserEmail:()=>IT,cidrv4:()=>zl,cidrv6:()=>Ol,cuid:()=>Pl,cuid2:()=>kl,date:()=>Gl,datetime:()=>Zl,domain:()=>AT,duration:()=>Rl,e164:()=>Bl,email:()=>Dl,emoji:()=>Cl,extendedDuration:()=>TT,guid:()=>Ml,hostname:()=>Ll,html5Email:()=>ST,integer:()=>Vl,ipv4:()=>Ul,ipv6:()=>Nl,ksuid:()=>Al,lowercase:()=>Jl,nanoid:()=>El,null:()=>Xl,number:()=>Hl,rfc5322Email:()=>PT,string:()=>Wl,time:()=>Fl,ulid:()=>Il,undefined:()=>Kl,unicodeEmail:()=>kT,uppercase:()=>Ql,uuid:()=>Yt,uuid4:()=>_T,uuid6:()=>xT,uuid7:()=>wT,xid:()=>$l});var Pl=/^[cC][^\s-]{8,}$/,kl=/^[0-9a-z]+$/,Il=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,$l=/^[0-9a-vA-V]{20}$/,Al=/^[A-Za-z0-9]{27}$/,El=/^[a-zA-Z0-9_-]{21}$/,Rl=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,TT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ml=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Yt=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,_T=Yt(4),xT=Yt(6),wT=Yt(7),Dl=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ST=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,PT=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,kT=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,IT=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$T="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Cl(){return new RegExp($T,"u")}var Ul=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,zl=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ol=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jl=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qi=/^[A-Za-z0-9_-]*$/,Ll=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,AT=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Bl=/^\+(?:[0-9]){6,14}[0-9]$/,Sp="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Gl=new RegExp(`^${Sp}$`);function Pp(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Fl(t){return new RegExp(`^${Pp(t)}$`)}function Zl(t){let e=Pp({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-]\\d{2}:\\d{2})");let i=`${e}(?:${n.join("|")})`;return new RegExp(`^${Sp}T(?:${i})$`)}var Wl=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},ql=/^\d+n?$/,Vl=/^\d+$/,Hl=/^-?\d+(?:\.\d+)?/i,Yl=/true|false/i,Xl=/null/i;var Kl=/undefined/i;var Jl=/^[^A-Z]*$/,Ql=/^[^a-z]*$/;var oe=y("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Ip={number:"number",bigint:"bigint",object:"date"},Vi=y("$ZodCheckLessThan",(t,e)=>{oe.init(t,e);let n=Ip[typeof e.value];t._zod.onattach.push(i=>{let r=i._zod.bag,a=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:n,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Hi=y("$ZodCheckGreaterThan",(t,e)=>{oe.init(t,e);let n=Ip[typeof e.value];t._zod.onattach.push(i=>{let r=i._zod.bag,a=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:n,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),eu=y("$ZodCheckMultipleOf",(t,e)=>{oe.init(t,e),t._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):hl(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),tu=y("$ZodCheckNumberFormat",(t,e)=>{oe.init(t,e),e.format=e.format||"float64";let n=e.format?.includes("int"),i=n?"int":"number",[r,a]=bl[e.format];t._zod.onattach.push(o=>{let s=o._zod.bag;s.format=e.format,s.minimum=r,s.maximum=a,n&&(s.pattern=Vl)}),t._zod.check=o=>{let s=o.value;if(n){if(!Number.isInteger(s)){o.issues.push({expected:i,format:e.format,code:"invalid_type",input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort});return}}s<r&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:t})}}),ru=y("$ZodCheckBigIntFormat",(t,e)=>{oe.init(t,e);let[n,i]=vl[e.format];t._zod.onattach.push(r=>{let a=r._zod.bag;a.format=e.format,a.minimum=n,a.maximum=i}),t._zod.check=r=>{let a=r.value;a<n&&r.issues.push({origin:"bigint",input:a,code:"too_small",minimum:n,inclusive:!0,inst:t,continue:!e.abort}),a>i&&r.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:t})}}),nu=y("$ZodCheckMaxSize",(t,e)=>{var n;oe.init(t,e),(n=t._zod.def).when??(n.when=i=>{let r=i.value;return!It(r)&&r.size!==void 0}),t._zod.onattach.push(i=>{let r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{let r=i.value;r.size<=e.maximum||i.issues.push({origin:_n(r),code:"too_big",maximum:e.maximum,input:r,inst:t,continue:!e.abort})}}),iu=y("$ZodCheckMinSize",(t,e)=>{var n;oe.init(t,e),(n=t._zod.def).when??(n.when=i=>{let r=i.value;return!It(r)&&r.size!==void 0}),t._zod.onattach.push(i=>{let r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{let r=i.value;r.size>=e.minimum||i.issues.push({origin:_n(r),code:"too_small",minimum:e.minimum,input:r,inst:t,continue:!e.abort})}}),au=y("$ZodCheckSizeEquals",(t,e)=>{var n;oe.init(t,e),(n=t._zod.def).when??(n.when=i=>{let r=i.value;return!It(r)&&r.size!==void 0}),t._zod.onattach.push(i=>{let r=i._zod.bag;r.minimum=e.size,r.maximum=e.size,r.size=e.size}),t._zod.check=i=>{let r=i.value,a=r.size;if(a===e.size)return;let o=a>e.size;i.issues.push({origin:_n(r),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),ou=y("$ZodCheckMaxLength",(t,e)=>{var n;oe.init(t,e),(n=t._zod.def).when??(n.when=i=>{let r=i.value;return!It(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{let r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{let r=i.value;if(r.length<=e.maximum)return;let o=xn(r);i.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),su=y("$ZodCheckMinLength",(t,e)=>{var n;oe.init(t,e),(n=t._zod.def).when??(n.when=i=>{let r=i.value;return!It(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{let r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{let r=i.value;if(r.length>=e.minimum)return;let o=xn(r);i.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),lu=y("$ZodCheckLengthEquals",(t,e)=>{var n;oe.init(t,e),(n=t._zod.def).when??(n.when=i=>{let r=i.value;return!It(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{let r=i._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=i=>{let r=i.value,a=r.length;if(a===e.length)return;let o=xn(r),s=a>e.length;i.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),_r=y("$ZodCheckStringFormat",(t,e)=>{var n,i;oe.init(t,e),t._zod.onattach.push(r=>{let a=r._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),uu=y("$ZodCheckRegex",(t,e)=>{_r.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),cu=y("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Jl),_r.init(t,e)}),du=y("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Ql),_r.init(t,e)}),mu=y("$ZodCheckIncludes",(t,e)=>{oe.init(t,e);let n=pt(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(r=>{let a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(i)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),hu=y("$ZodCheckStartsWith",(t,e)=>{oe.init(t,e);let n=new RegExp(`^${pt(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{let r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),pu=y("$ZodCheckEndsWith",(t,e)=>{oe.init(t,e);let n=new RegExp(`.*${pt(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{let r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}});function kp(t,e,n){t.issues.length&&e.issues.push(...Ue(n,t.issues))}var fu=y("$ZodCheckProperty",(t,e)=>{oe.init(t,e),t._zod.check=n=>{let i=e.schema._zod.run({value:n.value[e.property],issues:[]},{});if(i instanceof Promise)return i.then(r=>kp(r,n,e.property));kp(i,n,e.property)}}),gu=y("$ZodCheckMimeType",(t,e)=>{oe.init(t,e);let n=new Set(e.mime);t._zod.onattach.push(i=>{i._zod.bag.mime=e.mime}),t._zod.check=i=>{n.has(i.value.type)||i.issues.push({code:"invalid_value",values:e.mime,input:i.value.type,inst:t})}}),yu=y("$ZodCheckOverwrite",(t,e)=>{oe.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});var kn=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let i=e.split(`
`).filter(o=>o),r=Math.min(...i.map(o=>o.length-o.trimStart().length)),a=i.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(let o of a)this.content.push(o)}compile(){let e=Function,n=this?.args,r=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...n,r.join(`
`))}};var bu={major:4,minor:0,patch:5};var D=y("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=bu;let i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(let r of i)for(let a of r._zod.onattach)a(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let r=(a,o,s)=>{let l=Ht(a),c;for(let u of o){if(u._zod.def.when){if(!u._zod.def.when(a))continue}else if(l)continue;let d=a.issues.length,h=u._zod.check(a);if(h instanceof Promise&&s?.async===!1)throw new nt;if(c||h instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await h,a.issues.length!==d&&(l||(l=Ht(a,d)))});else{if(a.issues.length===d)continue;l||(l=Ht(a,d))}}return c?c.then(()=>a):a};t._zod.run=(a,o)=>{let s=t._zod.parse(a,o);if(s instanceof Promise){if(o.async===!1)throw new nt;return s.then(l=>r(l,i,o))}return r(s,i,o)}}t["~standard"]={validate:r=>{try{let a=wl(t,r);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return Sl(t,r).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Kt=y("$ZodString",(t,e)=>{D.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Wl(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Y=y("$ZodStringFormat",(t,e)=>{_r.init(t,e),Kt.init(t,e)}),Tu=y("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Ml),Y.init(t,e)}),_u=y("$ZodUUID",(t,e)=>{if(e.version){let i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Yt(i))}else e.pattern??(e.pattern=Yt());Y.init(t,e)}),xu=y("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Dl),Y.init(t,e)}),wu=y("$ZodURL",(t,e)=>{Y.init(t,e),t._zod.check=n=>{try{let i=n.value,r=new URL(i),a=r.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Ll.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),!i.endsWith("/")&&a.endsWith("/")?n.value=a.slice(0,-1):n.value=a;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Su=y("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Cl()),Y.init(t,e)}),Pu=y("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=El),Y.init(t,e)}),ku=y("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Pl),Y.init(t,e)}),Iu=y("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=kl),Y.init(t,e)}),$u=y("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Il),Y.init(t,e)}),Au=y("$ZodXID",(t,e)=>{e.pattern??(e.pattern=$l),Y.init(t,e)}),Eu=y("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Al),Y.init(t,e)}),Ru=y("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Zl(e)),Y.init(t,e)}),Mu=y("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Gl),Y.init(t,e)}),Du=y("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Fl(e)),Y.init(t,e)}),Cu=y("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Rl),Y.init(t,e)}),Uu=y("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Ul),Y.init(t,e),t._zod.onattach.push(n=>{let i=n._zod.bag;i.format="ipv4"})}),Nu=y("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Nl),Y.init(t,e),t._zod.onattach.push(n=>{let i=n._zod.bag;i.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),zu=y("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=zl),Y.init(t,e)}),Ou=y("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Ol),Y.init(t,e),t._zod.check=n=>{let[i,r]=n.value.split("/");try{if(!r)throw new Error;let a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function ju(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var Lu=y("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=jl),Y.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{ju(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function Lp(t){if(!qi.test(t))return!1;let e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return ju(n)}var Bu=y("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=qi),Y.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{Lp(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Gu=y("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Bl),Y.init(t,e)});function Bp(t,e=null){try{let n=t.split(".");if(n.length!==3)return!1;let[i]=n;if(!i)return!1;let r=JSON.parse(atob(i));return!("typ"in r&&r?.typ!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}var Fu=y("$ZodJWT",(t,e)=>{Y.init(t,e),t._zod.check=n=>{Bp(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Zu=y("$ZodCustomStringFormat",(t,e)=>{Y.init(t,e),t._zod.check=n=>{e.fn(n.value)||n.issues.push({code:"invalid_format",format:e.format,input:n.value,inst:t,continue:!e.abort})}}),Ki=y("$ZodNumber",(t,e)=>{D.init(t,e),t._zod.pattern=t._zod.bag.pattern??Hl,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}let r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;let a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...a?{received:a}:{}}),n}}),Wu=y("$ZodNumber",(t,e)=>{tu.init(t,e),Ki.init(t,e)}),In=y("$ZodBoolean",(t,e)=>{D.init(t,e),t._zod.pattern=Yl,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=!!n.value}catch{}let r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),Ji=y("$ZodBigInt",(t,e)=>{D.init(t,e),t._zod.pattern=ql,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:t}),n}}),qu=y("$ZodBigInt",(t,e)=>{ru.init(t,e),Ji.init(t,e)}),Vu=y("$ZodSymbol",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;return typeof r=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:t}),n}}),Hu=y("$ZodUndefined",(t,e)=>{D.init(t,e),t._zod.pattern=Kl,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(n,i)=>{let r=n.value;return typeof r>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:t}),n}}),Yu=y("$ZodNull",(t,e)=>{D.init(t,e),t._zod.pattern=Xl,t._zod.values=new Set([null]),t._zod.parse=(n,i)=>{let r=n.value;return r===null||n.issues.push({expected:"null",code:"invalid_type",input:r,inst:t}),n}}),Xu=y("$ZodAny",(t,e)=>{D.init(t,e),t._zod.parse=n=>n}),xr=y("$ZodUnknown",(t,e)=>{D.init(t,e),t._zod.parse=n=>n}),Ku=y("$ZodNever",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)}),Ju=y("$ZodVoid",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;return typeof r>"u"||n.issues.push({expected:"void",code:"invalid_type",input:r,inst:t}),n}}),Qu=y("$ZodDate",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=new Date(n.value)}catch{}let r=n.value,a=r instanceof Date;return a&&!Number.isNaN(r.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:r,...a?{received:"Invalid Date"}:{},inst:t}),n}});function Ap(t,e,n){t.issues.length&&e.issues.push(...Ue(n,t.issues)),e.value[n]=t.value}var $n=y("$ZodArray",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);let a=[];for(let o=0;o<r.length;o++){let s=r[o],l=e.element._zod.run({value:s,issues:[]},i);l instanceof Promise?a.push(l.then(c=>Ap(c,n,o))):Ap(l,n,o)}return a.length?Promise.all(a).then(()=>n):n}});function Yi(t,e,n){t.issues.length&&e.issues.push(...Ue(n,t.issues)),e.value[n]=t.value}function Ep(t,e,n,i){t.issues.length?i[n]===void 0?n in i?e.value[n]=void 0:e.value[n]=t.value:e.issues.push(...Ue(n,t.issues)):t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}var ec=y("$ZodObject",(t,e)=>{D.init(t,e);let n=bn(()=>{let d=Object.keys(e.shape);for(let f of d)if(!(e.shape[f]instanceof D))throw new Error(`Invalid element at key "${f}": expected a Zod schema`);let h=yl(e.shape);return{shape:e.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(h)}});F(t._zod,"propValues",()=>{let d=e.shape,h={};for(let f in d){let p=d[f]._zod;if(p.values){h[f]??(h[f]=new Set);for(let v of p.values)h[f].add(v)}}return h});let i=d=>{let h=new kn(["shape","payload","ctx"]),f=n.value,p=k=>{let b=Vt(k);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};h.write("const input = payload.value;");let v=Object.create(null),T=0;for(let k of f.keys)v[k]=`key_${T++}`;h.write("const newResult = {}");for(let k of f.keys)if(f.optionalKeys.has(k)){let b=v[k];h.write(`const ${b} = ${p(k)};`);let w=Vt(k);h.write(`
        if (${b}.issues.length) {
          if (input[${w}] === undefined) {
            if (${w} in input) {
              newResult[${w}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${b}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${w}, ...iss.path] : [${w}],
              }))
            );
          }
        } else if (${b}.value === undefined) {
          if (${w} in input) newResult[${w}] = undefined;
        } else {
          newResult[${w}] = ${b}.value;
        }
        `)}else{let b=v[k];h.write(`const ${b} = ${p(k)};`),h.write(`
          if (${b}.issues.length) payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Vt(k)}, ...iss.path] : [${Vt(k)}]
          })));`),h.write(`newResult[${Vt(k)}] = ${b}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");let A=h.compile();return(k,b)=>A(d,k,b)},r,a=br,o=!fn.jitless,l=o&&fl.value,c=e.catchall,u;t._zod.parse=(d,h)=>{u??(u=n.value);let f=d.value;if(!a(f))return d.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),d;let p=[];if(o&&l&&h?.async===!1&&h.jitless!==!0)r||(r=i(e.shape)),d=r(d,h);else{d.value={};let b=u.shape;for(let w of u.keys){let C=b[w],L=C._zod.run({value:f[w],issues:[]},h),G=C._zod.optin==="optional"&&C._zod.optout==="optional";L instanceof Promise?p.push(L.then(Z=>G?Ep(Z,d,w,f):Yi(Z,d,w))):G?Ep(L,d,w,f):Yi(L,d,w)}}if(!c)return p.length?Promise.all(p).then(()=>d):d;let v=[],T=u.keySet,A=c._zod,k=A.def.type;for(let b of Object.keys(f)){if(T.has(b))continue;if(k==="never"){v.push(b);continue}let w=A.run({value:f[b],issues:[]},h);w instanceof Promise?p.push(w.then(C=>Yi(C,d,b))):Yi(w,d,b)}return v.length&&d.issues.push({code:"unrecognized_keys",keys:v,input:f,inst:t}),p.length?Promise.all(p).then(()=>d):d}});function Rp(t,e,n,i){for(let r of t)if(r.issues.length===0)return e.value=r.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(r=>r.issues.map(a=>je(a,i,me())))}),e}var Qi=y("$ZodUnion",(t,e)=>{D.init(t,e),F(t._zod,"optin",()=>e.options.some(n=>n._zod.optin==="optional")?"optional":void 0),F(t._zod,"optout",()=>e.options.some(n=>n._zod.optout==="optional")?"optional":void 0),F(t._zod,"values",()=>{if(e.options.every(n=>n._zod.values))return new Set(e.options.flatMap(n=>Array.from(n._zod.values)))}),F(t._zod,"pattern",()=>{if(e.options.every(n=>n._zod.pattern)){let n=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${n.map(i=>vn(i.source)).join("|")})$`)}}),t._zod.parse=(n,i)=>{let r=!1,a=[];for(let o of e.options){let s=o._zod.run({value:n.value,issues:[]},i);if(s instanceof Promise)a.push(s),r=!0;else{if(s.issues.length===0)return s;a.push(s)}}return r?Promise.all(a).then(o=>Rp(o,n,t,i)):Rp(a,n,t,i)}}),tc=y("$ZodDiscriminatedUnion",(t,e)=>{Qi.init(t,e);let n=t._zod.parse;F(t._zod,"propValues",()=>{let r={};for(let a of e.options){let o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(let[s,l]of Object.entries(o)){r[s]||(r[s]=new Set);for(let c of l)r[s].add(c)}}return r});let i=bn(()=>{let r=e.options,a=new Map;for(let o of r){let s=o._zod.propValues?.[e.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let l of s){if(a.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);a.set(l,o)}}return a});t._zod.parse=(r,a)=>{let o=r.value;if(!br(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),r;let s=i.value.get(o?.[e.discriminator]);return s?s._zod.run(r,a):e.unionFallback?n(r,a):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[e.discriminator],inst:t}),r)}}),rc=y("$ZodIntersection",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value,a=e.left._zod.run({value:r,issues:[]},i),o=e.right._zod.run({value:r,issues:[]},i);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([l,c])=>Mp(n,l,c)):Mp(n,a,o)}});function vu(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(vr(t)&&vr(e)){let n=Object.keys(e),i=Object.keys(t).filter(a=>n.indexOf(a)!==-1),r={...t,...e};for(let a of i){let o=vu(t[a],e[a]);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};r[a]=o.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let r=t[i],a=e[i],o=vu(r,a);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Mp(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Ht(t))return t;let i=vu(e.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}var Jt=y("$ZodTuple",(t,e)=>{D.init(t,e);let n=e.items,i=n.length-[...n].reverse().findIndex(r=>r._zod.optin!=="optional");t._zod.parse=(r,a)=>{let o=r.value;if(!Array.isArray(o))return r.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),r;r.value=[];let s=[];if(!e.rest){let c=o.length>n.length,u=o.length<i-1;if(c||u)return r.issues.push({input:o,inst:t,origin:"array",...c?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length}}),r}let l=-1;for(let c of n){if(l++,l>=o.length&&l>=i)continue;let u=c._zod.run({value:o[l],issues:[]},a);u instanceof Promise?s.push(u.then(d=>Xi(d,r,l))):Xi(u,r,l)}if(e.rest){let c=o.slice(n.length);for(let u of c){l++;let d=e.rest._zod.run({value:u,issues:[]},a);d instanceof Promise?s.push(d.then(h=>Xi(h,r,l))):Xi(d,r,l)}}return s.length?Promise.all(s).then(()=>r):r}});function Xi(t,e,n){t.issues.length&&e.issues.push(...Ue(n,t.issues)),e.value[n]=t.value}var nc=y("$ZodRecord",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;if(!vr(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;let a=[];if(e.keyType._zod.values){let o=e.keyType._zod.values;n.value={};for(let l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){let c=e.valueType._zod.run({value:r[l],issues:[]},i);c instanceof Promise?a.push(c.then(u=>{u.issues.length&&n.issues.push(...Ue(l,u.issues)),n.value[l]=u.value})):(c.issues.length&&n.issues.push(...Ue(l,c.issues)),n.value[l]=c.value)}let s;for(let l in r)o.has(l)||(s=s??[],s.push(l));s&&s.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:s})}else{n.value={};for(let o of Reflect.ownKeys(r)){if(o==="__proto__")continue;let s=e.keyType._zod.run({value:o,issues:[]},i);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map(c=>je(c,i,me())),input:o,path:[o],inst:t}),n.value[s.value]=s.value;continue}let l=e.valueType._zod.run({value:r[o],issues:[]},i);l instanceof Promise?a.push(l.then(c=>{c.issues.length&&n.issues.push(...Ue(o,c.issues)),n.value[s.value]=c.value})):(l.issues.length&&n.issues.push(...Ue(o,l.issues)),n.value[s.value]=l.value)}}return a.length?Promise.all(a).then(()=>n):n}}),ic=y("$ZodMap",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;if(!(r instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:r,inst:t}),n;let a=[];n.value=new Map;for(let[o,s]of r){let l=e.keyType._zod.run({value:o,issues:[]},i),c=e.valueType._zod.run({value:s,issues:[]},i);l instanceof Promise||c instanceof Promise?a.push(Promise.all([l,c]).then(([u,d])=>{Dp(u,d,n,o,r,t,i)})):Dp(l,c,n,o,r,t,i)}return a.length?Promise.all(a).then(()=>n):n}});function Dp(t,e,n,i,r,a,o){t.issues.length&&(Tn.has(typeof i)?n.issues.push(...Ue(i,t.issues)):n.issues.push({origin:"map",code:"invalid_key",input:r,inst:a,issues:t.issues.map(s=>je(s,o,me()))})),e.issues.length&&(Tn.has(typeof i)?n.issues.push(...Ue(i,e.issues)):n.issues.push({origin:"map",code:"invalid_element",input:r,inst:a,key:i,issues:e.issues.map(s=>je(s,o,me()))})),n.value.set(t.value,e.value)}var ac=y("$ZodSet",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;if(!(r instanceof Set))return n.issues.push({input:r,inst:t,expected:"set",code:"invalid_type"}),n;let a=[];n.value=new Set;for(let o of r){let s=e.valueType._zod.run({value:o,issues:[]},i);s instanceof Promise?a.push(s.then(l=>Cp(l,n))):Cp(s,n)}return a.length?Promise.all(a).then(()=>n):n}});function Cp(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var oc=y("$ZodEnum",(t,e)=>{D.init(t,e);let n=yn(e.entries);t._zod.values=new Set(n),t._zod.pattern=new RegExp(`^(${n.filter(i=>Tn.has(typeof i)).map(i=>typeof i=="string"?pt(i):i.toString()).join("|")})$`),t._zod.parse=(i,r)=>{let a=i.value;return t._zod.values.has(a)||i.issues.push({code:"invalid_value",values:n,input:a,inst:t}),i}}),sc=y("$ZodLiteral",(t,e)=>{D.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?pt(n):n?n.toString():String(n)).join("|")})$`),t._zod.parse=(n,i)=>{let r=n.value;return t._zod.values.has(r)||n.issues.push({code:"invalid_value",values:e.values,input:r,inst:t}),n}}),lc=y("$ZodFile",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=n.value;return r instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:r,inst:t}),n}}),An=y("$ZodTransform",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=e.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new nt;return n.value=r,n}}),uc=y("$ZodOptional",(t,e)=>{D.init(t,e),t._zod.optin="optional",t._zod.optout="optional",F(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),F(t._zod,"pattern",()=>{let n=e.innerType._zod.pattern;return n?new RegExp(`^(${vn(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(n,i):n.value===void 0?n:e.innerType._zod.run(n,i)}),cc=y("$ZodNullable",(t,e)=>{D.init(t,e),F(t._zod,"optin",()=>e.innerType._zod.optin),F(t._zod,"optout",()=>e.innerType._zod.optout),F(t._zod,"pattern",()=>{let n=e.innerType._zod.pattern;return n?new RegExp(`^(${vn(n.source)}|null)$`):void 0}),F(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),dc=y("$ZodDefault",(t,e)=>{D.init(t,e),t._zod.optin="optional",F(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(n.value===void 0)return n.value=e.defaultValue,n;let r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>Up(a,e)):Up(r,e)}});function Up(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var mc=y("$ZodPrefault",(t,e)=>{D.init(t,e),t._zod.optin="optional",F(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),hc=y("$ZodNonOptional",(t,e)=>{D.init(t,e),F(t._zod,"values",()=>{let n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{let r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>Np(a,t)):Np(r,t)}});function Np(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var pc=y("$ZodSuccess",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>{let r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>(n.value=a.issues.length===0,n)):(n.value=r.issues.length===0,n)}}),fc=y("$ZodCatch",(t,e)=>{D.init(t,e),t._zod.optin="optional",F(t._zod,"optout",()=>e.innerType._zod.optout),F(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{let r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(o=>je(o,i,me()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(a=>je(a,i,me()))},input:n.value}),n.issues=[]),n)}}),gc=y("$ZodNaN",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:t,expected:"nan",code:"invalid_type"}),n)}),En=y("$ZodPipe",(t,e)=>{D.init(t,e),F(t._zod,"values",()=>e.in._zod.values),F(t._zod,"optin",()=>e.in._zod.optin),F(t._zod,"optout",()=>e.out._zod.optout),F(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{let r=e.in._zod.run(n,i);return r instanceof Promise?r.then(a=>zp(a,e,i)):zp(r,e,i)}});function zp(t,e,n){return Ht(t)?t:e.out._zod.run({value:t.value,issues:t.issues},n)}var yc=y("$ZodReadonly",(t,e)=>{D.init(t,e),F(t._zod,"propValues",()=>e.innerType._zod.propValues),F(t._zod,"values",()=>e.innerType._zod.values),F(t._zod,"optin",()=>e.innerType._zod.optin),F(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,i)=>{let r=e.innerType._zod.run(n,i);return r instanceof Promise?r.then(Op):Op(r)}});function Op(t){return t.value=Object.freeze(t.value),t}var bc=y("$ZodTemplateLiteral",(t,e)=>{D.init(t,e);let n=[];for(let i of e.parts)if(i instanceof D){if(!i._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...i._zod.traits].shift()}`);let r=i._zod.pattern instanceof RegExp?i._zod.pattern.source:i._zod.pattern;if(!r)throw new Error(`Invalid template literal part: ${i._zod.traits}`);let a=r.startsWith("^")?1:0,o=r.endsWith("$")?r.length-1:r.length;n.push(r.slice(a,o))}else if(i===null||gl.has(typeof i))n.push(pt(`${i}`));else throw new Error(`Invalid template literal part: ${i}`);t._zod.pattern=new RegExp(`^${n.join("")}$`),t._zod.parse=(i,r)=>typeof i.value!="string"?(i.issues.push({input:i.value,inst:t,expected:"template_literal",code:"invalid_type"}),i):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(i.value)||i.issues.push({input:i.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),i)}),vc=y("$ZodPromise",(t,e)=>{D.init(t,e),t._zod.parse=(n,i)=>Promise.resolve(n.value).then(r=>e.innerType._zod.run({value:r,issues:[]},i))}),Tc=y("$ZodLazy",(t,e)=>{D.init(t,e),F(t._zod,"innerType",()=>e.getter()),F(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),F(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),F(t._zod,"optin",()=>t._zod.innerType._zod.optin),F(t._zod,"optout",()=>t._zod.innerType._zod.optout),t._zod.parse=(n,i)=>t._zod.innerType._zod.run(n,i)}),_c=y("$ZodCustom",(t,e)=>{oe.init(t,e),D.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{let i=n.value,r=e.fn(i);if(r instanceof Promise)return r.then(a=>jp(a,n,i,t));jp(r,n,i,t)}});function jp(t,e,n,i){if(!t){let r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),e.issues.push(Tl(r))}}var Rn={};Wt(Rn,{ar:()=>Fp,az:()=>Zp,be:()=>qp,ca:()=>Vp,cs:()=>Hp,de:()=>Yp,en:()=>ea,eo:()=>Xp,es:()=>Kp,fa:()=>Jp,fi:()=>Qp,fr:()=>ef,frCA:()=>tf,he:()=>rf,hu:()=>nf,id:()=>af,it:()=>of,ja:()=>sf,kh:()=>lf,ko:()=>uf,mk:()=>cf,ms:()=>df,nl:()=>mf,no:()=>hf,ota:()=>pf,pl:()=>gf,ps:()=>ff,pt:()=>yf,ru:()=>vf,sl:()=>Tf,sv:()=>_f,ta:()=>xf,th:()=>wf,tr:()=>Sf,ua:()=>Pf,ur:()=>kf,vi:()=>If,zhCN:()=>$f,zhTW:()=>Af});var ET=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return r=>{switch(r.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${r.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${I(r.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${r.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${r.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${r.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${r.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${r.minimum.toString()} ${o.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${r.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${r.prefix}"`:a.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${a.suffix}"`:a.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${a.includes}"`:a.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${a.pattern}`:`${i[a.format]??r.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${r.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${r.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${r.keys.length>1?"\u0629":""}: ${x(r.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${r.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${r.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function Fp(){return{localeError:ET()}}var RT=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${r.expected}, daxil olan ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${I(r.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${r.origin??"d\u0259y\u0259r"} ${a}${r.maximum.toString()} ${o.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${r.origin??"d\u0259y\u0259r"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${r.origin} ${a}${r.minimum.toString()} ${o.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${a.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:a.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${a.suffix}" il\u0259 bitm\u0259lidir`:a.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${a.includes}" daxil olmal\u0131d\u0131r`:a.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${a.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${i[a.format]??r.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${r.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${r.keys.length>1?"lar":""}: ${x(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${r.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function Zp(){return{localeError:RT()}}function Wp(t,e,n,i){let r=Math.abs(t),a=r%10,o=r%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?n:i}var MT=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(r))return"\u043C\u0430\u0441\u0456\u045E";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return r=>{switch(r.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${r.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${I(r.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);if(o){let s=Number(r.maximum),l=Wp(s,o.unit.one,o.unit.few,o.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${r.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);if(o){let s=Number(r.minimum),l=Wp(s,o.unit.one,o.unit.few,o.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${r.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${r.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${i[a.format]??r.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${r.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${r.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${x(r.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${r.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${r.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function qp(){return{localeError:MT()}}var DT=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${r.expected}, s'ha rebut ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Valor inv\xE0lid: s'esperava ${I(r.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${x(r.values," o ")}`;case"too_big":{let a=r.inclusive?"com a m\xE0xim":"menys de",o=e(r.origin);return o?`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xE9s ${a} ${r.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?"com a m\xEDnim":"m\xE9s de",o=e(r.origin);return o?`Massa petit: s'esperava que ${r.origin} contingu\xE9s ${a} ${r.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${r.origin} fos ${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${a.prefix}"`:a.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format inv\xE0lid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${a.pattern}`:`Format inv\xE0lid per a ${i[a.format]??r.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${r.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${r.origin}`;default:return"Entrada inv\xE0lida"}}};function Vp(){return{localeError:DT()}}var CT=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(r))return"pole";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return r=>{switch(r.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${r.expected}, obdr\u017Eeno ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${I(r.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${r.origin??"hodnota"} mus\xED m\xEDt ${a}${r.maximum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${r.origin??"hodnota"} mus\xED b\xFDt ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${r.origin??"hodnota"} mus\xED m\xEDt ${a}${r.minimum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${r.origin??"hodnota"} mus\xED b\xFDt ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${a.suffix}"`:a.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${a.pattern}`:`Neplatn\xFD form\xE1t ${i[a.format]??r.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${x(r.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${r.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${r.origin}`;default:return"Neplatn\xFD vstup"}}};function Hp(){return{localeError:CT()}}var UT=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"Zahl";case"object":{if(Array.isArray(r))return"Array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return r=>{switch(r.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${r.expected}, erhalten ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ung\xFCltige Eingabe: erwartet ${I(r.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Zu gro\xDF: erwartet, dass ${r.origin??"Wert"} ${a}${r.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${r.origin??"Wert"} ${a}${r.maximum.toString()} ist`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Zu klein: erwartet, dass ${r.origin} ${a}${r.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${r.origin} ${a}${r.minimum.toString()} ist`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ung\xFCltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ung\xFCltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ung\xFCltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ung\xFCltig: ${i[a.format]??r.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${x(r.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${r.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${r.origin}`;default:return"Ung\xFCltige Eingabe"}}};function Yp(){return{localeError:UT()}}var NT=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},zT=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(i){return t[i]??null}let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Invalid input: expected ${i.expected}, received ${NT(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${I(i.values[0])}`:`Invalid option: expected one of ${x(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",a=e(i.origin);return a?`Too big: expected ${i.origin??"value"} to have ${r}${i.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",a=e(i.origin);return a?`Too small: expected ${i.origin} to have ${r}${i.minimum.toString()} ${a.unit}`:`Too small: expected ${i.origin} to be ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Invalid string: must start with "${r.prefix}"`:r.format==="ends_with"?`Invalid string: must end with "${r.suffix}"`:r.format==="includes"?`Invalid string: must include "${r.includes}"`:r.format==="regex"?`Invalid string: must match pattern ${r.pattern}`:`Invalid ${n[r.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function ea(){return{localeError:zT()}}var OT=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},jT=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return t[i]??null}let n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return i=>{switch(i.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${i.expected}, ricevi\u011Dis ${OT(i.input)}`;case"invalid_value":return i.values.length===1?`Nevalida enigo: atendi\u011Dis ${I(i.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${x(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",a=e(i.origin);return a?`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${r}${i.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",a=e(i.origin);return a?`Tro malgranda: atendi\u011Dis ke ${i.origin} havu ${r}${i.minimum.toString()} ${a.unit}`:`Tro malgranda: atendi\u011Dis ke ${i.origin} estu ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${r.prefix}"`:r.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${r.suffix}"`:r.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${r.includes}"`:r.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`:`Nevalida ${n[r.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} \u015Dlosilo${i.keys.length>1?"j":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function Xp(){return{localeError:jT()}}var LT=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(r))return"arreglo";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype)return r.constructor.name}}return a},i={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${r.expected}, recibido ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada inv\xE1lida: se esperaba ${I(r.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Demasiado grande: se esperaba que ${r.origin??"valor"} tuviera ${a}${r.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${r.origin??"valor"} fuera ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Demasiado peque\xF1o: se esperaba que ${r.origin} tuviera ${a}${r.minimum.toString()} ${o.unit}`:`Demasiado peque\xF1o: se esperaba que ${r.origin} fuera ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${i[a.format]??r.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${r.divisor}`;case"unrecognized_keys":return`Llave${r.keys.length>1?"s":""} desconocida${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${r.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${r.origin}`;default:return"Entrada inv\xE1lida"}}};function Kp(){return{localeError:LT()}}var BT=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(r))return"\u0622\u0631\u0627\u06CC\u0647";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return r=>{switch(r.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${r.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${n(r.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return r.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${I(r.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${x(r.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${r.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${r.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} ${o.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:a.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:a.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${a.includes}" \u0628\u0627\u0634\u062F`:a.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${a.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${i[a.format]??r.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${r.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${r.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${x(r.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${r.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${r.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function Jp(){return{localeError:BT()}}var GT=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${I(r.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Liian suuri: ${o.subject} t\xE4ytyy olla ${a}${r.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Liian pieni: ${o.subject} t\xE4ytyy olla ${a}${r.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${a.includes}"`:a.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${a.pattern}`:`Virheellinen ${i[a.format]??r.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${x(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function Qp(){return{localeError:GT()}}var FT=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"nombre";case"object":{if(Array.isArray(r))return"tableau";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return r=>{switch(r.code){case"invalid_type":return`Entr\xE9e invalide : ${r.expected} attendu, ${n(r.input)} re\xE7u`;case"invalid_value":return r.values.length===1?`Entr\xE9e invalide : ${I(r.values[0])} attendu`:`Option invalide : une valeur parmi ${x(r.values,"|")} attendue`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Trop grand : ${r.origin??"valeur"} doit ${o.verb} ${a}${r.maximum.toString()} ${o.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${r.origin??"valeur"} doit \xEAtre ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Trop petit : ${r.origin} doit ${o.verb} ${a}${r.minimum.toString()} ${o.unit}`:`Trop petit : ${r.origin} doit \xEAtre ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${a.pattern}`:`${i[a.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xE9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${x(r.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${r.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entr\xE9e invalide"}}};function ef(){return{localeError:FT()}}var ZT=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return r=>{switch(r.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${r.expected}, re\xE7u ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entr\xE9e invalide : attendu ${I(r.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"\u2264":"<",o=e(r.origin);return o?`Trop grand : attendu que ${r.origin??"la valeur"} ait ${a}${r.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${r.origin??"la valeur"} soit ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?"\u2265":">",o=e(r.origin);return o?`Trop petit : attendu que ${r.origin} ait ${a}${r.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${r.origin} soit ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${a.pattern}`:`${i[a.format]??r.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xE9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${x(r.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${r.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return"Entr\xE9e invalide"}}};function tf(){return{localeError:ZT()}}var WT=()=>{let t={string:{unit:"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u05E7\u05DC\u05D8",email:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",url:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",emoji:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",date:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",time:"\u05D6\u05DE\u05DF ISO",duration:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",ipv4:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",ipv6:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",cidrv4:"\u05D8\u05D5\u05D5\u05D7 IPv4",cidrv6:"\u05D8\u05D5\u05D5\u05D7 IPv6",base64:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",base64url:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",json_string:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",e164:"\u05DE\u05E1\u05E4\u05E8 E.164",jwt:"JWT",template_literal:"\u05E7\u05DC\u05D8"};return r=>{switch(r.code){case"invalid_type":return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${r.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${I(r.values[0])}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${r.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${r.maximum.toString()} ${o.unit??"elements"}`:`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${r.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${r.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${r.minimum.toString()} ${o.unit}`:`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${r.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${a.prefix}"`:a.format==="ends_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${a.suffix}"`:a.format==="includes"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${a.includes}"`:a.format==="regex"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${a.pattern}`:`${i[a.format]??r.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${r.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${r.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${r.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${x(r.keys,", ")}`;case"invalid_key":return`\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${r.origin}`;case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${r.origin}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function rf(){return{localeError:WT()}}var qT=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(r))return"t\xF6mb";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return r=>{switch(r.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${r.expected}, a kapott \xE9rt\xE9k ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${I(r.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`T\xFAl nagy: ${r.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${a}${r.maximum.toString()} ${o.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${r.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${r.origin} m\xE9rete t\xFAl kicsi ${a}${r.minimum.toString()} ${o.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${r.origin} t\xFAl kicsi ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\xC9rv\xE9nytelen string: "${a.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:a.format==="ends_with"?`\xC9rv\xE9nytelen string: "${a.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:a.format==="includes"?`\xC9rv\xE9nytelen string: "${a.includes}" \xE9rt\xE9ket kell tartalmaznia`:a.format==="regex"?`\xC9rv\xE9nytelen string: ${a.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${i[a.format]??r.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${r.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${r.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${r.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function nf(){return{localeError:qT()}}var VT=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak valid: diharapkan ${I(r.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${a}${r.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Terlalu kecil: diharapkan ${r.origin} memiliki ${a}${r.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${r.origin} menjadi ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${i[a.format]??r.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`;default:return"Input tidak valid"}}};function af(){return{localeError:VT()}}var HT=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"numero";case"object":{if(Array.isArray(r))return"vettore";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input non valido: atteso ${I(r.values[0])}`:`Opzione non valida: atteso uno tra ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Troppo grande: ${r.origin??"valore"} deve avere ${a}${r.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${r.origin??"valore"} deve essere ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Troppo piccolo: ${r.origin} deve avere ${a}${r.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${r.origin} deve essere ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${i[a.format]??r.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${x(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`;default:return"Input non valido"}}};function of(){return{localeError:HT()}}var YT=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(r))return"\u914D\u5217";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return r=>{switch(r.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${r.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${n(r.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return r.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${I(r.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${x(r.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let a=r.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",o=e(r.origin);return o?`\u5927\u304D\u3059\u304E\u308B\u5024: ${r.origin??"\u5024"}\u306F${r.maximum.toString()}${o.unit??"\u8981\u7D20"}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${r.origin??"\u5024"}\u306F${r.maximum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let a=r.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",o=e(r.origin);return o?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${r.origin}\u306F${r.minimum.toString()}${o.unit}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${r.origin}\u306F${r.minimum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${a.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${i[a.format]??r.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${r.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${r.keys.length>1?"\u7FA4":""}: ${x(r.keys,"\u3001")}`;case"invalid_key":return`${r.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${r.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function sf(){return{localeError:YT()}}var XT=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(r))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(r===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return r=>{switch(r.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${I(r.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${r.maximum.toString()} ${o.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin} ${a} ${r.minimum.toString()} ${o.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${r.origin} ${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${a.prefix}"`:a.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${a.suffix}"`:a.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${a.includes}"`:a.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${a.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${i[a.format]??r.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${r.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${x(r.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${r.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${r.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function lf(){return{localeError:XT()}}var KT=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return r=>{switch(r.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${r.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${n(r.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return r.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${I(r.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${x(r.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let a=r.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",o=a==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(r.origin),l=s?.unit??"\uC694\uC18C";return s?`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${r.maximum.toString()}${l} ${a}${o}`:`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${r.maximum.toString()} ${a}${o}`}case"too_small":{let a=r.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",o=a==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(r.origin),l=s?.unit??"\uC694\uC18C";return s?`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${r.minimum.toString()}${l} ${a}${o}`:`${r.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${r.minimum.toString()} ${a}${o}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:a.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${a.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${i[a.format]??r.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${r.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${x(r.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${r.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${r.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function uf(){return{localeError:KT()}}var JT=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(r))return"\u043D\u0438\u0437\u0430";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return r=>{switch(r.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${I(r.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${a}${r.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin} \u0434\u0430 \u0438\u043C\u0430 ${a}${r.minimum.toString()} ${o.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${r.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${a.pattern}`:`Invalid ${i[a.format]??r.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${x(r.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${r.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${r.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function cf(){return{localeError:JT()}}var QT=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"nombor";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Input tidak sah: dijangka ${I(r.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Terlalu besar: dijangka ${r.origin??"nilai"} ${o.verb} ${a}${r.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Terlalu kecil: dijangka ${r.origin} ${o.verb} ${a}${r.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${r.origin} adalah ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${i[a.format]??r.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${x(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`;default:return"Input tidak sah"}}};function df(){return{localeError:QT()}}var e1=()=>{let t={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"getal";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ongeldige invoer: verwacht ${I(r.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Te lang: verwacht dat ${r.origin??"waarde"} ${a}${r.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${r.origin??"waarde"} ${a}${r.maximum.toString()} is`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Te kort: verwacht dat ${r.origin} ${a}${r.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${r.origin} ${a}${r.minimum.toString()} is`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${i[a.format]??r.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`;default:return"Ongeldige invoer"}}};function mf(){return{localeError:e1()}}var t1=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"tall";case"object":{if(Array.isArray(r))return"liste";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ugyldig verdi: forventet ${I(r.values[0])}`:`Ugyldig valg: forventet en av ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`For stor(t): forventet ${r.origin??"value"} til \xE5 ha ${a}${r.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${r.origin??"value"} til \xE5 ha ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`For lite(n): forventet ${r.origin} til \xE5 ha ${a}${r.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${r.origin} til \xE5 ha ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${i[a.format]??r.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${x(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${r.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`;default:return"Ugyldig input"}}};function hf(){return{localeError:t1()}}var r1=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"numara";case"object":{if(Array.isArray(r))return"saf";if(r===null)return"gayb";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return r=>{switch(r.code){case"invalid_type":return`F\xE2sit giren: umulan ${r.expected}, al\u0131nan ${n(r.input)}`;case"invalid_value":return r.values.length===1?`F\xE2sit giren: umulan ${I(r.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Fazla b\xFCy\xFCk: ${r.origin??"value"}, ${a}${r.maximum.toString()} ${o.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${r.origin??"value"}, ${a}${r.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Fazla k\xFC\xE7\xFCk: ${r.origin}, ${a}${r.minimum.toString()} ${o.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${r.origin}, ${a}${r.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let a=r;return a.format==="starts_with"?`F\xE2sit metin: "${a.prefix}" ile ba\u015Flamal\u0131.`:a.format==="ends_with"?`F\xE2sit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`F\xE2sit metin: "${a.includes}" ihtiv\xE2 etmeli.`:a.format==="regex"?`F\xE2sit metin: ${a.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${i[a.format]??r.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${r.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${r.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function pf(){return{localeError:r1()}}var n1=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(r))return"\u0627\u0631\u06D0";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return r=>{switch(r.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${r.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${n(r.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return r.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${I(r.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${x(r.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${r.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${r.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${r.maximum.toString()} \u0648\u064A`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} ${o.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${r.origin} \u0628\u0627\u06CC\u062F ${a}${r.minimum.toString()} \u0648\u064A`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:a.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:a.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${a.includes}" \u0648\u0644\u0631\u064A`:a.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${a.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${i[a.format]??r.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${r.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${r.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${x(r.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${r.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${r.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function ff(){return{localeError:n1()}}var i1=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"liczba";case"object":{if(Array.isArray(r))return"tablica";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return r=>{switch(r.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${r.expected}, otrzymano ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${I(r.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${r.maximum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${r.minimum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${r.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${a.prefix}"`:a.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${a.suffix}"`:a.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${a.includes}"`:a.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${a.pattern}`:`Nieprawid\u0142ow(y/a/e) ${i[a.format]??r.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${r.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${r.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function gf(){return{localeError:i1()}}var a1=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(r))return"array";if(r===null)return"nulo";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${r.expected}, recebido ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Entrada inv\xE1lida: esperado ${I(r.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Muito grande: esperado que ${r.origin??"valor"} tivesse ${a}${r.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${r.origin??"valor"} fosse ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Muito pequeno: esperado que ${r.origin} tivesse ${a}${r.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${r.origin} fosse ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${a.prefix}"`:a.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto inv\xE1lido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${a.pattern}`:`${i[a.format]??r.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${x(r.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${r.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${r.origin}`;default:return"Campo inv\xE1lido"}}};function yf(){return{localeError:a1()}}function bf(t,e,n,i){let r=Math.abs(t),a=r%10,o=r%100;return o>=11&&o<=19?i:a===1?e:a>=2&&a<=4?n:i}var o1=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(r))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return r=>{switch(r.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${r.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${I(r.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);if(o){let s=Number(r.maximum),l=bf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${r.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);if(o){let s=Number(r.minimum),l=bf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${r.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${r.origin} \u0431\u0443\u0434\u0435\u0442 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${i[a.format]??r.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${r.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${r.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${r.keys.length>1?"\u0438":""}: ${x(r.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${r.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${r.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function vf(){return{localeError:o1()}}var s1=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(r))return"tabela";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${r.expected}, prejeto ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${I(r.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Preveliko: pri\u010Dakovano, da bo ${r.origin??"vrednost"} imelo ${a}${r.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${r.origin??"vrednost"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Premajhno: pri\u010Dakovano, da bo ${r.origin} imelo ${a}${r.minimum.toString()} ${o.unit}`:`Premajhno: pri\u010Dakovano, da bo ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${i[a.format]??r.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${x(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${r.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`;default:return"Neveljaven vnos"}}};function Tf(){return{localeError:s1()}}var l1=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"antal";case"object":{if(Array.isArray(r))return"lista";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${r.expected}, fick ${n(r.input)}`;case"invalid_value":return r.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${I(r.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`F\xF6r stor(t): f\xF6rv\xE4ntade ${r.origin??"v\xE4rdet"} att ha ${a}${r.maximum.toString()} ${o.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${r.origin??"v\xE4rdet"} att ha ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`F\xF6r lite(t): f\xF6rv\xE4ntade ${r.origin??"v\xE4rdet"} att ha ${a}${r.minimum.toString()} ${o.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${r.origin??"v\xE4rdet"} att ha ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${a.includes}"`:a.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${a.pattern}"`:`Ogiltig(t) ${i[a.format]??r.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${x(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${r.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function _f(){return{localeError:l1()}}var u1=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(r))return"\u0B85\u0BA3\u0BBF";if(r===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${I(r.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${x(r.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${r.maximum.toString()} ${o.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${r.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin} ${a}${r.minimum.toString()} ${o.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r.origin} ${a}${r.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${a.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${i[a.format]??r.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${r.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${r.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${x(r.keys,", ")}`;case"invalid_key":return`${r.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${r.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function xf(){return{localeError:u1()}}var c1=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(r))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(r===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return r=>{switch(r.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${r.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${I(r.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",o=e(r.origin);return o?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.maximum.toString()} ${o.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",o=e(r.origin);return o?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.minimum.toString()} ${o.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${r.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${a.prefix}"`:a.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${a.suffix}"`:a.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${a.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:a.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${a.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${i[a.format]??r.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${r.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${x(r.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${r.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${r.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function wf(){return{localeError:c1()}}var d1=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},m1=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(i){return t[i]??null}let n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return i=>{switch(i.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${i.expected}, al\u0131nan ${d1(i.input)}`;case"invalid_value":return i.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${I(i.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${x(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",a=e(i.origin);return a?`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${r}${i.maximum.toString()} ${a.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${r}${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",a=e(i.origin);return a?`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${r}${i.minimum.toString()} ${a.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${r}${i.minimum.toString()}`}case"invalid_format":{let r=i;return r.format==="starts_with"?`Ge\xE7ersiz metin: "${r.prefix}" ile ba\u015Flamal\u0131`:r.format==="ends_with"?`Ge\xE7ersiz metin: "${r.suffix}" ile bitmeli`:r.format==="includes"?`Ge\xE7ersiz metin: "${r.includes}" i\xE7ermeli`:r.format==="regex"?`Ge\xE7ersiz metin: ${r.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${n[r.format]??i.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${i.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${i.keys.length>1?"lar":""}: ${x(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${i.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function Sf(){return{localeError:m1()}}var h1=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(r))return"\u043C\u0430\u0441\u0438\u0432";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return r=>{switch(r.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${r.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${I(r.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${o.verb} ${a}${r.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin} ${o.verb} ${a}${r.minimum.toString()} ${o.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${r.origin} \u0431\u0443\u0434\u0435 ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${i[a.format]??r.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${r.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${r.keys.length>1?"\u0456":""}: ${x(r.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${r.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${r.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function Pf(){return{localeError:h1()}}var p1=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(r))return"\u0622\u0631\u06D2";if(r===null)return"\u0646\u0644";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return r=>{switch(r.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${r.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${n(r.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return r.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${I(r.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${x(r.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${r.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${a}${r.maximum.toString()} ${o.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${r.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${a}${r.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${r.origin} \u06A9\u06D2 ${a}${r.minimum.toString()} ${o.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${r.origin} \u06A9\u0627 ${a}${r.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${a.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${i[a.format]??r.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${r.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${r.keys.length>1?"\u0632":""}: ${x(r.keys,"\u060C ")}`;case"invalid_key":return`${r.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${r.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function kf(){return{localeError:p1()}}var f1=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(r))return"m\u1EA3ng";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return r=>{switch(r.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${r.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${I(r.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${r.origin??"gi\xE1 tr\u1ECB"} ${o.verb} ${a}${r.maximum.toString()} ${o.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${r.origin??"gi\xE1 tr\u1ECB"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${r.origin} ${o.verb} ${a}${r.minimum.toString()} ${o.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${a.prefix}"`:a.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${a.suffix}"`:a.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${a.includes}"`:a.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${a.pattern}`:`${i[a.format]??r.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${r.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${x(r.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${r.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${r.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function If(){return{localeError:f1()}}var g1=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(r))return"\u6570\u7EC4";if(r===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return r=>{switch(r.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${r.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${I(r.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${r.origin??"\u503C"} ${a}${r.maximum.toString()} ${o.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${r.origin??"\u503C"} ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${r.origin} ${a}${r.minimum.toString()} ${o.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${r.origin} ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.prefix}" \u5F00\u5934`:a.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.suffix}" \u7ED3\u5C3E`:a.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${a.pattern}`:`\u65E0\u6548${i[a.format]??r.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${r.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${x(r.keys,", ")}`;case"invalid_key":return`${r.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${r.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function $f(){return{localeError:g1()}}var y1=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(r){return t[r]??null}let n=r=>{let a=typeof r;switch(a){case"number":return Number.isNaN(r)?"NaN":"number";case"object":{if(Array.isArray(r))return"array";if(r===null)return"null";if(Object.getPrototypeOf(r)!==Object.prototype&&r.constructor)return r.constructor.name}}return a},i={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return r=>{switch(r.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${r.expected}\uFF0C\u4F46\u6536\u5230 ${n(r.input)}`;case"invalid_value":return r.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${I(r.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${x(r.values,"|")}`;case"too_big":{let a=r.inclusive?"<=":"<",o=e(r.origin);return o?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${r.origin??"\u503C"} \u61C9\u70BA ${a}${r.maximum.toString()} ${o.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${r.origin??"\u503C"} \u61C9\u70BA ${a}${r.maximum.toString()}`}case"too_small":{let a=r.inclusive?">=":">",o=e(r.origin);return o?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${r.origin} \u61C9\u70BA ${a}${r.minimum.toString()} ${o.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${r.origin} \u61C9\u70BA ${a}${r.minimum.toString()}`}case"invalid_format":{let a=r;return a.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.prefix}" \u958B\u982D`:a.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.suffix}" \u7D50\u5C3E`:a.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${a.pattern}`:`\u7121\u6548\u7684 ${i[a.format]??r.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${r.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${r.keys.length>1?"\u5011":""}\uFF1A${x(r.keys,"\u3001")}`;case"invalid_key":return`${r.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${r.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function Af(){return{localeError:y1()}}var xc=Symbol("ZodOutput"),wc=Symbol("ZodInput"),wr=class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...n){let i=n[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){let n=e._zod.parent;if(n){let i={...this.get(n)??{}};return delete i.id,{...i,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function ta(){return new wr}var it=ta();function Sc(t,e){return new t({type:"string",...P(e)})}function Pc(t,e){return new t({type:"string",coerce:!0,...P(e)})}function ra(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...P(e)})}function Mn(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...P(e)})}function na(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...P(e)})}function ia(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...P(e)})}function aa(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...P(e)})}function oa(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...P(e)})}function sa(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...P(e)})}function la(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...P(e)})}function ua(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...P(e)})}function ca(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...P(e)})}function da(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...P(e)})}function ma(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...P(e)})}function ha(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...P(e)})}function pa(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...P(e)})}function fa(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...P(e)})}function ga(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...P(e)})}function ya(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...P(e)})}function ba(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...P(e)})}function va(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...P(e)})}function Ta(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...P(e)})}function _a(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...P(e)})}function xa(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...P(e)})}var kc={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Ic(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...P(e)})}function $c(t,e){return new t({type:"string",format:"date",check:"string_format",...P(e)})}function Ac(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...P(e)})}function Ec(t,e){return new t({type:"string",format:"duration",check:"string_format",...P(e)})}function Rc(t,e){return new t({type:"number",checks:[],...P(e)})}function Mc(t,e){return new t({type:"number",coerce:!0,checks:[],...P(e)})}function Dc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...P(e)})}function Cc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...P(e)})}function Uc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...P(e)})}function Nc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...P(e)})}function zc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...P(e)})}function Oc(t,e){return new t({type:"boolean",...P(e)})}function jc(t,e){return new t({type:"boolean",coerce:!0,...P(e)})}function Lc(t,e){return new t({type:"bigint",...P(e)})}function Bc(t,e){return new t({type:"bigint",coerce:!0,...P(e)})}function Gc(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...P(e)})}function Fc(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...P(e)})}function Zc(t,e){return new t({type:"symbol",...P(e)})}function Wc(t,e){return new t({type:"undefined",...P(e)})}function qc(t,e){return new t({type:"null",...P(e)})}function Vc(t){return new t({type:"any"})}function Sr(t){return new t({type:"unknown"})}function Hc(t,e){return new t({type:"never",...P(e)})}function Yc(t,e){return new t({type:"void",...P(e)})}function Xc(t,e){return new t({type:"date",...P(e)})}function Kc(t,e){return new t({type:"date",coerce:!0,...P(e)})}function Jc(t,e){return new t({type:"nan",...P(e)})}function ft(t,e){return new Vi({check:"less_than",...P(e),value:t,inclusive:!1})}function We(t,e){return new Vi({check:"less_than",...P(e),value:t,inclusive:!0})}function gt(t,e){return new Hi({check:"greater_than",...P(e),value:t,inclusive:!1})}function Ne(t,e){return new Hi({check:"greater_than",...P(e),value:t,inclusive:!0})}function Qc(t){return gt(0,t)}function ed(t){return ft(0,t)}function td(t){return We(0,t)}function rd(t){return Ne(0,t)}function Qt(t,e){return new eu({check:"multiple_of",...P(e),value:t})}function Pr(t,e){return new nu({check:"max_size",...P(e),maximum:t})}function er(t,e){return new iu({check:"min_size",...P(e),minimum:t})}function Dn(t,e){return new au({check:"size_equals",...P(e),size:t})}function kr(t,e){return new ou({check:"max_length",...P(e),maximum:t})}function $t(t,e){return new su({check:"min_length",...P(e),minimum:t})}function Ir(t,e){return new lu({check:"length_equals",...P(e),length:t})}function Cn(t,e){return new uu({check:"string_format",format:"regex",...P(e),pattern:t})}function Un(t){return new cu({check:"string_format",format:"lowercase",...P(t)})}function Nn(t){return new du({check:"string_format",format:"uppercase",...P(t)})}function zn(t,e){return new mu({check:"string_format",format:"includes",...P(e),includes:t})}function On(t,e){return new hu({check:"string_format",format:"starts_with",...P(e),prefix:t})}function jn(t,e){return new pu({check:"string_format",format:"ends_with",...P(e),suffix:t})}function nd(t,e,n){return new fu({check:"property",property:t,schema:e,...P(n)})}function Ln(t,e){return new gu({check:"mime_type",mime:t,...P(e)})}function yt(t){return new yu({check:"overwrite",tx:t})}function Bn(t){return yt(e=>e.normalize(t))}function Gn(){return yt(t=>t.trim())}function Fn(){return yt(t=>t.toLowerCase())}function Zn(){return yt(t=>t.toUpperCase())}function Wn(t,e,n){return new t({type:"array",element:e,...P(n)})}function b1(t,e,n){return new t({type:"union",options:e,...P(n)})}function v1(t,e,n,i){return new t({type:"union",options:n,discriminator:e,...P(i)})}function T1(t,e,n){return new t({type:"intersection",left:e,right:n})}function id(t,e,n,i){let r=n instanceof D,a=r?i:n,o=r?n:null;return new t({type:"tuple",items:e,rest:o,...P(a)})}function _1(t,e,n,i){return new t({type:"record",keyType:e,valueType:n,...P(i)})}function x1(t,e,n,i){return new t({type:"map",keyType:e,valueType:n,...P(i)})}function w1(t,e,n){return new t({type:"set",valueType:e,...P(n)})}function S1(t,e,n){let i=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new t({type:"enum",entries:i,...P(n)})}function P1(t,e,n){return new t({type:"enum",entries:e,...P(n)})}function k1(t,e,n){return new t({type:"literal",values:Array.isArray(e)?e:[e],...P(n)})}function ad(t,e){return new t({type:"file",...P(e)})}function I1(t,e){return new t({type:"transform",transform:e})}function $1(t,e){return new t({type:"optional",innerType:e})}function A1(t,e){return new t({type:"nullable",innerType:e})}function E1(t,e,n){return new t({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():n}})}function R1(t,e,n){return new t({type:"nonoptional",innerType:e,...P(n)})}function M1(t,e){return new t({type:"success",innerType:e})}function D1(t,e,n){return new t({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}function C1(t,e,n){return new t({type:"pipe",in:e,out:n})}function U1(t,e){return new t({type:"readonly",innerType:e})}function N1(t,e,n){return new t({type:"template_literal",parts:e,...P(n)})}function z1(t,e){return new t({type:"lazy",getter:e})}function O1(t,e){return new t({type:"promise",innerType:e})}function od(t,e,n){let i=P(n);return i.abort??(i.abort=!0),new t({type:"custom",check:"custom",fn:e,...i})}function sd(t,e,n){return new t({type:"custom",check:"custom",fn:e,...P(n)})}function ld(t,e){let n=P(e),i=n.truthy??["true","1","yes","on","y","enabled"],r=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(i=i.map(p=>typeof p=="string"?p.toLowerCase():p),r=r.map(p=>typeof p=="string"?p.toLowerCase():p));let a=new Set(i),o=new Set(r),s=t.Pipe??En,l=t.Boolean??In,c=t.String??Kt,u=t.Transform??An,d=new u({type:"transform",transform:(p,v)=>{let T=p;return n.case!=="sensitive"&&(T=T.toLowerCase()),a.has(T)?!0:o.has(T)?!1:(v.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:v.value,inst:d}),{})},error:n.error}),h=new s({type:"pipe",in:new c({type:"string",error:n.error}),out:d,error:n.error});return new s({type:"pipe",in:h,out:new l({type:"boolean",error:n.error}),error:n.error})}function ud(t,e,n,i={}){let r=P(i),a={...P(i),check:"string_format",type:"string",format:e,fn:typeof n=="function"?n:s=>n.test(s),...r};return n instanceof RegExp&&(a.pattern=n),new t(a)}var wa=class{constructor(e){this._def=e,this.def=e}implement(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let n=(...i)=>{let r=this._def.input?Bi(this._def.input,i,void 0,{callee:n}):i;if(!Array.isArray(r))throw new Error("Invalid arguments schema: not an array or tuple schema.");let a=e(...r);return this._def.output?Bi(this._def.output,a,void 0,{callee:n}):a};return n}implementAsync(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let n=async(...i)=>{let r=this._def.input?await Fi(this._def.input,i,void 0,{callee:n}):i;if(!Array.isArray(r))throw new Error("Invalid arguments schema: not an array or tuple schema.");let a=await e(...r);return this._def.output?Fi(this._def.output,a,void 0,{callee:n}):a};return n}input(...e){let n=this.constructor;return Array.isArray(e[0])?new n({type:"function",input:new Jt({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}):new n({type:"function",input:e[0],output:this._def.output})}output(e){let n=this.constructor;return new n({type:"function",input:this._def.input,output:e})}};function cd(t){return new wa({type:"function",input:Array.isArray(t?.input)?id(Jt,t?.input):t?.input??Wn($n,Sr(xr)),output:t?.output??Sr(xr)})}var qn=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??it,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,n={path:[],schemaPath:[]}){var i;let r=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;let s={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(e,s);let l=e._zod.toJSONSchema?.();if(l)s.schema=l;else{let d={...n,schemaPath:[...n.schemaPath,e],path:n.path},h=e._zod.parent;if(h)s.ref=h,this.process(h,d),this.seen.get(h).isParent=!0;else{let f=s.schema;switch(r.type){case"string":{let p=f;p.type="string";let{minimum:v,maximum:T,format:A,patterns:k,contentEncoding:b}=e._zod.bag;if(typeof v=="number"&&(p.minLength=v),typeof T=="number"&&(p.maxLength=T),A&&(p.format=a[A]??A,p.format===""&&delete p.format),b&&(p.contentEncoding=b),k&&k.size>0){let w=[...k];w.length===1?p.pattern=w[0].source:w.length>1&&(s.schema.allOf=[...w.map(C=>({...this.target==="draft-7"?{type:"string"}:{},pattern:C.source}))])}break}case"number":{let p=f,{minimum:v,maximum:T,format:A,multipleOf:k,exclusiveMaximum:b,exclusiveMinimum:w}=e._zod.bag;typeof A=="string"&&A.includes("int")?p.type="integer":p.type="number",typeof w=="number"&&(p.exclusiveMinimum=w),typeof v=="number"&&(p.minimum=v,typeof w=="number"&&(w>=v?delete p.minimum:delete p.exclusiveMinimum)),typeof b=="number"&&(p.exclusiveMaximum=b),typeof T=="number"&&(p.maximum=T,typeof b=="number"&&(b<=T?delete p.maximum:delete p.exclusiveMaximum)),typeof k=="number"&&(p.multipleOf=k);break}case"boolean":{let p=f;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{f.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{f.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let p=f,{minimum:v,maximum:T}=e._zod.bag;typeof v=="number"&&(p.minItems=v),typeof T=="number"&&(p.maxItems=T),p.type="array",p.items=this.process(r.element,{...d,path:[...d.path,"items"]});break}case"object":{let p=f;p.type="object",p.properties={};let v=r.shape;for(let k in v)p.properties[k]=this.process(v[k],{...d,path:[...d.path,"properties",k]});let T=new Set(Object.keys(v)),A=new Set([...T].filter(k=>{let b=r.shape[k]._zod;return this.io==="input"?b.optin===void 0:b.optout===void 0}));A.size>0&&(p.required=Array.from(A)),r.catchall?._zod.def.type==="never"?p.additionalProperties=!1:r.catchall?r.catchall&&(p.additionalProperties=this.process(r.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{let p=f;p.anyOf=r.options.map((v,T)=>this.process(v,{...d,path:[...d.path,"anyOf",T]}));break}case"intersection":{let p=f,v=this.process(r.left,{...d,path:[...d.path,"allOf",0]}),T=this.process(r.right,{...d,path:[...d.path,"allOf",1]}),A=b=>"allOf"in b&&Object.keys(b).length===1,k=[...A(v)?v.allOf:[v],...A(T)?T.allOf:[T]];p.allOf=k;break}case"tuple":{let p=f;p.type="array";let v=r.items.map((k,b)=>this.process(k,{...d,path:[...d.path,"prefixItems",b]}));if(this.target==="draft-2020-12"?p.prefixItems=v:p.items=v,r.rest){let k=this.process(r.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?p.items=k:p.additionalItems=k}r.rest&&(p.items=this.process(r.rest,{...d,path:[...d.path,"items"]}));let{minimum:T,maximum:A}=e._zod.bag;typeof T=="number"&&(p.minItems=T),typeof A=="number"&&(p.maxItems=A);break}case"record":{let p=f;p.type="object",p.propertyNames=this.process(r.keyType,{...d,path:[...d.path,"propertyNames"]}),p.additionalProperties=this.process(r.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let p=f,v=yn(r.entries);v.every(T=>typeof T=="number")&&(p.type="number"),v.every(T=>typeof T=="string")&&(p.type="string"),p.enum=v;break}case"literal":{let p=f,v=[];for(let T of r.values)if(T===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof T=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(T))}else v.push(T);if(v.length!==0)if(v.length===1){let T=v[0];p.type=T===null?"null":typeof T,p.const=T}else v.every(T=>typeof T=="number")&&(p.type="number"),v.every(T=>typeof T=="string")&&(p.type="string"),v.every(T=>typeof T=="boolean")&&(p.type="string"),v.every(T=>T===null)&&(p.type="null"),p.enum=v;break}case"file":{let p=f,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:T,maximum:A,mime:k}=e._zod.bag;T!==void 0&&(v.minLength=T),A!==void 0&&(v.maxLength=A),k?k.length===1?(v.contentMediaType=k[0],Object.assign(p,v)):p.anyOf=k.map(b=>({...v,contentMediaType:b})):Object.assign(p,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let p=this.process(r.innerType,d);f.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(r.innerType,d),s.ref=r.innerType;break}case"success":{let p=f;p.type="boolean";break}case"default":{this.process(r.innerType,d),s.ref=r.innerType,f.default=JSON.parse(JSON.stringify(r.defaultValue));break}case"prefault":{this.process(r.innerType,d),s.ref=r.innerType,this.io==="input"&&(f._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break}case"catch":{this.process(r.innerType,d),s.ref=r.innerType;let p;try{p=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}f.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let p=f,v=e._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=v.source;break}case"pipe":{let p=this.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;this.process(p,d),s.ref=p;break}case"readonly":{this.process(r.innerType,d),s.ref=r.innerType,f.readOnly=!0;break}case"promise":{this.process(r.innerType,d),s.ref=r.innerType;break}case"optional":{this.process(r.innerType,d),s.ref=r.innerType;break}case"lazy":{let p=e._zod.innerType;this.process(p,d),s.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}default:}}}let c=this.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),this.io==="input"&&ye(e)&&(delete s.schema.examples,delete s.schema.default),this.io==="input"&&s.schema._prefault&&((i=s.schema).default??(i.default=s.schema._prefault)),delete s.schema._prefault,this.seen.get(e).schema}emit(e,n){let i={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let a=u=>{let d=this.target==="draft-2020-12"?"$defs":"definitions";if(i.external){let v=i.external.registry.get(u[0])?.id,T=i.external.uri??(k=>k);if(v)return{ref:T(v)};let A=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=A,{defId:A,ref:`${T("__shared")}#/${d}/${A}`}}if(u[1]===r)return{ref:"#"};let f=`#/${d}/`,p=u[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:f+p}},o=u=>{if(u[1].schema.$ref)return;let d=u[1],{ref:h,defId:f}=a(u);d.def={...d.schema},f&&(d.defId=f);let p=d.schema;for(let v in p)delete p[v];p.$ref=h};if(i.cycles==="throw")for(let u of this.seen.entries()){let d=u[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let u of this.seen.entries()){let d=u[1];if(e===u[0]){o(u);continue}if(i.external){let f=i.external.registry.get(u[0])?.id;if(e!==u[0]&&f){o(u);continue}}if(this.metadataRegistry.get(u[0])?.id){o(u);continue}if(d.cycle){o(u);continue}if(d.count>1&&i.reused==="ref"){o(u);continue}}let s=(u,d)=>{let h=this.seen.get(u),f=h.def??h.schema,p={...f};if(h.ref===null)return;let v=h.ref;if(h.ref=null,v){s(v,d);let T=this.seen.get(v).schema;T.$ref&&d.target==="draft-7"?(f.allOf=f.allOf??[],f.allOf.push(T)):(Object.assign(f,T),Object.assign(f,p))}h.isParent||this.override({zodSchema:u,jsonSchema:f,path:h.path??[]})};for(let u of[...this.seen.entries()].reverse())s(u[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),i.external?.uri){let u=i.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");l.$id=i.external.uri(u)}Object.assign(l,r.def);let c=i.external?.defs??{};for(let u of this.seen.entries()){let d=u[1];d.def&&d.defId&&(c[d.defId]=d.def)}i.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function dd(t,e){if(t instanceof wr){let i=new qn(e),r={};for(let s of t._idmap.entries()){let[l,c]=s;i.process(c)}let a={},o={registry:t,uri:e?.uri,defs:r};for(let s of t._idmap.entries()){let[l,c]=s;a[l]=i.emit(c,{...e,external:o})}if(Object.keys(r).length>0){let s=i.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[s]:r}}return{schemas:a}}let n=new qn(e);return n.process(t),n.emit(t,e)}function ye(t,e){let n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);let r=t._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return ye(r.element,n);case"object":{for(let a in r.shape)if(ye(r.shape[a],n))return!0;return!1}case"union":{for(let a of r.options)if(ye(a,n))return!0;return!1}case"intersection":return ye(r.left,n)||ye(r.right,n);case"tuple":{for(let a of r.items)if(ye(a,n))return!0;return!!(r.rest&&ye(r.rest,n))}case"record":return ye(r.keyType,n)||ye(r.valueType,n);case"map":return ye(r.keyType,n)||ye(r.valueType,n);case"set":return ye(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return ye(r.innerType,n);case"lazy":return ye(r.getter(),n);case"default":return ye(r.innerType,n);case"prefault":return ye(r.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return ye(r.in,n)||ye(r.out,n);case"success":return!1;case"catch":return!1;default:}throw new Error(`Unknown schema type: ${r.type}`)}var Ef={};var $a={};Wt($a,{ZodISODate:()=>Pa,ZodISODateTime:()=>Sa,ZodISODuration:()=>Ia,ZodISOTime:()=>ka,date:()=>hd,datetime:()=>md,duration:()=>fd,time:()=>pd});var Sa=y("ZodISODateTime",(t,e)=>{Ru.init(t,e),J.init(t,e)});function md(t){return Ic(Sa,t)}var Pa=y("ZodISODate",(t,e)=>{Mu.init(t,e),J.init(t,e)});function hd(t){return $c(Pa,t)}var ka=y("ZodISOTime",(t,e)=>{Du.init(t,e),J.init(t,e)});function pd(t){return Ac(ka,t)}var Ia=y("ZodISODuration",(t,e)=>{Cu.init(t,e),J.init(t,e)});function fd(t){return Ec(Ia,t)}var Mf=(t,e)=>{wn.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Pn(t,n)},flatten:{value:n=>Sn(t,n)},addIssue:{value:n=>t.issues.push(n)},addIssues:{value:n=>t.issues.push(...n)},isEmpty:{get(){return t.issues.length===0}}})},L1=y("ZodError",Mf),$r=y("ZodError",Mf,{Parent:Error});var gd=Li($r),yd=Gi($r),bd=Zi($r),vd=Wi($r);var z=y("ZodType",(t,e)=>(D.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone({...e,checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),t.clone=(n,i)=>Oe(t,n,i),t.brand=()=>t,t.register=(n,i)=>(n.add(t,i),t),t.parse=(n,i)=>gd(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>bd(t,n,i),t.parseAsync=async(n,i)=>yd(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>vd(t,n,i),t.spa=t.safeParseAsync,t.refine=(n,i)=>t.check(vg(n,i)),t.superRefine=n=>t.check(Tg(n)),t.overwrite=n=>t.check(yt(n)),t.optional=()=>Ra(t),t.nullable=()=>Ma(t),t.nullish=()=>Ra(Ma(t)),t.nonoptional=n=>sg(t,n),t.array=()=>Bd(t),t.or=n=>za([t,n]),t.and=n=>Vf(t,n),t.transform=n=>Da(t,Wd(n)),t.default=n=>ig(t,n),t.prefault=n=>og(t,n),t.catch=n=>cg(t,n),t.pipe=n=>Da(t,n),t.readonly=()=>hg(t),t.describe=n=>{let i=t.clone();return it.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){return it.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return it.get(t);let i=t.clone();return it.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),xd=y("_ZodString",(t,e)=>{Kt.init(t,e),z.init(t,e);let n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(Cn(...i)),t.includes=(...i)=>t.check(zn(...i)),t.startsWith=(...i)=>t.check(On(...i)),t.endsWith=(...i)=>t.check(jn(...i)),t.min=(...i)=>t.check($t(...i)),t.max=(...i)=>t.check(kr(...i)),t.length=(...i)=>t.check(Ir(...i)),t.nonempty=(...i)=>t.check($t(1,...i)),t.lowercase=i=>t.check(Un(i)),t.uppercase=i=>t.check(Nn(i)),t.trim=()=>t.check(Gn()),t.normalize=(...i)=>t.check(Bn(...i)),t.toLowerCase=()=>t.check(Fn()),t.toUpperCase=()=>t.check(Zn())}),Hn=y("ZodString",(t,e)=>{Kt.init(t,e),xd.init(t,e),t.email=n=>t.check(ra(wd,n)),t.url=n=>t.check(sa(Sd,n)),t.jwt=n=>t.check(xa(jd,n)),t.emoji=n=>t.check(la(Pd,n)),t.guid=n=>t.check(Mn(Aa,n)),t.uuid=n=>t.check(na(vt,n)),t.uuidv4=n=>t.check(ia(vt,n)),t.uuidv6=n=>t.check(aa(vt,n)),t.uuidv7=n=>t.check(oa(vt,n)),t.nanoid=n=>t.check(ua(kd,n)),t.guid=n=>t.check(Mn(Aa,n)),t.cuid=n=>t.check(ca(Id,n)),t.cuid2=n=>t.check(da($d,n)),t.ulid=n=>t.check(ma(Ad,n)),t.base64=n=>t.check(va(Nd,n)),t.base64url=n=>t.check(Ta(zd,n)),t.xid=n=>t.check(ha(Ed,n)),t.ksuid=n=>t.check(pa(Rd,n)),t.ipv4=n=>t.check(fa(Md,n)),t.ipv6=n=>t.check(ga(Dd,n)),t.cidrv4=n=>t.check(ya(Cd,n)),t.cidrv6=n=>t.check(ba(Ud,n)),t.e164=n=>t.check(_a(Od,n)),t.datetime=n=>t.check(md(n)),t.date=n=>t.check(hd(n)),t.time=n=>t.check(pd(n)),t.duration=n=>t.check(fd(n))});function Td(t){return Sc(Hn,t)}var J=y("ZodStringFormat",(t,e)=>{Y.init(t,e),xd.init(t,e)}),wd=y("ZodEmail",(t,e)=>{xu.init(t,e),J.init(t,e)});function G1(t){return ra(wd,t)}var Aa=y("ZodGUID",(t,e)=>{Tu.init(t,e),J.init(t,e)});function F1(t){return Mn(Aa,t)}var vt=y("ZodUUID",(t,e)=>{_u.init(t,e),J.init(t,e)});function Z1(t){return na(vt,t)}function W1(t){return ia(vt,t)}function q1(t){return aa(vt,t)}function V1(t){return oa(vt,t)}var Sd=y("ZodURL",(t,e)=>{wu.init(t,e),J.init(t,e)});function H1(t){return sa(Sd,t)}var Pd=y("ZodEmoji",(t,e)=>{Su.init(t,e),J.init(t,e)});function Y1(t){return la(Pd,t)}var kd=y("ZodNanoID",(t,e)=>{Pu.init(t,e),J.init(t,e)});function X1(t){return ua(kd,t)}var Id=y("ZodCUID",(t,e)=>{ku.init(t,e),J.init(t,e)});function K1(t){return ca(Id,t)}var $d=y("ZodCUID2",(t,e)=>{Iu.init(t,e),J.init(t,e)});function J1(t){return da($d,t)}var Ad=y("ZodULID",(t,e)=>{$u.init(t,e),J.init(t,e)});function Q1(t){return ma(Ad,t)}var Ed=y("ZodXID",(t,e)=>{Au.init(t,e),J.init(t,e)});function e_(t){return ha(Ed,t)}var Rd=y("ZodKSUID",(t,e)=>{Eu.init(t,e),J.init(t,e)});function t_(t){return pa(Rd,t)}var Md=y("ZodIPv4",(t,e)=>{Uu.init(t,e),J.init(t,e)});function r_(t){return fa(Md,t)}var Dd=y("ZodIPv6",(t,e)=>{Nu.init(t,e),J.init(t,e)});function n_(t){return ga(Dd,t)}var Cd=y("ZodCIDRv4",(t,e)=>{zu.init(t,e),J.init(t,e)});function i_(t){return ya(Cd,t)}var Ud=y("ZodCIDRv6",(t,e)=>{Ou.init(t,e),J.init(t,e)});function a_(t){return ba(Ud,t)}var Nd=y("ZodBase64",(t,e)=>{Lu.init(t,e),J.init(t,e)});function o_(t){return va(Nd,t)}var zd=y("ZodBase64URL",(t,e)=>{Bu.init(t,e),J.init(t,e)});function s_(t){return Ta(zd,t)}var Od=y("ZodE164",(t,e)=>{Gu.init(t,e),J.init(t,e)});function l_(t){return _a(Od,t)}var jd=y("ZodJWT",(t,e)=>{Fu.init(t,e),J.init(t,e)});function u_(t){return xa(jd,t)}var Df=y("ZodCustomStringFormat",(t,e)=>{Zu.init(t,e),J.init(t,e)});function c_(t,e,n={}){return ud(Df,t,e,n)}var Yn=y("ZodNumber",(t,e)=>{Ki.init(t,e),z.init(t,e),t.gt=(i,r)=>t.check(gt(i,r)),t.gte=(i,r)=>t.check(Ne(i,r)),t.min=(i,r)=>t.check(Ne(i,r)),t.lt=(i,r)=>t.check(ft(i,r)),t.lte=(i,r)=>t.check(We(i,r)),t.max=(i,r)=>t.check(We(i,r)),t.int=i=>t.check(_d(i)),t.safe=i=>t.check(_d(i)),t.positive=i=>t.check(gt(0,i)),t.nonnegative=i=>t.check(Ne(0,i)),t.negative=i=>t.check(ft(0,i)),t.nonpositive=i=>t.check(We(0,i)),t.multipleOf=(i,r)=>t.check(Qt(i,r)),t.step=(i,r)=>t.check(Qt(i,r)),t.finite=()=>t;let n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Cf(t){return Rc(Yn,t)}var Ar=y("ZodNumberFormat",(t,e)=>{Wu.init(t,e),Yn.init(t,e)});function _d(t){return Dc(Ar,t)}function d_(t){return Cc(Ar,t)}function m_(t){return Uc(Ar,t)}function h_(t){return Nc(Ar,t)}function p_(t){return zc(Ar,t)}var Xn=y("ZodBoolean",(t,e)=>{In.init(t,e),z.init(t,e)});function Uf(t){return Oc(Xn,t)}var Kn=y("ZodBigInt",(t,e)=>{Ji.init(t,e),z.init(t,e),t.gte=(i,r)=>t.check(Ne(i,r)),t.min=(i,r)=>t.check(Ne(i,r)),t.gt=(i,r)=>t.check(gt(i,r)),t.gte=(i,r)=>t.check(Ne(i,r)),t.min=(i,r)=>t.check(Ne(i,r)),t.lt=(i,r)=>t.check(ft(i,r)),t.lte=(i,r)=>t.check(We(i,r)),t.max=(i,r)=>t.check(We(i,r)),t.positive=i=>t.check(gt(BigInt(0),i)),t.negative=i=>t.check(ft(BigInt(0),i)),t.nonpositive=i=>t.check(We(BigInt(0),i)),t.nonnegative=i=>t.check(Ne(BigInt(0),i)),t.multipleOf=(i,r)=>t.check(Qt(i,r));let n=t._zod.bag;t.minValue=n.minimum??null,t.maxValue=n.maximum??null,t.format=n.format??null});function f_(t){return Lc(Kn,t)}var Ld=y("ZodBigIntFormat",(t,e)=>{qu.init(t,e),Kn.init(t,e)});function g_(t){return Gc(Ld,t)}function y_(t){return Fc(Ld,t)}var Nf=y("ZodSymbol",(t,e)=>{Vu.init(t,e),z.init(t,e)});function b_(t){return Zc(Nf,t)}var zf=y("ZodUndefined",(t,e)=>{Hu.init(t,e),z.init(t,e)});function v_(t){return Wc(zf,t)}var Of=y("ZodNull",(t,e)=>{Yu.init(t,e),z.init(t,e)});function jf(t){return qc(Of,t)}var Lf=y("ZodAny",(t,e)=>{Xu.init(t,e),z.init(t,e)});function T_(){return Vc(Lf)}var Bf=y("ZodUnknown",(t,e)=>{xr.init(t,e),z.init(t,e)});function Ea(){return Sr(Bf)}var Gf=y("ZodNever",(t,e)=>{Ku.init(t,e),z.init(t,e)});function Ca(t){return Hc(Gf,t)}var Ff=y("ZodVoid",(t,e)=>{Ju.init(t,e),z.init(t,e)});function __(t){return Yc(Ff,t)}var Ua=y("ZodDate",(t,e)=>{Qu.init(t,e),z.init(t,e),t.min=(i,r)=>t.check(Ne(i,r)),t.max=(i,r)=>t.check(We(i,r));let n=t._zod.bag;t.minDate=n.minimum?new Date(n.minimum):null,t.maxDate=n.maximum?new Date(n.maximum):null});function x_(t){return Xc(Ua,t)}var Zf=y("ZodArray",(t,e)=>{$n.init(t,e),z.init(t,e),t.element=e.element,t.min=(n,i)=>t.check($t(n,i)),t.nonempty=n=>t.check($t(1,n)),t.max=(n,i)=>t.check(kr(n,i)),t.length=(n,i)=>t.check(Ir(n,i)),t.unwrap=()=>t.element});function Bd(t,e){return Wn(Zf,t,e)}function w_(t){let e=t._zod.def.shape;return eg(Object.keys(e))}var Na=y("ZodObject",(t,e)=>{ec.init(t,e),z.init(t,e),$.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>Jf(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Ea()}),t.loose=()=>t.clone({...t._zod.def,catchall:Ea()}),t.strict=()=>t.clone({...t._zod.def,catchall:Ca()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>$.extend(t,n),t.merge=n=>$.merge(t,n),t.pick=n=>$.pick(t,n),t.omit=n=>$.omit(t,n),t.partial=(...n)=>$.partial(qd,t,n[0]),t.required=(...n)=>$.required(Vd,t,n[0])});function S_(t,e){let n={type:"object",get shape(){return $.assignProp(this,"shape",{...t}),this.shape},...$.normalizeParams(e)};return new Na(n)}function P_(t,e){return new Na({type:"object",get shape(){return $.assignProp(this,"shape",{...t}),this.shape},catchall:Ca(),...$.normalizeParams(e)})}function k_(t,e){return new Na({type:"object",get shape(){return $.assignProp(this,"shape",{...t}),this.shape},catchall:Ea(),...$.normalizeParams(e)})}var Gd=y("ZodUnion",(t,e)=>{Qi.init(t,e),z.init(t,e),t.options=e.options});function za(t,e){return new Gd({type:"union",options:t,...$.normalizeParams(e)})}var Wf=y("ZodDiscriminatedUnion",(t,e)=>{Gd.init(t,e),tc.init(t,e)});function I_(t,e,n){return new Wf({type:"union",options:e,discriminator:t,...$.normalizeParams(n)})}var qf=y("ZodIntersection",(t,e)=>{rc.init(t,e),z.init(t,e)});function Vf(t,e){return new qf({type:"intersection",left:t,right:e})}var Hf=y("ZodTuple",(t,e)=>{Jt.init(t,e),z.init(t,e),t.rest=n=>t.clone({...t._zod.def,rest:n})});function $_(t,e,n){let i=e instanceof D,r=i?n:e,a=i?e:null;return new Hf({type:"tuple",items:t,rest:a,...$.normalizeParams(r)})}var Fd=y("ZodRecord",(t,e)=>{nc.init(t,e),z.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Yf(t,e,n){return new Fd({type:"record",keyType:t,valueType:e,...$.normalizeParams(n)})}function A_(t,e,n){return new Fd({type:"record",keyType:za([t,Ca()]),valueType:e,...$.normalizeParams(n)})}var Xf=y("ZodMap",(t,e)=>{ic.init(t,e),z.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function E_(t,e,n){return new Xf({type:"map",keyType:t,valueType:e,...$.normalizeParams(n)})}var Kf=y("ZodSet",(t,e)=>{ac.init(t,e),z.init(t,e),t.min=(...n)=>t.check(er(...n)),t.nonempty=n=>t.check(er(1,n)),t.max=(...n)=>t.check(Pr(...n)),t.size=(...n)=>t.check(Dn(...n))});function R_(t,e){return new Kf({type:"set",valueType:t,...$.normalizeParams(e)})}var Vn=y("ZodEnum",(t,e)=>{oc.init(t,e),z.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let n=new Set(Object.keys(e.entries));t.extract=(i,r)=>{let a={};for(let o of i)if(n.has(o))a[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Vn({...e,checks:[],...$.normalizeParams(r),entries:a})},t.exclude=(i,r)=>{let a={...e.entries};for(let o of i)if(n.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new Vn({...e,checks:[],...$.normalizeParams(r),entries:a})}});function Jf(t,e){let n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new Vn({type:"enum",entries:n,...$.normalizeParams(e)})}function M_(t,e){return new Vn({type:"enum",entries:t,...$.normalizeParams(e)})}var Qf=y("ZodLiteral",(t,e)=>{sc.init(t,e),z.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function eg(t,e){return new Qf({type:"literal",values:Array.isArray(t)?t:[t],...$.normalizeParams(e)})}var tg=y("ZodFile",(t,e)=>{lc.init(t,e),z.init(t,e),t.min=(n,i)=>t.check(er(n,i)),t.max=(n,i)=>t.check(Pr(n,i)),t.mime=(n,i)=>t.check(Ln(Array.isArray(n)?n:[n],i))});function D_(t){return ad(tg,t)}var Zd=y("ZodTransform",(t,e)=>{An.init(t,e),z.init(t,e),t._zod.parse=(n,i)=>{n.addIssue=a=>{if(typeof a=="string")n.issues.push($.issue(a,n.value,e));else{let o=a;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!0),n.issues.push($.issue(o))}};let r=e.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function Wd(t){return new Zd({type:"transform",transform:t})}var qd=y("ZodOptional",(t,e)=>{uc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ra(t){return new qd({type:"optional",innerType:t})}var rg=y("ZodNullable",(t,e)=>{cc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ma(t){return new rg({type:"nullable",innerType:t})}function C_(t){return Ra(Ma(t))}var ng=y("ZodDefault",(t,e)=>{dc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function ig(t,e){return new ng({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var ag=y("ZodPrefault",(t,e)=>{mc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType});function og(t,e){return new ag({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var Vd=y("ZodNonOptional",(t,e)=>{hc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType});function sg(t,e){return new Vd({type:"nonoptional",innerType:t,...$.normalizeParams(e)})}var lg=y("ZodSuccess",(t,e)=>{pc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType});function U_(t){return new lg({type:"success",innerType:t})}var ug=y("ZodCatch",(t,e)=>{fc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function cg(t,e){return new ug({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var dg=y("ZodNaN",(t,e)=>{gc.init(t,e),z.init(t,e)});function N_(t){return Jc(dg,t)}var Hd=y("ZodPipe",(t,e)=>{En.init(t,e),z.init(t,e),t.in=e.in,t.out=e.out});function Da(t,e){return new Hd({type:"pipe",in:t,out:e})}var mg=y("ZodReadonly",(t,e)=>{yc.init(t,e),z.init(t,e)});function hg(t){return new mg({type:"readonly",innerType:t})}var pg=y("ZodTemplateLiteral",(t,e)=>{bc.init(t,e),z.init(t,e)});function z_(t,e){return new pg({type:"template_literal",parts:t,...$.normalizeParams(e)})}var fg=y("ZodLazy",(t,e)=>{Tc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.getter()});function gg(t){return new fg({type:"lazy",getter:t})}var yg=y("ZodPromise",(t,e)=>{vc.init(t,e),z.init(t,e),t.unwrap=()=>t._zod.def.innerType});function O_(t){return new yg({type:"promise",innerType:t})}var Oa=y("ZodCustom",(t,e)=>{_c.init(t,e),z.init(t,e)});function bg(t){let e=new oe({check:"custom"});return e._zod.check=t,e}function j_(t,e){return od(Oa,t??(()=>!0),e)}function vg(t,e={}){return sd(Oa,t,e)}function Tg(t){let e=bg(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push($.issue(i,n.value,e._zod.def));else{let r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push($.issue(r))}},t(n.value,n)));return e}function L_(t,e={error:`Input not instance of ${t.name}`}){let n=new Oa({type:"custom",check:"custom",fn:i=>i instanceof t,abort:!0,...$.normalizeParams(e)});return n._zod.bag.Class=t,n}var B_=(...t)=>ld({Pipe:Hd,Boolean:Xn,String:Hn,Transform:Zd},...t);function G_(t){let e=gg(()=>za([Td(t),Cf(),Uf(),jf(),Bd(e),Yf(Td(),e)]));return e}function F_(t,e){return Da(Wd(t),e)}var Z_={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function W_(t){me({customError:t})}function q_(){return me().customError}var Yd;Yd||(Yd={});var Xd={};Wt(Xd,{bigint:()=>X_,boolean:()=>Y_,date:()=>K_,number:()=>H_,string:()=>V_});function V_(t){return Pc(Hn,t)}function H_(t){return Mc(Yn,t)}function Y_(t){return jc(Xn,t)}function X_(t){return Bc(Kn,t)}function K_(t){return Kc(Ua,t)}me(ea());var J_={grad:.9,turn:360,rad:360/(2*Math.PI)},Tt=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Te=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},qe=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},$g=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},_g=function(t){return{r:qe(t.r,0,255),g:qe(t.g,0,255),b:qe(t.b,0,255),a:qe(t.a)}},Kd=function(t){return{r:Te(t.r),g:Te(t.g),b:Te(t.b),a:Te(t.a,3)}},Q_=/^#([0-9a-f]{3,8})$/i,ja=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Ag=function(t){var e=t.r,n=t.g,i=t.b,r=t.a,a=Math.max(e,n,i),o=a-Math.min(e,n,i),s=o?a===e?(n-i)/o:a===n?2+(i-e)/o:4+(e-n)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:r}},Eg=function(t){var e=t.h,n=t.s,i=t.v,r=t.a;e=e/360*6,n/=100,i/=100;var a=Math.floor(e),o=i*(1-n),s=i*(1-(e-a)*n),l=i*(1-(1-e+a)*n),c=a%6;return{r:255*[i,s,o,o,l,i][c],g:255*[l,i,i,s,o,o][c],b:255*[o,o,l,i,i,s][c],a:r}},xg=function(t){return{h:$g(t.h),s:qe(t.s,0,100),l:qe(t.l,0,100),a:qe(t.a)}},wg=function(t){return{h:Te(t.h),s:Te(t.s),l:Te(t.l),a:Te(t.a,3)}},Sg=function(t){return Eg((n=(e=t).s,{h:e.h,s:(n*=((i=e.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:e.a}));var e,n,i},Jn=function(t){return{h:(e=Ag(t)).h,s:(r=(200-(n=e.s))*(i=e.v)/100)>0&&r<200?n*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:e.a};var e,n,i,r},ex=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,em={string:[[function(t){var e=Q_.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Te(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Te(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=rx.exec(t)||nx.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:_g({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=ex.exec(t)||tx.exec(t);if(!e)return null;var n,i,r=xg({h:(n=e[1],i=e[2],i===void 0&&(i="deg"),Number(n)*(J_[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Sg(r)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,i=t.b,r=t.a,a=r===void 0?1:r;return Tt(e)&&Tt(n)&&Tt(i)?_g({r:Number(e),g:Number(n),b:Number(i),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,n=t.s,i=t.l,r=t.a,a=r===void 0?1:r;if(!Tt(e)||!Tt(n)||!Tt(i))return null;var o=xg({h:Number(e),s:Number(n),l:Number(i),a:Number(a)});return Sg(o)},"hsl"],[function(t){var e=t.h,n=t.s,i=t.v,r=t.a,a=r===void 0?1:r;if(!Tt(e)||!Tt(n)||!Tt(i))return null;var o=function(s){return{h:$g(s.h),s:qe(s.s,0,100),v:qe(s.v,0,100),a:qe(s.a)}}({h:Number(e),s:Number(n),v:Number(i),a:Number(a)});return Eg(o)},"hsv"]]},Pg=function(t,e){for(var n=0;n<e.length;n++){var i=e[n][0](t);if(i)return[i,e[n][1]]}return[null,void 0]},ix=function(t){return typeof t=="string"?Pg(t.trim(),em.string):typeof t=="object"&&t!==null?Pg(t,em.object):[null,void 0]};var Jd=function(t,e){var n=Jn(t);return{h:n.h,s:qe(n.s+100*e,0,100),l:n.l,a:n.a}},Qd=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},kg=function(t,e){var n=Jn(t);return{h:n.h,s:n.s,l:qe(n.l+100*e,0,100),a:n.a}},tm=function(){function t(e){this.parsed=ix(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Te(Qd(this.rgba),2)},t.prototype.isDark=function(){return Qd(this.rgba)<.5},t.prototype.isLight=function(){return Qd(this.rgba)>=.5},t.prototype.toHex=function(){return e=Kd(this.rgba),n=e.r,i=e.g,r=e.b,o=(a=e.a)<1?ja(Te(255*a)):"","#"+ja(n)+ja(i)+ja(r)+o;var e,n,i,r,a,o},t.prototype.toRgb=function(){return Kd(this.rgba)},t.prototype.toRgbString=function(){return e=Kd(this.rgba),n=e.r,i=e.g,r=e.b,(a=e.a)<1?"rgba("+n+", "+i+", "+r+", "+a+")":"rgb("+n+", "+i+", "+r+")";var e,n,i,r,a},t.prototype.toHsl=function(){return wg(Jn(this.rgba))},t.prototype.toHslString=function(){return e=wg(Jn(this.rgba)),n=e.h,i=e.s,r=e.l,(a=e.a)<1?"hsla("+n+", "+i+"%, "+r+"%, "+a+")":"hsl("+n+", "+i+"%, "+r+"%)";var e,n,i,r,a},t.prototype.toHsv=function(){return e=Ag(this.rgba),{h:Te(e.h),s:Te(e.s),v:Te(e.v),a:Te(e.a,3)};var e},t.prototype.invert=function(){return m({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),m(Jd(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),m(Jd(this.rgba,-e))},t.prototype.grayscale=function(){return m(Jd(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),m(kg(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),m(kg(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?m({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Te(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Jn(this.rgba);return typeof e=="number"?m({h:e,s:n.s,l:n.l,a:n.a}):Te(n.h)},t.prototype.isEqual=function(e){return this.toHex()===m(e).toHex()},t}(),m=function(t){return t instanceof tm?t:new tm(t)},Ig=[],Er=function(t){t.forEach(function(e){Ig.indexOf(e)<0&&(e(tm,em),Ig.push(e))})};var Vg=Hs(qg(),1),Ba=class Ba{constructor(e){this.rng=(0,Vg.default)(String(e))}next(){return this.rng()}nextInt(e,n){return Math.floor(this.rng()*(n-e))+e}nextFloat(e,n){return this.rng()*(n-e)+e}nextID(){return Math.floor(this.rng()*Ba.POW36_8).toString(36).padStart(8,"0")}randElement(e){if(e.length===0)throw new Error("array must not be empty");return e[this.nextInt(0,e.length)]}randFromSet(e){let n=e.size;if(n===0)throw new Error("set must not be empty");let i=this.nextInt(0,n),r=0;for(let a of e){if(r===i)return a;r++}throw new Error("Unexpected error selecting element from set")}chance(e){return this.nextInt(0,e)===0}shuffleArray(e){let n=[...e];for(let i=n.length-1;i>0;i--){let r=this.nextInt(0,i+1);[n[i],n[r]]=[n[r],n[i]]}return n}};Ba.POW36_8=Math.pow(36,8);var U=Ba;var lm=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Qn=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},et=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},um=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},cm=function(t){return 255*(t>.0031308?1.055*Math.pow(t,.4166666666666667)-.055:12.92*t)},dm=96.422,mm=100,hm=82.521,dx=function(t){var e,n,i={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return n={r:cm(.032404542*i.x-.015371385*i.y-.004985314*i.z),g:cm(-.00969266*i.x+.018760108*i.y+41556e-8*i.z),b:cm(556434e-9*i.x-.002040259*i.y+.010572252*i.z),a:t.a},{r:et(n.r,0,255),g:et(n.g,0,255),b:et(n.b,0,255),a:et(n.a)}},mx=function(t){var e=um(t.r),n=um(t.g),i=um(t.b);return function(r){return{x:et(r.x,0,dm),y:et(r.y,0,mm),z:et(r.z,0,hm),a:et(r.a)}}(function(r){return{x:1.0478112*r.x+.0228866*r.y+-.050127*r.z,y:.0295424*r.x+.9904844*r.y+-.0170491*r.z,z:-.0092345*r.x+.0150436*r.y+.7521316*r.z,a:r.a}}({x:100*(.4124564*e+.3575761*n+.1804375*i),y:100*(.2126729*e+.7151522*n+.072175*i),z:100*(.0193339*e+.119192*n+.9503041*i),a:t.a}))},ei=216/24389,Rr=24389/27,hx=function(t){var e=t.l,n=t.a,i=t.b,r=t.alpha,a=r===void 0?1:r;if(!lm(e)||!lm(n)||!lm(i))return null;var o=function(s){return{l:et(s.l,0,400),a:s.a,b:s.b,alpha:et(s.alpha)}}({l:Number(e),a:Number(n),b:Number(i),alpha:Number(a)});return px(o)},px=function(t){var e=(t.l+16)/116,n=t.a/500+e,i=e-t.b/200;return dx({x:(Math.pow(n,3)>ei?Math.pow(n,3):(116*n-16)/Rr)*dm,y:(t.l>8?Math.pow((t.l+16)/116,3):t.l/Rr)*mm,z:(Math.pow(i,3)>ei?Math.pow(i,3):(116*i-16)/Rr)*hm,a:t.alpha})};function Ga(t,e){t.prototype.toLab=function(){return i=mx(this.rgba),a=i.y/mm,o=i.z/hm,r=(r=i.x/dm)>ei?Math.cbrt(r):(Rr*r+16)/116,n={l:116*(a=a>ei?Math.cbrt(a):(Rr*a+16)/116)-16,a:500*(r-a),b:200*(a-(o=o>ei?Math.cbrt(o):(Rr*o+16)/116)),alpha:i.a},{l:Qn(n.l,2),a:Qn(n.a,2),b:Qn(n.b,2),alpha:Qn(n.alpha,3)};var n,i,r,a,o},t.prototype.delta=function(n){n===void 0&&(n="#FFF");var i=n instanceof t?n:new t(n),r=function(a,o){var s=a.l,l=a.a,c=a.b,u=o.l,d=o.a,h=o.b,f=180/Math.PI,p=Math.PI/180,v=Math.pow(Math.pow(l,2)+Math.pow(c,2),.5),T=Math.pow(Math.pow(d,2)+Math.pow(h,2),.5),A=(s+u)/2,k=Math.pow((v+T)/2,7),b=.5*(1-Math.pow(k/(k+Math.pow(25,7)),.5)),w=l*(1+b),C=d*(1+b),L=Math.pow(Math.pow(w,2)+Math.pow(c,2),.5),G=Math.pow(Math.pow(C,2)+Math.pow(h,2),.5),Z=(L+G)/2,V=w===0&&c===0?0:Math.atan2(c,w)*f,X=C===0&&h===0?0:Math.atan2(h,C)*f;V<0&&(V+=360),X<0&&(X+=360);var B=X-V,ce=Math.abs(X-V);ce>180&&X<=V?B+=360:ce>180&&X>V&&(B-=360);var Q=V+X;ce<=180?Q/=2:Q=(V+X<360?Q+360:Q-360)/2;var Me=1-.17*Math.cos(p*(Q-30))+.24*Math.cos(2*p*Q)+.32*Math.cos(p*(3*Q+6))-.2*Math.cos(p*(4*Q-63)),Fe=u-s,De=G-L,Gt=2*Math.sin(p*B/2)*Math.pow(L*G,.5),ur=1+.015*Math.pow(A-50,2)/Math.pow(20+Math.pow(A-50,2),.5),Ft=1+.045*Z,Ye=1+.015*Z*Me,ie=30*Math.exp(-1*Math.pow((Q-275)/25,2)),cr=-2*Math.pow(k/(k+Math.pow(25,7)),.5)*Math.sin(2*p*ie);return Math.pow(Math.pow(Fe/1/ur,2)+Math.pow(De/1/Ft,2)+Math.pow(Gt/1/Ye,2)+cr*De*Gt/(1*Ft*1*Ye),.5)}(this.toLab(),i.toLab())/100;return et(Qn(r,3))},e.object.push([hx,"lab"])}var fx={grad:.9,turn:360,rad:360/(2*Math.PI)},pm=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Mr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},_t=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},fm=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},gm=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},ym=96.422,bm=100,vm=82.521,gx=function(t){var e,n,i={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return n={r:gm(.032404542*i.x-.015371385*i.y-.004985314*i.z),g:gm(-.00969266*i.x+.018760108*i.y+41556e-8*i.z),b:gm(556434e-9*i.x-.002040259*i.y+.010572252*i.z),a:t.a},{r:_t(n.r,0,255),g:_t(n.g,0,255),b:_t(n.b,0,255),a:_t(n.a)}},yx=function(t){var e=fm(t.r),n=fm(t.g),i=fm(t.b);return function(r){return{x:_t(r.x,0,ym),y:_t(r.y,0,bm),z:_t(r.z,0,vm),a:_t(r.a)}}(function(r){return{x:1.0478112*r.x+.0228866*r.y+-.050127*r.z,y:.0295424*r.x+.9904844*r.y+-.0170491*r.z,z:-.0092345*r.x+.0150436*r.y+.7521316*r.z,a:r.a}}({x:100*(.4124564*e+.3575761*n+.1804375*i),y:100*(.2126729*e+.7151522*n+.072175*i),z:100*(.0193339*e+.119192*n+.9503041*i),a:t.a}))},ti=216/24389,Dr=24389/27,Xg=function(t){return{l:_t(t.l,0,100),c:t.c,h:(e=t.h,(e=isFinite(e)?e%360:0)>0?e:e+360),a:t.a};var e},Hg=function(t){return{l:Mr(t.l,2),c:Mr(t.c,2),h:Mr(t.h,2),a:Mr(t.a,3)}},bx=function(t){var e=t.l,n=t.c,i=t.h,r=t.a,a=r===void 0?1:r;if(!pm(e)||!pm(n)||!pm(i))return null;var o=Xg({l:Number(e),c:Number(n),h:Number(i),a:Number(a)});return Kg(o)},Yg=function(t){var e=function(a){var o=yx(a),s=o.x/ym,l=o.y/bm,c=o.z/vm;return s=s>ti?Math.cbrt(s):(Dr*s+16)/116,{l:116*(l=l>ti?Math.cbrt(l):(Dr*l+16)/116)-16,a:500*(s-l),b:200*(l-(c=c>ti?Math.cbrt(c):(Dr*c+16)/116)),alpha:o.a}}(t),n=Mr(e.a,3),i=Mr(e.b,3),r=Math.atan2(i,n)/Math.PI*180;return{l:e.l,c:Math.sqrt(n*n+i*i),h:r<0?r+360:r,a:e.alpha}},Kg=function(t){return e={l:t.l,a:t.c*Math.cos(t.h*Math.PI/180),b:t.c*Math.sin(t.h*Math.PI/180),alpha:t.a},i=e.a/500+(n=(e.l+16)/116),r=n-e.b/200,gx({x:(Math.pow(i,3)>ti?Math.pow(i,3):(116*i-16)/Dr)*ym,y:(e.l>8?Math.pow((e.l+16)/116,3):e.l/Dr)*bm,z:(Math.pow(r,3)>ti?Math.pow(r,3):(116*r-16)/Dr)*vm,a:e.alpha});var e,n,i,r},vx=/^lch\(\s*([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)\s+([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Tx=function(t){var e=vx.exec(t);if(!e)return null;var n,i,r=Xg({l:Number(e[1]),c:Number(e[2]),h:(n=e[3],i=e[4],i===void 0&&(i="deg"),Number(n)*(fx[i]||1)),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Kg(r)};function Fa(t,e){t.prototype.toLch=function(){return Hg(Yg(this.rgba))},t.prototype.toLchString=function(){return n=Hg(Yg(this.rgba)),i=n.l,r=n.c,a=n.h,(o=n.a)<1?"lch("+i+"% "+r+" "+a+" / "+o+")":"lch("+i+"% "+r+" "+a+")";var n,i,r,a,o},e.string.push([Tx,"lch"]),e.object.push([bx,"lch"])}function ne(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let i=e[0].length,r=e[0].map((o,s)=>e.map(l=>l[s])),a=t.map(o=>r.map(s=>{let l=0;if(!Array.isArray(o)){for(let c of s)l+=o*c;return l}for(let c=0;c<o.length;c++)l+=o[c]*(s[c]||0);return l}));return n===1&&(a=a[0]),i===1?a.map(o=>o[0]):a}function si(t){return At(t)==="string"}function At(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Qa(t,{precision:e,unit:n}){return Et(t)?"none":Y0(t,e)+(n??"")}function Et(t){return Number.isNaN(t)||t instanceof Number&&t?.none}function pe(t){return Et(t)?0:t}function Y0(t,e){if(t===0)return 0;let n=~~t,i=0;n&&e&&(i=~~Math.log10(Math.abs(n))+1);let r=10**(e-i);return Math.floor(t*r+.5)/r}var _x={deg:1,grad:.9,rad:180/Math.PI,turn:360};function X0(t){if(!t)return;t=t.trim();let e=/^([a-z]+)\((.+?)\)$/i,n=/^-?[\d.]+$/,i=/%|deg|g?rad|turn$/,r=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,a=t.match(e);if(a){let o=[];return a[2].replace(r,(s,l)=>{let c=l.match(i),u=l;if(c){let d=c[0],h=u.slice(0,-d.length);d==="%"?(u=new Number(h/100),u.type="<percentage>"):(u=new Number(h*_x[d]),u.type="<angle>",u.unit=d)}else n.test(u)?(u=new Number(u),u.type="<number>"):u==="none"&&(u=new Number(NaN),u.none=!0);s.startsWith("/")&&(u=u instanceof Number?u:new Number(u),u.alpha=!0),typeof u=="object"&&u instanceof Number&&(u.raw=l),o.push(u)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:o}}}function K0(t){return t[t.length-1]}function ii(t,e,n){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*n}function J0(t,e,n){return(n-t)/(e-t)}function jm(t,e,n){return ii(e[0],e[1],J0(t[0],t[1],n))}function Q0(t){return t.map(e=>e.split("|").map(n=>{n=n.trim();let i=n.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(i){let r=new String(i[1]);return r.range=[+i[2],+i[3]],r}return n}))}function ey(t,e,n){return Math.max(Math.min(n,e),t)}function no(t,e){return Math.sign(t)===Math.sign(e)?t:-t}function at(t,e){return no(Math.abs(t)**e,t)}function Lm(t,e){return e===0?0:t/e}function ty(t,e,n=0,i=t.length){for(;n<i;){let r=n+i>>1;t[r]<e?n=r+1:i=r}return n}var xx=Object.freeze({__proto__:null,bisectLeft:ty,clamp:ey,copySign:no,interpolate:ii,interpolateInv:J0,isNone:Et,isString:si,last:K0,mapRange:jm,multiplyMatrices:ne,parseCoordGrammar:Q0,parseFunction:X0,serializeNumber:Qa,skipNone:pe,spow:at,toPrecision:Y0,type:At,zdiv:Lm}),Em=class{add(e,n,i){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(r){this[r]=this[r]||[],n&&this[r][i?"unshift":"push"](n)},this)}run(e,n){this[e]=this[e]||[],this[e].forEach(function(i){i.call(n&&n.context?n.context:n,n)})}},Rt=new Em,Ge={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}},Re={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Rm(t){return Array.isArray(t)?t:Re[t]}function eo(t,e,n,i={}){if(t=Rm(t),e=Rm(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return n;let r={W1:t,W2:e,XYZ:n,options:i};if(Rt.run("chromatic-adaptation-start",r),r.M||(r.W1===Re.D65&&r.W2===Re.D50?r.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:r.W1===Re.D50&&r.W2===Re.D65&&(r.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Rt.run("chromatic-adaptation-end",r),r.M)return ne(r.M,r.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var wx=new Set(["<number>","<percentage>","<angle>"]);function Jg(t,e,n,i){return Object.entries(t.coords).map(([a,o],s)=>{let l=e.coordGrammar[s],c=i[s],u=c?.type,d;if(c.none?d=l.find(p=>wx.has(p)):d=l.find(p=>p==u),!d){let p=o.name||a;throw new TypeError(`${u??c.raw} not allowed for ${p} in ${n}()`)}let h=d.range;u==="<percentage>"&&(h||(h=[0,1]));let f=o.range||o.refRange;return h&&f&&(i[s]=jm(h,f,i[s])),d})}function ry(t,{meta:e}={}){let n={str:String(t)?.trim()};if(Rt.run("parse-start",n),n.color)return n.color;if(n.parsed=X0(n.str),n.parsed){let i=n.parsed.name;if(i==="color"){let r=n.parsed.args.shift(),a=r.startsWith("--")?r.substring(2):`--${r}`,o=[r,a],s=n.parsed.rawArgs.indexOf("/")>0?n.parsed.args.pop():1;for(let u of R.all){let d=u.getFormat("color");if(d&&(o.includes(d.id)||d.ids?.filter(h=>o.includes(h)).length)){let h=Object.keys(u.coords).map((p,v)=>n.parsed.args[v]||0),f;return d.coordGrammar&&(f=Jg(u,d,"color",h)),e&&Object.assign(e,{formatId:"color",types:f}),d.id.startsWith("--")&&!r.startsWith("--")&&Ge.warn(`${u.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${d.id}) instead of color(${r}).`),r.startsWith("--")&&!d.id.startsWith("--")&&Ge.warn(`${u.name} is a standard space and supported in the CSS spec. Use color(${d.id}) instead of prefixed color(${r}).`),{spaceId:u.id,coords:h,alpha:s}}}let l="",c=r in R.registry?r:a;if(c in R.registry){let u=R.registry[c].formats?.color?.id;u&&(l=`Did you mean color(${u})?`)}throw new TypeError(`Cannot parse color(${r}). `+(l||"Missing a plugin?"))}else for(let r of R.all){let a=r.getFormat(i);if(a&&a.type==="function"){let o=1;(a.lastAlpha||K0(n.parsed.args).alpha)&&(o=n.parsed.args.pop());let s=n.parsed.args,l;return a.coordGrammar&&(l=Jg(r,a,i,s)),e&&Object.assign(e,{formatId:a.name,types:l}),{spaceId:r.id,coords:s,alpha:o}}}}else for(let i of R.all)for(let r in i.formats){let a=i.formats[r];if(a.type!=="custom"||a.test&&!a.test(n.str))continue;let o=a.parse(n.str);if(o)return o.alpha??(o.alpha=1),e&&(e.formatId=r),o}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function N(t){if(Array.isArray(t))return t.map(N);if(!t)throw new TypeError("Empty color reference");si(t)&&(t=ry(t));let e=t.space||t.spaceId;return e instanceof R||(t.space=R.get(e)),t.alpha===void 0&&(t.alpha=1),t}var Sx=75e-6,ze=class ze{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?ze.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let n=e.coords??this.base.coords;for(let r in n)"name"in n[r]||(n[r].name=r);this.coords=n;let i=e.white??this.base.white??"D65";this.white=Rm(i),this.formats=e.formats??{};for(let r in this.formats){let a=this.formats[r];a.type||(a.type="function"),a.name||(a.name=r)}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:e.cssId||this.id}),e.gamutSpace?this.gamutSpace=e.gamutSpace==="self"?this:ze.get(e.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(r,a)=>!0),this.referred=e.referred,Object.defineProperty(this,"path",{value:Px(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Rt.run("colorspace-init-end",this)}inGamut(e,{epsilon:n=Sx}={}){if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:n});let i=Object.values(this.coords);return e.every((r,a)=>{let o=i[a];if(o.type!=="angle"&&o.range){if(Number.isNaN(r))return!0;let[s,l]=o.range;return(s===void 0||r>=s-n)&&(l===void 0||r<=l+n)}return!0})}get isUnbounded(){return Object.values(this.coords).every(e=>!("range"in e))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=Qg(e,this),e;let n;return e==="default"?n=Object.values(this.formats)[0]:n=this.formats[e],n?(n=Qg(n,this),n):null}equals(e){return e?this===e||this.id===e||this.id===e.id:!1}to(e,n){if(arguments.length===1){let s=N(e);[e,n]=[s.space,s.coords]}if(e=ze.get(e),this.equals(e))return n;n=n.map(s=>Number.isNaN(s)?0:s);let i=this.path,r=e.path,a,o;for(let s=0;s<i.length&&i[s].equals(r[s]);s++)a=i[s],o=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let s=i.length-1;s>o;s--)n=i[s].toBase(n);for(let s=o+1;s<r.length;s++)n=r[s].fromBase(n);return n}from(e,n){if(arguments.length===1){let i=N(e);[e,n]=[i.space,i.coords]}return e=ze.get(e),e.to(this,n)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let n in this.coords){let i=this.coords[n],r=i.range||i.refRange;e.push(r?.min??0)}return e}static get all(){return[...new Set(Object.values(ze.registry))]}static register(e,n){if(arguments.length===1&&(n=arguments[0],e=n.id),n=this.get(n),this.registry[e]&&this.registry[e]!==n)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=n,arguments.length===1&&n.aliases)for(let i of n.aliases)this.register(i,n);return n}static get(e,...n){if(!e||e instanceof ze)return e;if(At(e)==="string"){let r=ze.registry[e.toLowerCase()];if(!r)throw new TypeError(`No color space found with id = "${e}"`);return r}if(n.length)return ze.get(...n);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,n){let i=At(e),r,a;if(i==="string"?e.includes(".")?[r,a]=e.split("."):[r,a]=[,e]:Array.isArray(e)?[r,a]=e:(r=e.space,a=e.coordId),r=ze.get(r),r||(r=n),!r)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(i=At(a),i==="number"||i==="string"&&a>=0){let l=Object.entries(r.coords)[a];if(l)return{space:r,id:l[0],index:a,...l[1]}}r=ze.get(r);let o=a.toLowerCase(),s=0;for(let l in r.coords){let c=r.coords[l];if(l.toLowerCase()===o||c.name?.toLowerCase()===o)return{space:r,id:l,index:s,...c};s++}throw new TypeError(`No "${a}" coordinate found in ${r.name}. Its coordinates are: ${Object.keys(r.coords).join(", ")}`)}};Ys(ze,"registry",{}),Ys(ze,"DEFAULT_FORMAT",{type:"functions",name:"color"});var R=ze;function Px(t){let e=[t];for(let n=t;n=n.base;)e.push(n);return e}function Qg(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||(t.type="function"),t.name||(t.name="color"),t.coordGrammar=Q0(t.coords);let n=Object.entries(e).map(([i,r],a)=>{let o=t.coordGrammar[a][0],s=r.range||r.refRange,l=o.range,c="";return o=="<percentage>"?(l=[0,100],c="%"):o=="<angle>"&&(c="deg"),{fromRange:s,toRange:l,suffix:c}});t.serializeCoords=(i,r)=>i.map((a,o)=>{let{fromRange:s,toRange:l,suffix:c}=n[o];return s&&l&&(a=jm(s,l,a)),a=Qa(a,{precision:r,unit:c}),a})}return t}var _e=new R({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),Pe=class extends R{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=_e),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=n=>{let i=ne(e.toXYZ_M,n);return this.white!==this.base.white&&(i=eo(this.white,this.base.white,i)),i}),e.fromBase??(e.fromBase=n=>(n=eo(this.base.white,this.white,n),ne(e.fromXYZ_M,n)))),e.referred??(e.referred="display"),super(e)}};function li(t,e){return t=N(t),!e||t.space.equals(e)?t.coords.slice():(e=R.get(e),e.from(t))}function Le(t,e){t=N(t);let{space:n,index:i}=R.resolveCoord(e,t.space);return li(t,n)[i]}function Bm(t,e,n){return t=N(t),e=R.get(e),t.coords=e.to(t.space,n),t}Bm.returns="color";function xt(t,e,n){if(t=N(t),arguments.length===2&&At(arguments[1])==="object"){let i=arguments[1];for(let r in i)xt(t,r,i[r])}else{typeof n=="function"&&(n=n(Le(t,e)));let{space:i,index:r}=R.resolveCoord(e,t.space),a=li(t,i);a[r]=n,Bm(t,i,a)}return t}xt.returns="color";var Gm=new R({id:"xyz-d50",name:"XYZ D50",white:"D50",base:_e,fromBase:t=>eo(_e.white,"D50",t),toBase:t=>eo("D50",_e.white,t)}),kx=216/24389,e0=24/116,Za=24389/27,Tm=Re.D50,Be=new R({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Tm,base:Gm,fromBase(t){let n=t.map((i,r)=>i/Tm[r]).map(i=>i>kx?Math.cbrt(i):(Za*i+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>e0?Math.pow(e[0],3):(116*e[0]-16)/Za,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Za,e[2]>e0?Math.pow(e[2],3):(116*e[2]-16)/Za].map((i,r)=>i*Tm[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function ot(t){return(t%360+360)%360}function Ix(t,e){if(t==="raw")return e;let[n,i]=e.map(ot),r=i-n;return t==="increasing"?r<0&&(i+=360):t==="decreasing"?r>0&&(n+=360):t==="longer"?-180<r&&r<180&&(r>0?n+=360:i+=360):t==="shorter"&&(r>180?n+=360:r<-180&&(i+=360)),[n,i]}var ai=new R({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Be,fromBase(t){let[e,n,i]=t,r,a=.02;return Math.abs(n)<a&&Math.abs(i)<a?r=NaN:r=Math.atan2(i,n)*180/Math.PI,[e,Math.sqrt(n**2+i**2),ot(r)]},toBase(t){let[e,n,i]=t;return n<0&&(n=0),isNaN(i)&&(i=0),[e,n*Math.cos(i*Math.PI/180),n*Math.sin(i*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),t0=25**7,to=Math.PI,r0=180/to,Cr=to/180;function n0(t){let e=t*t;return e*e*e*t}function ny(t,e,{kL:n=1,kC:i=1,kH:r=1}={}){[t,e]=N([t,e]);let[a,o,s]=Be.from(t),l=ai.from(Be,[a,o,s])[1],[c,u,d]=Be.from(e),h=ai.from(Be,[c,u,d])[1];l<0&&(l=0),h<0&&(h=0);let f=(l+h)/2,p=n0(f),v=.5*(1-Math.sqrt(p/(p+t0))),T=(1+v)*o,A=(1+v)*u,k=Math.sqrt(T**2+s**2),b=Math.sqrt(A**2+d**2),w=T===0&&s===0?0:Math.atan2(s,T),C=A===0&&d===0?0:Math.atan2(d,A);w<0&&(w+=2*to),C<0&&(C+=2*to),w*=r0,C*=r0;let L=c-a,G=b-k,Z=C-w,V=w+C,X=Math.abs(Z),B;k*b===0?B=0:X<=180?B=Z:Z>180?B=Z-360:Z<-180?B=Z+360:Ge.warn("the unthinkable has happened");let ce=2*Math.sqrt(b*k)*Math.sin(B*Cr/2),Q=(a+c)/2,Me=(k+b)/2,Fe=n0(Me),De;k*b===0?De=V:X<=180?De=V/2:V<360?De=(V+360)/2:De=(V-360)/2;let Gt=(Q-50)**2,ur=1+.015*Gt/Math.sqrt(20+Gt),Ft=1+.045*Me,Ye=1;Ye-=.17*Math.cos((De-30)*Cr),Ye+=.24*Math.cos(2*De*Cr),Ye+=.32*Math.cos((3*De+6)*Cr),Ye-=.2*Math.cos((4*De-63)*Cr);let ie=1+.015*Me*Ye,cr=30*Math.exp(-1*((De-275)/25)**2),fe=2*Math.sqrt(Fe/(Fe+t0)),yi=-1*Math.sin(2*cr*Cr)*fe,K=(L/(n*ur))**2;return K+=(G/(i*Ft))**2,K+=(ce/(r*ie))**2,K+=yi*(G/(i*Ft))*(ce/(r*ie)),Math.sqrt(K)}var $x=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Ax=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Ex=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Rx=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Or=new R({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:_e,fromBase(t){let n=ne($x,t).map(i=>Math.cbrt(i));return ne(Ex,n)},toBase(t){let n=ne(Rx,t).map(i=>i**3);return ne(Ax,n)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Mm(t,e){[t,e]=N([t,e]);let[n,i,r]=Or.from(t),[a,o,s]=Or.from(e),l=n-a,c=i-o,u=r-s;return Math.sqrt(l**2+c**2+u**2)}var Mx=75e-6;function nr(t,e,{epsilon:n=Mx}={}){t=N(t),e||(e=t.space),e=R.get(e);let i=t.coords;return e!==t.space&&(i=e.from(t)),e.inGamut(i,{epsilon:n})}function jr(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function iy(t,e,n="lab"){n=R.get(n);let i=n.from(t),r=n.from(e);return Math.sqrt(i.reduce((a,o,s)=>{let l=r[s];return isNaN(o)||isNaN(l)?a:a+(l-o)**2},0))}function Dx(t,e){return iy(t,e,"lab")}var Cx=Math.PI,i0=Cx/180;function Ux(t,e,{l:n=2,c:i=1}={}){[t,e]=N([t,e]);let[r,a,o]=Be.from(t),[,s,l]=ai.from(Be,[r,a,o]),[c,u,d]=Be.from(e),h=ai.from(Be,[c,u,d])[1];s<0&&(s=0),h<0&&(h=0);let f=r-c,p=s-h,v=a-u,T=o-d,A=v**2+T**2-p**2,k=.511;r>=16&&(k=.040975*r/(1+.01765*r));let b=.0638*s/(1+.0131*s)+.638,w;Number.isNaN(l)&&(l=0),l>=164&&l<=345?w=.56+Math.abs(.2*Math.cos((l+168)*i0)):w=.36+Math.abs(.4*Math.cos((l+35)*i0));let C=Math.pow(s,4),L=Math.sqrt(C/(C+1900)),G=b*(L*w+1-L),Z=(f/(n*k))**2;return Z+=(p/(i*b))**2,Z+=A/G**2,Math.sqrt(Z)}var a0=203,Fm=new R({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:_e,fromBase(t){return t.map(e=>Math.max(e*a0,0))},toBase(t){return t.map(e=>Math.max(e/a0,0))}}),Wa=1.15,qa=.66,o0=2610/2**14,Nx=2**14/2610,s0=3424/2**12,l0=2413/2**7,u0=2392/2**7,zx=1.7*2523/2**5,c0=2**5/(1.7*2523),Va=-.56,_m=16295499532821565e-27,Ox=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],jx=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Lx=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Bx=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],ay=new R({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Fm,fromBase(t){let[e,n,i]=t,r=Wa*e-(Wa-1)*i,a=qa*n-(qa-1)*e,s=ne(Ox,[r,a,i]).map(function(h){let f=s0+l0*(h/1e4)**o0,p=1+u0*(h/1e4)**o0;return(f/p)**zx}),[l,c,u]=ne(Lx,s);return[(1+Va)*l/(1+Va*l)-_m,c,u]},toBase(t){let[e,n,i]=t,r=(e+_m)/(1+Va-Va*(e+_m)),o=ne(Bx,[r,n,i]).map(function(h){let f=s0-h**c0,p=u0*h**c0-l0;return 1e4*(f/p)**Nx}),[s,l,c]=ne(jx,o),u=(s+(Wa-1)*c)/Wa,d=(l+(qa-1)*u)/qa;return[u,d,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Dm=new R({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:ay,fromBase(t){let[e,n,i]=t,r,a=2e-4;return Math.abs(n)<a&&Math.abs(i)<a?r=NaN:r=Math.atan2(i,n)*180/Math.PI,[e,Math.sqrt(n**2+i**2),ot(r)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]}});function Gx(t,e){[t,e]=N([t,e]);let[n,i,r]=Dm.from(t),[a,o,s]=Dm.from(e),l=n-a,c=i-o;Number.isNaN(r)&&Number.isNaN(s)?(r=0,s=0):Number.isNaN(r)?r=s:Number.isNaN(s)&&(s=r);let u=r-s,d=2*Math.sqrt(i*o)*Math.sin(u/2*(Math.PI/180));return Math.sqrt(l**2+c**2+d**2)}var oy=3424/4096,sy=2413/128,ly=2392/128,d0=2610/16384,Fx=2523/32,Zx=16384/2610,m0=32/2523,Wx=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],qx=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Vx=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Hx=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Cm=new R({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Fm,fromBase(t){let e=ne(Wx,t);return Yx(e)},toBase(t){let e=Xx(t);return ne(Hx,e)}});function Yx(t){let e=t.map(function(n){let i=oy+sy*(n/1e4)**d0,r=1+ly*(n/1e4)**d0;return(i/r)**Fx});return ne(qx,e)}function Xx(t){return ne(Vx,t).map(function(i){let r=Math.max(i**m0-oy,0),a=sy-ly*i**m0;return 1e4*(r/a)**Zx})}function Kx(t,e){[t,e]=N([t,e]);let[n,i,r]=Cm.from(t),[a,o,s]=Cm.from(e);return 720*Math.sqrt((n-a)**2+.25*(i-o)**2+(r-s)**2)}var Jx=Re.D65,uy=.42,h0=1/uy,xm=2*Math.PI,cy=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Qx=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],ew=[[460,451,288],[460,-891,-261],[460,-220,-6300]],tw={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},rr={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},rw=180/Math.PI,p0=Math.PI/180;function dy(t,e){return t.map(i=>{let r=at(e*Math.abs(i)*.01,uy);return 400*no(r,i)/(r+27.13)})}function nw(t,e){let n=100/e*27.13**h0;return t.map(i=>{let r=Math.abs(i);return no(n*at(r/(400-r),h0),i)})}function iw(t){let e=ot(t);e<=rr.h[0]&&(e+=360);let n=ty(rr.h,e)-1,[i,r]=rr.h.slice(n,n+2),[a,o]=rr.e.slice(n,n+2),s=rr.H[n],l=(e-i)/a;return s+100*l/(l+(r-e)/o)}function aw(t){let e=(t%400+400)%400,n=Math.floor(.01*e);e=e%100;let[i,r]=rr.h.slice(n,n+2),[a,o]=rr.e.slice(n,n+2);return ot((e*(o*i-a*r)-100*i*o)/(e*(o-a)-100*o))}function my(t,e,n,i,r){let a={};a.discounting=r,a.refWhite=t,a.surround=i;let o=t.map(v=>v*100);a.la=e,a.yb=n;let s=o[1],l=ne(cy,o);i=tw[a.surround];let c=i[0];a.c=i[1],a.nc=i[2];let d=(1/(5*a.la+1))**4;a.fl=d*a.la+.1*(1-d)*(1-d)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/s,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;let h=r?1:Math.max(Math.min(c*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=l.map(v=>ii(1,s/v,h)),a.dRgbInv=a.dRgb.map(v=>1/v);let f=l.map((v,T)=>v*a.dRgb[T]),p=dy(f,a.fl);return a.aW=a.nbb*(2*p[0]+p[1]+.05*p[2]),a}var f0=my(Jx,64/Math.PI*.2,20,"average",!1);function Um(t,e){if(!(t.J!==void 0^t.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(t.C!==void 0^t.M!==void 0^t.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(t.h!==void 0^t.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(t.J===0||t.Q===0)return[0,0,0];let n=0;t.h!==void 0?n=ot(t.h)*p0:n=aw(t.H)*p0;let i=Math.cos(n),r=Math.sin(n),a=0;t.J!==void 0?a=at(t.J,1/2)*.1:t.Q!==void 0&&(a=.25*e.c*t.Q/((e.aW+4)*e.flRoot));let o=0;t.C!==void 0?o=t.C/a:t.M!==void 0?o=t.M/e.flRoot/a:t.s!==void 0&&(o=4e-4*t.s**2*(e.aW+4)/e.c);let s=at(o*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),l=.25*(Math.cos(n+2)+3.8),c=e.aW*at(a,2/e.c/e.z),u=5e4/13*e.nc*e.ncb*l,d=c/e.nbb,h=23*(d+.305)*Lm(s,23*u+s*(11*i+108*r)),f=h*i,p=h*r,v=nw(ne(ew,[d,f,p]).map(T=>T*1/1403),e.fl);return ne(Qx,v.map((T,A)=>T*e.dRgbInv[A])).map(T=>T/100)}function hy(t,e){let n=t.map(b=>b*100),i=dy(ne(cy,n).map((b,w)=>b*e.dRgb[w]),e.fl),r=i[0]+(-12*i[1]+i[2])/11,a=(i[0]+i[1]-2*i[2])/9,o=(Math.atan2(a,r)%xm+xm)%xm,s=.25*(Math.cos(o+2)+3.8),l=5e4/13*e.nc*e.ncb*Lm(s*Math.sqrt(r**2+a**2),i[0]+i[1]+1.05*i[2]+.305),c=at(l,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),u=e.nbb*(2*i[0]+i[1]+.05*i[2]),d=at(u/e.aW,.5*e.c*e.z),h=100*at(d,2),f=4/e.c*d*(e.aW+4)*e.flRoot,p=c*d,v=p*e.flRoot,T=ot(o*rw),A=iw(T),k=50*at(e.c*c/(e.aW+4),1/2);return{J:h,C:p,h:T,s:k,Q:f,M:v,H:A}}var ow=new R({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:_e,fromBase(t){let e=hy(t,f0);return[e.J,e.M,e.h]},toBase(t){return Um({J:t[0],M:t[1],h:t[2]},f0)}}),sw=Re.D65,lw=216/24389,py=24389/27;function uw(t){return 116*(t>lw?Math.cbrt(t):(py*t+16)/116)-16}function Nm(t){return t>8?Math.pow((t+16)/116,3):t/py}function cw(t,e){let[n,i,r]=t,a=[],o=0;if(r===0)return[0,0,0];let s=Nm(r);r>0?o=.00379058511492914*r**2+.608983189401032*r+.9155088574762233:o=9514440756550361e-21*r**2+.08693057439788597*r-21.928975842194614;let l=2e-12,c=15,u=0,d=1/0;for(;u<=c;){a=Um({J:o,C:i,h:n},e);let h=Math.abs(a[1]-s);if(h<d){if(h<=l)return a;d=h}o=o-(a[1]-s)*o/(2*a[1]),u+=1}return Um({J:o,C:i,h:n},e)}function dw(t,e){let n=uw(t[1]);if(n===0)return[0,0,0];let i=hy(t,Zm);return[ot(i.h),i.C,n]}var Zm=my(sw,200/Math.PI*Nm(50),Nm(50)*100,"average",!1),oi=new R({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:_e,fromBase(t){return dw(t)},toBase(t){return cw(t,Zm)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),mw=Math.PI/180,g0=[1,.007,.0228];function y0(t){t[1]<0&&(t=oi.fromBase(oi.toBase(t)));let e=Math.log(Math.max(1+g0[2]*t[1]*Zm.flRoot,1))/g0[2],n=t[0]*mw,i=e*Math.cos(n),r=e*Math.sin(n);return[t[2],i,r]}function hw(t,e){[t,e]=N([t,e]);let[n,i,r]=y0(oi.from(t)),[a,o,s]=y0(oi.from(e));return Math.sqrt((n-a)**2+(i-o)**2+(r-s)**2)}var Lr={deltaE76:Dx,deltaECMC:Ux,deltaE2000:ny,deltaEJz:Gx,deltaEITP:Kx,deltaEOK:Mm,deltaEHCT:hw};function pw(t){let e=t?Math.floor(Math.log10(Math.abs(t))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}var b0={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Mt(t,{method:e=Ge.gamut_mapping,space:n=void 0,deltaEMethod:i="",jnd:r=2,blackWhiteClamp:a={}}={}){if(t=N(t),si(arguments[1])?n=arguments[1]:n||(n=t.space),n=R.get(n),nr(t,n,{epsilon:0}))return t;let o;if(e==="css")o=fw(t,{space:n});else{if(e!=="clip"&&!nr(t,n)){Object.prototype.hasOwnProperty.call(b0,e)&&({method:e,jnd:r,deltaEMethod:i,blackWhiteClamp:a}=b0[e]);let s=ny;if(i!==""){for(let c in Lr)if("deltae"+i.toLowerCase()===c.toLowerCase()){s=Lr[c];break}}let l=Mt(re(t,n),{method:"clip",space:n});if(s(t,l)>r){if(Object.keys(a).length===3){let k=R.resolveCoord(a.channel),b=Le(re(t,k.space),k.id);if(Et(b)&&(b=0),b>=a.max)return re({space:"xyz-d65",coords:Re.D65},t.space);if(b<=a.min)return re({space:"xyz-d65",coords:[0,0,0]},t.space)}let c=R.resolveCoord(e),u=c.space,d=c.id,h=re(t,u);h.coords.forEach((k,b)=>{Et(k)&&(h.coords[b]=0)});let p=(c.range||c.refRange)[0],v=pw(r),T=p,A=Le(h,d);for(;A-T>v;){let k=jr(h);k=Mt(k,{space:n,method:"clip"}),s(h,k)-r<v?T=Le(h,d):A=Le(h,d),xt(h,d,(T+A)/2)}o=re(h,n)}else o=l}else o=re(t,n);if(e==="clip"||!nr(o,n,{epsilon:0})){let s=Object.values(n.coords).map(l=>l.range||[]);o.coords=o.coords.map((l,c)=>{let[u,d]=s[c];return u!==void 0&&(l=Math.max(u,l)),d!==void 0&&(l=Math.min(l,d)),l})}}return n!==t.space&&(o=re(o,t.space)),t.coords=o.coords,t}Mt.returns="color";var v0={WHITE:{space:Or,coords:[1,0,0]},BLACK:{space:Or,coords:[0,0,0]}};function fw(t,{space:e}={}){t=N(t),e||(e=t.space),e=R.get(e);let r=R.get("oklch");if(e.isUnbounded)return re(t,e);let a=re(t,r),o=a.coords[0];if(o>=1){let p=re(v0.WHITE,e);return p.alpha=t.alpha,re(p,e)}if(o<=0){let p=re(v0.BLACK,e);return p.alpha=t.alpha,re(p,e)}if(nr(a,e,{epsilon:0}))return re(a,e);function s(p){let v=re(p,e),T=Object.values(e.coords);return v.coords=v.coords.map((A,k)=>{if("range"in T[k]){let[b,w]=T[k].range;return ey(b,A,w)}return A}),v}let l=0,c=a.coords[1],u=!0,d=jr(a),h=s(d),f=Mm(h,d);if(f<.02)return h;for(;c-l>1e-4;){let p=(l+c)/2;if(d.coords[1]=p,u&&nr(d,e,{epsilon:0}))l=p;else if(h=s(d),f=Mm(h,d),f<.02){if(.02-f<1e-4)break;u=!1,l=p}else c=p}return h}function re(t,e,{inGamut:n}={}){t=N(t),e=R.get(e);let i=e.from(t),r={space:e,coords:i,alpha:t.alpha};return n&&(r=Mt(r,n===!0?void 0:n)),r}re.returns="color";function ni(t,{precision:e=Ge.precision,format:n="default",inGamut:i=!0,...r}={}){let a;t=N(t);let o=n;n=t.space.getFormat(n)??t.space.getFormat("default")??R.DEFAULT_FORMAT;let s=t.coords.slice();if(i||(i=n.toGamut),i&&!nr(t)&&(s=Mt(jr(t),i===!0?void 0:i).coords),n.type==="custom")if(r.precision=e,n.serialize)a=n.serialize(s,t.alpha,r);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let l=n.name||"color";n.serializeCoords?s=n.serializeCoords(s,e):e!==null&&(s=s.map(h=>Qa(h,{precision:e})));let c=[...s];if(l==="color"){let h=n.id||n.ids?.[0]||t.space.id;c.unshift(h)}let u=t.alpha;e!==null&&(u=Qa(u,{precision:e}));let d=t.alpha>=1||n.noAlpha?"":`${n.commas?",":" /"} ${u}`;a=`${l}(${c.join(n.commas?", ":" ")}${d})`}return a}var gw=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],yw=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],io=new Pe({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:gw,fromXYZ_M:yw}),Ha=1.09929682680944,T0=.018053968510807,fy=new Pe({id:"rec2020",name:"REC.2020",base:io,toBase(t){return t.map(function(e){return e<T0*4.5?e/4.5:Math.pow((e+Ha-1)/Ha,1/.45)})},fromBase(t){return t.map(function(e){return e>=T0?Ha*Math.pow(e,.45)-(Ha-1):4.5*e})}}),bw=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],vw=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],gy=new Pe({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:bw,fromXYZ_M:vw}),Tw=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],be=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],yy=new Pe({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Tw,fromXYZ_M:be}),_0={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},x0=Array(3).fill("<percentage> | <number>[0, 255]"),w0=Array(3).fill("<number>[0, 255]"),Br=new Pe({id:"srgb",name:"sRGB",base:yy,fromBase:t=>t.map(e=>{let n=e<0?-1:1,i=e*n;return i>.0031308?n*(1.055*i**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let n=e<0?-1:1,i=e*n;return i<=.04045?e/12.92:n*((i+.055)/1.055)**2.4}),formats:{rgb:{coords:x0},rgb_number:{name:"rgb",commas:!0,coords:w0,noAlpha:!0},color:{},rgba:{coords:x0,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:w0},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,n=>{e.push(parseInt(n,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:n=!0}={})=>{e<1&&t.push(e),t=t.map(a=>Math.round(a*255));let i=n&&t.every(a=>a%17===0);return"#"+t.map(a=>i?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=_0.black,e.alpha=0):e.coords=_0[t],e.coords)return e}}}}),by=new Pe({id:"p3",cssId:"display-p3",name:"P3",base:gy,fromBase:Br.fromBase,toBase:Br.toBase});Ge.display_space=Br;var _w;if(typeof CSS<"u"&&CSS.supports)for(let t of[Be,fy,by]){let e=t.getMinCoords(),i=ni({space:t,coords:e,alpha:1});if(CSS.supports("color",i)){Ge.display_space=t;break}}function xw(t,{space:e=Ge.display_space,...n}={}){let i=ni(t,n);if(typeof CSS>"u"||CSS.supports("color",i)||!Ge.display_space)i=new String(i),i.color=t;else{let r=t;if((t.coords.some(Et)||Et(t.alpha))&&!(_w??(_w=CSS.supports("color","hsl(none 50% 50%)")))&&(r=jr(t),r.coords=r.coords.map(pe),r.alpha=pe(r.alpha),i=ni(r,n),CSS.supports("color",i)))return i=new String(i),i.color=r,i;r=re(r,e),i=new String(ni(r,n)),i.color=r}return i}function ww(t,e){return t=N(t),e=N(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((n,i)=>n===e.coords[i])}function Dt(t){return Le(t,[_e,"y"])}function vy(t,e){xt(t,[_e,"y"],e)}function Sw(t){Object.defineProperty(t.prototype,"luminance",{get(){return Dt(this)},set(e){vy(this,e)}})}var Pw=Object.freeze({__proto__:null,getLuminance:Dt,register:Sw,setLuminance:vy});function kw(t,e){t=N(t),e=N(e);let n=Math.max(Dt(t),0),i=Math.max(Dt(e),0);return i>n&&([n,i]=[i,n]),(n+.05)/(i+.05)}var Iw=.56,$w=.57,Aw=.62,Ew=.65,S0=.022,Rw=1.414,Mw=.1,Dw=5e-4,Cw=1.14,P0=.027,Uw=1.14;function k0(t){return t>=S0?t:t+(S0-t)**Rw}function Ur(t){let e=t<0?-1:1,n=Math.abs(t);return e*Math.pow(n,2.4)}function Nw(t,e){e=N(e),t=N(t);let n,i,r,a,o,s;e=re(e,"srgb"),[a,o,s]=e.coords;let l=Ur(a)*.2126729+Ur(o)*.7151522+Ur(s)*.072175;t=re(t,"srgb"),[a,o,s]=t.coords;let c=Ur(a)*.2126729+Ur(o)*.7151522+Ur(s)*.072175,u=k0(l),d=k0(c),h=d>u;return Math.abs(d-u)<Dw?i=0:h?(n=d**Iw-u**$w,i=n*Cw):(n=d**Ew-u**Aw,i=n*Uw),Math.abs(i)<Mw?r=0:i>0?r=i-P0:r=i+P0,r*100}function zw(t,e){t=N(t),e=N(e);let n=Math.max(Dt(t),0),i=Math.max(Dt(e),0);i>n&&([n,i]=[i,n]);let r=n+i;return r===0?0:(n-i)/r}var Ow=5e4;function jw(t,e){t=N(t),e=N(e);let n=Math.max(Dt(t),0),i=Math.max(Dt(e),0);return i>n&&([n,i]=[i,n]),i===0?Ow:(n-i)/i}function Lw(t,e){t=N(t),e=N(e);let n=Le(t,[Be,"l"]),i=Le(e,[Be,"l"]);return Math.abs(n-i)}var Bw=216/24389,I0=24/116,Ya=24389/27,wm=Re.D65,zm=new R({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:wm,base:_e,fromBase(t){let n=t.map((i,r)=>i/wm[r]).map(i=>i>Bw?Math.cbrt(i):(Ya*i+16)/116);return[116*n[1]-16,500*(n[0]-n[1]),200*(n[1]-n[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>I0?Math.pow(e[0],3):(116*e[0]-16)/Ya,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Ya,e[2]>I0?Math.pow(e[2],3):(116*e[2]-16)/Ya].map((i,r)=>i*wm[r])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Sm=Math.pow(5,.5)*.5+.5;function Gw(t,e){t=N(t),e=N(e);let n=Le(t,[zm,"l"]),i=Le(e,[zm,"l"]),r=Math.abs(Math.pow(n,Sm)-Math.pow(i,Sm)),a=Math.pow(r,1/Sm)*Math.SQRT2-40;return a<7.5?0:a}var Ja=Object.freeze({__proto__:null,contrastAPCA:Nw,contrastDeltaPhi:Gw,contrastLstar:Lw,contrastMichelson:zw,contrastWCAG21:kw,contrastWeber:jw});function Fw(t,e,n={}){si(n)&&(n={algorithm:n});let{algorithm:i,...r}=n;if(!i){let a=Object.keys(Ja).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}t=N(t),e=N(e);for(let a in Ja)if("contrast"+i.toLowerCase()===a.toLowerCase())return Ja[a](t,e,r);throw new TypeError(`Unknown contrast algorithm: ${i}`)}function ao(t){let[e,n,i]=li(t,_e),r=e+15*n+3*i;return[4*e/r,9*n/r]}function Ty(t){let[e,n,i]=li(t,_e),r=e+n+i;return[e/r,n/r]}function Zw(t){Object.defineProperty(t.prototype,"uv",{get(){return ao(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return Ty(this)}})}var Ww=Object.freeze({__proto__:null,register:Zw,uv:ao,xy:Ty});function ri(t,e,n={}){si(n)&&(n={method:n});let{method:i=Ge.deltaE,...r}=n;for(let a in Lr)if("deltae"+i.toLowerCase()===a.toLowerCase())return Lr[a](t,e,r);throw new TypeError(`Unknown deltaE method: ${i}`)}function qw(t,e=.25){let i=[R.get("oklch","lch"),"l"];return xt(t,i,r=>r*(1+e))}function Vw(t,e=.25){let i=[R.get("oklch","lch"),"l"];return xt(t,i,r=>r*(1-e))}var Hw=Object.freeze({__proto__:null,darken:Vw,lighten:qw});function _y(t,e,n=.5,i={}){return[t,e]=[N(t),N(e)],At(n)==="object"&&([n,i]=[.5,n]),ui(t,e,i)(n)}function xy(t,e,n={}){let i;Wm(t)&&([i,n]=[t,e],[t,e]=i.rangeArgs.colors);let{maxDeltaE:r,deltaEMethod:a,steps:o=2,maxSteps:s=1e3,...l}=n;i||([t,e]=[N(t),N(e)],i=ui(t,e,l));let c=ri(t,e),u=r>0?Math.max(o,Math.ceil(c/r)+1):o,d=[];if(s!==void 0&&(u=Math.min(u,s)),u===1)d=[{p:.5,color:i(.5)}];else{let h=1/(u-1);d=Array.from({length:u},(f,p)=>{let v=p*h;return{p:v,color:i(v)}})}if(r>0){let h=d.reduce((f,p,v)=>{if(v===0)return 0;let T=ri(p.color,d[v-1].color,a);return Math.max(f,T)},0);for(;h>r;){h=0;for(let f=1;f<d.length&&d.length<s;f++){let p=d[f-1],v=d[f],T=(v.p+p.p)/2,A=i(T);h=Math.max(h,ri(A,p.color),ri(A,v.color)),d.splice(f,0,{p:T,color:i(T)}),f++}}}return d=d.map(h=>h.color),d}function ui(t,e,n={}){if(Wm(t)){let[l,c]=[t,e];return ui(...l.rangeArgs.colors,{...l.rangeArgs.options,...c})}let{space:i,outputSpace:r,progression:a,premultiplied:o}=n;t=N(t),e=N(e),t=jr(t),e=jr(e);let s={colors:[t,e],options:n};if(i?i=R.get(i):i=R.registry[Ge.interpolationSpace]||t.space,r=r?R.get(r):i,t=re(t,i),e=re(e,i),t=Mt(t),e=Mt(e),i.coords.h&&i.coords.h.type==="angle"){let l=n.hue=n.hue||"shorter",c=[i,"h"],[u,d]=[Le(t,c),Le(e,c)];isNaN(u)&&!isNaN(d)?u=d:isNaN(d)&&!isNaN(u)&&(d=u),[u,d]=Ix(l,[u,d]),xt(t,c,u),xt(e,c,d)}return o&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=a?a(l):l;let c=t.coords.map((h,f)=>{let p=e.coords[f];return ii(h,p,l)}),u=ii(t.alpha,e.alpha,l),d={space:i,coords:c,alpha:u};return o&&(d.coords=d.coords.map(h=>h/u)),r!==i&&(d=re(d,r)),d},{rangeArgs:s})}function Wm(t){return At(t)==="function"&&!!t.rangeArgs}Ge.interpolationSpace="lab";function Yw(t){t.defineFunction("mix",_y,{returns:"color"}),t.defineFunction("range",ui,{returns:"function<color>"}),t.defineFunction("steps",xy,{returns:"array<color>"})}var Xw=Object.freeze({__proto__:null,isRange:Wm,mix:_y,range:ui,register:Yw,steps:xy}),wy=new R({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Br,fromBase:t=>{let e=Math.max(...t),n=Math.min(...t),[i,r,a]=t,[o,s,l]=[NaN,0,(n+e)/2],c=e-n;if(c!==0){switch(s=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case i:o=(r-a)/c+(r<a?6:0);break;case r:o=(a-i)/c+2;break;case a:o=(i-r)/c+4}o=o*60}return s<0&&(o+=180,s=Math.abs(s)),o>=360&&(o-=360),[o,s*100,l*100]},toBase:t=>{let[e,n,i]=t;e=e%360,e<0&&(e+=360),n/=100,i/=100;function r(a){let o=(a+e/30)%12,s=n*Math.min(i,1-i);return i-s*Math.max(-1,Math.min(o-3,9-o,1))}return[r(0),r(8),r(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Sy=new R({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:wy,fromBase(t){let[e,n,i]=t;n/=100,i/=100;let r=i+n*Math.min(i,1-i);return[e,r===0?0:200*(1-i/r),100*r]},toBase(t){let[e,n,i]=t;n/=100,i/=100;let r=i*(1-n/2);return[e,r===0||r===1?0:(i-r)/Math.min(r,1-r)*100,r*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Kw=new R({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Sy,fromBase(t){let[e,n,i]=t;return[e,i*(100-n)/100,100-i]},toBase(t){let[e,n,i]=t;n/=100,i/=100;let r=n+i;if(r>=1){let s=n/r;return[e,0,s*100]}let a=1-i,o=a===0?0:1-n/a;return[e,o*100,a*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Jw=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],Qw=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],Py=new Pe({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:Jw,fromXYZ_M:Qw}),e2=new Pe({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:Py,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),t2=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],r2=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],ky=new Pe({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Gm,toXYZ_M:t2,fromXYZ_M:r2}),n2=1/512,i2=16/512,a2=new Pe({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:ky,toBase(t){return t.map(e=>e<i2?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=n2?e**(1/1.8):16*e)}}),o2=new R({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Or,fromBase(t){let[e,n,i]=t,r,a=2e-4;return Math.abs(n)<a&&Math.abs(i)<a?r=NaN:r=Math.atan2(i,n)*180/Math.PI,[e,Math.sqrt(n**2+i**2),ot(r)]},toBase(t){let[e,n,i]=t,r,a;return isNaN(i)?(r=0,a=0):(r=n*Math.cos(i*Math.PI/180),a=n*Math.sin(i*Math.PI/180)),[e,r,a]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Iy=Re.D65,s2=216/24389,$0=24389/27,[A0,E0]=ao({space:_e,coords:Iy}),$y=new R({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Iy,base:_e,fromBase(t){let e=[pe(t[0]),pe(t[1]),pe(t[2])],n=e[1],[i,r]=ao({space:_e,coords:e});if(!Number.isFinite(i)||!Number.isFinite(r))return[0,0,0];let a=n<=s2?$0*n:116*Math.cbrt(n)-16;return[a,13*a*(i-A0),13*a*(r-E0)]},toBase(t){let[e,n,i]=t;if(e===0||Et(e))return[0,0,0];n=pe(n),i=pe(i);let r=n/(13*e)+A0,a=i/(13*e)+E0,o=e<=8?e/$0:Math.pow((e+16)/116,3);return[o*(9*r/(4*a)),o,o*((12-3*r-20*a)/(4*a))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),qm=new R({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:$y,fromBase(t){let[e,n,i]=t,r,a=.02;return Math.abs(n)<a&&Math.abs(i)<a?r=NaN:r=Math.atan2(i,n)*180/Math.PI,[e,Math.sqrt(n**2+i**2),ot(r)]},toBase(t){let[e,n,i]=t;return n<0&&(n=0),isNaN(i)&&(i=0),[e,n*Math.cos(i*Math.PI/180),n*Math.sin(i*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),l2=216/24389,u2=24389/27,R0=be[0][0],M0=be[0][1],Pm=be[0][2],D0=be[1][0],C0=be[1][1],km=be[1][2],U0=be[2][0],N0=be[2][1],Im=be[2][2];function Nr(t,e,n){let i=e/(Math.sin(n)-t*Math.cos(n));return i<0?1/0:i}function ro(t){let e=Math.pow(t+16,3)/1560896,n=e>l2?e:t/u2,i=n*(284517*R0-94839*Pm),r=n*(838422*Pm+769860*M0+731718*R0),a=n*(632260*Pm-126452*M0),o=n*(284517*D0-94839*km),s=n*(838422*km+769860*C0+731718*D0),l=n*(632260*km-126452*C0),c=n*(284517*U0-94839*Im),u=n*(838422*Im+769860*N0+731718*U0),d=n*(632260*Im-126452*N0);return{r0s:i/a,r0i:r*t/a,r1s:i/(a+126452),r1i:(r-769860)*t/(a+126452),g0s:o/l,g0i:s*t/l,g1s:o/(l+126452),g1i:(s-769860)*t/(l+126452),b0s:c/d,b0i:u*t/d,b1s:c/(d+126452),b1i:(u-769860)*t/(d+126452)}}function z0(t,e){let n=e/360*Math.PI*2,i=Nr(t.r0s,t.r0i,n),r=Nr(t.r1s,t.r1i,n),a=Nr(t.g0s,t.g0i,n),o=Nr(t.g1s,t.g1i,n),s=Nr(t.b0s,t.b0i,n),l=Nr(t.b1s,t.b1i,n);return Math.min(i,r,a,o,s,l)}var c2=new R({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:qm,gamutSpace:Br,fromBase(t){let[e,n,i]=[pe(t[0]),pe(t[1]),pe(t[2])],r;if(e>99.9999999)r=0,e=100;else if(e<1e-8)r=0,e=0;else{let a=ro(e),o=z0(a,i);r=n/o*100}return[i,r,e]},toBase(t){let[e,n,i]=[pe(t[0]),pe(t[1]),pe(t[2])],r;if(i>99.9999999)i=100,r=0;else if(i<1e-8)i=0,r=0;else{let a=ro(i);r=z0(a,e)/100*n}return[i,r,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});be[0][0];be[0][1];be[0][2];be[1][0];be[1][1];be[1][2];be[2][0];be[2][1];be[2][2];function zr(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}function O0(t){let e=zr(t.r0s,t.r0i),n=zr(t.r1s,t.r1i),i=zr(t.g0s,t.g0i),r=zr(t.g1s,t.g1i),a=zr(t.b0s,t.b0i),o=zr(t.b1s,t.b1i);return Math.min(e,n,i,r,a,o)}var d2=new R({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:qm,gamutSpace:"self",fromBase(t){let[e,n,i]=[pe(t[0]),pe(t[1]),pe(t[2])],r;if(e>99.9999999)r=0,e=100;else if(e<1e-8)r=0,e=0;else{let a=ro(e),o=O0(a);r=n/o*100}return[i,r,e]},toBase(t){let[e,n,i]=[pe(t[0]),pe(t[1]),pe(t[2])],r;if(i>99.9999999)i=100,r=0;else if(i<1e-8)i=0,r=0;else{let a=ro(i);r=O0(a)/100*n}return[i,r,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),j0=203,L0=2610/2**14,m2=2**14/2610,h2=2523/2**5,B0=2**5/2523,G0=3424/2**12,F0=2413/2**7,Z0=2392/2**7,p2=new Pe({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:io,toBase(t){return t.map(function(e){return(Math.max(e**B0-G0,0)/(F0-Z0*e**B0))**m2*1e4/j0})},fromBase(t){return t.map(function(e){let n=Math.max(e*j0/1e4,0),i=G0+F0*n**L0,r=1+Z0*n**L0;return(i/r)**h2})}}),W0=.17883277,q0=.28466892,V0=.55991073,$m=3.7743,f2=new Pe({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:io,toBase(t){return t.map(function(e){return e<=.5?e**2/3*$m:(Math.exp((e-V0)/W0)+q0)/12*$m})},fromBase(t){return t.map(function(e){return e/=$m,e<=1/12?Math.sqrt(3*e):W0*Math.log(12*e-q0)+V0})}}),Ay={};Rt.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=Ey(t.W1,t.W2,t.options.method))});Rt.add("chromatic-adaptation-end",t=>{t.M||(t.M=Ey(t.W1,t.W2,t.options.method))});function oo({id:t,toCone_M:e,fromCone_M:n}){Ay[t]=arguments[0]}function Ey(t,e,n="Bradford"){let i=Ay[n],[r,a,o]=ne(i.toCone_M,t),[s,l,c]=ne(i.toCone_M,e),u=[[s/r,0,0],[0,l/a,0],[0,0,c/o]],d=ne(u,i.toCone_M);return ne(i.fromCone_M,d)}oo({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});oo({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});oo({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});oo({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(Re,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});Re.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var g2=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],y2=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Ry=new Pe({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:Re.ACES,toXYZ_M:g2,fromXYZ_M:y2}),Xa=2**-16,Am=-.35828683,Ka=(Math.log2(65504)+9.72)/17.52,b2=new Pe({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[Am,Ka],name:"Red"},g:{range:[Am,Ka],name:"Green"},b:{range:[Am,Ka],name:"Blue"}},referred:"scene",base:Ry,toBase(t){let e=-.3013698630136986;return t.map(function(n){return n<=e?(2**(n*17.52-9.72)-Xa)*2:n<Ka?2**(n*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(Xa)+9.72)/17.52:e<Xa?(Math.log2(Xa+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),H0=Object.freeze({__proto__:null,A98RGB:e2,A98RGB_Linear:Py,ACEScc:b2,ACEScg:Ry,CAM16_JMh:ow,HCT:oi,HPLuv:d2,HSL:wy,HSLuv:c2,HSV:Sy,HWB:Kw,ICTCP:Cm,JzCzHz:Dm,Jzazbz:ay,LCH:ai,LCHuv:qm,Lab:Be,Lab_D65:zm,Luv:$y,OKLCH:o2,OKLab:Or,P3:by,P3_Linear:gy,ProPhoto:a2,ProPhoto_Linear:ky,REC_2020:fy,REC_2020_Linear:io,REC_2100_HLG:f2,REC_2100_PQ:p2,XYZ_ABS_D65:Fm,XYZ_D50:Gm,XYZ_D65:_e,sRGB:Br,sRGB_Linear:yy}),ke=class t{constructor(...e){let n;e.length===1&&(n=N(e[0]));let i,r,a;n?(i=n.space||n.spaceId,r=n.coords,a=n.alpha):[i,r,a]=e,Object.defineProperty(this,"space",{value:R.get(i),writable:!1,enumerable:!0,configurable:!0}),this.coords=r?r.slice():[0,0,0],this.alpha=a>1||a===void 0?1:a<0?0:a;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:s=>this.set(o,s)})}get spaceId(){return this.space.id}clone(){return new t(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let n=xw(this,...e);return n.color=new t(n.color),n}static get(e,...n){return e instanceof t?e:new t(e,...n)}static defineFunction(e,n,i=n){let{instance:r=!0,returns:a}=i,o=function(...s){let l=n(...s);if(a==="color")l=t.get(l);else if(a==="function<color>"){let c=l;l=function(...u){let d=c(...u);return t.get(d)},Object.assign(l,c)}else a==="array<color>"&&(l=l.map(c=>t.get(c)));return l};e in t||(t[e]=o),r&&(t.prototype[e]=function(...s){return o(this,...s)})}static defineFunctions(e){for(let n in e)t.defineFunction(n,e[n],e[n])}static extend(e){if(e.register)e.register(t);else for(let n in e)t.defineFunction(n,e[n])}};ke.defineFunctions({get:Le,getAll:li,set:xt,setAll:Bm,to:re,equals:ww,inGamut:nr,toGamut:Mt,distance:iy,toString:ni});Object.assign(ke,{util:xx,hooks:Rt,WHITES:Re,Space:R,spaces:R.registry,parse:ry,defaults:Ge});for(let t of Object.keys(H0))R.register(H0[t]);for(let t in R.registry)Om(t,R.registry[t]);Rt.add("colorspace-init-end",t=>{Om(t.id,t),t.aliases?.forEach(e=>{Om(e,t)})});function Om(t,e){let n=t.replace(/-/g,"_");Object.defineProperty(ke.prototype,n,{get(){let i=this.getAll(t);return typeof Proxy>"u"?i:new Proxy(i,{has:(r,a)=>{try{return R.resolveCoord([e,a]),!0}catch{}return Reflect.has(r,a)},get:(r,a,o)=>{if(a&&typeof a!="symbol"&&!(a in r)){let{index:s}=R.resolveCoord([e,a]);if(s>=0)return r[s]}return Reflect.get(r,a,o)},set:(r,a,o,s)=>{if(a&&typeof a!="symbol"&&!(a in r)||a>=0){let{index:l}=R.resolveCoord([e,a]);if(l>=0)return r[l]=o,this.setAll(t,r),!0}return Reflect.set(r,a,o,s)}})},set(i){this.setAll(t,i)},configurable:!0,enumerable:!0})}ke.extend(Lr);ke.extend({deltaE:ri});Object.assign(ke,{deltaEMethods:Lr});ke.extend(Hw);ke.extend({contrast:Fw});ke.extend(Ww);ke.extend(Pw);ke.extend(Xw);ke.extend(Ja);Er([Fa]);Er([Ga]);var v2=m({h:0,s:82,l:56}),T2=m({h:224,s:100,l:58}),_2=m({h:172,s:66,l:50}),x2=m({h:271,s:81,l:56}),w2=m({h:45,s:93,l:47}),S2=m({h:25,s:95,l:53}),P2=m({h:128,s:49,l:50}),k2=m({h:36,s:10,l:80}),My=ir(v2),Dy=ir(T2),Cy=ir(_2),Uy=ir(x2),Ny=ir(w2),zy=ir(S2),Oy=ir(P2),jy=[m(k2)];function ir(t){let{h:e,s:n,l:i}=t.toHsl(),r=64;return Array.from({length:r},(a,o)=>{let s=o/(r-1),l=n*(1-.3*s),c=Math.min(100,i+s*30);return m({h:e,s:l,l:c})})}var Vm=[m({r:230,g:100,b:100}),m({r:100,g:180,b:230}),m({r:230,g:180,b:80}),m({r:180,g:100,b:230}),m({r:80,g:200,b:120}),m({r:230,g:130,b:180}),m({r:100,g:160,b:80}),m({r:230,g:150,b:100}),m({r:80,g:130,b:190}),m({r:210,g:210,b:100}),m({r:190,g:100,b:130}),m({r:100,g:210,b:210}),m({r:210,g:140,b:80}),m({r:150,g:110,b:190}),m({r:180,g:210,b:120}),m({r:210,g:100,b:160}),m({r:100,g:140,b:110}),m({r:230,g:180,b:180}),m({r:120,g:120,b:190}),m({r:190,g:170,b:100}),m({r:100,g:180,b:160}),m({r:210,g:160,b:200}),m({r:170,g:190,b:100}),m({r:100,g:130,b:150}),m({r:230,g:140,b:140}),m({r:140,g:180,b:220}),m({r:200,g:160,b:110}),m({r:180,g:130,b:180}),m({r:130,g:200,b:130}),m({r:220,g:120,b:120}),m({r:120,g:160,b:200}),m({r:200,g:200,b:140}),m({r:160,g:120,b:160}),m({r:140,g:180,b:140}),m({r:200,g:130,b:110}),m({r:130,g:170,b:190}),m({r:190,g:180,b:160}),m({r:170,g:140,b:190}),m({r:160,g:190,b:160}),m({r:190,g:150,b:130}),m({r:140,g:150,b:180}),m({r:180,g:170,b:140}),m({r:150,g:130,b:150}),m({r:170,g:190,b:180}),m({r:190,g:140,b:150}),m({r:130,g:180,b:170}),m({r:180,g:160,b:180}),m({r:160,g:180,b:140}),m({r:170,g:150,b:170}),m({r:100,g:180,b:230}),m({r:230,g:180,b:80}),m({r:180,g:100,b:230}),m({r:80,g:200,b:120}),m({r:230,g:130,b:180}),m({r:100,g:160,b:80}),m({r:230,g:150,b:100}),m({r:80,g:130,b:190}),m({r:210,g:210,b:100}),m({r:190,g:100,b:130}),m({r:100,g:210,b:210}),m({r:210,g:140,b:80}),m({r:150,g:110,b:190}),m({r:180,g:210,b:120}),m({r:210,g:100,b:160}),m({r:100,g:140,b:110}),m({r:230,g:180,b:180}),m({r:120,g:120,b:190}),m({r:190,g:170,b:100}),m({r:100,g:180,b:160}),m({r:210,g:160,b:200}),m({r:170,g:190,b:100}),m({r:100,g:130,b:150}),m({r:230,g:140,b:140}),m({r:140,g:180,b:220}),m({r:200,g:160,b:110}),m({r:180,g:130,b:180}),m({r:130,g:200,b:130}),m({r:220,g:120,b:120}),m({r:120,g:160,b:200}),m({r:200,g:200,b:140}),m({r:160,g:120,b:160}),m({r:140,g:180,b:140}),m({r:200,g:130,b:110}),m({r:130,g:170,b:190}),m({r:190,g:180,b:160}),m({r:170,g:140,b:190}),m({r:160,g:190,b:160}),m({r:190,g:150,b:130}),m({r:140,g:150,b:180}),m({r:180,g:170,b:140}),m({r:150,g:130,b:150}),m({r:170,g:190,b:180}),m({r:190,g:140,b:150}),m({r:130,g:180,b:170}),m({r:180,g:160,b:180}),m({r:160,g:180,b:140}),m({r:170,g:150,b:170})],Hm=[m({r:16,g:185,b:129}),m({r:34,g:197,b:94}),m({r:45,g:212,b:191}),m({r:48,g:178,b:180}),m({r:52,g:211,b:153}),m({r:56,g:189,b:248}),m({r:59,g:130,b:246}),m({r:67,g:190,b:84}),m({r:74,g:222,b:128}),m({r:79,g:70,b:229}),m({r:82,g:183,b:136}),m({r:96,g:165,b:250}),m({r:99,g:202,b:253}),m({r:110,g:231,b:183}),m({r:124,g:58,b:237}),m({r:125,g:211,b:252}),m({r:132,g:204,b:22}),m({r:133,g:77,b:14}),m({r:134,g:239,b:172}),m({r:147,g:51,b:234}),m({r:147,g:197,b:253}),m({r:151,g:255,b:187}),m({r:163,g:230,b:53}),m({r:167,g:139,b:250}),m({r:168,g:85,b:247}),m({r:179,g:136,b:255}),m({r:186,g:255,b:201}),m({r:190,g:92,b:251}),m({r:192,g:132,b:252}),m({r:202,g:138,b:4}),m({r:202,g:225,b:255}),m({r:204,g:204,b:255}),m({r:217,g:70,b:239}),m({r:220,g:38,b:38}),m({r:220,g:220,b:255}),m({r:220,g:240,b:250}),m({r:230,g:250,b:210}),m({r:230,g:255,b:250}),m({r:233,g:213,b:255}),m({r:234,g:88,b:12}),m({r:234,g:179,b:8}),m({r:235,g:75,b:75}),m({r:236,g:72,b:153}),m({r:239,g:68,b:68}),m({r:240,g:171,b:252}),m({r:240,g:240,b:200}),m({r:244,g:114,b:182}),m({r:245,g:101,b:101}),m({r:245,g:158,b:11}),m({r:248,g:113,b:113}),m({r:249,g:115,b:22}),m({r:250,g:215,b:225}),m({r:250,g:250,b:210}),m({r:251,g:113,b:133}),m({r:251,g:146,b:60}),m({r:251,g:191,b:36}),m({r:251,g:235,b:245}),m({r:252,g:165,b:165}),m({r:252,g:211,b:77}),m({r:253,g:164,b:175}),m({r:255,g:204,b:229}),m({r:255,g:223,b:186}),m({r:255,g:240,b:200})],Ym=[m({r:190,g:120,b:120}),m({r:120,g:160,b:190}),m({r:190,g:160,b:100}),m({r:160,g:120,b:190}),m({r:100,g:170,b:130}),m({r:190,g:130,b:160}),m({r:120,g:150,b:100}),m({r:190,g:140,b:120}),m({r:100,g:120,b:160}),m({r:170,g:170,b:120}),m({r:160,g:120,b:130}),m({r:120,g:170,b:170}),m({r:170,g:140,b:100}),m({r:140,g:120,b:160}),m({r:150,g:170,b:130}),m({r:170,g:120,b:140}),m({r:120,g:140,b:120}),m({r:180,g:160,b:160}),m({r:130,g:130,b:160}),m({r:160,g:150,b:120}),m({r:120,g:160,b:150}),m({r:170,g:150,b:170}),m({r:150,g:160,b:120}),m({r:120,g:130,b:140}),m({r:180,g:140,b:140}),m({r:140,g:160,b:170}),m({r:170,g:150,b:130}),m({r:160,g:130,b:160}),m({r:130,g:170,b:130}),m({r:170,g:130,b:130}),m({r:130,g:150,b:170}),m({r:170,g:170,b:140}),m({r:150,g:130,b:150}),m({r:140,g:160,b:140}),m({r:170,g:130,b:120}),m({r:130,g:150,b:160}),m({r:160,g:160,b:150}),m({r:150,g:140,b:160}),m({r:150,g:170,b:150}),m({r:160,g:140,b:130}),m({r:140,g:150,b:160}),m({r:160,g:150,b:140}),m({r:140,g:130,b:140}),m({r:150,g:160,b:160}),m({r:160,g:140,b:150}),m({r:130,g:160,b:150}),m({r:160,g:150,b:160}),m({r:150,g:160,b:140}),m({r:150,g:140,b:150})],Xm=[m({r:0,g:5,b:0}),m({r:0,g:15,b:0}),m({r:0,g:25,b:0}),m({r:0,g:35,b:0}),m({r:0,g:45,b:0}),m({r:0,g:55,b:0}),m({r:0,g:65,b:0}),m({r:0,g:75,b:0}),m({r:0,g:85,b:0}),m({r:0,g:95,b:0}),m({r:0,g:105,b:0}),m({r:0,g:115,b:0}),m({r:0,g:125,b:0}),m({r:0,g:135,b:0}),m({r:0,g:145,b:0}),m({r:0,g:155,b:0}),m({r:0,g:165,b:0}),m({r:0,g:175,b:0}),m({r:0,g:185,b:0}),m({r:0,g:195,b:5}),m({r:0,g:205,b:10}),m({r:0,g:215,b:15}),m({r:0,g:225,b:20}),m({r:0,g:235,b:25}),m({r:0,g:245,b:30}),m({r:0,g:255,b:35}),m({r:10,g:255,b:45}),m({r:20,g:255,b:55}),m({r:30,g:255,b:65}),m({r:40,g:255,b:75}),m({r:50,g:255,b:85}),m({r:60,g:255,b:95}),m({r:70,g:255,b:105}),m({r:80,g:255,b:115}),m({r:90,g:255,b:125}),m({r:100,g:255,b:135}),m({r:110,g:255,b:145}),m({r:120,g:255,b:155}),m({r:130,g:255,b:165}),m({r:140,g:255,b:175}),m({r:150,g:200,b:255}),m({r:150,g:255,b:185}),m({r:160,g:215,b:255}),m({r:160,g:255,b:195}),m({r:170,g:190,b:255}),m({r:170,g:225,b:255}),m({r:170,g:255,b:205}),m({r:180,g:180,b:255}),m({r:180,g:235,b:250}),m({r:180,g:255,b:215}),m({r:190,g:140,b:195}),m({r:190,g:245,b:240}),m({r:190,g:255,b:225}),m({r:195,g:145,b:200}),m({r:200,g:150,b:205}),m({r:200,g:170,b:255}),m({r:200,g:255,b:215}),m({r:200,g:255,b:235}),m({r:205,g:155,b:210}),m({r:210,g:160,b:215}),m({r:210,g:255,b:245}),m({r:215,g:165,b:220}),m({r:215,g:255,b:200}),m({r:220,g:160,b:255}),m({r:220,g:170,b:225}),m({r:220,g:255,b:255}),m({r:225,g:175,b:230}),m({r:225,g:255,b:175}),m({r:230,g:180,b:235}),m({r:230,g:250,b:255}),m({r:235,g:150,b:255}),m({r:235,g:185,b:240}),m({r:240,g:190,b:245}),m({r:240,g:240,b:255}),m({r:240,g:250,b:160}),m({r:245,g:160,b:240}),m({r:245,g:195,b:250}),m({r:245,g:245,b:175}),m({r:250,g:200,b:255}),m({r:250,g:230,b:255}),m({r:255,g:170,b:225}),m({r:255,g:185,b:215}),m({r:255,g:195,b:235}),m({r:255,g:200,b:220}),m({r:255,g:205,b:245}),m({r:255,g:205,b:255}),m({r:255,g:210,b:230}),m({r:255,g:210,b:250}),m({r:255,g:210,b:255}),m({r:255,g:215,b:195}),m({r:255,g:215,b:245}),m({r:255,g:220,b:235}),m({r:255,g:220,b:250}),m({r:255,g:225,b:180}),m({r:255,g:225,b:255}),m({r:255,g:230,b:245}),m({r:255,g:235,b:200}),m({r:255,g:235,b:235}),m({r:255,g:240,b:220}),m({r:255,g:245,b:210})];Er([Fa]);Er([Ga]);var ar=class{constructor(e,n){this.assigned=new Map;this.teamPlayerColors=new Map;this.availableColors=[...e],this.fallbackColors=[...e,...n]}getTeamColorVariations(e){switch(e){case ae.Blue:return Dy;case ae.Red:return My;case ae.Teal:return Cy;case ae.Purple:return Uy;case ae.Yellow:return Ny;case ae.Orange:return zy;case ae.Green:return Oy;case ae.Bot:return jy;default:return[this.assignColor(e)]}}assignColor(e){if(this.assigned.has(e))return this.assigned.get(e);this.availableColors.length===0&&(this.availableColors=[...this.fallbackColors]);let n=0;if(this.assigned.size===0||this.assigned.size>50)n=new U(q(e)).nextInt(0,this.availableColors.length);else{let r=Array.from(this.assigned.values());n=I2(this.availableColors,r)??0}let i=this.availableColors.splice(n,1)[0];return this.assigned.set(e,i),i}assignTeamColor(e){return this.getTeamColorVariations(e)[0]}assignTeamPlayerColor(e,n){if(this.teamPlayerColors.has(n))return this.teamPlayerColors.get(n);let i=this.getTeamColorVariations(e),a=q(n)%i.length,o=i[a];return this.teamPlayerColors.set(n,o),o}};function I2(t,e){if(e.length===0)throw new Error("No assigned colors");let n=e.map(Ly),i=0,r=0;for(let a=0;a<t.length;a++){let o=t[a],s=$2(Ly(o),n);s>i&&(i=s,r=a)}return r}function $2(t,e){return e.reduce((n,i)=>Math.min(n,A2(t,i)),1/0)}function A2(t,e){return t.deltaE(e,"2000")}function Ly(t){let e=t.toLab();return new ke("lab",[e.l,e.a,e.b])}var Gr=class{constructor(){this.borderColorCache=new Map;this.rand=new U(123);this.humanColorAllocator=new ar(Hm,Xm);this.botColorAllocator=new ar(Ym,Ym);this.teamColorAllocator=new ar(Hm,Xm);this.nationColorAllocator=new ar(Vm,Vm);this.background=m({r:60,g:60,b:60});this.shore=m({r:204,g:203,b:158});this.falloutColors=[m({r:120,g:255,b:71}),m({r:130,g:255,b:85}),m({r:110,g:245,b:65}),m({r:125,g:255,b:75}),m({r:115,g:250,b:68})];this.water=m({r:70,g:132,b:180});this.shorelineWater=m({r:100,g:143,b:255});this._selfColor=m({r:0,g:255,b:0});this._allyColor=m({r:255,g:255,b:0});this._neutralColor=m({r:128,g:128,b:128});this._enemyColor=m({r:255,g:0,b:0});this._spawnHighlightColor=m({r:255,g:213,b:79})}teamColor(e){return this.teamColorAllocator.assignTeamColor(e)}territoryColor(e){let n=e.team();return n!==null?this.teamColorAllocator.assignTeamPlayerColor(n,e.id()):e.type()==="HUMAN"?this.humanColorAllocator.assignColor(e.id()):e.type()==="BOT"?this.botColorAllocator.assignColor(e.id()):this.nationColorAllocator.assignColor(e.id())}borderColor(e){return e.darken(.125)}defendedBorderColors(e){return{light:e.darken(.2),dark:e.darken(.4)}}focusedBorderColor(){return m({r:230,g:230,b:230})}textColor(e){return e.type()==="HUMAN"?"#000000":"#4D4D4D"}terrainColor(e,n){let i=e.magnitude(n);if(e.isShore(n))return this.shore;switch(e.terrainType(n)){case 4:case 3:{let r=this.water.rgba;return e.isShoreline(n)&&e.isWater(n)?this.shorelineWater:m({r:Math.max(r.r-10+(11-Math.min(i,10)),0),g:Math.max(r.g-10+(11-Math.min(i,10)),0),b:Math.max(r.b-10+(11-Math.min(i,10)),0)})}case 0:return m({r:190,g:220-2*i,b:138});case 1:return m({r:200+2*i,g:183+2*i,b:138+2*i});case 2:return m({r:230+i/2,g:230+i/2,b:230+i/2})}}backgroundColor(){return this.background}falloutColor(){return this.rand.randElement(this.falloutColors)}font(){return"Overpass, sans-serif"}selfColor(){return this._selfColor}allyColor(){return this._allyColor}neutralColor(){return this._neutralColor}enemyColor(){return this._enemyColor}spawnHighlightColor(){return this._spawnHighlightColor}};var so=class extends Gr{constructor(){super(...arguments);this.darkShore=m({r:134,g:133,b:88});this.darkWater=m({r:14,g:11,b:30});this.darkShorelineWater=m({r:50,g:50,b:50})}terrainColor(n,i){let r=n.magnitude(i);if(n.isShore(i))return this.darkShore;switch(n.terrainType(i)){case 4:case 3:{let a=this.darkWater.rgba;return n.isShoreline(i)&&n.isWater(i)?this.darkShorelineWater:n.magnitude(i)<10?m({r:Math.max(a.r+9-r,0),g:Math.max(a.g+9-r,0),b:Math.max(a.b+9-r,0)}):this.darkWater}case 0:return m({r:140,g:170-2*r,b:88});case 1:return m({r:150+2*r,g:133+2*r,b:88+2*r});case 2:return m({r:180+r/2,g:180+r/2,b:180+r/2})}}};var R2=15e4,M2=Math.LN2/5e4,D2=he.object({keys:he.object({alg:he.literal("EdDSA"),crv:he.literal("Ed25519"),kty:he.literal("OKP"),x:he.string()}).array().min(1)}),C2={Africa:[100,70,50],Asia:[50,40,30],Australia:[70,40,30],Baikal:[100,70,50],"Between Two Seas":[70,50,40],"Black Sea":[50,30,30],Britannia:[50,30,20],"Deglaciated Antarctica":[50,40,30],"East Asia":[50,30,20],Europe:[100,70,50],"Europe Classic":[50,30,30],"Falkland Islands":[50,30,20],"Faroe Islands":[20,15,10],"Gateway to the Atlantic":[100,70,50],"Giant World Map":[100,70,50],Halkidiki:[100,50,40],Iceland:[50,40,30],Italia:[50,30,20],Japan:[20,15,10],Mars:[70,40,30],Mena:[70,50,40],Montreal:[60,40,30],"North America":[70,40,30],Oceania:[10,10,10],Pangaea:[20,15,10],Pluto:[100,70,50],"South America":[70,50,40],"Strait of Gibraltar":[100,70,50],World:[50,30,20],Yenisei:[150,100,70]},Ct=class{allowedFlares(){}stripePublishableKey(){return process.env.STRIPE_PUBLISHABLE_KEY??""}domain(){return process.env.DOMAIN??""}subdomain(){return process.env.SUBDOMAIN??""}cloudflareAccountId(){return process.env.CF_ACCOUNT_ID??""}cloudflareApiToken(){return process.env.CF_API_TOKEN??""}cloudflareConfigPath(){return process.env.CF_CONFIG_PATH??""}cloudflareCredsPath(){return process.env.CF_CREDS_PATH??""}jwtIssuer(){let e=this.jwtAudience();return e==="localhost"?"http://localhost:8787":`https://api.${e}`}async jwkPublicKey(){if(this.publicKey)return this.publicKey;let e=this.jwtIssuer()+"/.well-known/jwks.json";console.log(`Fetching JWKS from ${e}`);let n=await fetch(e),i=D2.safeParse(await n.json());if(!i.success){let r=he.prettifyError(i.error);throw console.error("Error parsing JWKS",r),new Error("Invalid JWKS")}return this.publicKey=i.data.keys[0],this.publicKey}otelEnabled(){return this.env()!==0&&!!this.otelEndpoint()&&!!this.otelAuthHeader()}otelEndpoint(){return process.env.OTEL_EXPORTER_OTLP_ENDPOINT??""}otelAuthHeader(){return process.env.OTEL_AUTH_HEADER??""}gitCommit(){return process.env.GIT_COMMIT??""}r2Endpoint(){return`https://${process.env.CF_ACCOUNT_ID}.r2.cloudflarestorage.com`}r2AccessKey(){return process.env.R2_ACCESS_KEY??""}r2SecretKey(){return process.env.R2_SECRET_KEY??""}r2Bucket(){return process.env.R2_BUCKET??""}apiKey(){return process.env.API_KEY??""}adminHeader(){return"x-admin-key"}adminToken(){return process.env.ADMIN_TOKEN??"dummy-admin-token"}turnIntervalMs(){return 100}gameCreationRate(){return 60*1e3}lobbyMaxPlayers(e,n,i){let[r,a,o]=C2[e]??[50,30,20],s=Math.random(),l=s<.3?r:s<.6?a:o,c=Math.min(n==="Team"?Math.ceil(l*1.5):l,r);if(i===void 0)return c;switch(i){case Ii:c-=c%2;break;case $i:c-=c%3;break;case Ai:c-=c%4;break;default:c-=c%i;break}return c}workerIndex(e){return q(e)%this.numWorkers()}workerPath(e){return`w${this.workerIndex(e)}`}workerPort(e){return this.workerPortByIndex(this.workerIndex(e))}workerPortByIndex(e){return 3001+e}},Fr=class{constructor(e,n,i,r){this._serverConfig=e;this._gameConfig=n;this._userSettings=i;this._isReplay=r;this.pastelTheme=new Gr;this.pastelThemeDark=new so}stripePublishableKey(){return process.env.STRIPE_PUBLISHABLE_KEY??""}isReplay(){return this._isReplay}samHittingChance(){return .8}samWarheadHittingChance(){return .5}traitorDefenseDebuff(){return .5}traitorSpeedDebuff(){return .8}traitorDuration(){return 30*10}spawnImmunityDuration(){return 5*10}gameConfig(){return this._gameConfig}serverConfig(){return this._serverConfig}userSettings(){if(this._userSettings===null)throw new Error("userSettings is null");return this._userSettings}difficultyModifier(e){switch(e){case"Easy":return 1;case"Medium":return 3;case"Hard":return 9;case"Impossible":return 18}}cityTroopIncrease(){return 25e4}falloutDefenseModifier(e){return 5-e*2}SAMCooldown(){return 75}SiloCooldown(){return 75}defensePostRange(){return 30}defensePostDefenseBonus(){return 5}defensePostSpeedBonus(){return 3}playerTeams(){return this._gameConfig.playerTeams??0}spawnNPCs(){return!this._gameConfig.disableNPCs}isUnitDisabled(e){return this._gameConfig.disabledUnits?.includes(e)??!1}bots(){return this._gameConfig.bots}instantBuild(){return this._gameConfig.instantBuild}infiniteGold(){return this._gameConfig.infiniteGold}donateGold(){return this._gameConfig.donateGold}infiniteTroops(){return this._gameConfig.infiniteTroops}donateTroops(){return this._gameConfig.donateTroops}trainSpawnRate(e){return(e+10)*20}trainGold(e){switch(e){case"ally":return 50000n;case"team":case"other":return 25000n;case"self":return 10000n}}trainStationMinRange(){return 15}trainStationMaxRange(){return 100}railroadMaxSize(){return 120}tradeShipGold(e,n){let i=Math.floor(1e5+100*e),r=n-1,a=1+2*(r/(r+5));return BigInt(Math.floor(i*a))}tradeShipSpawnRate(e,n,i){let r=Math.sqrt(this.tradeShipBaseSpawn(e,i)*this.tradeShipPortMultiplier(n));return Math.floor(25/r)}tradeShipBaseSpawn(e,n){if(n<3)return 1;let i=Math.LN2/10;return 1-ol(e,i,55)}tradeShipPortMultiplier(e){return 1/(1+.1*e)}unitInfo(e){switch(e){case"Transport":return{cost:()=>0n,territoryBound:!1};case"Warship":return{cost:this.costWrapper(n=>Math.min(1e6,(n+1)*25e4),"Warship"),territoryBound:!1,maxHealth:1e3};case"Shell":return{cost:()=>0n,territoryBound:!1,damage:250};case"SAMMissile":return{cost:()=>0n,territoryBound:!1};case"Port":return{cost:this.costWrapper(n=>Math.min(1e6,Math.pow(2,n)*125e3),"Port","Factory"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,upgradable:!0,canBuildTrainStation:!0};case"Atom Bomb":return{cost:this.costWrapper(()=>75e4,"Atom Bomb"),territoryBound:!1};case"Hydrogen Bomb":return{cost:this.costWrapper(()=>5e6,"Hydrogen Bomb"),territoryBound:!1};case"MIRV":return{cost:this.costWrapper(()=>35e6,"MIRV"),territoryBound:!1};case"MIRV Warhead":return{cost:()=>0n,territoryBound:!1};case"Trade Ship":return{cost:()=>0n,territoryBound:!1};case"Missile Silo":return{cost:this.costWrapper(()=>1e6,"Missile Silo"),territoryBound:!0,constructionDuration:this.instantBuild()?0:10*10,upgradable:!0};case"Defense Post":return{cost:this.costWrapper(n=>Math.min(25e4,(n+1)*5e4),"Defense Post"),territoryBound:!0,constructionDuration:this.instantBuild()?0:5*10};case"SAM Launcher":return{cost:this.costWrapper(n=>Math.min(3e6,(n+1)*15e5),"SAM Launcher"),territoryBound:!0,constructionDuration:this.instantBuild()?0:30*10,upgradable:!0};case"City":return{cost:this.costWrapper(n=>Math.min(1e6,Math.pow(2,n)*125e3),"City"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,upgradable:!0,canBuildTrainStation:!0};case"Factory":return{cost:this.costWrapper(n=>Math.min(1e6,Math.pow(2,n)*125e3),"Factory","Port"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,canBuildTrainStation:!0,experimental:!0,upgradable:!0};case"Construction":return{cost:()=>0n,territoryBound:!0};case"Train":return{cost:()=>0n,territoryBound:!1,experimental:!0};default:Ni(e)}}costWrapper(e,...n){return i=>{if(i.type()==="HUMAN"&&this.infiniteGold())return 0n;let r=n.reduce((a,o)=>a+Math.min(i.unitsOwned(o),i.unitsConstructed(o)),0);return BigInt(e(r))}}defaultDonationAmount(e){return Math.floor(e.troops()/3)}donateCooldown(){return 10*10}deleteUnitCooldown(){return 5*10}emojiMessageDuration(){return 5*10}emojiMessageCooldown(){return 5*10}targetDuration(){return 10*10}targetCooldown(){return 15*10}allianceRequestDuration(){return 20*10}allianceRequestCooldown(){return 30*10}allianceDuration(){return 300*10}temporaryEmbargoDuration(){return 300*10}percentageTilesOwnedToWin(){return this._gameConfig.gameMode==="Team"?95:80}boatMaxNumber(){return 3}numSpawnPhaseTurns(){return this._gameConfig.gameType==="Singleplayer"?100:300}numBots(){return this.bots()}theme(){return this.userSettings()?.darkMode()?this.pastelThemeDark:this.pastelTheme}attackLogic(e,n,i,r,a){let o=0,s=0,l=e.terrainType(a);switch(l){case 0:o=80,s=16.5;break;case 1:o=100,s=20;break;case 2:o=120,s=25;break;default:throw new Error(`terrain type ${l} not supported`)}if(r.isPlayer()){for(let c of e.nearbyUnits(a,e.config().defensePostRange(),"Defense Post"))if(c.unit.owner()===r){o*=this.defensePostDefenseBonus(),s*=this.defensePostSpeedBonus();break}}if(e.hasFallout(a)){let c=e.numTilesWithFallout()/e.numLandTiles();o*=this.falloutDefenseModifier(c),s*=this.falloutDefenseModifier(c)}if(i.isPlayer()&&r.isPlayer()&&(r.isDisconnected()&&i.isOnSameTeam(r)&&(o=0),i.type()==="HUMAN"&&r.type()==="BOT"&&(o*=.8),i.type()==="FAKEHUMAN"&&r.type()==="BOT"&&(o*=.8)),r.isPlayer()){let c=1-ol(r.numTilesOwned(),M2,R2),u=.7+.3*c,d=.7+.3*c,h=1;i.numTilesOwned()>1e5&&(h=Math.sqrt(1e5/i.numTilesOwned())**.7);let f=1;return i.numTilesOwned()>1e5&&(f=(1e5/i.numTilesOwned())**.6),{attackerTroopLoss:kt(r.troops()/n,.6,2)*o*.8*d*h*(r.isTraitor()?this.traitorDefenseDebuff():1),defenderTroopLoss:r.troops()/r.numTilesOwned(),tilesPerTickUsed:kt(r.troops()/(5*n),.2,1.5)*s*u*f*(r.isTraitor()?this.traitorSpeedDebuff():1)}}else return{attackerTroopLoss:i.type()==="BOT"?o/10:o/5,defenderTroopLoss:0,tilesPerTickUsed:kt(2e3*Math.max(10,s)/n,5,100)}}attackTilesPerTick(e,n,i,r){return i.isPlayer()?kt(5*e/i.troops()*2,.01,.5)*r*3:r*2}boatAttackAmount(e,n){return Math.floor(e.troops()/5)}warshipShellLifetime(){return 20}radiusPortSpawn(){return 20}proximityBonusPortsNb(e){return kt(e/3,4,e)}attackAmount(e,n){return e.type()==="BOT"?e.troops()/20:e.troops()/5}startManpower(e){if(e.playerType==="BOT")return 1e4;if(e.playerType==="FAKEHUMAN")switch(this._gameConfig.difficulty){case"Easy":return 2500*(e?.nation?.strength??1);case"Medium":return 5e3*(e?.nation?.strength??1);case"Hard":return 2e4*(e?.nation?.strength??1);case"Impossible":return 5e4*(e?.nation?.strength??1)}return this.infiniteTroops()?1e6:25e3}maxTroops(e){let n=e.type()==="HUMAN"&&this.infiniteTroops()?1e9:2*(Math.pow(e.numTilesOwned(),.6)*1e3+5e4)+e.units("City").map(i=>i.level()).reduce((i,r)=>i+r,0)*this.cityTroopIncrease();if(e.type()==="BOT")return n/3;if(e.type()==="HUMAN")return n;switch(this._gameConfig.difficulty){case"Easy":return n*.5;case"Medium":return n*1;case"Hard":return n*1.5;case"Impossible":return n*2}}troopIncreaseRate(e){let n=this.maxTroops(e),i=10+Math.pow(e.troops(),.73)/4,r=1-e.troops()/n;if(i*=r,e.type()==="BOT"&&(i*=.6),e.type()==="FAKEHUMAN")switch(this._gameConfig.difficulty){case"Easy":i*=.9;break;case"Medium":i*=1;break;case"Hard":i*=1.1;break;case"Impossible":i*=1.2;break}return Math.min(e.troops()+i,n)-e.troops()}goldAdditionRate(e){return e.type()==="BOT"?50n:100n}nukeMagnitudes(e){switch(e){case"MIRV Warhead":return{inner:12,outer:18};case"Atom Bomb":return{inner:12,outer:30};case"Hydrogen Bomb":return{inner:80,outer:100}}throw new Error(`Unknown nuke type: ${e}`)}nukeAllianceBreakThreshold(){return 100}defaultNukeSpeed(){return 6}defaultNukeTargetableRange(){return 150}defaultSamRange(){return 70}defaultSamMissileSpeed(){return 12}nukeDeathFactor(e,n,i,r){if(e!=="MIRV Warhead")return 5*n/Math.max(1,i);let a=.03*r,o=Math.max(0,n-a),s=500,l=2,c=o/r;return s*(1-Math.exp(-l*c))}structureMinDist(){return 15}shellLifetime(){return 50}warshipPatrolRange(){return 100}warshipTargettingRange(){return 130}warshipShellAttackRate(){return 20}defensePostShellAttackRate(){return 100}safeFromPiratesCooldownMax(){return 20}defensePostTargettingRange(){return 75}allianceExtensionPromptOffset(){return 300}};var uo=class extends Ct{adminToken(){return"WARNING_DEV_ADMIN_KEY_DO_NOT_USE_IN_PRODUCTION"}apiKey(){return"WARNING_DEV_API_KEY_DO_NOT_USE_IN_PRODUCTION"}env(){return 0}gameCreationRate(){return 5*1e3}samWarheadHittingChance(){return 1}samHittingChance(){return 1}numWorkers(){return 2}jwtAudience(){return"localhost"}gitCommit(){return"DEV"}domain(){return"localhost"}subdomain(){return""}},co=class extends Fr{constructor(e,n,i,r){super(e,n,i,r)}unitInfo(e){let n=super.unitInfo(e),i=n.cost;return n}};var Gy=new class extends Ct{env(){return 1}numWorkers(){return 2}jwtAudience(){return"openfront.dev"}allowedFlares(){}};var Fy=new class extends Ct{numWorkers(){return 20}env(){return 2}jwtAudience(){return"openfront.io"}};var mo=null;async function Zy(t,e,n=!1){let i=await U2();switch(i.env()){case 0:return new co(i,t,e,n);case 1:case 2:return console.log("using prod config"),new Fr(i,t,e,n);default:throw Error(`unsupported server configuration: ${process.env.GAME_ENV}`)}}async function U2(){if(mo)return mo;let t=await fetch("/api/env");if(!t.ok)throw new Error(`Failed to fetch server config: ${t.status} ${t.statusText}`);let e=await t.json();return console.log("Server config loaded:",e),mo=N2(e.game_env),mo}function N2(t){switch(t){case"dev":return console.log("using dev server config"),new uo;case"staging":return console.log("using preprod server config"),Gy;case"prod":return console.log("using prod server config"),Fy;default:throw Error(`unsupported server configuration: ${t}`)}}var Zr=class{constructor(e,n){this.from=e;this.toID=n}init(e,n){if(!e.hasPlayer(this.toID)){console.warn(`[AllianceExtensionExecution] Player ${this.toID} not found`);return}let i=e.player(this.toID);if(!this.from.isAlive()||!i.isAlive()){console.info(`[AllianceExtensionExecution] Player ${this.from.id()} or ${this.toID} is not alive`);return}let r=this.from.allianceWith(i);if(!r){console.warn(`[AllianceExtensionExecution] No alliance to extend between ${this.from.id()} and ${this.toID}`);return}r.addExtensionRequest(this.from),r.bothAgreedToExtend()&&(r.extend(),e.displayMessage("events_display.alliance_renewed",13,this.from.id(),void 0,{name:i.displayName()}),e.displayMessage("events_display.alliance_renewed",13,this.toID,void 0,{name:this.from.displayName()}))}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Wr=class{constructor(e,n){this.requestor=e;this.recipientID=n;this.req=null;this.active=!0}init(e,n){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`AllianceRequestExecution recipient ${this.recipientID} not found`);return}let i=e.player(this.recipientID);if(!this.requestor.canSendAllianceRequest(i))console.warn("cannot send alliance request"),this.active=!1;else{let r=i.outgoingAllianceRequests().find(a=>a.recipient()===this.requestor);r?(this.active=!1,r.accept()):this.req=this.requestor.createAllianceRequest(i)}}tick(e){if(this.req?.status()==="accepted"||this.req?.status()==="rejected"){this.active=!1;return}this.mg.ticks()-(this.req?.createdAt()??0)>this.mg.config().allianceRequestDuration()&&(this.req?.reject(),this.active=!1)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ho=class{constructor(e,n,i){this.requestorID=e;this.recipient=n;this.accept=i;this.active=!0;this.requestor=null}init(e,n){if(!e.hasPlayer(this.requestorID)){console.warn(`AllianceRequestReplyExecution requester ${this.requestorID} not found`),this.active=!1;return}this.requestor=e.player(this.requestorID)}tick(e){if(this.requestor===null)throw new Error("Not initialized");if(this.requestor.isFriendly(this.recipient))console.warn("already allied");else{let n=this.requestor.outgoingAllianceRequests().find(i=>i.recipient()===this.recipient);n===void 0?console.warn("no alliance request found"):this.accept?(n.accept(),this.requestor.updateRelation(this.recipient,100),this.recipient.updateRelation(this.requestor,100)):n.reject()}this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var po=class{constructor(e,n){this.requestor=e;this.recipientID=n;this.active=!0;this.recipient=null;this.mg=null}init(e,n){if(!e.hasPlayer(this.recipientID)){console.warn(`BreakAllianceExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.mg=e}tick(e){if(this.mg===null||this.requestor===null||this.recipient===null)throw new Error("Not initialized");let n=this.requestor.allianceWith(this.recipient);if(n===null)console.warn("cant break alliance, not allied");else{this.requestor.breakAlliance(n),this.recipient.updateRelation(this.requestor,-200);for(let i of this.mg.players())i!==this.requestor&&!i.isOnSameTeam(this.requestor)&&i.updateRelation(this.requestor,-40)}this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};function di(t){return st(t/10)}function st(t,e){return t=Number(t),t=Math.max(t,0),t>=1e7?(Math.floor(t/1e5)/10).toFixed(e??1)+"M":t>=1e6?(Math.floor(t/1e4)/100).toFixed(e??2)+"M":t>=1e5?Math.floor(t/1e3)+"K":t>=1e4?(Math.floor(t/100)/10).toFixed(e??1)+"K":t>=1e3?(Math.floor(t/10)/100).toFixed(e??2)+"K":Math.floor(t).toString()}var fo=class{constructor(e=1024){this.len=0;this.pri=new Float32Array(e),this.tiles=new Array(e)}clear(){this.len=0}size(){return this.len}enqueue(e,n){this.len===this.pri.length&&this.grow();let i=this.len++;for(;i>0;){let r=i-1>>1;if(n>=this.pri[r])break;this.pri[i]=this.pri[r],this.tiles[i]=this.tiles[r],i=r}this.pri[i]=n,this.tiles[i]=e}dequeue(){if(this.len===0)throw new Error("heap empty");let e=this.tiles[0],n=this.pri[0],i=this.pri[--this.len],r=this.tiles[this.len],a=0;for(;;){let o=(a<<1)+1;if(o>=this.len)break;let s=o+1,l=s<this.len&&this.pri[s]<this.pri[o]?s:o;if(i<=this.pri[l])break;this.pri[a]=this.pri[l],this.tiles[a]=this.tiles[l],a=l}return this.pri[a]=i,this.tiles[a]=r,[e,n]}grow(){let e=this.pri.length<<1,n=new Float32Array(e);n.set(this.pri),this.pri=n,this.tiles.length=e}};var z2=25,wt=class{constructor(e=null,n,i,r=null,a=!0){this.startTroops=e;this._owner=n;this._targetID=i;this.sourceTile=r;this.removeTroops=a;this.active=!0;this.toConquer=new fo;this.random=new U(123);this.attack=null}targetID(){return this._targetID}activeDuringSpawnPhase(){return!1}init(e,n){if(this.active){if(this.mg=e,this._targetID!==null&&!e.hasPlayer(this._targetID)){console.warn(`target ${this._targetID} not found`),this.active=!1;return}if(this.target=this._targetID===this.mg.terraNullius().id()?e.terraNullius():e.player(this._targetID),this._owner===this.target){console.error(`Player ${this._owner} cannot attack itself`),this.active=!1;return}if(this.target.isPlayer()){let i=this.target;if(this._owner.isFriendly(i)){console.warn(`${this._owner.displayName()} cannot attack ${i.displayName()} because they are friendly (allied or same team)`),this.active=!1;return}}if(this.target&&this.target.isPlayer()){let i=this.target;i.type()!=="BOT"&&this._owner.type()!=="BOT"&&(i.addEmbargo(this._owner,!0),this.rejectIncomingAllianceRequests(i))}if(this.target.isPlayer()&&this.mg.config().numSpawnPhaseTurns()+this.mg.config().spawnImmunityDuration()>this.mg.ticks()){console.warn("cannot attack player during immunity phase"),this.active=!1;return}this.startTroops??(this.startTroops=this.mg.config().attackAmount(this._owner,this.target)),this.removeTroops&&(this.startTroops=Math.min(this._owner.troops(),this.startTroops),this._owner.removeTroops(this.startTroops)),this.attack=this._owner.createAttack(this.target,this.startTroops,this.sourceTile,new Set),this.sourceTile!==null?this.addNeighbors(this.sourceTile):this.refreshToConquer(),this.mg.stats().attack(this._owner,this.target,this.startTroops);for(let i of this._owner.incomingAttacks())if(i.attacker()===this.target)if(i.troops()>this.attack.troops()){i.setTroops(i.troops()-this.attack.troops()),this.attack.delete(),this.active=!1;return}else this.attack.setTroops(this.attack.troops()-i.troops()),i.delete();for(let i of this._owner.outgoingAttacks())i!==this.attack&&i.target()===this.attack.target()&&this.attack.sourceTile()===null&&(this.attack.setTroops(this.attack.troops()+i.troops()),i.delete());this.target.isPlayer()&&this.target.updateRelation(this._owner,-80)}}refreshToConquer(){if(this.attack===null)throw new Error("Attack not initialized");this.toConquer.clear(),this.attack.clearBorder();for(let e of this._owner.borderTiles())this.addNeighbors(e)}retreat(e=0){if(this.attack===null)throw new Error("Attack not initialized");let n=this.attack.troops()*(e/100);n&&this.mg.displayMessage(`Attack cancelled, ${di(n)} soldiers killed during retreat.`,1,this._owner.id());let i=this.attack.troops()-n;this._owner.addTroops(i),this.attack.delete(),this.active=!1,this.attack.retreated()&&this.mg.stats().attackCancel(this._owner,this.target,i)}tick(e){if(this.attack===null)throw new Error("Attack not initialized");let n=this.attack.troops(),i=this.target.isPlayer(),r=i?this.target:null;if(this.attack.retreated()){i?this.retreat(z2):this.retreat(),this.active=!1;return}if(this.attack.retreating())return;if(!this.attack.isActive()){this.active=!1;return}if(r&&this._owner.isFriendly(r)){this.retreat();return}let a=this.mg.config().attackTilesPerTick(n,this._owner,this.target,this.attack.borderSize()+this.random.nextInt(0,5));for(;a>0;){if(n<1){this.attack.delete(),this.active=!1;return}if(this.toConquer.size()===0){this.refreshToConquer(),this.retreat();return}let[o]=this.toConquer.dequeue();this.attack.removeBorderTile(o);let s=!1;for(let d of this.mg.neighbors(o))if(this.mg.owner(d)===this._owner){s=!0;break}if(this.mg.owner(o)!==this.target||!s)continue;this.addNeighbors(o);let{attackerTroopLoss:l,defenderTroopLoss:c,tilesPerTickUsed:u}=this.mg.config().attackLogic(this.mg,n,this._owner,this.target,o);a-=u,n-=l,this.attack.setTroops(n),r&&r.removeTroops(c),this._owner.conquer(o),this.handleDeadDefender()}}rejectIncomingAllianceRequests(e){let n=this._owner.incomingAllianceRequests().find(i=>i.requestor()===e);n!==void 0&&n.reject()}addNeighbors(e){if(this.attack===null)throw new Error("Attack not initialized");let n=this.mg.ticks();for(let i of this.mg.neighbors(e)){if(this.mg.isWater(i)||this.mg.owner(i)!==this.target)continue;this.attack.addBorderTile(i);let r=0;for(let s of this.mg.neighbors(i))this.mg.owner(s)===this._owner&&r++;let a=0;switch(this.mg.terrainType(i)){case 0:a=1;break;case 1:a=1.5;break;case 2:a=2;break}let o=(this.random.nextInt(0,7)+10)*(1-r*.5+a/2)+n;this.toConquer.enqueue(i,o)}}handleDeadDefender(){if(this.target.isPlayer()&&this.target.numTilesOwned()<100){this.mg.conquerPlayer(this._owner,this.target);for(let e=0;e<10;e++)for(let n of this.target.tiles())if(this.mg.neighbors(n).some(r=>this.mg.owner(r)===this._owner))this._owner.conquer(n);else for(let r of this.mg.neighbors(n)){let a=this.mg.owner(r);if(a.isPlayer()&&a!==this.target){this.mg.player(a.id()).conquer(n);break}}}}owner(){return this._owner}isActive(){return this.active}};var go=class{constructor(e,n){this.player=e;this.unitID=n;this.active=!0}init(e,n){}tick(e){let n=this.player.units().find(i=>i.id()===this.unitID&&i.type()==="Transport");if(!n){console.warn(`Didn't find outgoing boat with id ${this.unitID}`),this.active=!1;return}n.orderBoatRetreat(),this.active=!1}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Ut=class{constructor(e,n,i){this.requestor=e;this.recipientID=n;this.emoji=i;this.active=!0}init(e,n){if(this.recipientID!==Xe&&!e.hasPlayer(this.recipientID)){console.warn(`EmojiExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=this.recipientID===Xe?Xe:e.player(this.recipientID)}tick(e){let n=Oi[this.emoji];n===void 0?console.warn(`cannot send emoji ${this.emoji} from ${this.requestor} to ${this.recipient}`):this.requestor.canSendEmoji(this.recipient)?(this.requestor.sendEmoji(this.recipient,n),n==="\u{1F595}"&&this.recipient!==Xe&&this.recipient.type()==="FAKEHUMAN"&&this.recipient.updateRelation(this.requestor,-100)):console.warn(`cannot send emoji from ${this.requestor} to ${this.recipient}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var mi=t=>Oi.indexOf(t),O2=["\u{1F44D}","\u26F5","\u{1F91D}","\u{1F3AF}"].map(mi),j2=["\u{1F971}","\u{1F926}\u200D\u2642\uFE0F"].map(mi),L2=["\u{1F97A}","\u{1F480}"].map(mi),B2=["\u{1F54A}\uFE0F","\u{1F44E}"].map(mi),Wy=["\u{1F921}","\u{1F621}"].map(mi),qr=class{constructor(e,n,i,r,a,o){this.random=e;this.game=n;this.player=i;this.triggerRatio=r;this.reserveRatio=a;this.expandRatio=o;this.enemy=null}handleAllianceRequests(){for(let e of this.player.incomingAllianceRequests())G2(this.player,e)?e.accept():e.reject()}handleAllianceExtensionRequests(){for(let e of this.player.alliances()){if(!e.onlyOneAgreedToExtend())continue;let n=e.other(this.player);this.player.type()==="FAKEHUMAN"&&this.player.relation(n)===2&&!this.random.chance(1.5)||this.game.addExecution(new Zr(this.player,n.id()))}}emoji(e,n){e.type()==="HUMAN"&&this.game.addExecution(new Ut(this.player,e.id(),n))}setNewEnemy(e,n=!1){e!==null&&!n&&!this.shouldAttack(e)||(this.enemy=e,this.enemyUpdated=this.game.ticks())}shouldAttack(e){if(this.player===null)throw new Error("not initialized");if(this.player.isOnSameTeam(e))return!1;let n=this.attackChance(e);return n&&this.player.isAlliedWith(e)?(this.betray(e),!0):n}betray(e){if(this.player===null)throw new Error("not initialized");let n=this.player.allianceWith(e);n&&this.player.breakAlliance(n)}attackChance(e){if(this.player===null)throw new Error("not initialized");return this.player.isAlliedWith(e)?this.shouldDiscourageAttack(e)?this.random.chance(200):this.random.chance(50):this.shouldDiscourageAttack(e)?this.random.chance(4):!0}shouldDiscourageAttack(e){if(e.isTraitor())return!1;let{difficulty:n}=this.game.config().gameConfig();return!(n==="Hard"||n==="Impossible"||e.type()!=="HUMAN")}clearEnemy(){this.enemy=null}forgetOldEnemies(){this.game.ticks()-(this.enemyUpdated??0)>100&&this.clearEnemy()}hasReserveRatioTroops(){let e=this.game.config().maxTroops(this.player);return this.player.troops()/e>=this.reserveRatio}hasTriggerRatioTroops(){let e=this.game.config().maxTroops(this.player);return this.player.troops()/e>=this.triggerRatio}checkIncomingAttacks(){let e=this.player.incomingAttacks(),n=0,i;for(let r of e)r.troops()<=n||(n=r.troops(),i=r.attacker());i!==void 0&&this.setNewEnemy(i,!0)}getNeighborTraitorToAttack(){let e=this.player.neighbors().filter(n=>n.isPlayer()&&n.isTraitor());return e.length>0?this.random.randElement(e):null}assistAllies(){for(let e of this.player.allies())if(e.targets().length!==0){if(this.player.relation(e)<3){this.emoji(e,this.random.randElement(j2));continue}for(let n of e.targets()){if(n===this.player){this.emoji(e,this.random.randElement(L2));continue}if(this.player.isAlliedWith(n)){this.emoji(e,this.random.randElement(B2));continue}this.player.updateRelation(e,-20),this.setNewEnemy(n),this.emoji(e,this.random.randElement(O2));return}}}selectEnemy(e){if(this.enemy===null){if(!this.hasReserveRatioTroops()||!this.hasTriggerRatioTroops()&&!this.random.chance(10))return null;let n=this.player.neighbors().filter(i=>i.isPlayer()&&i.type()==="BOT");if(n.length>0){let i=o=>o.troops()/o.numTilesOwned(),r,a=1/0;for(let o of n){let s=i(o);s<a&&(a=s,r=o)}r!==void 0&&this.setNewEnemy(r)}if(this.enemy===null&&this.checkIncomingAttacks(),this.enemy===null&&this.random.chance(2)){let i=this.player.allRelationsSorted()[0];i!==void 0&&i.relation===0&&this.setNewEnemy(i.player)}this.enemy===null&&e.length>0&&this.setNewEnemy(e[0]),this.enemy===null&&e.length>0&&this.setNewEnemy(this.random.randElement(e))}return this.enemySanityCheck()}selectRandomEnemy(){if(this.enemy===null){if(!this.hasTriggerRatioTroops())return null;let e=this.player.neighbors();for(let n of this.random.shuffleArray(e))n.isPlayer()&&(this.player.isFriendly(n)||n.type()==="FAKEHUMAN"&&this.random.chance(2)||this.setNewEnemy(n));if(this.enemy===null&&this.checkIncomingAttacks(),this.enemy===null){let n=this.getNeighborTraitorToAttack();n!==null&&!this.player.isFriendly(n)&&this.random.chance(3)&&this.setNewEnemy(n)}}return this.enemySanityCheck()}enemySanityCheck(){return this.enemy&&this.player.isFriendly(this.enemy)&&this.clearEnemy(),this.enemy}forceSendAttack(e){this.game.addExecution(new wt(this.player.troops()/2,this.player,e.isPlayer()?e.id():this.game.terraNullius().id()))}sendAttack(e){if(e.isPlayer()&&this.player.isFriendly(e))return;let n=this.game.config().maxTroops(this.player),i=e.isPlayer()?this.reserveRatio:this.expandRatio,r=n*i,a=this.player.troops()-r;a<1||this.game.addExecution(new wt(a,this.player,e.isPlayer()?e.id():this.game.terraNullius().id()))}};function G2(t,e){return t.relation(e.requestor())<2||e.requestor().isTraitor()?!1:e.requestor().numTilesOwned()>t.numTilesOwned()*3?!0:!(e.requestor().alliances().length>=3)}var yo=class{constructor(e){this.bot=e;this.active=!0;this.neighborsTerraNullius=!0;this.behavior=null;this.random=new U(q(e.id())),this.attackRate=this.random.nextInt(40,80),this.attackTick=this.random.nextInt(0,this.attackRate),this.triggerRatio=this.random.nextInt(50,60)/100,this.reserveRatio=this.random.nextInt(30,40)/100,this.expandRatio=this.random.nextInt(10,20)/100}activeDuringSpawnPhase(){return!1}init(e){this.mg=e}tick(e){if(e%this.attackRate===this.attackTick){if(!this.bot.isAlive()){this.active=!1;return}if(this.behavior===null){this.behavior=new qr(this.random,this.mg,this.bot,this.triggerRatio,this.reserveRatio,this.expandRatio),this.behavior.sendAttack(this.mg.terraNullius());return}this.behavior.handleAllianceRequests(),this.behavior.handleAllianceExtensionRequests(),this.maybeAttack()}}maybeAttack(){if(this.behavior===null)throw new Error("not initialized");let e=this.behavior.getNeighborTraitorToAttack();if(e!==null){let i=this.bot.isFriendly(e)?6:3;if(this.random.chance(i)){let r=this.bot.allianceWith(e);r!==null&&this.bot.breakAlliance(r),this.behavior.sendAttack(e);return}}if(this.neighborsTerraNullius){if(this.bot.sharesBorderWith(this.mg.terraNullius())){this.behavior.sendAttack(this.mg.terraNullius());return}this.neighborsTerraNullius=!1}this.behavior.forgetOldEnemies();let n=this.behavior.selectRandomEnemy();n&&this.bot.sharesBorderWith(n)&&this.behavior.sendAttack(n)}isActive(){return this.active}};var bo=class{constructor(e){this.player=e;this.ticksPerClusterCalc=20;this.lastCalc=0;this.active=!0}activeDuringSpawnPhase(){return!1}init(e,n){this.mg=e,this.config=e.config(),this.lastCalc=n+q(this.player.name())%this.ticksPerClusterCalc}tick(e){this.player.decayRelations();for(let o of this.player.units()){if(!o.info().territoryBound)continue;let s=this.mg.owner(o.tile());if(!s?.isPlayer()){o.delete();continue}if(s===this.player)continue;let l=this.mg.player(s.id());o.type()==="Defense Post"?(o.decreaseLevel(l),o.isActive()&&l.captureUnit(o)):l.captureUnit(o)}if(!this.player.isAlive()){let o=this.player.gold();this.player.removeGold(o),this.player.units().forEach(s=>{s.type()!=="Atom Bomb"&&s.type()!=="Hydrogen Bomb"&&s.type()!=="MIRV Warhead"&&s.type()!=="MIRV"&&s.delete()}),this.active=!1,this.mg.stats().playerKilled(this.player,e);return}let n=this.config.troopIncreaseRate(this.player);this.player.addTroops(n);let i=this.config.goldAdditionRate(this.player);this.player.addGold(i),this.mg.stats().goldWork(this.player,i);let r=Array.from(this.player.alliances());for(let o of r)o.expiresAt()<=this.mg.ticks()&&o.expire();let a=this.player.getEmbargoes();for(let o of a)o.isTemporary&&this.mg.ticks()-o.createdAt>this.mg.config().temporaryEmbargoDuration()&&this.player.stopEmbargo(o.target);if(e-this.lastCalc>this.ticksPerClusterCalc&&this.player.lastTileChange()>this.lastCalc){this.lastCalc=e;let o=performance.now();this.removeClusters();let s=performance.now();s-o>1e3&&console.log(`player ${this.player.name()}, took ${s-o}ms`)}}removeClusters(){let e=this.calculateClusters();e.sort((r,a)=>a.size-r.size);let n=e.shift();if(n===void 0)throw new Error("No clusters");this.player.largestClusterBoundingBox=Je(this.mg,n);let i=this.surroundedBySamePlayer(n);i&&!i.isFriendly(this.player)&&this.removeCluster(n);for(let r of e)this.isSurrounded(r)&&this.removeCluster(r)}surroundedBySamePlayer(e){let n=new Set;for(let o of e){let s=this.mg.isOceanShore(o);if(!(this.mg.isOceanShore(o)&&!s)&&(s||this.mg.isOnEdgeOfMap(o)||this.mg.neighbors(o).some(l=>!this.mg?.hasOwner(l))||(this.mg.neighbors(o).filter(l=>this.mg?.ownerID(l)!==this.player?.smallID()).forEach(l=>this.mg&&n.add(this.mg.ownerID(l))),n.size!==1)))return!1}if(n.size!==1)return!1;let i=this.mg.playerBySmallID(Array.from(n)[0]),r=Je(this.mg,i.borderTiles()),a=Je(this.mg,e);return il(r,a)?i:!1}isSurrounded(e){let n=new Set;for(let a of e){if(this.mg.isShore(a)||this.mg.isOnEdgeOfMap(a))return!1;this.mg.neighbors(a).filter(o=>this.mg?.owner(o).isPlayer()&&this.mg?.ownerID(o)!==this.player?.smallID()).forEach(o=>n.add(o))}if(n.size===0)return!1;let i=Je(this.mg,n),r=Je(this.mg,e);return il(i,r)}removeCluster(e){if(Array.from(e).some(o=>this.mg?.ownerID(o)!==this.player?.smallID()))return;let n=this.getCapturingPlayer(e);if(n===null)return;let i=e.values().next().value;if(!i)return;let r=(o,s)=>this.mg?.ownerID(s)===this.player?.smallID(),a=this.mg.bfs(i,r);this.player.numTilesOwned()===a.size&&this.mg.conquerPlayer(n,this.player);for(let o of a)n.conquer(o)}getCapturingPlayer(e){let n=new Map;for(let a of e)for(let o of this.mg.neighbors(a)){let s=this.mg.owner(o);s.isPlayer()&&s!==this.player&&!s.isFriendly(this.player)&&n.set(s,(n.get(s)??0)+1)}if(n.size===0)return null;let i=null,r=0;for(let[a]of n)for(let o of a.outgoingAttacks())o.target()===this.player&&o.troops()>r&&(r=o.troops(),i=a);return i!==null?i:Tp(n)}calculateClusters(){let e=new Set,n=this.player.borderTiles(),i=[];for(let r of n){if(e.has(r))continue;let a=new Set,o=[r];for(e.add(r);o.length>0;){let s=o.shift();if(s===void 0)throw new Error("curr is undefined");a.add(s);let l=this.mg.neighborsWithDiag(s);for(let c of l)n.has(c)&&!e.has(c)&&(o.push(c),e.add(c))}i.push(a)}return i}owner(){if(this.player===null)throw new Error("Not initialized");return this.player}isActive(){return this.active}};var se=class se{constructor(e,n,i,r){this.numLandTiles_=r;this._numTilesWithFallout=0;if(i.length!==e*n)throw new Error(`Terrain data length ${i.length} doesn't match dimensions ${e}x${n}`);this.width_=e,this.height_=n,this.terrain=i,this.state=new Uint16Array(e*n);let a=0;this.refToX=new Array(e*n),this.refToY=new Array(e*n),this.yToRef=new Array(n);for(let o=0;o<n;o++){this.yToRef[o]=a;for(let s=0;s<e;s++)this.refToX[a]=s,this.refToY[a]=o,a++}}numTilesWithFallout(){return this._numTilesWithFallout}ref(e,n){if(!this.isValidCoord(e,n))throw new Error(`Invalid coordinates: ${e},${n}`);return this.yToRef[n]+e}isValidRef(e){return e>=0&&e<this.refToX.length}x(e){return this.refToX[e]}y(e){return this.refToY[e]}cell(e){return new te(this.x(e),this.y(e))}width(){return this.width_}height(){return this.height_}numLandTiles(){return this.numLandTiles_}isValidCoord(e,n){return e>=0&&e<this.width_&&n>=0&&n<this.height_}isLand(e){return!!(this.terrain[e]&1<<se.IS_LAND_BIT)}isOceanShore(e){return this.isLand(e)&&this.neighbors(e).some(n=>this.isOcean(n))}isOcean(e){return!!(this.terrain[e]&1<<se.OCEAN_BIT)}isShoreline(e){return!!(this.terrain[e]&1<<se.SHORELINE_BIT)}magnitude(e){return this.terrain[e]&se.MAGNITUDE_MASK}ownerID(e){return this.state[e]&se.PLAYER_ID_MASK}hasOwner(e){return this.ownerID(e)!==0}setOwnerID(e,n){if(n>se.PLAYER_ID_MASK)throw new Error(`Player ID ${n} exceeds maximum value ${se.PLAYER_ID_MASK}`);this.state[e]=this.state[e]&~se.PLAYER_ID_MASK|n}hasFallout(e){return!!(this.state[e]&1<<se.FALLOUT_BIT)}setFallout(e,n){let i=this.hasFallout(e);n?i||(this._numTilesWithFallout++,this.state[e]|=1<<se.FALLOUT_BIT):i&&(this._numTilesWithFallout--,this.state[e]&=~(1<<se.FALLOUT_BIT))}isOnEdgeOfMap(e){let n=this.x(e),i=this.y(e);return n===0||n===this.width()-1||i===0||i===this.height()-1}isBorder(e){return this.neighbors(e).some(n=>this.ownerID(n)!==this.ownerID(e))}hasDefenseBonus(e){return!!(this.state[e]&1<<se.DEFENSE_BONUS_BIT)}setDefenseBonus(e,n){n?this.state[e]|=1<<se.DEFENSE_BONUS_BIT:this.state[e]&=~(1<<se.DEFENSE_BONUS_BIT)}isWater(e){return!this.isLand(e)}isLake(e){return!this.isLand(e)&&!this.isOcean(e)}isShore(e){return this.isLand(e)&&this.isShoreline(e)}cost(e){return this.magnitude(e)<10?2:1}terrainType(e){if(this.isLand(e)){let n=this.magnitude(e);return n<10?0:n<20?1:2}return this.isOcean(e)?4:3}neighbors(e){let n=[],i=this.width_,r=this.refToX[e];return e>=i&&n.push(e-i),e<(this.height_-1)*i&&n.push(e+i),r!==0&&n.push(e-1),r!==i-1&&n.push(e+1),n}forEachTile(e){for(let n=0;n<this.width_*this.height_;n++)e(n)}manhattanDist(e,n){return Math.abs(this.x(e)-this.x(n))+Math.abs(this.y(e)-this.y(n))}euclideanDistSquared(e,n){let i=this.x(e)-this.x(n),r=this.y(e)-this.y(n);return i*i+r*r}bfs(e,n){let i=new Set,r=[];for(n(this,e)&&(i.add(e),r.push(e));r.length>0;){let a=r.pop();if(a!==void 0)for(let o of this.neighbors(a))!i.has(o)&&n(this,o)&&(i.add(o),r.push(o))}return i}toTileUpdate(e){return BigInt(e)<<16n|BigInt(this.state[e])}updateTile(e){let n=Number(e>>16n),i=Number(e&0xffffn),r=this.hasFallout(n);this.state[n]=i;let a=this.hasFallout(n);return r&&!a&&this._numTilesWithFallout--,!r&&a&&this._numTilesWithFallout++,n}};se.IS_LAND_BIT=7,se.SHORELINE_BIT=6,se.OCEAN_BIT=5,se.MAGNITUDE_MASK=31,se.PLAYER_ID_MASK=4095,se.FALLOUT_BIT=13,se.DEFENSE_BONUS_BIT=14;var vo=se;function hi(t,e,n=!1){let i=e*e;return n?(r,a)=>{let o=r.x(t)-.5,s=r.y(t)-.5,l=r.x(a)-o,c=r.y(a)-s;return l*l+c*c<=i}:(r,a)=>r.euclideanDistSquared(t,a)<=i}function Vr(t,e,n=!1){return n?(i,r)=>{let a=i.x(t)-.5,o=i.y(t)-.5,s=Math.abs(i.x(r)-a),l=Math.abs(i.y(r)-o);return s+l<=e}:(i,r)=>i.manhattanDist(t,r)<=e}function pi(t,e){return(n,i)=>t(n,i)&&e(n,i)}function qy(t,e){return Array.from(t.bfs(e,hi(e,4,!0))).filter(n=>!t.hasOwner(n)&&t.isLand(n))}function To(t,e,n){let i=1/0,r=null;for(let a of e){let o=t.manhattanDist(a,n);o<i&&(i=o,r=a)}return[r,i]}function Nt(t,e,n){let i=Array.from(e).sort((c,u)=>t.x(c)-t.x(u)),r=Array.from(n).sort((c,u)=>t.x(c)-t.x(u));if(i.length===0||r.length===0)return null;let a=0,o=0,s=1/0,l={x:i[0],y:r[0]};for(;a<i.length&&o<r.length;){let c=i[a],u=r[o],d=Math.abs(t.x(c)-t.x(u))+Math.abs(t.y(c)-t.y(u));d<s&&(s=d,l={x:c,y:u}),a===i.length-1?o++:o===r.length-1||t.x(c)<t.x(u)?a++:o++}return l}var zt=class{constructor(e,n){this.playerInfo=e;this.tile=n;this.active=!0}init(e,n){this.mg=e}tick(e){if(this.active=!1,!this.mg.isValidRef(this.tile)){console.warn(`SpawnExecution: tile ${this.tile} not valid`);return}if(!this.mg.inSpawnPhase()){this.active=!1;return}let n=null;this.mg.hasPlayer(this.playerInfo.id)?n=this.mg.player(this.playerInfo.id):n=this.mg.addPlayer(this.playerInfo),n.tiles().forEach(i=>n.relinquish(i)),qy(this.mg,this.tile).forEach(i=>{n.conquer(i)}),n.hasSpawned()||(this.mg.addExecution(new bo(n)),n.type()==="BOT"&&this.mg.addExecution(new yo(n))),n.setHasSpawned(!0)}isActive(){return this.active}activeDuringSpawnPhase(){return!0}};var _o=class{constructor(e,n){this.gs=e;this.bots=[];this.random=new U(q(n))}spawnBots(e){let n=0;for(;this.bots.length<e;){if(n>1e4)return console.log("too many retries while spawning bots, giving up"),this.bots;let i=this.randomBotName(),r=this.spawnBot(i);r!==null?this.bots.push(r):n++}return this.bots}spawnBot(e){let n=this.randTile();if(!this.gs.isLand(n))return null;for(let i of this.bots)if(this.gs.manhattanDist(i.tile,n)<30)return null;return new zt(new qt(e,"BOT",null,this.random.nextID()),n)}randomBotName(){let e=this.random.nextInt(0,Di.length),n=this.random.nextInt(0,Ci.length);return`${Di[e]} ${Ci[n]}`}randTile(){return this.gs.ref(this.random.nextInt(0,this.gs.width()),this.random.nextInt(0,this.gs.height()))}};var lt=(b=>(b[b.Tile=0]="Tile",b[b.Unit=1]="Unit",b[b.Player=2]="Player",b[b.DisplayEvent=3]="DisplayEvent",b[b.DisplayChatEvent=4]="DisplayChatEvent",b[b.AllianceRequest=5]="AllianceRequest",b[b.AllianceRequestReply=6]="AllianceRequestReply",b[b.BrokeAlliance=7]="BrokeAlliance",b[b.AllianceExpired=8]="AllianceExpired",b[b.AllianceExtension=9]="AllianceExtension",b[b.TargetPlayer=10]="TargetPlayer",b[b.Emoji=11]="Emoji",b[b.Win=12]="Win",b[b.Hash=13]="Hash",b[b.UnitIncoming=14]="UnitIncoming",b[b.BonusEvent=15]="BonusEvent",b[b.RailroadEvent=16]="RailroadEvent",b[b.ConquestEvent=17]="ConquestEvent",b[b.EmbargoEvent=18]="EmbargoEvent",b))(lt||{});var Jm=class{onStop(e,n,i){let r=n.unit.owner(),a=i.owner(),o=e.config().trainGold(Hy(a,r));a!==r&&r.addGold(o,n.tile()),a.addGold(o,n.tile())}},Qm=class{constructor(e){this.random=e}onStop(e,n,i){let r=n.unit.owner(),a=i.owner(),o=e.config().trainGold(Hy(a,r));a.addGold(o,n.tile()),a!==r&&r.addGold(o,n.tile())}},eh=class{onStop(e,n,i){}};function F2(t){return{City:new Jm,Port:new Qm(t),Factory:new eh}}var xo=class{constructor(e,n){this.mg=e;this.unit=n;this.stopHandlers={};this.railroads=new Set;this.stopHandlers=F2(new U(e.ticks()))}tradeAvailable(e){let n=this.unit.owner();return e===n||n.canTrade(e)}clearRailroads(){this.railroads.clear()}addRailroad(e){this.railroads.add(e)}removeNeighboringRails(e){let n=[...this.railroads].find(i=>i.from===e||i.to===e);if(n){let i=n.tiles.map(r=>({tile:r,railType:0}));this.mg.addUpdate({type:16,isActive:!1,railTiles:i}),this.railroads.delete(n)}}neighbors(){let e=[];for(let n of this.railroads)n.from!==this?e.push(n.from):e.push(n.to);return e}tile(){return this.unit.tile()}isActive(){return this.unit.isActive()}getRailroads(){return this.railroads}setCluster(e){this.cluster=e}getCluster(){return this.cluster}onTrainStop(e){let n=this.unit.type(),i=this.stopHandlers[n];i&&i.onStop(this.mg,this,e)}},wo=class{constructor(e){this.game=e}neighbors(e){return e.neighbors()}cost(e){return 1}position(e){return{x:this.game.x(e.tile()),y:this.game.y(e.tile())}}isTraversable(e,n){return!0}},Hr=class{constructor(){this.stations=new Set}has(e){return this.stations.has(e)}addStation(e){this.stations.add(e),e.setCluster(this)}removeStation(e){this.stations.delete(e)}addStations(e){for(let n of e)this.addStation(n)}merge(e){for(let n of e.stations)this.addStation(n)}availableForTrade(e){let n=new Set;for(let i of this.stations)(i.unit.type()==="City"||i.unit.type()==="Port")&&i.tradeAvailable(e)&&n.add(i);return n}size(){return this.stations.size}clear(){this.stations.clear()}};function Hy(t,e){return t===e?"self":t.isOnSameTeam(e)?"team":t.isAlliedWith(e)?"ally":"other"}var So=class{constructor(e,n,i){this.from=e;this.to=n;this.tiles=i}delete(e){let n=this.tiles.map(i=>({tile:i,railType:0}));e.addUpdate({type:16,isActive:!1,railTiles:n}),this.from.getRailroads().delete(this),this.to.getRailroads().delete(this)}};function th(t,e){for(let n of t.getRailroads()){if(n.from===e)return new Po(n,!1);if(n.to===e)return new Po(n,!0)}return null}var Po=class{constructor(e,n){this.railroad=e;this.forward=n;this.tiles=[];this.tiles=this.forward?this.railroad.tiles:[...this.railroad.tiles].reverse()}getTiles(){return this.tiles}getStart(){return this.forward?this.railroad.from:this.railroad.to}getEnd(){return this.forward?this.railroad.to:this.railroad.from}};var ko=class{constructor(e,n,i,r,a){this.railNetwork=e;this.player=n;this.source=i;this.destination=r;this.numCars=a;this.active=!0;this.mg=null;this.train=null;this.cars=[];this.hasCargo=!1;this.currentTile=0;this.spacing=2;this.usedTiles=[];this.stations=[];this.currentRailroad=null;this.speed=2}owner(){return this.player}init(e,n){this.mg=e;let i=this.railNetwork.findStationsPath(this.source,this.destination);if(!i||i.length<=1){this.active=!1;return}this.stations=i;let r=th(this.stations[0],this.stations[1]);if(r)this.currentRailroad=r;else{this.active=!1;return}let a=this.player.canBuild("Train",this.stations[0].tile());if(a===!1){console.warn("cannot build train"),this.active=!1;return}this.train=this.createTrainUnits(a)}tick(e){if(this.train===null)throw new Error("Not initialized");if(!this.train.isActive()||!this.activeSourceOrDestination()){this.deleteTrain();return}let n=this.getNextTile();n?this.updateCarsPositions(n):(this.targetReached(),this.deleteTrain())}loadCargo(){if(!(this.hasCargo||this.train===null)){this.hasCargo=!0;for(let e=1;e<this.cars.length;e++)this.cars[e].setLoaded(!0)}}targetReached(){this.train!==null&&(this.train.setReachedTarget(),this.cars.forEach(e=>{e.setReachedTarget()}))}createTrainUnits(e){let n=this.player.buildUnit("Train",e,{targetUnit:this.destination.unit,trainType:"Engine"});this.cars.push(this.player.buildUnit("Train",e,{targetUnit:this.destination.unit,trainType:"Engine"}));for(let i=0;i<this.numCars;i++)this.cars.push(this.player.buildUnit("Train",e,{trainType:"Carriage",loaded:this.hasCargo}));return n}deleteTrain(){this.active=!1,this.train?.isActive()&&this.train.delete(!1);for(let e of this.cars)e.isActive()&&e.delete(!1)}activeSourceOrDestination(){return this.stations.length>1&&this.stations[1].isActive()&&this.stations[0].isActive()}saveTraversedTiles(e,n){if(!this.currentRailroad)return;let i=e;for(let r=0;r<n&&i<this.currentRailroad.getTiles().length;r++)this.saveTile(this.currentRailroad.getTiles()[i]),i=i+1}saveTile(e){this.usedTiles.push(e),this.usedTiles.length>this.cars.length*this.spacing+3&&this.usedTiles.shift()}updateCarsPositions(e){if(this.cars.length>0)for(let n=this.cars.length-1;n>=0;--n){let i=(n+1)*this.spacing+2;this.usedTiles.length>i&&this.cars[n].move(this.usedTiles[i])}this.train!==null&&this.train.move(e)}nextStation(){if(this.stations.length>2){this.stations.shift();let e=th(this.stations[0],this.stations[1]);if(e)return this.currentRailroad=e,!0}return!1}canTradeWithDestination(){return this.stations.length>1&&this.stations[1].tradeAvailable(this.player)}getNextTile(){if(this.currentRailroad===null||!this.canTradeWithDestination())return null;this.saveTraversedTiles(this.currentTile,this.speed),this.currentTile=this.currentTile+this.speed;let e=this.currentTile-this.currentRailroad.getTiles().length;if(e>=0){if(this.stationReached(),!this.nextStation())return null;this.currentTile=e,this.saveTraversedTiles(0,e)}return this.currentRailroad.getTiles()[this.currentTile]}stationReached(){if(this.mg===null||this.player===null)throw new Error("Not initialized");this.stations[1].onTrainStop(this)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var St=class{constructor(e,n){this.unit=e;this.spawnTrains=n;this.active=!0;this.station=null;this.numCars=5;this.lastSpawnTick=0;this.ticksCooldown=10;this.unit.setTrainStation(!0)}isActive(){return this.active}init(e,n){this.mg=e,this.spawnTrains&&(this.random=new U(e.ticks()))}tick(e){if(this.mg===void 0)throw new Error("Not initialized");if(!(!this.isActive()||this.unit===void 0)){if(this.station===null&&(this.station=new xo(this.mg,this.unit),this.mg.railNetwork().connectStation(this.station)),!this.station.isActive()){this.active=!1;return}this.spawnTrain(this.station,e)}}shouldSpawnTrain(){let e=this.mg.config().trainSpawnRate(this.unit.owner().unitCount("Factory"));for(let n=0;n<this.unit.level();n++)if(this.random.chance(e))return!0;return!1}spawnTrain(e,n){if(this.mg===void 0)throw new Error("Not initialized");if(!this.spawnTrains)return;if(this.random===void 0)throw new Error("Not initialized");if(n<this.lastSpawnTick+this.ticksCooldown)return;let i=e.getCluster();if(i===null)return;let r=i.availableForTrade(this.unit.owner());if(r.size===0||!this.shouldSpawnTrain())return;let a=this.random.randFromSet(r);a!==e&&(this.mg.addExecution(new ko(this.mg.railNetwork(),this.unit.owner(),e,a,this.numCars)),this.lastSpawnTick=n)}activeDuringSpawnPhase(){return!1}};var Io=class{constructor(e,n){this.player=e;this.tile=n;this.city=null;this.active=!0}init(e,n){this.mg=e}tick(e){if(this.city===null){let n=this.player.canBuild("City",this.tile);if(n===!1){console.warn("cannot build city"),this.active=!1;return}this.city=this.player.buildUnit("City",n,{}),this.createStation()}if(!this.city.isActive()){this.active=!1;return}this.player!==this.city.owner()&&(this.player=this.city.owner())}isActive(){return this.active}activeDuringSpawnPhase(){return!1}createStation(){this.city!==null&&this.mg.hasUnitNearby(this.city.tile(),this.mg.config().trainStationMaxRange(),"Factory")&&this.mg.addExecution(new St(this.city))}};var rh=class{constructor(e,n,i,r){this.p0=e;this.p1=n;this.p2=i;this.p3=r}getPointAt(e){let n=1-e,i=n*n,r=i*n,a=e*e,o=a*e,s=r*this.p0.x+3*i*e*this.p1.x+3*n*a*this.p2.x+o*this.p3.x,l=r*this.p0.y+3*i*e*this.p1.y+3*n*a*this.p2.y+o*this.p3.y;return{x:s,y:l}}},$o=class extends rh{constructor(n,i,r,a,o){super(n,i,r,a);this.totalDistance=0;this.cachedPoints=[];this.currentIndex=0;this.computeAllPoints(o,.002)}getAllPoints(){return this.cachedPoints}increment(n){for(this.totalDistance+=n;this.currentIndex<this.cachedPoints.length-1&&this.getDistanceUpToIndex(this.currentIndex+1)<this.totalDistance;)this.currentIndex++;return this.currentIndex>=this.cachedPoints.length-1?null:this.cachedPoints[this.currentIndex]}getCurrentIndex(){return this.currentIndex}computeAllPoints(n,i){this.cachedPoints=[],this.totalDistance=0,this.currentIndex=0;let r=0,a=this.getPointAt(r);this.cachedPoints.push(a);let o=0;for(;r<1;){r=Math.min(r+i,1);let l=this.getPointAt(r),c=l.x-a.x,u=l.y-a.y,d=Math.sqrt(c*c+u*u);o+=d,o>=n&&(this.cachedPoints.push(l),o=0),a=l}let s=this.getPointAt(1);(this.cachedPoints.length===0||s.x!==this.cachedPoints[this.cachedPoints.length-1].x||s.y!==this.cachedPoints[this.cachedPoints.length-1].y)&&this.cachedPoints.push(s)}getDistanceUpToIndex(n){let i=0;for(let r=1;r<=n;r++){let a=this.cachedPoints[r-1],o=this.cachedPoints[r],s=o.x-a.x,l=o.y-a.y;i+=Math.sqrt(s*s+l*l)}return i}};var nh=Hs(Xy(),1);var Yr=class{constructor(e,n,i,r,a,o=0){this.dst=n;this.iterations=i;this.maxTries=r;this.graph=a;this.directionChangePenalty=o;this.fwdCameFrom=new Map;this.bwdCameFrom=new Map;this.fwdGScore=new Map;this.bwdGScore=new Map;this.meetingPoint=null;this.completed=!1;this.fwdOpenSet=new nh.default((s,l)=>s.fScore<l.fScore),this.bwdOpenSet=new nh.default((s,l)=>s.fScore<l.fScore),this.sources=Array.isArray(e)?e:[e],this.closestSource=this.findClosestSource(n),this.sources.forEach(s=>{this.fwdGScore.set(s,0),this.fwdOpenSet.add({tile:s,fScore:this.heuristic(s,n)})}),this.bwdGScore.set(n,0),this.bwdOpenSet.add({tile:n,fScore:this.heuristic(n,this.findClosestSource(n))})}findClosestSource(e){return this.sources.reduce((n,i)=>this.heuristic(e,i)<this.heuristic(e,n)?i:n)}compute(){if(this.completed)return 2;this.maxTries-=1;let e=this.iterations;for(;!this.fwdOpenSet.isEmpty()&&!this.bwdOpenSet.isEmpty();){if(e--,e<=0)return this.maxTries<=0?3:1;let n=this.fwdOpenSet.poll().tile;if(this.bwdGScore.has(n))return this.meetingPoint=n,this.completed=!0,2;this.expandNode(n,!0);let i=this.bwdOpenSet.poll().tile;if(this.fwdGScore.has(i))return this.meetingPoint=i,this.completed=!0,2;this.expandNode(i,!1)}return this.completed?2:3}expandNode(e,n){for(let i of this.graph.neighbors(e)){if(i!==(n?this.dst:this.closestSource)&&!this.graph.isTraversable(e,i))continue;let r=n?this.fwdGScore:this.bwdGScore,a=n?this.fwdOpenSet:this.bwdOpenSet,o=n?this.fwdCameFrom:this.bwdCameFrom,s=r.get(e)+this.graph.cost(i),l=0;if(this.directionChangePenalty>0){let u=o.get(e);if(u){let d=this.getDirection(u,e),h=this.getDirection(e,i);d!==h&&(l=this.directionChangePenalty)}}let c=s+l;if(!r.has(i)||c<r.get(i)){o.set(i,e),r.set(i,c);let u=c+this.heuristic(i,n?this.dst:this.closestSource);a.add({tile:i,fScore:u})}}}heuristic(e,n){let i=this.graph.position(e),r=this.graph.position(n);return 2*(Math.abs(i.x-r.x)+Math.abs(i.y-r.y))}getDirection(e,n){let i=this.graph.position(e),r=this.graph.position(n),a=r.x-i.x,o=r.y-i.y;return`${Math.sign(a)},${Math.sign(o)}`}reconstructPath(){if(!this.meetingPoint)return[];let e=[this.meetingPoint],n=this.meetingPoint;for(;this.fwdCameFrom.has(n);)n=this.fwdCameFrom.get(n),e.unshift(n);for(n=this.meetingPoint;this.bwdCameFrom.has(n);)n=this.bwdCameFrom.get(n),e.push(n);return e}};var ih=class{constructor(e,n){this.gameMap=e;this.waterPath=n;this.waterPenalty=3}neighbors(e){return this.gameMap.neighbors(e)}cost(e){let n=this.gameMap.cost(e);return!this.waterPath&&this.gameMap.isWater(e)&&(n+=this.waterPenalty),n}position(e){return{x:this.gameMap.x(e),y:this.gameMap.y(e)}}isTraversable(e,n){let i=this.gameMap.isWater(n);if(this.waterPath)return i;let r=this.gameMap.isShoreline(e),a=this.gameMap.isShoreline(n);return!i||r||a}},Ot=class{constructor(e,n,i,r,a,o,s=!0,l=0){this.gameMap=e;this.miniMap=n;this.src=i;this.dst=r;let u=(Array.isArray(i)?i:[i]).map(h=>this.miniMap.ref(Math.floor(e.x(h)/2),Math.floor(e.y(h)/2))),d=this.miniMap.ref(Math.floor(e.x(r)/2),Math.floor(e.y(r)/2));this.aStar=new Yr(u,d,a,o,new ih(n,s),l)}compute(){return this.aStar.compute()}reconstructPath(){let e;Array.isArray(this.src)||(e=new te(this.gameMap.x(this.src),this.gameMap.y(this.src)));let n=new te(this.gameMap.x(this.dst),this.gameMap.y(this.dst));return W2(q2(this.aStar.reconstructPath().map(r=>new te(this.miniMap.x(r),this.miniMap.y(r)))),n,e).map(r=>this.gameMap.ref(r.x,r.y))}};function W2(t,e,n){if(n!==void 0){let r=Ky(t,n);r===-1?t.unshift(n):r!==0&&(t=t.slice(r))}let i=Ky(t,e);return i===-1?t.push(e):i!==t.length-1&&(t=t.slice(0,i+1)),t}function q2(t,e=2){let n=t.map(r=>new te(r.x*e,r.y*e)),i=[];for(let r=0;r<n.length-1;r++){let a=n[r],o=n[r+1];i.push(a);let s=o.x-a.x,l=o.y-a.y,u=Math.max(Math.abs(s),Math.abs(l));for(let d=1;d<u;d++)i.push(new te(Math.round(a.x+s*d/u),Math.round(a.y+l*d/u)))}return n.length>0&&i.push(n[n.length-1]),i}function Ky(t,e){for(let n=0;n<t.length;n++)if(t[n].x===e.x&&t[n].y===e.y)return n;return-1}var V2=50,Kr=class{constructor(e){this.mg=e}computeControlPoints(e,n,i=3,r=!0){let a={x:this.mg.x(e),y:this.mg.y(e)},o={x:this.mg.x(n),y:this.mg.y(n)},s=o.x-a.x,l=o.y-a.y,c=Math.sqrt(s*s+l*l),u=r?Math.max(c/3,V2):0,d={x:a.x+(o.x-a.x)/4,y:Math.max(a.y+(o.y-a.y)/4-u,0)},h={x:a.x+(o.x-a.x)*3/4,y:Math.max(a.y+(o.y-a.y)*3/4-u,0)};this.curve=new $o(a,d,h,o,i)}nextTile(e){if(!this.curve)throw new Error("ParabolaPathFinder not initialized");let n=this.curve.increment(e);return n?this.mg.ref(Math.floor(n.x),Math.floor(n.y)):!0}currentIndex(){return this.curve?this.curve.getCurrentIndex():0}allTiles(){return this.curve?this.curve.getAllPoints().map(e=>this.mg.ref(Math.floor(e.x),Math.floor(e.y))):[]}},Jr=class{constructor(e,n){this.mg=e;this.random=n}nextTile(e,n){let i=this.mg.x(e),r=this.mg.y(e),a=this.mg.x(n),o=this.mg.y(n);if(i===a&&r===o)return!0;let s=i,l=r,c=Math.floor(1+Math.abs(o-r)/(Math.abs(a-i)+1));return this.random.chance(c)&&i!==a?i<a?s++:i>a&&s--:r<o?l++:r>o&&l--,s===i&&l===r?!0:this.mg.ref(s,l)}},jt=class t{constructor(e,n){this.game=e;this.newAStar=n;this.curr=null;this.dst=null;this.path=null;this.computeFinished=!0}static Mini(e,n,i=!0,r=20){return new t(e,(a,o)=>new Ot(e.map(),e.miniMap(),a,o,n,r,i))}nextTile(e,n,i=1){if(e===null)return console.error("curr is null"),{type:3};if(n===null)return console.error("dst is null"),{type:3};if(this.game.manhattanDist(e,n)<i)return{type:2,node:e};if(this.computeFinished){if(this.shouldRecompute(e,n))return this.curr=e,this.dst=n,this.path=null,this.aStar=this.newAStar(e,n),this.computeFinished=!1,this.nextTile(e,n);{let r=this.path?.shift();if(r===void 0)throw new Error("missing tile");return{type:0,node:r}}}switch(this.aStar.compute()){case 2:return this.computeFinished=!0,this.path=this.aStar.reconstructPath(),this.path.shift(),this.nextTile(e,n);case 1:return{type:1};case 3:return{type:3};default:throw new Error("unexpected compute result")}}shouldRecompute(e,n){if(this.path===null||this.curr===null||this.dst===null)return!0;let i=this.game.manhattanDist(e,n),r=10;return i>50?r=10:i>25?r=5:r=0,this.game.manhattanDist(this.dst,n)>r}};var Qr=class{constructor(e,n,i,r){this.spawn=e;this._owner=n;this.ownerUnit=i;this.target=r;this.active=!0;this.destroyAtTick=-1}init(e,n){this.pathFinder=new Jr(e,new U(e.ticks())),this.mg=e,this.random=new U(e.ticks())}tick(e){if(this.shell??(this.shell=this._owner.buildUnit("Shell",this.spawn,{})),!this.shell.isActive()){this.active=!1;return}if(!this.target.isActive()||this.target.owner()===this.shell.owner()||this.destroyAtTick!==-1&&this.mg.ticks()>=this.destroyAtTick){this.shell.delete(!1),this.active=!1;return}this.destroyAtTick===-1&&!this.ownerUnit.isActive()&&(this.destroyAtTick=this.mg.ticks()+this.mg.config().shellLifetime());for(let n=0;n<3;n++){let i=this.pathFinder.nextTile(this.shell.tile(),this.target.tile());if(i===!0){this.active=!1,this.target.modifyHealth(-this.effectOnTarget(),this._owner),this.shell.setReachedTarget(),this.shell.delete(!1);return}else this.shell.move(i)}}effectOnTarget(){let{damage:e}=this.mg.config().unitInfo("Shell"),n=e??250,r=(this.random.nextInt(1,6)-1)*25+200;return Math.round(n/250*r)}getEffectOnTargetForTesting(){return this.effectOnTarget()}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Ao=class{constructor(e,n){this.player=e;this.tile=n;this.post=null;this.active=!0;this.target=null;this.lastShellAttack=0;this.alreadySentShell=new Set}init(e,n){this.mg=e}shoot(){if(this.post===null||this.target===null)return;let e=this.mg.config().defensePostShellAttackRate();if(this.mg.ticks()-this.lastShellAttack>e&&(this.lastShellAttack=this.mg.ticks(),this.mg.addExecution(new Qr(this.post.tile(),this.post.owner(),this.post,this.target)),!this.target.hasHealth())){this.alreadySentShell.add(this.target),this.target=null;return}}tick(e){if(this.post===null){let n=this.player.canBuild("Defense Post",this.tile);if(n===!1){console.warn("cannot build Defense Post"),this.active=!1;return}this.post=this.player.buildUnit("Defense Post",n,{})}if(!this.post.isActive()){this.active=!1;return}this.player!==this.post.owner()&&(this.player=this.post.owner()),this.target!==null&&!this.target.isActive()&&(this.target=null)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Eo=class{constructor(e,n){this.player=e;this.tile=n;this.factory=null;this.active=!0}init(e,n){this.game=e}tick(e){if(!this.factory){let n=this.player.canBuild("Factory",this.tile);if(n===!1){console.warn("cannot build factory"),this.active=!1;return}this.factory=this.player.buildUnit("Factory",n,{}),this.createStation()}if(!this.factory.isActive()){this.active=!1;return}this.player!==this.factory.owner()&&(this.player=this.factory.owner())}isActive(){return this.active}activeDuringSpawnPhase(){return!1}createStation(){if(this.factory!==null){let e=this.game.nearbyUnits(this.factory.tile(),this.game.config().trainStationMaxRange(),["City","Port","Factory"]);this.game.addExecution(new St(this.factory,!0));for(let{unit:n}of e)n.hasTrainStation()||this.game.addExecution(new St(n))}}};var H2=16,Lt=class{constructor(e,n,i,r,a=-1,o=0){this.nukeType=e;this.player=n;this.dst=i;this.src=r;this.speed=a;this.waitTicks=o;this.active=!0;this.nuke=null}init(e,n){this.mg=e,this.speed===-1&&(this.speed=this.mg.config().defaultNukeSpeed()),this.pathFinder=new Kr(e)}target(){return this.mg.owner(this.dst)}tilesToDestroy(){if(this.tilesToDestroyCache!==void 0)return this.tilesToDestroyCache;if(this.nuke===null)throw new Error("Not initialized");let e=this.mg.config().nukeMagnitudes(this.nuke.type()),n=new U(this.mg.ticks()),i=e.inner*e.inner,r=e.outer*e.outer;return this.tilesToDestroyCache=this.mg.bfs(this.dst,(a,o)=>{let s=this.mg?.euclideanDistSquared(this.dst,o)??0;return s<=r&&(s<=i||n.chance(2))}),this.tilesToDestroyCache}maybeBreakAlliances(e){if(this.nuke===null)throw new Error("Not initialized");let n=new Map;for(let r of e){let a=this.mg.owner(r);if(a.isPlayer()){let o=n.get(a)??0;n.set(a,o+1)}}let i=this.mg.config().nukeAllianceBreakThreshold();for(let[r,a]of n)if(a>i&&this.nuke.type()!=="MIRV Warhead"){let o=r.incomingAllianceRequests().find(l=>l.requestor()===this.player);o&&o?.reject();let s=this.player.allianceWith(r);s!==null&&this.player.breakAlliance(s),r!==this.player&&r.updateRelation(this.player,-100)}}tick(e){if(this.nuke===null){let i=this.src??this.player.canBuild(this.nukeType,this.dst);if(i===!1){console.warn("cannot build Nuke"),this.active=!1;return}if(this.src=i,this.pathFinder.computeControlPoints(i,this.dst,this.speed,this.nukeType!=="MIRV Warhead"),this.nuke=this.player.buildUnit(this.nukeType,i,{targetTile:this.dst,trajectory:this.getTrajectory(this.dst)}),this.maybeBreakAlliances(this.tilesToDestroy()),this.mg.hasOwner(this.dst)){let a=this.mg.owner(this.dst);a.isPlayer()&&(this.nukeType==="Atom Bomb"?this.mg.displayIncomingUnit(this.nuke.id(),`${this.player.name()} - atom bomb inbound`,5,a.id()):this.nukeType==="Hydrogen Bomb"&&this.mg.displayIncomingUnit(this.nuke.id(),`${this.player.name()} - hydrogen bomb inbound`,6,a.id())),this.mg.stats().bombLaunch(this.player,a,this.nukeType)}let r=this.player.units("Missile Silo").find(a=>a.tile()===i);r&&r.launch();return}if(!this.nuke.isActive()){console.log("Nuke destroyed before reaching target"),this.active=!1;return}if(this.waitTicks>0){this.waitTicks--;return}let n=this.pathFinder.nextTile(this.speed);if(n===!0){this.detonate();return}else this.updateNukeTargetable(),this.nuke.move(n),this.nuke.setTrajectoryIndex(this.pathFinder.currentIndex())}getNuke(){return this.nuke}getTrajectory(e){let n=[],i=this.mg.config().defaultNukeTargetableRange()**2,r=this.pathFinder.allTiles();for(let a of r)n.push({tile:a,targetable:this.isTargetable(e,a,i)});return n}isTargetable(e,n,i){return this.mg.euclideanDistSquared(n,e)<i||this.src!==void 0&&this.src!==null&&this.mg.euclideanDistSquared(this.src,n)<i}updateNukeTargetable(){if(this.nuke===null||this.nuke.targetTile()===void 0)return;let e=this.mg.config().defaultNukeTargetableRange()**2,n=this.nuke.targetTile();this.nuke.setTargetable(this.isTargetable(n,this.nuke.tile(),e))}detonate(){if(this.nuke===null)throw new Error("Not initialized");let e=this.mg.config().nukeMagnitudes(this.nuke.type()),n=this.tilesToDestroy();this.maybeBreakAlliances(n);let i=this.target().isPlayer()?this.mg.config().maxTroops(this.target()):1;for(let a of n){let o=this.mg.owner(a);o.isPlayer()&&(o.relinquish(a),o.removeTroops(this.mg.config().nukeDeathFactor(this.nukeType,o.troops(),o.numTilesOwned(),i)),o.outgoingAttacks().forEach(s=>{let l=this.mg?.config().nukeDeathFactor(this.nukeType,s.troops(),o.numTilesOwned(),i)??0;s.setTroops(s.troops()-l)}),o.units("Transport").forEach(s=>{let l=this.mg?.config().nukeDeathFactor(this.nukeType,s.troops(),o.numTilesOwned(),i)??0;s.setTroops(s.troops()-l)})),this.mg.isLand(a)&&this.mg.setFallout(a,!0)}let r=e.outer*e.outer;for(let a of this.mg.units())a.type()!=="Atom Bomb"&&a.type()!=="Hydrogen Bomb"&&a.type()!=="MIRV Warhead"&&a.type()!=="MIRV"&&this.mg.euclideanDistSquared(this.dst,a.tile())<r&&a.delete(!0,this.player);this.redrawBuildings(e.outer+H2),this.active=!1,this.nuke.setReachedTarget(),this.nuke.delete(!1),this.mg.stats().bombLand(this.player,this.target(),this.nuke.type())}redrawBuildings(e){let n=e*e;for(let i of this.mg.units())ap(i.type())&&this.mg.euclideanDistSquared(this.dst,i.tile())<n&&i.touch()}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Ro=class{constructor(e,n){this.player=e;this.dst=n;this.active=!0;this.nuke=null;this.mirvRange=1500;this.warheadCount=350;this.speed=-1}init(e,n){if(this.random=new U(e.ticks()+q(this.player.id())),this.mg=e,this.pathFinder=new Kr(e),this.targetPlayer=this.mg.owner(this.dst),this.speed=this.mg.config().defaultNukeSpeed(),this.mg.stats().bombLaunch(this.player,this.targetPlayer,"MIRV"),this.targetPlayer.isPlayer()){let i=this.player.allianceWith(this.targetPlayer);i!==null&&this.player.breakAlliance(i),this.targetPlayer!==this.player&&this.targetPlayer.updateRelation(this.player,-100)}}tick(e){if(this.nuke===null){let i=this.player.canBuild("MIRV",this.dst);if(i===!1){console.warn("cannot build MIRV"),this.active=!1;return}this.nuke=this.player.buildUnit("MIRV",i,{});let r=Math.floor((this.mg.x(this.dst)+this.mg.x(this.mg.x(this.nuke.tile())))/2),a=Math.max(0,this.mg.y(this.dst)-500)+50;this.separateDst=this.mg.ref(r,a),this.pathFinder.computeControlPoints(i,this.separateDst),this.mg.displayIncomingUnit(this.nuke.id(),`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F ${this.player.name()} - MIRV INBOUND \u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F`,4,this.targetPlayer.id())}let n=this.pathFinder.nextTile(this.speed);if(n===!0){this.separate(),this.active=!1,this.mg.stats().bombLand(this.player,this.targetPlayer,"MIRV");return}else this.nuke.move(n)}separate(){if(this.nuke===null)throw new Error("uninitialized");let e=[this.dst],n=1e3;for(;n>0&&e.length<this.warheadCount;){n--;let i=this.randomLand(this.dst,e);i!==null&&e.push(i)}console.log(`dsts: ${e.length}`),e.sort((i,r)=>this.mg.manhattanDist(r,this.dst)-this.mg.manhattanDist(i,this.dst)),console.log(`got ${e.length} dsts!!`);for(let[i,r]of e.entries())this.mg.addExecution(new Lt("MIRV Warhead",this.player,r,this.nuke.tile(),15+Math.floor(i/this.warheadCount*5),this.random.nextInt(0,15)));this.nuke.delete(!1)}randomLand(e,n){let i=0,r=this.mirvRange*this.mirvRange;for(;i<100;){i++;let a=this.random.nextInt(this.mg.x(e)-this.mirvRange,this.mg.x(e)+this.mirvRange),o=this.random.nextInt(this.mg.y(e)-this.mirvRange,this.mg.y(e)+this.mirvRange);if(!this.mg.isValidCoord(a,o))continue;let s=this.mg.ref(a,o);if(this.mg.isLand(s)&&!(this.mg.euclideanDistSquared(s,e)>r)&&this.mg.owner(s)===this.targetPlayer&&!this.proximityCheck(s,n))return s}return console.log("couldn't find place, giving up"),null}proximityCheck(e,n){for(let i of n)if(this.mg.manhattanDist(e,i)<55)return!0;return!1}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Mo=class{constructor(e,n){this.player=e;this.tile=n;this.active=!0;this.silo=null}init(e,n){this.mg=e}tick(e){if(this.silo===null){let r=this.player.canBuild("Missile Silo",this.tile);if(r===!1){console.warn(`player ${this.player} cannot build missile silo at ${this.tile}`),this.active=!1;return}this.silo=this.player.buildUnit("Missile Silo",r,{}),this.player!==this.silo.owner()&&(this.player=this.silo.owner())}let n=this.silo.missileTimerQueue()[0];if(n===void 0)return;this.mg.config().SiloCooldown()-(this.mg.ticks()-n)<=0&&this.silo.reloadMissile()}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Do=class{constructor(e,n,i){this.origOwner=e;this.srcPort=n;this._dstPort=i;this.active=!0;this.wasCaptured=!1;this.tilesTraveled=0}init(e,n){this.mg=e,this.pathFinder=jt.Mini(e,2500)}tick(e){if(this.tradeShip===void 0){let o=this.origOwner.canBuild("Trade Ship",this.srcPort.tile());if(o===!1){console.warn("cannot build trade ship"),this.active=!1;return}this.tradeShip=this.origOwner.buildUnit("Trade Ship",o,{targetUnit:this._dstPort,lastSetSafeFromPirates:e}),this.mg.stats().boatSendTrade(this.origOwner,this._dstPort.owner())}if(!this.tradeShip.isActive()){this.active=!1;return}let n=this.tradeShip.owner(),i=this._dstPort.owner();if(this.wasCaptured!==!0&&this.origOwner!==n&&(this.wasCaptured=!0),i.id()===this.srcPort.owner().id()){this.tradeShip.delete(!1),this.active=!1;return}if(!this.wasCaptured&&(!this._dstPort.isActive()||!n.canTrade(i))){this.tradeShip.delete(!1),this.active=!1;return}if(this.wasCaptured&&(n!==i||!this._dstPort.isActive())){let o=this.tradeShip.owner().units("Port").sort(Ui(this.mg,this.tradeShip));if(o.length===0){this.tradeShip.delete(!1),this.active=!1;return}else this._dstPort=o[0],this.tradeShip.setTargetUnit(this._dstPort)}let r=this.tradeShip.tile();if(r===this.dstPort()){this.complete();return}let a=this.pathFinder.nextTile(r,this._dstPort.tile());switch(a.type){case 1:this.tradeShip.move(r);break;case 0:this.mg.isWater(a.node)&&this.mg.isShoreline(a.node)&&this.tradeShip.setSafeFromPirates(),this.tradeShip.move(a.node),this.tilesTraveled++;break;case 2:this.complete();break;case 3:console.warn("captured trade ship cannot find route"),this.tradeShip.isActive()&&this.tradeShip.delete(!1),this.active=!1;break}}complete(){this.active=!1,this.tradeShip.delete(!1);let e=this.mg.config().tradeShipGold(this.tilesTraveled,this.tradeShip.owner().unitCount("Port"));this.wasCaptured?(this.tradeShip.owner().addGold(e,this._dstPort.tile()),this.mg.displayMessage(`Received ${st(e)} gold from ship captured from ${this.origOwner.displayName()}`,10,this.tradeShip.owner().id(),e)):(this.srcPort.owner().addGold(e),this._dstPort.owner().addGold(e,this._dstPort.tile()),this.mg.displayMessage(`Received ${st(e)} gold from trade with ${this.srcPort.owner().displayName()}`,20,this._dstPort.owner().id(),e),this.mg.displayMessage(`Received ${st(e)} gold from trade with ${this._dstPort.owner().displayName()}`,20,this.srcPort.owner().id(),e))}isActive(){return this.active}activeDuringSpawnPhase(){return!1}dstPort(){return this._dstPort.tile()}};var Co=class{constructor(e,n){this.player=e;this.tile=n;this.active=!0;this.port=null}init(e,n){this.mg=e,this.random=new U(e.ticks()),this.checkOffset=e.ticks()%10}tick(e){if(this.mg===null||this.random===null||this.checkOffset===null)throw new Error("Not initialized");if(this.port===null){let r=this.tile,a=this.player.canBuild("Port",r);if(a===!1){console.warn(`player ${this.player.id()} cannot build port at ${this.tile}`),this.active=!1;return}this.port=this.player.buildUnit("Port",a,{}),this.createStation()}if(!this.port.isActive()){this.active=!1;return}if(this.player.id()!==this.port.owner().id()&&(this.player=this.port.owner()),(this.mg.ticks()+this.checkOffset)%10!==0||!this.shouldSpawnTradeShip())return;let n=this.player.tradingPorts(this.port);if(n.length===0)return;let i=this.random.randElement(n);this.mg.addExecution(new Do(this.player,this.port,i))}isActive(){return this.active}activeDuringSpawnPhase(){return!1}shouldSpawnTradeShip(){let e=this.mg.unitCount("Trade Ship"),n=this.player.unitCount("Port"),i=this.player.unitCount("Trade Ship"),r=this.mg.config().tradeShipSpawnRate(e,n,i);for(let a=0;a<this.port.level();a++)if(this.random.chance(r))return!0;return!1}createStation(){this.port!==null&&this.mg.hasUnitNearby(this.port.tile(),this.mg.config().trainStationMaxRange(),"Factory")&&this.mg.addExecution(new St(this.port))}};var Uo=class{constructor(e,n,i,r,a){this.spawn=e;this._owner=n;this.ownerUnit=i;this.target=r;this.targetTile=a;this.active=!0;this.speed=0}init(e,n){this.pathFinder=new Jr(e,new U(e.ticks())),this.mg=e,this.speed=this.mg.config().defaultSamMissileSpeed()}tick(e){if(this.SAMMissile??(this.SAMMissile=this._owner.buildUnit("SAMMissile",this.spawn,{})),!this.SAMMissile.isActive()){this.active=!1;return}let n=["Atom Bomb","Hydrogen Bomb"];if(!this.target.isActive()||!this.ownerUnit.isActive()||this.target.owner()===this.SAMMissile.owner()||!n.includes(this.target.type())){this.SAMMissile.delete(!1),this.active=!1;return}for(let i=0;i<this.speed;i++){let r=this.pathFinder.nextTile(this.SAMMissile.tile(),this.targetTile);if(r===!0){this.mg.displayMessage(`Missile intercepted ${this.target.type()}`,9,this._owner.id()),this.active=!1,this.target.delete(!0,this._owner),this.SAMMissile.delete(!1),this.mg.stats().bombIntercept(this._owner,this.target.type(),1);return}else this.SAMMissile.move(r)}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ah=class{constructor(e,n){this.mg=e;this.sam=n;this.precomputedNukes=new Map;this.missileSpeed=this.mg.config().defaultSamMissileSpeed()}updateUnreachableNukes(e){let n=new Set(e.map(i=>i.unit.id()));for(let i of this.precomputedNukes.keys())n.has(i)||this.precomputedNukes.delete(i)}isInRange(e){let n=this.sam.tile(),i=this.mg.config().defaultSamRange(),r=i*i;return this.mg.euclideanDistSquared(n,e)<=r}tickToReach(e,n){return Math.ceil(this.mg.manhattanDist(e,n)/this.missileSpeed)}computeInterceptionTile(e){let n=e.trajectory(),i=this.sam.tile(),r=e.trajectoryIndex(),a=n.length-r;for(let o=r;o<n.length;o++){let s=n[o];if(s.targetable&&this.isInRange(s.tile)){let l=o-r,c=this.tickToReach(i,s.tile),u=l-c;if(c<a&&u>=0)return{tick:u,tile:s.tile}}}}getSingleTarget(e){let n=this.mg.config().defaultSamRange()*2,i=this.mg.nearbyUnits(this.sam.tile(),n,["Atom Bomb","Hydrogen Bomb"],({unit:a})=>un(a)&&a.owner()!==this.sam.owner()&&!this.sam.owner().isFriendly(a.owner()));this.updateUnreachableNukes(i);let r=[];for(let a of i){let o=a.unit.id(),s=this.precomputedNukes.get(o);if(s!==void 0){if(s===null)continue;if(s.tick===e){r.push({tile:s.tile,unit:a.unit}),this.precomputedNukes.delete(o);continue}if(s.tick>e)continue;this.precomputedNukes.delete(o)}let l=this.computeInterceptionTile(a.unit);l!==void 0?l.tick<=1?r.push({unit:a.unit,tile:l.tile}):this.precomputedNukes.set(o,{tick:l.tick+e,tile:l.tile}):this.precomputedNukes.set(o,null)}return r.sort((a,o)=>a.unit.type()==="Hydrogen Bomb"&&o.unit.type()!=="Hydrogen Bomb"?-1:a.unit.type()!=="Hydrogen Bomb"&&o.unit.type()==="Hydrogen Bomb"?1:0)[0]??null}},No=class{constructor(e,n,i=null){this.player=e;this.tile=n;this.sam=i;this.active=!0;this.MIRVWarheadSearchRadius=400;this.MIRVWarheadProtectionRadius=50;i!==null&&(this.tile=i.tile())}init(e,n){this.mg=e}isHit(e,n){return e==="Atom Bomb"?!0:e==="MIRV Warhead"?n<this.mg.config().samWarheadHittingChance():n<this.mg.config().samHittingChance()}tick(e){if(this.mg===null||this.player===null)throw new Error("Not initialized");if(this.sam===null){if(this.tile===null)throw new Error("tile is null");let a=this.player.canBuild("SAM Launcher",this.tile);if(a===!1){console.warn("cannot build SAM Launcher"),this.active=!1;return}this.sam=this.player.buildUnit("SAM Launcher",a,{})}if(this.targetingSystem??(this.targetingSystem=new ah(this.mg,this.sam)),this.sam.isInCooldown()){let a=this.sam.missileTimerQueue()[0];if(a===void 0)return;this.mg.config().SAMCooldown()-(this.mg.ticks()-a)<=0&&this.sam.reloadMissile();return}if(!this.sam.isActive()){this.active=!1;return}this.player!==this.sam.owner()&&(this.player=this.sam.owner()),this.pseudoRandom??(this.pseudoRandom=new U(this.sam.id()));let n=this.mg.nearbyUnits(this.sam.tile(),this.MIRVWarheadSearchRadius,"MIRV Warhead",({unit:a})=>{if(!un(a)||a.owner()===this.player||this.player.isFriendly(a.owner()))return!1;let o=a.targetTile();return this.sam!==null&&o!==void 0&&this.mg.manhattanDist(o,this.sam.tile())<this.MIRVWarheadProtectionRadius}),i=null;if(n.length===0&&(i=this.targetingSystem.getSingleTarget(e),i!==null&&console.log("Target acquired")),i&&!i.unit.targetedBySAM()||n.length>0){this.sam.launch();let a=n.length>0?"MIRV Warhead":i?.unit.type();if(a===void 0)throw new Error("Unknown unit type");let o=this.pseudoRandom.next();if(!this.isHit(a,o))this.mg.displayMessage(`Missile failed to intercept ${a}`,8,this.sam.owner().id());else if(n.length>0){let l=this.sam.owner();this.mg.displayMessage(`${n.length} MIRV warheads intercepted`,9,l.id()),n.forEach(({unit:c})=>{c.delete()}),this.mg.stats().bombIntercept(l,"MIRV Warhead",n.length)}else if(i!==null)i.unit.setTargetedBySAM(!0),this.mg.addExecution(new Uo(this.sam.tile(),this.sam.owner(),this.sam,i.unit,i.tile));else throw new Error("target is null")}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var zo=class{constructor(e){this.input=e;this.lastShellAttack=0;this.alreadySentShell=new Set}init(e,n){if(this.mg=e,this.pathfinder=jt.Mini(e,1e4,!0,100),this.random=new U(e.ticks()),un(this.input))this.warship=this.input;else{let i=this.input.owner.canBuild("Warship",this.input.patrolTile);if(i===!1){console.warn(`Failed to spawn warship for ${this.input.owner.name()} at ${this.input.patrolTile}`);return}this.warship=this.input.owner.buildUnit("Warship",i,this.input)}}tick(e){if(this.warship.health()<=0){this.warship.delete();return}if(this.warship.owner().isDisconnected()){this.warship.delete();return}if(this.warship.owner().unitCount("Port")>0&&this.warship.modifyHealth(1),this.warship.setTargetUnit(this.findTargetUnit()),this.warship.targetUnit()?.type()==="Trade Ship"){this.huntDownTradeShip();return}if(this.patrol(),this.warship.targetUnit()!==void 0){this.shootTarget();return}}findTargetUnit(){let e=this.warship.owner().unitCount("Port")>0,n=this.mg.config().warshipPatrolRange()**2,i=this.mg.nearbyUnits(this.warship.tile(),this.mg.config().warshipTargettingRange(),["Transport","Warship","Trade Ship"]),r=[];for(let{unit:a,distSquared:o}of i)a.owner()===this.warship.owner()||a===this.warship||a.owner().isFriendly(this.warship.owner())||this.alreadySentShell.has(a)||a.type()==="Trade Ship"&&(!e||a.isSafeFromPirates()||a.targetUnit()?.owner()===this.warship.owner()||a.targetUnit()?.owner().isFriendly(this.warship.owner())||this.mg.euclideanDistSquared(this.warship.patrolTile(),a.tile())>n)||r.push({unit:a,distSquared:o});return r.sort((a,o)=>{let{unit:s,distSquared:l}=a,{unit:c,distSquared:u}=o;return s.type()==="Transport"&&c.type()!=="Transport"?-1:s.type()!=="Transport"&&c.type()==="Transport"?1:s.type()==="Warship"&&c.type()!=="Warship"?-1:s.type()!=="Warship"&&c.type()==="Warship"?1:l-u})[0]?.unit}shootTarget(){let e=this.mg.config().warshipShellAttackRate();if(this.mg.ticks()-this.lastShellAttack>e&&(this.warship.targetUnit()?.type()!=="Transport"&&(this.lastShellAttack=this.mg.ticks()),this.mg.addExecution(new Qr(this.warship.tile(),this.warship.owner(),this.warship,this.warship.targetUnit())),!this.warship.targetUnit().hasHealth())){this.alreadySentShell.add(this.warship.targetUnit()),this.warship.setTargetUnit(void 0);return}}huntDownTradeShip(){for(let e=0;e<2;e++){let n=this.pathfinder.nextTile(this.warship.tile(),this.warship.targetUnit().tile(),5);switch(n.type){case 2:this.warship.owner().captureUnit(this.warship.targetUnit()),this.warship.setTargetUnit(void 0),this.warship.move(this.warship.tile());return;case 0:this.warship.move(n.node);break;case 1:this.warship.touch();break;case 3:console.log("path not found to target");break}}}patrol(){if(this.warship.targetTile()===void 0&&(this.warship.setTargetTile(this.randomTile()),this.warship.targetTile()===void 0))return;let e=this.pathfinder.nextTile(this.warship.tile(),this.warship.targetTile());switch(e.type){case 2:this.warship.setTargetTile(void 0),this.warship.move(e.node);break;case 0:this.warship.move(e.node);break;case 1:this.warship.touch();return;case 3:console.warn("path not found to target tile"),this.warship.setTargetTile(void 0);break}}isActive(){return this.warship?.isActive()}activeDuringSpawnPhase(){return!1}randomTile(e=!1){let n=this.mg.config().warshipPatrolRange(),i=500,r=0,a=0;for(;a<3;){let o=this.mg.x(this.warship.patrolTile())+this.random.nextInt(-n/2,n/2),s=this.mg.y(this.warship.patrolTile())+this.random.nextInt(-n/2,n/2);if(!this.mg.isValidCoord(o,s))continue;let l=this.mg.ref(o,s);if(!this.mg.isOcean(l)||!e&&this.mg.isShoreline(l)){r++,r===i&&(a++,r=0,n=n+Math.floor(n/2));continue}return l}if(console.warn(`Failed to find random tile for warship for ${this.warship.owner().name()}`),!e)return this.randomTile(!0)}};var or=class{constructor(e,n,i){this.player=e;this.constructionType=n;this.tile=i;this.construction=null;this.active=!0}init(e,n){if(this.mg=e,this.mg.config().isUnitDisabled(this.constructionType)){console.warn(`cannot build construction ${this.constructionType} because it is disabled`),this.active=!1;return}if(!this.mg.isValidRef(this.tile)){console.warn(`cannot build construction invalid tile ${this.tile}`),this.active=!1;return}}tick(e){if(this.construction===null){let n=this.mg.unitInfo(this.constructionType);if(n.constructionDuration===void 0){this.completeConstruction(),this.active=!1;return}let i=this.player.canBuild(this.constructionType,this.tile);if(i===!1){console.warn(`cannot build ${this.constructionType}`),this.active=!1;return}this.construction=this.player.buildUnit("Construction",i,{}),this.cost=this.mg.unitInfo(this.constructionType).cost(this.player),this.player.removeGold(this.cost),this.construction.setConstructionType(this.constructionType),this.ticksUntilComplete=n.constructionDuration;return}if(!this.construction.isActive()){this.active=!1;return}if(this.player!==this.construction.owner()&&(this.player=this.construction.owner()),this.ticksUntilComplete===0){this.player=this.construction.owner(),this.construction.delete(!1),this.player.addGold(this.cost),this.completeConstruction(),this.active=!1;return}this.ticksUntilComplete--}completeConstruction(){let e=this.player;switch(this.constructionType){case"Atom Bomb":case"Hydrogen Bomb":this.mg.addExecution(new Lt(this.constructionType,e,this.tile));break;case"MIRV":this.mg.addExecution(new Ro(e,this.tile));break;case"Warship":this.mg.addExecution(new zo({owner:e,patrolTile:this.tile}));break;case"Port":this.mg.addExecution(new Co(e,this.tile));break;case"Missile Silo":this.mg.addExecution(new Mo(e,this.tile));break;case"Defense Post":this.mg.addExecution(new Ao(e,this.tile));break;case"SAM Launcher":this.mg.addExecution(new No(e,this.tile));break;case"City":this.mg.addExecution(new Io(e,this.tile));break;case"Factory":this.mg.addExecution(new Eo(e,this.tile));break;default:console.warn(`unit type ${this.constructionType} cannot be constructed`);break}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Oo=class{constructor(e,n){this.player=e;this.unitId=n;this.active=!0}activeDuringSpawnPhase(){return!1}init(e,n){if(!this.active)return;this.mg=e;let i=this.player.units().find(a=>a.id()===this.unitId);if(!i){console.warn(`SECURITY: unit ${this.unitId} not found or not owned by player ${this.player.displayName()}`),this.active=!1;return}if(!i.isActive()){console.warn(`SECURITY: unit ${this.unitId} is not active`),this.active=!1;return}let r=e.owner(i.tile());if(!r.isPlayer()||r.id()!==this.player.id()){console.warn(`SECURITY: unit ${this.unitId} is not on player's territory`),this.active=!1;return}if(!e.isLand(i.tile())){console.warn(`SECURITY: unit ${this.unitId} is not on land`),this.active=!1;return}if(e.inSpawnPhase()){console.warn("SECURITY: cannot delete units during spawn phase"),this.active=!1;return}if(!this.player.canDeleteUnit()){console.warn("SECURITY: delete unit cooldown not expired"),this.active=!1;return}i.delete(!1),this.player.recordDeleteUnit(),this.mg.displayMessage("events_display.unit_voluntarily_deleted",12,this.player.id()),this.active=!1}tick(e){}isActive(){return this.active}};var jo=class{constructor(e,n,i){this.sender=e;this.recipientID=n;this.active=!0;this.gold=Qe(i??0)}init(e,n){if(!e.hasPlayer(this.recipientID)){console.warn(`DonateExecution recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.gold??(this.gold=this.sender.gold()/3n)}tick(e){if(this.gold===null)throw new Error("not initialized");this.sender.canDonateGold(this.recipient)&&this.sender.donateGold(this.recipient,this.gold)?this.recipient.updateRelation(this.sender,50):console.warn(`cannot send gold from ${this.sender.name()} to ${this.recipient.name()}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Lo=class{constructor(e,n,i){this.sender=e;this.recipientID=n;this.troops=i;this.active=!0}init(e,n){if(!e.hasPlayer(this.recipientID)){console.warn(`DonateExecution recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.troops??(this.troops=e.config().defaultDonationAmount(this.sender));let i=e.config().maxTroops(this.recipient)-this.recipient.troops();this.troops=Math.min(this.troops,i)}tick(e){if(this.troops===null)throw new Error("not initialized");this.sender.canDonateTroops(this.recipient)&&this.sender.donateTroops(this.recipient,this.troops)?this.recipient.updateRelation(this.sender,50):console.warn(`cannot send troops from ${this.sender} to ${this.recipient}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Bo=class{constructor(e,n,i){this.player=e;this.targetID=n;this.action=i;this.active=!0}init(e,n){if(!e.hasPlayer(this.targetID)){console.warn(`EmbargoExecution recipient ${this.targetID} not found`),this.active=!1;return}this.target=e.player(this.targetID)}tick(e){this.action==="start"?this.player.addEmbargo(this.target,!1):this.player.stopEmbargo(this.target),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};function Jy(t,e,n){let i=e.borderTiles(),r=e.units(n),a=t.config().nukeMagnitudes("Atom Bomb").outer,o=a*2;switch(n){case"City":case"Factory":case"Missile Silo":return s=>{let l=0;l+=t.magnitude(s);let[,c]=To(t,i,s);l+=Math.min(c,a);let u=new Set(r.map(h=>h.tile()));u.delete(s);let d=Nt(t,u,[s]);if(d!==null){let h=t.manhattanDist(d.x,s);l+=Math.min(h,o)}return l};case"Port":return s=>{let l=0,c=new Set(r.map(d=>d.tile()));c.delete(s);let[,u]=To(t,c,s);return l+=Math.min(u,o),l};case"Defense Post":return s=>{let l=0;l+=t.magnitude(s);let[c,u]=To(t,i,s);if(c!==null){l+=Math.max(0,a-Math.abs(a-u));let f=new Set;for(let p of t.neighbors(c)){if(!t.isLand(p))continue;let v=t.ownerID(p);if(v===e.smallID())continue;let T=t.playerBySmallID(v);T.isPlayer()&&f.add(T)}for(let p of f)l+=a*(3-e.relation(p))}let d=new Set(r.map(f=>f.tile()));d.delete(s);let h=Nt(t,d,[s]);if(h!==null){let f=t.manhattanDist(h.x,s);l+=Math.min(f,o)}return l};case"SAM Launcher":{let s=new Set;for(let u of e.units())switch(u.type()){case"City":case"Factory":case"Missile Silo":case"Port":s.add(u.tile())}let l=t.config().defaultSamRange(),c=l*l;return u=>{let d=0;d+=t.magnitude(u);let h=Nt(t,i,[u]);if(h!==null){let v=t.manhattanDist(h.x,u);d+=Math.min(v,a)}let f=new Set(r.map(v=>v.tile()));f.delete(u);let p=Nt(t,f,[u]);if(p!==null){let v=t.manhattanDist(p.x,u);d+=Math.min(v,o)}for(let v of s)t.euclideanDistSquared(u,v)>c||(d+=o);return d}}default:throw new Error(`Value function not implemented for ${n}`)}}function eb(t,e,n){if(e.unitCount("Transport")>=t.config().boatMaxNumber())return!1;let i=Go(t,n);if(i===null)return!1;let r=t.owner(n);if(r===e||r.isPlayer()&&e.isFriendly(r))return!1;if(t.isOceanShore(i)){let s=!1;for(let c of e.borderTiles())if(t.isOceanShore(c)){s=!0;break}let l=!1;if(!t.hasOwner(n))l=!0;else for(let c of r.borderTiles())if(t.isOceanShore(c)){l=!0;break}return s&&l?Qy(t,e,i):!1}let a=t.bfs(i,pi(Vr(i,300),(s,l)=>t.isLake(l)||t.isShore(l))),o=Array.from(a).sort((s,l)=>t.manhattanDist(i,s)-t.manhattanDist(i,l));for(let s of o)if(t.owner(s)===e)return Qy(t,e,s);return!1}function Qy(t,e,n){if(!t.isShore(n))return!1;let i=tb(t,e,n);return i===null?!1:i}function Go(t,e){let n=t.playerBySmallID(t.ownerID(e)),i=null;return n.isPlayer()?i=tb(t,n,e):i=X2(t,e,50),i}function tb(t,e,n){let i=Array.from(e.borderTiles()).filter(r=>t.isShore(r));return i.length===0?null:i.reduce((r,a)=>{let o=t.manhattanDist(n,r);return t.manhattanDist(n,a)<o?a:r})}function rb(t,e,n){let i=Go(t,n);if(i===null)return!1;let r=Y2(t,e,i),a=new Ot(t,t.miniMap(),r,i,1e6,1),o=a.compute();if(o!==2)return console.warn(`bestShoreDeploymentSource: path not found: ${o}`),!1;let s=a.reconstructPath();if(s.length===0)return!1;let l=s[0],c=t.neighbors(l).filter(u=>t.isShore(u)&&t.owner(u)===e);return c.length===0?!1:c[0]}function Y2(t,e,n){let i=1/0,r=1/0,a=1/0,o=-1/0,s=-1/0,l=null,c={minX:null,minY:null,maxX:null,maxY:null},u=Array.from(e.borderTiles()).filter(p=>t.isShore(p));for(let p of u){let v=t.manhattanDist(p,n),T=t.cell(p);v<i&&(i=v,l=p),T.x<r?(r=T.x,c.minX=p):T.y<a?(a=T.y,c.minY=p):T.x>o?(o=T.x,c.maxX=p):T.y>s&&(s=T.y,c.maxY=p)}let d=Math.max(10,Math.ceil(u.length/50)),h=u.filter((p,v)=>v%d===0);return[l,c.minX,c.minY,c.maxX,c.maxY,...h].filter(Boolean)}function X2(t,e,n){let i=Array.from(t.bfs(e,pi((r,a)=>!t.hasOwner(a),Vr(e,n)))).filter(r=>t.isShore(r)).sort((r,a)=>t.manhattanDist(e,r)-t.manhattanDist(e,a));return i.length===0?null:i[0]}var sr=class{constructor(e,n,i,r,a){this.attacker=e;this.targetID=n;this.ref=i;this.startTroops=r;this.src=a;this.ticksPerMove=1;this.active=!0}activeDuringSpawnPhase(){return!1}init(e,n){if(this.targetID!==null&&!e.hasPlayer(this.targetID)){console.warn(`TransportShipExecution: target ${this.targetID} not found`),this.active=!1;return}if(!e.isValidRef(this.ref)){console.warn(`TransportShipExecution: ref ${this.ref} not valid`),this.active=!1;return}if(this.src!==null&&!e.isValidRef(this.src)){console.warn(`TransportShipExecution: src ${this.src} not valid`),this.active=!1;return}if(this.lastMove=n,this.mg=e,this.pathFinder=jt.Mini(e,1e4,!0,100),this.attacker.unitCount("Transport")>=e.config().boatMaxNumber()){e.displayMessage(`No boats available, max ${e.config().boatMaxNumber()}`,0,this.attacker.id()),this.active=!1;return}if(this.targetID===null||this.targetID===this.mg.terraNullius().id()?this.target=e.terraNullius():this.target=e.player(this.targetID),this.startTroops??(this.startTroops=this.mg.config().boatAttackAmount(this.attacker,this.target)),this.startTroops=Math.min(this.startTroops,this.attacker.troops()),this.dst=Go(this.mg,this.ref),this.dst===null){console.warn(`${this.attacker} cannot send ship to ${this.target}, cannot find attack tile`),this.active=!1;return}let i=this.attacker.canBuild("Transport",this.dst);if(i===!1){console.warn("can't build transport ship"),this.active=!1;return}this.src===null?this.src=i:(this.mg.owner(this.src)!==this.attacker||!this.mg.isShore(this.src))&&(console.warn(`src is not a shore tile or not owned by: ${this.attacker.name()}`),this.src=i),this.boat=this.attacker.buildUnit("Transport",this.src,{troops:this.startTroops}),this.dst!==null?this.boat.setTargetTile(this.dst):this.boat.setTargetTile(void 0),this.targetID&&this.targetID!==e.terraNullius().id()&&e.displayIncomingUnit(this.boat.id(),`Naval invasion incoming from ${this.attacker.displayName()}`,7,this.targetID),this.mg.stats().boatSendTroops(this.attacker,this.target,this.boat.troops())}tick(e){if(this.dst===null){this.active=!1;return}if(!this.active)return;if(!this.boat.isActive()){this.active=!1;return}if(e-this.lastMove<this.ticksPerMove)return;this.lastMove=e,this.boat.retreating()&&(this.dst=this.src,this.boat.targetTile()!==this.dst&&this.boat.setTargetTile(this.dst));let n=this.pathFinder.nextTile(this.boat.tile(),this.dst);switch(n.type){case 2:if(this.mg.owner(this.dst)===this.attacker){this.attacker.addTroops(this.boat.troops()),this.boat.delete(!1),this.active=!1,this.mg.stats().boatArriveTroops(this.attacker,this.target,this.boat.troops());return}this.attacker.conquer(this.dst),this.target.isPlayer()&&this.attacker.isFriendly(this.target)?this.attacker.addTroops(this.boat.troops()):this.mg.addExecution(new wt(this.boat.troops(),this.attacker,this.targetID,this.dst,!1)),this.boat.delete(!1),this.active=!1,this.mg.stats().boatArriveTroops(this.attacker,this.target,this.boat.troops());return;case 0:this.boat.move(n.node);break;case 1:break;case 3:console.warn("path not found to dst"),this.attacker.addTroops(this.boat.troops()),this.boat.delete(!1),this.active=!1;return}}owner(){return this.attacker}isActive(){return this.active}};var Fo=class{constructor(e,n){this.nation=n;this.active=!0;this.behavior=null;this.player=null;this.lastEmojiSent=new Map;this.lastNukeSent=[];this.embargoMalusApplied=new Set;this.random=new U(q(n.playerInfo.id)+q(e)),this.attackRate=this.random.nextInt(40,80),this.attackTick=this.random.nextInt(0,this.attackRate),this.triggerRatio=this.random.nextInt(50,60)/100,this.reserveRatio=this.random.nextInt(30,40)/100,this.expandRatio=this.random.nextInt(10,20)/100}init(e){this.mg=e,this.random.chance(10)}updateRelationsFromEmbargos(){let e=this.player;if(e===null)return;this.mg.players().filter(i=>i.id()!==e.id()).forEach(i=>{i.hasEmbargoAgainst(e)&&!this.embargoMalusApplied.has(i.id())?(e.updateRelation(i,-20),this.embargoMalusApplied.add(i.id())):!i.hasEmbargoAgainst(e)&&this.embargoMalusApplied.has(i.id())&&(e.updateRelation(i,20),this.embargoMalusApplied.delete(i.id()))})}handleEmbargoesToHostileNations(){let e=this.player;if(e===null)return;this.mg.players().filter(i=>i.id()!==e.id()).forEach(i=>{e.relation(i)<=0&&!e.hasEmbargoAgainst(i)&&!e.isOnSameTeam(i)?e.addEmbargo(i,!1):e.relation(i)>=2&&e.hasEmbargoAgainst(i)&&e.stopEmbargo(i)})}tick(e){if(e%this.attackRate===this.attackTick){if(this.mg.inSpawnPhase()){let n=this.randomSpawnLand();if(n===null){console.warn(`cannot spawn ${this.nation.playerInfo.name}`);return}this.mg.addExecution(new zt(this.nation.playerInfo,n));return}if(!(this.player===null&&(this.player=this.mg.players().find(n=>n.id()===this.nation.playerInfo.id)??null,this.player===null))){if(!this.player.isAlive()){this.active=!1;return}if(this.behavior===null){this.behavior=new qr(this.random,this.mg,this.player,this.triggerRatio,this.reserveRatio,this.expandRatio),this.behavior.forceSendAttack(this.mg.terraNullius());return}this.updateRelationsFromEmbargos(),this.behavior.handleAllianceRequests(),this.behavior.handleAllianceExtensionRequests(),this.handleUnits(),this.handleEmbargoesToHostileNations(),this.maybeAttack()}}}maybeConsiderBetrayal(e){if(this.player===null)throw new Error("not initialized");let n=this.player.allianceWith(e);return n?(this.player.breakAlliance(n),!0):!1}maybeAttack(){if(this.player===null||this.behavior===null)throw new Error("not initialized");let e=Array.from(this.player.borderTiles()).flatMap(a=>this.mg.neighbors(a)).filter(a=>this.mg.isLand(a)&&this.mg.ownerID(a)!==this.player?.smallID());if(e.length===0){this.random.chance(10)&&this.sendBoatRandomly();return}if(this.random.chance(20)){this.sendBoatRandomly();return}let n=e.map(a=>this.mg.playerBySmallID(this.mg.ownerID(a)));if(n.some(a=>!a.isPlayer())){this.behavior.sendAttack(this.mg.terraNullius());return}let i=n.filter(a=>a.isPlayer()).sort((a,o)=>a.troops()-o.troops());if(this.random.chance(20)){let a=this.random.randElement(i);this.player.canSendAllianceRequest(a)&&this.mg.addExecution(new Wr(this.player,a.id()))}this.behavior.forgetOldEnemies(),this.behavior.assistAllies();let r=this.behavior.selectEnemy(i);r&&(this.maybeSendEmoji(r),this.maybeSendNuke(r),this.player.sharesBorderWith(r)?this.behavior.sendAttack(r):this.maybeSendBoatAttack(r))}maybeSendEmoji(e){if(this.player===null)throw new Error("not initialized");if(e.type()!=="HUMAN")return;let n=this.lastEmojiSent.get(e)??-300;this.mg.ticks()-n<=300||(this.lastEmojiSent.set(e,this.mg.ticks()),this.mg.addExecution(new Ut(this.player,e.id(),this.random.randElement(Wy))))}maybeSendNuke(e){if(this.player===null)throw new Error("not initialized");let n=this.player.units("Missile Silo");if(n.length===0||this.player.gold()<this.cost("Atom Bomb")||e.type()==="BOT"||this.player.isOnSameTeam(e))return;let i=this.player.gold()>this.cost("Hydrogen Bomb")?"Hydrogen Bomb":"Atom Bomb",r=i==="Hydrogen Bomb"?60:15,a=e.units("City","Defense Post","Missile Silo","Port","SAM Launcher"),o=a.map(d=>d.tile()),l=this.randTerritoryTileArray(10).concat(o),c=null,u=0;this.removeOldNukeEvents();e:for(let d of new Set(l)){if(d===null)continue;let h=nl(this.mg,d,r).concat(nl(this.mg,d,Math.floor(r/2)));for(let p of h)if(this.mg.owner(p)!==e)continue e;if(!this.player.canBuild(i,d))continue;let f=this.nukeTileScore(d,n,a);f>u&&(c=d,u=f)}c!==null&&this.sendNuke(c,i)}removeOldNukeEvents(){let n=this.mg.ticks();for(;this.lastNukeSent.length>0&&this.lastNukeSent[0][0]+500<n;)this.lastNukeSent.shift()}sendNuke(e,n){if(this.player===null)throw new Error("not initialized");let i=this.mg.ticks();this.lastNukeSent.push([i,e]),this.mg.addExecution(new Lt(n,this.player,e))}nukeTileScore(e,n,i){let r=hi(e,25,!1),a=i.filter(h=>r(this.mg,h.tile())).map(h=>{switch(h.type()){case"City":return 25e3;case"Defense Post":return 5e3;case"Missile Silo":return 5e4;case"Port":return 1e4;default:return 0}}).reduce((h,f)=>h+f,0),o=hi(e,50,!1);a-=5e4*i.filter(h=>h.type()==="SAM Launcher"&&o(this.mg,h.tile())).length;let s=n.map(h=>h.tile()),l=Nt(this.mg,s,[e]);if(l===null)throw new Error("Missing result");let{x:c}=l,u=this.mg.euclideanDistSquared(e,c),d=Math.sqrt(u);return a-=d*30,a-=this.lastNukeSent.filter(([h,f])=>r(this.mg,f)).map(h=>1e6).reduce((h,f)=>h+f,0),a}maybeSendBoatAttack(e){if(this.player===null)throw new Error("not initialized");if(this.player.isFriendly(e))return;let n=Nt(this.mg,Array.from(this.player.borderTiles()).filter(i=>this.mg.isOceanShore(i)),Array.from(e.borderTiles()).filter(i=>this.mg.isOceanShore(i)));n!==null&&this.mg.addExecution(new sr(this.player,e.id(),n.y,this.player.troops()/5,null))}handleUnits(){return this.maybeSpawnStructure("City",e=>e)||this.maybeSpawnStructure("Port",e=>e)||this.maybeSpawnWarship()||this.maybeSpawnStructure("Factory",e=>e)||this.maybeSpawnStructure("Defense Post",e=>(e+2)**2)||this.maybeSpawnStructure("SAM Launcher",e=>e**2)||this.maybeSpawnStructure("Missile Silo",e=>e**2)}maybeSpawnStructure(e,n){if(this.player===null)throw new Error("not initialized");let i=this.player.unitsOwned(e),r=n(i+1),o=this.cost(e)*BigInt(r);if(this.player.gold()<o)return!1;let s=this.structureSpawnTile(e);return s===null||this.player.canBuild(e,s)===!1?!1:(this.mg.addExecution(new or(this.player,e,s)),!0)}structureSpawnTile(e){if(this.mg===void 0)throw new Error("Not initialized");if(this.player===null)throw new Error("Not initialized");let n=e==="Port"?this.randCoastalTileArray(25):this.randTerritoryTileArray(25);if(n.length===0)return null;let i=Jy(this.mg,this.player,e),r=null,a=0;for(let o of n){let s=i(o);s<=a&&r!==null||this.player.canBuild(e,o)&&(r=o,a=s)}return r}randCoastalTileArray(e){let n=Array.from(this.player.borderTiles()).filter(i=>this.mg.isOceanShore(i));return Array.from(this.arraySampler(n,e))}*arraySampler(e,n){if(e.length<=n)yield*e;else{let i=new Set(e);for(;n--;){let r=this.random.randFromSet(i);i.delete(r),yield r}}}maybeSpawnWarship(){if(this.player===null)throw new Error("not initialized");if(!this.random.chance(50))return!1;let e=this.player.units("Port"),n=this.player.units("Warship");if(e.length>0&&n.length===0&&this.player.gold()>this.cost("Warship")){let i=this.random.randElement(e),r=this.warshipSpawnTile(i.tile());return r===null?!1:this.player.canBuild("Warship",r)===!1?(console.warn("cannot spawn destroyer"),!1):(this.mg.addExecution(new or(this.player,"Warship",r)),!0)}return!1}randTerritoryTileArray(e){let n=Je(this.mg,this.player.borderTiles()),i=[];for(let r=0;r<e;r++){let a=this.randTerritoryTile(this.player,n);a!==null&&i.push(a)}return i}randTerritoryTile(e,n=null){n??(n=Je(this.mg,e.borderTiles()));for(let i=0;i<100;i++){let r=this.random.nextInt(n.min.x,n.max.x),a=this.random.nextInt(n.min.y,n.max.y);if(!this.mg.isOnMap(new te(r,a)))continue;let o=this.mg.ref(r,a);if(this.mg.owner(o)===e)return o}return null}warshipSpawnTile(e){for(let i=0;i<50;i++){let r=this.random.nextInt(this.mg.x(e)-250,this.mg.x(e)+250),a=this.random.nextInt(this.mg.y(e)-250,this.mg.y(e)+250);if(!this.mg.isValidCoord(r,a))continue;let o=this.mg.ref(r,a);if(this.mg.isOcean(o))return o}return null}cost(e){if(this.player===null)throw new Error("not initialized");return this.mg.unitInfo(e).cost(this.player)}sendBoatRandomly(){if(this.player===null)throw new Error("not initialized");let e=Array.from(this.player.borderTiles()).filter(r=>this.mg.isOceanShore(r));if(e.length===0)return;let n=this.random.randElement(e),i=this.randomBoatTarget(n,150);i!==null&&this.mg.addExecution(new sr(this.player,this.mg.owner(i).id(),i,this.player.troops()/5,null))}randomSpawnLand(){let n=0;for(;n<50;){n++;let i=this.nation.spawnCell,r=this.random.nextInt(i.x-25,i.x+25),a=this.random.nextInt(i.y-25,i.y+25);if(!this.mg.isValidCoord(r,a))continue;let o=this.mg.ref(r,a);if(this.mg.isLand(o)&&!this.mg.hasOwner(o)){if(this.mg.terrainType(o)===2&&this.random.chance(2))continue;return o}}return null}randomBoatTarget(e,n){if(this.player===null)throw new Error("not initialized");let i=this.mg.x(e),r=this.mg.y(e);for(let a=0;a<500;a++){let o=this.random.nextInt(i-n,i+n),s=this.random.nextInt(r-n,r+n);if(!this.mg.isValidCoord(o,s))continue;let l=this.mg.ref(o,s);if(!this.mg.isLand(l))continue;let c=this.mg.owner(l);if(!c.isPlayer()||!c.isFriendly(this.player))return l}return null}isActive(){return this.active}activeDuringSpawnPhase(){return!0}};var Zo=class{constructor(e,n){this.player=e;this.isDisconnected=n}init(e,n){this.player.markDisconnected(this.isDisconnected)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Wo=class{constructor(e,n,i){this.owner=e;this.unitId=n;this.position=i}init(e,n){if(!e.isValidRef(this.position)){console.warn(`MoveWarshipExecution: position ${this.position} not valid`);return}let i=this.owner.units("Warship").find(r=>r.id()===this.unitId);if(!i){console.warn("MoveWarshipExecution: warship not found");return}if(!i.isActive()){console.warn("MoveWarshipExecution: warship is not active");return}i.setPatrolTile(this.position),i.setTargetTile(void 0)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var qo=class{isActive(){return!1}activeDuringSpawnPhase(){return!1}init(e,n){}tick(e){}};var Vo=class{constructor(e,n,i,r){this.sender=e;this.recipientID=n;this.quickChatKey=i;this.target=r;this.active=!0}init(e,n){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`QuickChatExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID)}tick(e){let n=this.getMessageFromKey(this.quickChatKey);this.mg.displayChat(n[1],n[0],this.target,this.recipient.id(),!0,this.sender.id()),this.mg.displayChat(n[1],n[0],this.target,this.sender.id(),!1,this.recipient.id()),console.log(`[QuickChat] ${this.sender.name} \u2192 ${this.recipient.displayName}: ${n}`),this.active=!1}owner(){return this.sender}isActive(){return this.active}activeDuringSpawnPhase(){return!1}getMessageFromKey(e){return e.split(".")}};var K2=20,Ho=class{constructor(e,n){this.player=e;this.attackID=n;this.active=!0;this.retreatOrdered=!1}init(e,n){this.mg=e,this.startTick=e.ticks()}tick(e){this.retreatOrdered||(this.player.orderRetreat(this.attackID),this.retreatOrdered=!0),this.mg.ticks()>=this.startTick+K2&&(this.player.executeRetreat(this.attackID),this.active=!1)}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Yo=class{constructor(e,n){this.requestor=e;this.targetID=n;this.active=!0}init(e,n){if(!e.hasPlayer(this.targetID)){console.warn(`TargetPlayerExecution: target ${this.targetID} not found`),this.active=!1;return}this.target=e.player(this.targetID)}tick(e){this.requestor.canTarget(this.target)&&(this.requestor.target(this.target),this.target.updateRelation(this.requestor,-40)),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Xo=class{constructor(e,n){this.player=e;this.unitId=n}init(e,n){if(this.structure=this.player.units().find(i=>i.id()===this.unitId),this.structure===void 0){console.warn("structure is undefined");return}if(!this.player.canUpgradeUnit(this.structure.type())){console.warn(`[UpgradeStructureExecution] unit type ${this.structure.type()} cannot be upgraded`);return}this.player.upgradeUnit(this.structure)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Ko=class{constructor(e,n,i){this.mg=e;this.gameID=n;this.clientID=i;this.random=new U(q(n)+1)}createExecs(e){return e.intents.map(n=>this.createExec(n))}createExec(e){let n=this.mg.playerByClientID(e.clientID);if(!n)return console.warn(`player with clientID ${e.clientID} not found`),new qo;switch(e.type){case"attack":return new wt(e.troops,n,e.targetID,null);case"cancel_attack":return new Ho(n,e.attackID);case"cancel_boat":return new go(n,e.unitID);case"move_warship":return new Wo(n,e.unitId,e.tile);case"spawn":return new zt(n.info(),e.tile);case"boat":return new sr(n,e.targetID,e.dst,e.troops,e.src);case"allianceRequest":return new Wr(n,e.recipient);case"allianceRequestReply":return new ho(e.requestor,n,e.accept);case"breakAlliance":return new po(n,e.recipient);case"targetPlayer":return new Yo(n,e.target);case"emoji":return new Ut(n,e.recipient,e.emoji);case"donate_troops":return new Lo(n,e.recipient,e.troops);case"donate_gold":return new jo(n,e.recipient,e.gold);case"embargo":return new Bo(n,e.targetID,e.action);case"build_unit":return new or(n,e.unit,e.tile);case"allianceExtension":return new Zr(n,e.recipient);case"upgrade_structure":return new Xo(n,e.unitId);case"delete_unit":return new Oo(n,e.unitId);case"quick_chat":return new Vo(n,e.recipient,e.quickChatKey,e.target);case"mark_disconnected":return new Zo(n,e.isDisconnected);default:throw new Error(`intent type ${e} not found`)}}spawnBots(e){return new _o(this.mg,this.gameID).spawnBots(e)}fakeHumanExecutions(){let e=[];for(let n of this.mg.nations())e.push(new Fo(this.gameID,n));return e}};var Jo=class{constructor(){this.active=!0;this.mg=null}init(e,n){this.mg=e}tick(e){if(e%10===0){if(this.mg===null)throw new Error("Not initialized");this.mg.config().gameConfig().gameMode==="Free For All"?this.checkWinnerFFA():this.checkWinnerTeam()}}checkWinnerFFA(){if(this.mg===null)throw new Error("Not initialized");let e=this.mg.players().sort((r,a)=>a.numTilesOwned()-r.numTilesOwned());if(e.length===0)return;let n=e[0],i=this.mg.numLandTiles()-this.mg.numTilesWithFallout();n.numTilesOwned()/i*100>this.mg.config().percentageTilesOwnedToWin()&&(this.mg.setWinner(n,this.mg.stats().stats()),console.log(`${n.name()} has won the game`),this.active=!1)}checkWinnerTeam(){if(this.mg===null)throw new Error("Not initialized");let e=new Map;for(let o of this.mg.players()){let s=o.team();s!==null&&e.set(s,(e.get(s)??0)+o.numTilesOwned())}let n=Array.from(e.entries()).sort((o,s)=>s[1]-o[1]);if(n.length===0)return;let i=n[0],r=this.mg.numLandTiles()-this.mg.numTilesWithFallout();if(i[1]/r*100>this.mg.config().percentageTilesOwnedToWin()){if(i[0]===ae.Bot)return;this.mg.setWinner(i[0],this.mg.stats().stats()),console.log(`${i[0]} has won the game`),this.active=!1}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Qo=class{constructor(e,n,i,r,a){this.mg=e;this.requestor_=n;this.recipient_=i;this.createdAt_=r;this.id_=a;this.extensionRequestedRequestor_=!1;this.extensionRequestedRecipient_=!1;this.expiresAt_=r+e.config().allianceDuration()}other(e){return this.requestor_===e?this.recipient_:this.requestor_}requestor(){return this.requestor_}recipient(){return this.recipient_}createdAt(){return this.createdAt_}expire(){this.mg.expireAlliance(this)}addExtensionRequest(e){this.requestor_===e?this.extensionRequestedRequestor_=!0:this.recipient_===e&&(this.extensionRequestedRecipient_=!0)}bothAgreedToExtend(){return this.extensionRequestedRequestor_&&this.extensionRequestedRecipient_}onlyOneAgreedToExtend(){return this.extensionRequestedRequestor_!==this.extensionRequestedRecipient_}id(){return this.id_}extend(){this.extensionRequestedRequestor_=!1,this.extensionRequestedRecipient_=!1,this.expiresAt_=this.mg.ticks()+this.mg.config().allianceDuration()}expiresAt(){return this.expiresAt_}};var es=class{constructor(e,n,i,r){this.requestor_=e;this.recipient_=n;this.tickCreated=i;this.game=r;this.status_="pending"}status(){return this.status_}requestor(){return this.requestor_}recipient(){return this.recipient_}createdAt(){return this.tickCreated}accept(){this.status_="accepted",this.game.acceptAllianceRequest(this)}reject(){this.status_="rejected",this.game.rejectAllianceRequest(this)}toUpdate(){return{type:5,requestorID:this.requestor_.smallID(),recipientID:this.recipient_.smallID(),createdAt:this.tickCreated}}};var H=Hs(Mb(),1);var c6=H.default.DataSet,d6=H.default.ParserError,m6=H.default.PhraseBuilder,Db=H.default.RegExpMatcher,h6=H.default.SyntaxKind,p6=H.default.TextCensor,f6=H.default.assignIncrementingIds,g6=H.default.asteriskCensorStrategy,Cb=H.default.collapseDuplicatesTransformer,y6=H.default.compareMatchByPositionAndId,Ub=H.default.englishDataset,b6=H.default.englishRecommendedBlacklistMatcherTransformers,Nb=H.default.englishRecommendedTransformers,v6=H.default.englishRecommendedWhitelistMatcherTransformers,T6=H.default.fixedCharCensorStrategy,_6=H.default.fixedPhraseCensorStrategy,x6=H.default.grawlixCensorStrategy,w6=H.default.keepEndCensorStrategy,S6=H.default.keepStartCensorStrategy,P6=H.default.parseRawPattern,k6=H.default.pattern,I6=H.default.randomCharFromSetCensorStrategy,$6=H.default.remapCharactersTransformer,zb=H.default.resolveConfusablesTransformer,Ob=H.default.resolveLeetSpeakTransformer,jb=H.default.skipNonAlphabeticTransformer,A6=H.default.toAsciiLowerCaseTransformer;var rP=new Db({...Ub.build(),...Nb,...zb(),...jb(),...Cb(),...Ob()}),nP=3,iP=27,aP=/^[a-zA-Z0-9_[\] ]+$/u,Lb=["NicePeopleOnly","BeKindPlz","LearningManners","StayClassy","BeNicer","NeedHugs","MakeFriends"];function Bb(t){return oP(t)?Lb[q(t)%Lb.length]:t}function oP(t){return rP.hasMatch(t)}function Gb(t){return Array.from(t).filter(n=>aP.test(n)).join("").slice(0,iP).padEnd(nP,"x")}var Is=class{constructor(e,n,i,r,a,o,s){this._id=e;this._target=n;this._attacker=i;this._troops=r;this._sourceTile=a;this._border=o;this._mg=s;this._isActive=!0;this._borderSize=0;this._retreating=!1;this._retreated=!1}sourceTile(){return this._sourceTile}target(){return this._target}attacker(){return this._attacker}troops(){return this._troops}setTroops(e){this._troops=e}isActive(){return this._isActive}id(){return this._id}delete(){this._target.isPlayer()&&(this._target._incomingAttacks=this._target._incomingAttacks.filter(e=>e!==this)),this._attacker._outgoingAttacks=this._attacker._outgoingAttacks.filter(e=>e!==this),this._isActive=!1}orderRetreat(){this._retreating=!0}executeRetreat(){this._retreated=!0}retreating(){return this._retreating}retreated(){return this._retreated}borderSize(){return this._borderSize}clearBorder(){this._borderSize=0,this._border.clear()}addBorderTile(e){this._border.has(e)||(this._borderSize+=1,this._border.add(e))}removeBorderTile(e){this._border.has(e)&&(this._borderSize-=1,this._border.delete(e))}averagePosition(){if(this._borderSize===0){if(this.sourceTile()===null)return null;let i=this.sourceTile();return new te(this._mg.map().x(i),this._mg.map().y(i))}let e=0,n=0;for(let i of this._border)e+=this._mg.map().x(i),n+=this._mg.map().y(i);return e=e/this._borderSize,n=n/this._borderSize,new te(e,n)}};var $s=class{constructor(e,n,i,r,a,o={}){this._type=e;this.mg=n;this._tile=i;this._id=r;this._owner=a;this._active=!0;this._retreating=!1;this._targetedBySAM=!1;this._reachedTarget=!1;this._lastOwner=null;this._missileTimerQueue=[];this._hasTrainStation=!1;this._level=1;this._targetable=!0;this._trajectoryIndex=0;switch(this._lastTile=i,this._health=Qe(this.mg.unitInfo(e).maxHealth??1),this._targetTile="targetTile"in o?o.targetTile??void 0:void 0,this._trajectory="trajectory"in o?o.trajectory??[]:[],this._troops="troops"in o?o.troops??0:0,this._lastSetSafeFromPirates="lastSetSafeFromPirates"in o?o.lastSetSafeFromPirates??0:0,this._patrolTile="patrolTile"in o?o.patrolTile??void 0:void 0,this._targetUnit="targetUnit"in o?o.targetUnit??void 0:void 0,this._loaded="loaded"in o?o.loaded??void 0:void 0,this._trainType="trainType"in o?o.trainType:void 0,this._type){case"Warship":case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":this.mg.stats().unitBuild(a,this._type)}}setTargetable(e){this._targetable!==e&&(this._targetable=e,this.mg.addUpdate(this.toUpdate()))}isTargetable(){return this._targetable}setPatrolTile(e){this._patrolTile=e}patrolTile(){return this._patrolTile}isUnit(){return!0}touch(){this.mg.addUpdate(this.toUpdate())}setTileTarget(e){this._targetTile=e}tileTarget(){return this._targetTile}id(){return this._id}toUpdate(){return{type:1,unitType:this._type,id:this._id,troops:this._troops,ownerID:this._owner.smallID(),lastOwnerID:this._lastOwner?.smallID(),isActive:this._active,reachedTarget:this._reachedTarget,retreating:this._retreating,pos:this._tile,targetable:this._targetable,lastPos:this._lastTile,health:this.hasHealth()?Number(this._health):void 0,constructionType:this._constructionType,targetUnitId:this._targetUnit?.id()??void 0,targetTile:this.targetTile()??void 0,missileTimerQueue:this._missileTimerQueue,level:this.level(),hasTrainStation:this._hasTrainStation,trainType:this._trainType,loaded:this._loaded}}type(){return this._type}lastTile(){return this._lastTile}move(e){if(e===null)throw new Error("tile cannot be null");this._lastTile=this._tile,this._tile=e,this.mg.updateUnitTile(this),this.mg.addUpdate(this.toUpdate())}setTroops(e){this._troops=e}troops(){return this._troops}health(){return Number(this._health)}hasHealth(){return this.info().maxHealth!==void 0}tile(){return this._tile}owner(){return this._owner}info(){return this.mg.unitInfo(this._type)}setOwner(e){switch(this._type){case"Warship":case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":this.mg.stats().unitCapture(e,this._type),this.mg.stats().unitLose(this._owner,this._type);break}this._lastOwner=this._owner,this._lastOwner._units=this._lastOwner._units.filter(n=>n!==this),this._owner=e,this._owner._units.push(this),this.mg.addUpdate(this.toUpdate()),this.mg.displayMessage(`Your ${this.type()} was captured by ${e.displayName()}`,11,this._lastOwner.id()),this.mg.displayMessage(`Captured ${this.type()} from ${this._lastOwner.displayName()}`,10,e.id())}modifyHealth(e,n){this._health=_p(this._health+Qe(e),0n,Qe(this.info().maxHealth??1)),this._health===0n&&this.delete(!0,n)}delete(e,n){if(!this.isActive())throw new Error(`cannot delete ${this} not active`);if(this._owner._units=this._owner._units.filter(i=>i!==this),this._active=!1,this.mg.addUpdate(this.toUpdate()),this.mg.removeUnit(this),e!==!1&&this._type!=="MIRV Warhead"&&this.mg.displayMessage(`Your ${this._type} was destroyed`,12,this.owner().id()),n!==void 0)switch(this._type){case"Transport":this.mg.stats().boatDestroyTroops(n,this._owner,this._troops);break;case"Trade Ship":this.mg.stats().boatDestroyTrade(n,this._owner);break;case"City":case"Defense Post":case"Missile Silo":case"Port":case"SAM Launcher":case"Warship":case"Factory":this.mg.stats().unitDestroy(n,this._type),this.mg.stats().unitLose(this.owner(),this._type);break}}isActive(){return this._active}retreating(){return this._retreating}orderBoatRetreat(){if(this.type()!=="Transport")throw new Error(`Cannot retreat ${this.type()}`);this._retreating=!0}constructionType(){if(this.type()!=="Construction")throw new Error(`Cannot get construction type on ${this.type()}`);return this._constructionType??null}setConstructionType(e){if(this.type()!=="Construction")throw new Error(`Cannot set construction type on ${this.type()}`);this._constructionType=e,this.mg.addUpdate(this.toUpdate())}hash(){return this.tile()+q(this.type())*this._id}toString(){return`Unit:${this._type},owner:${this.owner().name()}`}launch(){this._missileTimerQueue.push(this.mg.ticks()),this.mg.addUpdate(this.toUpdate())}ticksLeftInCooldown(){return this._missileTimerQueue[0]}isInCooldown(){return this._missileTimerQueue.length===this._level}missileTimerQueue(){return this._missileTimerQueue}reloadMissile(){this._missileTimerQueue.shift(),this.mg.addUpdate(this.toUpdate())}setTargetTile(e){this._targetTile=e}targetTile(){return this._targetTile}setTrajectoryIndex(e){let n=this._trajectory.length-1;this._trajectoryIndex=e<0?0:e>n?n:e}trajectoryIndex(){return this._trajectoryIndex}trajectory(){return this._trajectory}setTargetUnit(e){this._targetUnit=e}targetUnit(){return this._targetUnit}setTargetedBySAM(e){this._targetedBySAM=e}targetedBySAM(){return this._targetedBySAM}setReachedTarget(){this._reachedTarget=!0}reachedTarget(){return this._reachedTarget}setSafeFromPirates(){this._lastSetSafeFromPirates=this.mg.ticks()}isSafeFromPirates(){return this.mg.ticks()-this._lastSetSafeFromPirates<this.mg.config().safeFromPiratesCooldownMax()}level(){return this._level}setTrainStation(e){this._hasTrainStation=e,this.mg.addUpdate(this.toUpdate())}hasTrainStation(){return this._hasTrainStation}increaseLevel(){this._level++,["Missile Silo","SAM Launcher"].includes(this.type())&&this._missileTimerQueue.push(this.mg.ticks()),this.mg.addUpdate(this.toUpdate())}decreaseLevel(e){if(this._level--,["Missile Silo","SAM Launcher"].includes(this.type())&&this._missileTimerQueue.pop(),this._level<=0){this.delete(!0,e);return}this.mg.addUpdate(this.toUpdate())}trainType(){return this._trainType}isLoaded(){return this._loaded}setLoaded(e){this._loaded!==e&&(this._loaded=e,this.mg.addUpdate(this.toUpdate()))}};var As=class{constructor(e,n){this.recipient=e;this.tick=n}},Es=class{constructor(e,n,i,r,a){this.mg=e;this._smallID=n;this.playerInfo=i;this._team=a;this._lastTileChange=0;this.markedTraitorTick=-1;this.embargoes=new Map;this._borderTiles=new Set;this._units=[];this._tiles=new Set;this.pastOutgoingAllianceRequests=[];this._expiredAlliances=[];this.targets_=[];this.outgoingEmojis_=[];this.sentDonations=[];this.relations=new Map;this.lastDeleteUnitTick=-1;this._incomingAttacks=[];this._outgoingAttacks=[];this._outgoingLandAttacks=[];this._hasSpawned=!1;this._isDisconnected=!1;this.numUnitsConstructed={};this._name=Gb(i.name),this._troops=Qe(r),this._gold=0n,this._displayName=this._name,this._pseudo_random=new U(q(this.playerInfo.id))}toUpdate(){let e=this.outgoingAllianceRequests().map(i=>i.recipient().id()),n=this.mg.stats().getPlayerStats(this);return{type:2,clientID:this.clientID(),name:this.name(),displayName:this.displayName(),id:this.id(),team:this.team()??void 0,smallID:this.smallID(),playerType:this.type(),isAlive:this.isAlive(),isDisconnected:this.isDisconnected(),tilesOwned:this.numTilesOwned(),gold:this._gold,troops:this.troops(),allies:this.alliances().map(i=>i.other(this).smallID()),embargoes:new Set([...this.embargoes.keys()].map(i=>i.toString())),isTraitor:this.isTraitor(),traitorRemainingTicks:this.getTraitorRemainingTicks(),targets:this.targets().map(i=>i.smallID()),outgoingEmojis:this.outgoingEmojis(),outgoingAttacks:this._outgoingAttacks.map(i=>({attackerID:i.attacker().smallID(),targetID:i.target().smallID(),troops:i.troops(),id:i.id(),retreating:i.retreating()})),incomingAttacks:this._incomingAttacks.map(i=>({attackerID:i.attacker().smallID(),targetID:i.target().smallID(),troops:i.troops(),id:i.id(),retreating:i.retreating()})),outgoingAllianceRequests:e,alliances:this.alliances().map(i=>({id:i.id(),other:i.other(this).id(),createdAt:i.createdAt(),expiresAt:i.expiresAt()})),hasSpawned:this.hasSpawned(),betrayals:n?.betrayals,lastDeleteUnitTick:this.lastDeleteUnitTick}}smallID(){return this._smallID}name(){return this._name}displayName(){return this._displayName}clientID(){return this.playerInfo.clientID}id(){return this.playerInfo.id}type(){return this.playerInfo.playerType}clan(){return this.playerInfo.clan}units(...e){if(e.length===0)return this._units;let n=new Set(e);return this._units.filter(i=>n.has(i.type()))}recordUnitConstructed(e){this.numUnitsConstructed[e]!==void 0?this.numUnitsConstructed[e]++:this.numUnitsConstructed[e]=1}unitsConstructed(e){let n=this.numUnitsConstructed[e]??0,i=0;for(let a of this._units)a.type()==="Construction"&&a.constructionType()===e&&i++;return i+n}unitCount(e){let n=0;for(let i of this._units)i.type()===e&&(n+=i.level());return n}unitsOwned(e){let n=0;for(let i of this._units){if(i.type()===e){n+=i.level();continue}i.type()==="Construction"&&i.constructionType()===e&&n++}return n}sharesBorderWith(e){for(let n of this._borderTiles)for(let i of this.mg.map().neighbors(n))if(this.mg.map().ownerID(i)===e.smallID())return!0;return!1}numTilesOwned(){return this._tiles.size}tiles(){return new Set(this._tiles.values())}borderTiles(){return this._borderTiles}neighbors(){let e=new Set;for(let n of this.borderTiles())for(let i of this.mg.map().neighbors(n))if(this.mg.map().isLand(i)){let r=this.mg.map().ownerID(i);r!==this.smallID()&&e.add(this.mg.playerBySmallID(r))}return Array.from(e)}isPlayer(){return!0}setTroops(e){this._troops=Qe(e)}conquer(e){this.mg.conquer(this,e)}orderRetreat(e){let n=this._outgoingAttacks.filter(i=>i.id()===e);if(!n||!n[0]){console.warn(`Didn't find outgoing attack with id ${e}`);return}n[0].orderRetreat()}executeRetreat(e){let n=this._outgoingAttacks.filter(i=>i.id()===e);!n||!n[0]||n[0].executeRetreat()}relinquish(e){if(this.mg.owner(e)!==this)throw new Error("Cannot relinquish tile not owned by this player");this.mg.relinquish(e)}info(){return this.playerInfo}isAlive(){return this._tiles.size>0}hasSpawned(){return this._hasSpawned}setHasSpawned(e){this._hasSpawned=e}incomingAllianceRequests(){return this.mg.allianceRequests.filter(e=>e.recipient()===this)}outgoingAllianceRequests(){return this.mg.allianceRequests.filter(e=>e.requestor()===this)}alliances(){return this.mg.alliances_.filter(e=>e.requestor()===this||e.recipient()===this)}expiredAlliances(){return[...this._expiredAlliances]}allies(){return this.alliances().map(e=>e.other(this))}isAlliedWith(e){return e===this?!1:this.allianceWith(e)!==null}allianceWith(e){return e===this?null:this.alliances().find(n=>n.recipient()===e||n.requestor()===e)??null}canSendAllianceRequest(e){if(e===this||this.isDisconnected()||e.isDisconnected()||this.isFriendly(e)||!this.isAlive()||this.outgoingAllianceRequests().some(a=>a.recipient()===e))return!1;let i=this.pastOutgoingAllianceRequests.filter(a=>a.recipient()===e).sort((a,o)=>o.createdAt()-a.createdAt());return i.length===0?!0:this.mg.ticks()-i[0].createdAt()>=this.mg.config().allianceRequestCooldown()}breakAlliance(e){this.mg.breakAlliance(this,e)}isTraitor(){return this.getTraitorRemainingTicks()>0}getTraitorRemainingTicks(){if(this.markedTraitorTick<0)return 0;let e=this.mg.ticks()-this.markedTraitorTick,i=this.mg.config().traitorDuration()-e;return i>0?i:0}markTraitor(){this.markedTraitorTick=this.mg.ticks(),this.mg.stats().betray(this)}createAllianceRequest(e){if(this.isAlliedWith(e))throw new Error("cannot create alliance request, already allies");return this.mg.createAllianceRequest(this,e)}relation(e){if(e===this)throw new Error(`cannot get relation with self: ${this}`);let n=this.relations.get(e)??0;return this.relationFromValue(n)}relationFromValue(e){return e<-50?0:e<0?1:e<50?2:3}allRelationsSorted(){return Array.from(this.relations,([e,n])=>({player:e,relation:n})).sort((e,n)=>e.relation-n.relation).map(e=>({player:e.player,relation:this.relationFromValue(e.relation)}))}updateRelation(e,n){if(e===this)throw new Error(`cannot update relation with self: ${this}`);let i=this.relations.get(e)??0,r=kt(i+n,-100,100);this.relations.set(e,r)}decayRelations(){this.relations.forEach((e,n)=>{let i=-1*Math.sign(e),r=.05;e+=i*r,Math.abs(e)<r*2&&(e=0),this.relations.set(n,e)})}canTarget(e){if(this===e||this.isFriendly(e))return!1;for(let n of this.targets_)if(this.mg.ticks()-n.tick<this.mg.config().targetCooldown())return!1;return!0}target(e){this.targets_.push({tick:this.mg.ticks(),target:e}),this.mg.target(this,e)}targets(){return this.targets_.filter(e=>this.mg.ticks()-e.tick<this.mg.config().targetDuration()).map(e=>e.target)}transitiveTargets(){let e=this.alliances().map(n=>n.other(this)).flatMap(n=>n.targets());return e.push(...this.targets()),[...new Set(e)]}sendEmoji(e,n){if(e===this)throw Error(`Cannot send emoji to oneself: ${this}`);let i={message:n,senderID:this.smallID(),recipientID:e===Xe?e:e.smallID(),createdAt:this.mg.ticks()};this.outgoingEmojis_.push(i),this.mg.sendEmojiUpdate(i)}outgoingEmojis(){return this.outgoingEmojis_.filter(e=>this.mg.ticks()-e.createdAt<this.mg.config().emojiMessageDuration()).sort((e,n)=>n.createdAt-e.createdAt)}canSendEmoji(e){if(e===this)return!1;let n=e===Xe?Xe:e.smallID(),i=this.outgoingEmojis_.filter(r=>r.recipientID===n);for(let r of i)if(this.mg.ticks()-r.createdAt<this.mg.config().emojiMessageCooldown())return!1;return!0}canDonateGold(e){if(!this.isAlive()||!e.isAlive()||!this.isFriendly(e)||e.type()==="HUMAN"&&this.mg.config().donateGold()===!1)return!1;for(let n of this.sentDonations)if(n.recipient===e&&this.mg.ticks()-n.tick<this.mg.config().donateCooldown())return!1;return!0}canDonateTroops(e){if(!this.isAlive()||!e.isAlive()||!this.isFriendly(e)||e.type()==="HUMAN"&&this.mg.config().donateTroops()===!1)return!1;for(let n of this.sentDonations)if(n.recipient===e&&this.mg.ticks()-n.tick<this.mg.config().donateCooldown())return!1;return!0}donateTroops(e,n){if(n<=0)return!1;let i=this.removeTroops(n);return i===0?!1:(e.addTroops(i),this.sentDonations.push(new As(e,this.mg.ticks())),this.mg.displayMessage(`Sent ${di(n)} troops to ${e.name()}`,21,this.id()),this.mg.displayMessage(`Received ${di(n)} troops from ${this.name()}`,22,e.id()),!0)}donateGold(e,n){if(n<=0n)return!1;let i=this.removeGold(n);return i===0n?!1:(e.addGold(i),this.sentDonations.push(new As(e,this.mg.ticks())),this.mg.displayMessage(`Sent ${st(n)} gold to ${e.name()}`,18,this.id()),this.mg.displayMessage(`Received ${st(n)} gold from ${this.name()}`,19,e.id(),n),!0)}canDeleteUnit(){return this.mg.ticks()-this.lastDeleteUnitTick>=this.mg.config().deleteUnitCooldown()}recordDeleteUnit(){this.lastDeleteUnitTick=this.mg.ticks()}hasEmbargoAgainst(e){return this.embargoes.has(e.id())}canTrade(e){return!(e.hasEmbargoAgainst(this)||this.hasEmbargoAgainst(e))&&e.id()!==this.id()}getEmbargoes(){return[...this.embargoes.values()]}addEmbargo(e,n){let i=this.embargoes.get(e.id());i!==void 0&&!i.isTemporary||(this.mg.addUpdate({type:18,event:"start",playerID:this.smallID(),embargoedID:e.smallID()}),this.embargoes.set(e.id(),{createdAt:this.mg.ticks(),isTemporary:n,target:e}))}stopEmbargo(e){this.embargoes.delete(e.id()),this.mg.addUpdate({type:18,event:"stop",playerID:this.smallID(),embargoedID:e.smallID()})}endTemporaryEmbargo(e){let n=this.embargoes.get(e.id());n!==void 0&&!n.isTemporary||this.stopEmbargo(e)}tradingPartners(){return this.mg.players().filter(e=>e!==this&&this.canTrade(e))}team(){return this._team}isOnSameTeam(e){return e===this||this.team()===null||e.team()===null||this.team()===ae.Bot||e.team()===ae.Bot?!1:this._team===e.team()}isFriendly(e){return e.isDisconnected()?!1:this.isOnSameTeam(e)||this.isAlliedWith(e)}gold(){return this._gold}addGold(e,n){this._gold+=e,n&&this.mg.addUpdate({type:15,player:this.id(),tile:n,gold:Number(e),troops:0})}removeGold(e){if(e<=0n)return 0n;let n=zi(this._gold,e);return this._gold-=n,n}troops(){return Number(this._troops)}addTroops(e){if(e<0){this.removeTroops(-1*e);return}this._troops+=Qe(e)}removeTroops(e){if(e<=0)return 0;let n=zi(this._troops,Qe(e));return this._troops-=n,Number(n)}captureUnit(e){if(e.owner()===this)throw new Error(`Cannot capture unit, ${this} already owns ${e}`);e.setOwner(this)}buildUnit(e,n,i){if(this.mg.config().isUnitDisabled(e))throw new Error(`Attempted to build disabled unit ${e} at tile ${n} by player ${this.name()}`);let r=this.mg.unitInfo(e).cost(this),a=new $s(e,this.mg,n,this.mg.nextUnitID(),this,i);return this._units.push(a),this.recordUnitConstructed(e),this.removeGold(r),this.removeTroops("troops"in i?i.troops??0:0),this.mg.addUpdate(a.toUpdate()),this.mg.addUnit(a),a}findUnitToUpgrade(e,n){let i=this.mg.config().structureMinDist(),r=this.mg.nearbyUnits(n,i,e).sort((o,s)=>o.distSquared-s.distSquared);if(r.length===0)return!1;let a=r[0].unit;return this.canUpgradeUnit(a.type())?a:!1}canUpgradeUnit(e){return!(!this.mg.config().unitInfo(e).upgradable||this.mg.config().isUnitDisabled(e)||this._gold<this.mg.config().unitInfo(e).cost(this))}upgradeUnit(e){let n=this.mg.unitInfo(e.type()).cost(this);this.removeGold(n),e.increaseLevel(),this.recordUnitConstructed(e.type())}buildableUnits(e){let n=e!==null?this.validStructureSpawnTiles(e):[];return Object.values(W).map(i=>{let r=!1;if(!this.mg.inSpawnPhase()){let a=e!==null&&this.findUnitToUpgrade(i,e);a!==!1&&(r=a.id())}return{type:i,canBuild:this.mg.inSpawnPhase()||e===null?!1:this.canBuild(i,e,n),canUpgrade:r,cost:this.mg.config().unitInfo(i).cost(this)}})}canBuild(e,n,i=null){if(this.mg.config().isUnitDisabled(e))return!1;let r=this.mg.unitInfo(e).cost(this);if(!this.isAlive()||this.gold()<r)return!1;switch(e){case"MIRV":return this.mg.hasOwner(n)?this.nukeSpawn(n):!1;case"Atom Bomb":case"Hydrogen Bomb":return this.nukeSpawn(n);case"MIRV Warhead":return n;case"Port":return this.portSpawn(n,i);case"Warship":return this.warshipSpawn(n);case"Shell":case"SAMMissile":return n;case"Transport":return eb(this.mg,this,n);case"Trade Ship":return this.tradeShipSpawn(n);case"Train":return this.landBasedUnitSpawn(n);case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":case"Construction":return this.landBasedStructureSpawn(n,i);default:Ni(e)}}nukeSpawn(e){let n=this.mg.owner(e);if(n.isPlayer()&&this.isOnSameTeam(n))return!1;let i=this.units("Missile Silo").filter(r=>!r.isInCooldown()).sort(Ui(this.mg,e));return i.length===0?!1:i[0].tile()}portSpawn(e,n){let i=Array.from(this.mg.bfs(e,Vr(e,this.mg.config().radiusPortSpawn()))).filter(a=>this.mg.owner(a)===this&&this.mg.isOceanShore(a)).sort((a,o)=>this.mg.manhattanDist(a,e)-this.mg.manhattanDist(o,e)),r=new Set(n??this.validStructureSpawnTiles(e));for(let a of i)if(r.has(a))return a;return!1}warshipSpawn(e){if(!this.mg.isOcean(e))return!1;let n=this.units("Port").sort((i,r)=>this.mg.manhattanDist(i.tile(),e)-this.mg.manhattanDist(r.tile(),e));return n.length===0?!1:n[0].tile()}landBasedUnitSpawn(e){return this.mg.isLand(e)?e:!1}landBasedStructureSpawn(e,n=null){let i=n??this.validStructureSpawnTiles(e);return i.length===0?!1:i[0]}validStructureSpawnTiles(e){if(this.mg.owner(e)!==this)return[];let n=15,i=n**2,r=Object.values(W).filter(u=>this.mg.config().unitInfo(u).territoryBound),a=this.mg.nearbyUnits(e,n*2,r),o=this.mg.bfs(e,(u,d)=>this.mg.euclideanDistSquared(e,d)<i&&u.ownerID(d)===this.smallID()),s=new Set(o),l=this.mg.config().structureMinDist()**2;for(let u of o)for(let{unit:d}of a)if(this.mg.euclideanDistSquared(d.tile(),u)<l){s.delete(u);break}let c=Array.from(s);return c.sort((u,d)=>this.mg.euclideanDistSquared(u,e)-this.mg.euclideanDistSquared(d,e)),c}tradeShipSpawn(e){let n=this.units("Port").filter(i=>i.tile()===e);return n.length===0?!1:n[0].tile()}lastTileChange(){return this._lastTileChange}isDisconnected(){return this._isDisconnected}markDisconnected(e){this._isDisconnected=e}hash(){return q(this.id())*(this.troops()+this.numTilesOwned())+this._units.reduce((e,n)=>e+n.hash(),0)}toString(){return`Player:{name:${this.info().name},clientID:${this.info().clientID},isAlive:${this.isAlive()},troops:${this._troops},numTileOwned:${this.numTilesOwned()}}]`}playerProfile(){return{relations:Object.fromEntries(this.allRelationsSorted().map(({player:n,relation:i})=>[n.smallID(),i])),alliances:this.alliances().map(n=>n.other(this).smallID())}}createAttack(e,n,i,r){let a=new Is(this._pseudo_random.nextID(),e,this,n,i,r,this.mg);return this._outgoingAttacks.push(a),e.isPlayer()&&e._incomingAttacks.push(a),a}outgoingAttacks(){return this._outgoingAttacks}incomingAttacks(){return this._incomingAttacks}canAttack(e){if(this.mg.hasOwner(e)&&this.mg.config().numSpawnPhaseTurns()+this.mg.config().spawnImmunityDuration()>this.mg.ticks()||this.mg.owner(e)===this)return!1;let n=this.mg.owner(e);if(n.isPlayer()&&this.isFriendly(n)||!this.mg.isLand(e))return!1;if(this.mg.hasOwner(e))return this.sharesBorderWith(n);for(let i of this.mg.bfs(e,pi((r,a)=>!r.hasOwner(a)&&r.isLand(a),Vr(e,200))))for(let r of this.mg.neighbors(i))if(this.mg.owner(r)===this)return!0;return!1}bestTransportShipSpawn(e){return rb(this.mg,this,e)}tradingPorts(e){let n=this.mg.players().filter(r=>r!==e.owner()&&r.canTrade(e.owner())).flatMap(r=>r.units("Port")).sort((r,a)=>this.mg.manhattanDist(e.tile(),r.tile())-this.mg.manhattanDist(e.tile(),a.tile())),i=[];for(let[r,a]of n.entries()){let o=new Array(a.level()).fill(a);i.push(...o),r<this.mg.config().proximityBonusPortsNb(n.length)&&i.push(...o),e.owner().isFriendly(a.owner())&&i.push(...o)}return i}};var Rs=class{constructor(e){this.railRoad=e;this.active=!0;this.headIndex=0;this.tailIndex=0;this.increment=3;this.railTiles=[];this.tailIndex=e.tiles.length}isActive(){return this.active}init(e,n){this.mg=e;let i=this.railRoad.tiles;this.railTiles.push({tile:i[0],railType:i.length>0?this.computeExtremityDirection(i[0],i[1]):0});for(let r=1;r<i.length-1;r++){let a=this.computeDirection(i[r-1],i[r],i[r+1]);this.railTiles.push({tile:i[r],railType:a})}this.railTiles.push({tile:i[i.length-1],railType:i.length>0?this.computeExtremityDirection(i[i.length-1],i[i.length-2]):0})}computeExtremityDirection(e,n){let i=this.mg.x(e),r=this.mg.y(e),a=this.mg.x(n),o=this.mg.y(n),s=a-i,l=o-r;return s===0&&l===0?0:s===0?0:l===0?1:0}computeDirection(e,n,i){if(this.mg===null)throw new Error("Not initialized");let r=this.mg.x(e),a=this.mg.y(e),o=this.mg.x(n),s=this.mg.y(n),l=this.mg.x(i),c=this.mg.y(i),u=o-r,d=s-a,h=l-o,f=c-s;if(u===h&&d===f){if(u!==0)return 1;if(d!==0)return 0}if(u===0&&h!==0||u!==0&&h===0){if(u===0&&h===1&&d===-1)return 5;if(u===0&&h===-1&&d===-1)return 4;if(u===0&&h===1&&d===1)return 3;if(u===0&&h===-1&&d===1)return 2;if(u===1&&h===0&&f===-1)return 2;if(u===-1&&h===0&&f===-1)return 3;if(u===1&&h===0&&f===1)return 4;if(u===-1&&h===0&&f===1)return 5}return console.warn(`Invalid rail segment: ${u}:${d}, ${h}:${f}`),0}tick(e){if(this.mg===null)throw new Error("Not initialized");if(!this.activeSourceOrDestination()){this.active=!1;return}if(this.headIndex>this.tailIndex){this.constructionComplete();return}let n;this.tailIndex-this.headIndex<=2*this.increment?(n=this.railTiles.slice(this.headIndex,this.tailIndex),this.constructionComplete()):(n=this.railTiles.slice(this.headIndex,this.headIndex+this.increment),n=n.concat(this.railTiles.slice(this.tailIndex-this.increment,this.tailIndex)),this.headIndex+=this.increment,this.tailIndex-=this.increment),n&&this.mg.addUpdate({type:16,isActive:!0,railTiles:n})}activeDuringSpawnPhase(){return!1}activeSourceOrDestination(){return this.railRoad.from.isActive()&&this.railRoad.to.isActive()}constructionComplete(){this.redrawBuildings(),this.active=!1}redrawBuildings(){this.railRoad.from.unit.isActive()&&this.railRoad.from.unit.touch(),this.railRoad.to.unit.isActive()&&this.railRoad.to.unit.touch()}};var Ih=class{constructor(){this.stations=new Set}addStation(e){this.stations.add(e)}removeStation(e){this.stations.delete(e)}findStation(e){for(let n of this.stations)if(n.unit===e)return n;return null}getAll(){return this.stations}},$h=class{constructor(e){this.game=e}findTilePath(e,n){let i=new Ot(this.game.map(),this.game.miniMap(),e,n,5e3,20,!1,3);return i.compute()===2?i.reconstructPath():[]}findStationsPath(e,n){let i=new Yr(e,n,5e3,20,new wo(this.game));return i.compute()===2?i.reconstructPath():[]}};function Fb(t){let e=new Ih,n=new $h(t);return new Ah(t,e,n)}var Ah=class{constructor(e,n,i){this.game=e;this.stationManager=n;this.pathService=i;this.maxConnectionDistance=4}connectStation(e){this.stationManager.addStation(e),this.connectToNearbyStations(e)}removeStation(e){let n=this.stationManager.findStation(e);if(!n)return;let i=n.neighbors();this.disconnectFromNetwork(n),this.stationManager.removeStation(n);let r=n.getCluster();if(r){if(i.length===1)r.removeStation(n);else if(i.length>1)for(let a of i){let o=this.computeCluster(a);new Hr().addStations(o)}n.unit.setTrainStation(!1)}}findStationsPath(e,n){return this.pathService.findStationsPath(e,n)}connectToNearbyStations(e){let n=this.game.nearbyUnits(e.tile(),this.game.config().trainStationMaxRange(),["City","Factory","Port"]),i=new Set;n.sort((r,a)=>r.distSquared-a.distSquared);for(let r of n){if(r.unit===e.unit)continue;let a=this.stationManager.findStation(r.unit);if(!a)continue;let o=this.distanceFrom(a,e,this.maxConnectionDistance),s=a.getCluster();if(s===null)continue;(o>this.maxConnectionDistance||o===-1)&&r.distSquared>this.game.config().trainStationMinRange()**2&&this.connect(e,a)&&(s.addStation(e),i.add(s))}i.size>1?this.mergeClusters(i):i.size===0&&new Hr().addStation(e)}disconnectFromNetwork(e){for(let i of e.getRailroads())i.delete(this.game);e.clearRailroads();let n=e.getCluster();n!==null&&n.size()===1&&this.deleteCluster(n)}deleteCluster(e){for(let n of e.stations)n.setCluster(null);e.clear()}connect(e,n){let i=this.pathService.findTilePath(e.tile(),n.tile());if(i.length>0&&i.length<this.game.config().railroadMaxSize()){let r=new So(e,n,i);return this.game.addExecution(new Rs(r)),e.addRailroad(r),n.addRailroad(r),!0}return!1}distanceFrom(e,n,i){if(e===n)return 0;let r=new Set,a=[{station:e,distance:0}];for(;a.length>0;){let{station:o,distance:s}=a.shift();if(!r.has(o)&&(r.add(o),!(s>=i)))for(let l of o.neighbors()){if(l===n)return s+1;r.has(l)||a.push({station:l,distance:s+1})}}return-1}computeCluster(e){let n=new Set,i=[e];for(;i.length>0;){let r=i.shift();if(!n.has(r)){n.add(r);for(let a of r.neighbors())n.has(a)||i.push(a)}}return n}mergeClusters(e){let n=new Hr;for(let i of e)n.merge(i)}};var sP=["abomb","hbomb","mirv","mirvw"],lP=he.enum(sP),Zb={"Atom Bomb":"abomb","Hydrogen Bomb":"hbomb",MIRV:"mirv","MIRV Warhead":"mirvw"},uP=["trade","trans"],cP=he.enum(uP),dP=["city","defp","port","wshp","silo","saml","fact"],mP=he.enum(dP),Wb={City:"city","Defense Post":"defp","Missile Silo":"silo",Port:"port","SAM Launcher":"saml",Warship:"wshp",Factory:"fact"},Eh=0,Rh=1,qb=2,Mh=0,Dh=1,Vb=2,Ch=3,Hb=0,Yb=1,Xb=2,Kb=0,Jb=1,Uh=2,Qb=3,ev=0,tv=1,rv=2,nv=3,iv=4,Ms=he.preprocess(t=>typeof t=="string"&&/^-?\d+$/.test(t)?BigInt(t):t,he.bigint()),gi=Ms.array().min(1),H4=he.object({attacks:gi.optional(),betrayals:Ms.optional(),killedAt:Ms.optional(),conquests:Ms.optional(),boats:he.partialRecord(cP,gi).optional(),bombs:he.partialRecord(lP,gi).optional(),gold:gi.optional(),units:he.partialRecord(mP,gi).optional()}).optional();function ut(t){switch(typeof t){case"bigint":return t;case"number":return BigInt(Math.floor(t))}}var Ds=class{constructor(){this.data={}}getPlayerStats(e){let n=e.clientID();if(n!==null)return this.data[n]}stats(){return this.data}_makePlayerStats(e){let n=e.clientID();if(n===null)return;if(n in this.data)return this.data[n];let i={};return this.data[n]=i,i}_addAttack(e,n,i){let r=this._makePlayerStats(e);if(r!==void 0){for(r.attacks??(r.attacks=[0n]);r.attacks.length<=n;)r.attacks.push(0n);r.attacks[n]+=ut(i)}}_addBetrayal(e,n){let i=this._makePlayerStats(e);i!==void 0&&(i.betrayals===void 0?i.betrayals=ut(n):i.betrayals+=ut(n))}_addBoat(e,n,i,r){var o;let a=this._makePlayerStats(e);if(a!==void 0){for(a.boats??(a.boats={[n]:[0n]}),(o=a.boats)[n]??(o[n]=[0n]);a.boats[n].length<=i;)a.boats[n].push(0n);a.boats[n][i]+=ut(r)}}_addBomb(e,n,i,r){var s;let a=Zb[n],o=this._makePlayerStats(e);if(o!==void 0){for(o.bombs??(o.bombs={[a]:[0n]}),(s=o.bombs)[a]??(s[a]=[0n]);o.bombs[a].length<=i;)o.bombs[a].push(0n);o.bombs[a][i]+=ut(r)}}_addGold(e,n,i){let r=this._makePlayerStats(e);if(r!==void 0){for(r.gold??(r.gold=[0n]);r.gold.length<=n;)r.gold.push(0n);r.gold[n]+=ut(i)}}_addOtherUnit(e,n,i,r){var s;let a=Wb[n],o=this._makePlayerStats(e);if(o!==void 0){for(o.units??(o.units={[a]:[0n]}),(s=o.units)[a]??(s[a]=[0n]);o.units[a].length<=i;)o.units[a].push(0n);o.units[a][i]+=ut(r)}}_addConquest(e){let n=this._makePlayerStats(e);n!==void 0&&(n.conquests===void 0?n.conquests=ut(1):n.conquests+=ut(1))}_addPlayerKilled(e,n){let i=this._makePlayerStats(e);i!==void 0&&(i.killedAt=ut(n))}attack(e,n,i){this._addAttack(e,Eh,i),n.isPlayer()&&this._addAttack(n,Rh,i)}attackCancel(e,n,i){this._addAttack(e,qb,i),this._addAttack(e,Eh,-i),n.isPlayer()&&this._addAttack(n,Rh,-i)}betray(e){this._addBetrayal(e,1)}boatSendTrade(e,n){this._addBoat(e,"trade",Mh,1)}boatArriveTrade(e,n,i){this._addBoat(e,"trade",Dh,1),this._addGold(e,Uh,i),this._addGold(n,Uh,i)}boatCapturedTrade(e,n,i){this._addBoat(e,"trade",Vb,1),this._addGold(e,Qb,i)}boatDestroyTrade(e,n){this._addBoat(e,"trade",Ch,1)}boatSendTroops(e,n,i){this._addBoat(e,"trans",Mh,1)}boatArriveTroops(e,n,i){this._addBoat(e,"trans",Dh,1)}boatDestroyTroops(e,n,i){this._addBoat(e,"trans",Ch,1)}bombLaunch(e,n,i){this._addBomb(e,i,Hb,1)}bombLand(e,n,i){this._addBomb(e,i,Yb,1)}bombIntercept(e,n,i){this._addBomb(e,n,Xb,i)}goldWork(e,n){this._addGold(e,Kb,n)}goldWar(e,n,i){this._addGold(e,Jb,i),this._addConquest(e)}unitBuild(e,n){this._addOtherUnit(e,n,ev,1)}unitCapture(e,n){this._addOtherUnit(e,n,rv,1)}unitUpgrade(e,n){this._addOtherUnit(e,n,iv,1)}unitDestroy(e,n){this._addOtherUnit(e,n,tv,1)}unitLose(e,n){this._addOtherUnit(e,n,nv,1)}playerKilled(e,n){this._addPlayerKilled(e,n)}};function av(t,e){let n=new Map,i=new Map,r=new Map,a=[];for(let u of t)u.clan?(r.has(u.clan)||r.set(u.clan,[]),r.get(u.clan).push(u)):a.push(u);let o=Math.ceil(t.length/e.length),s=Array.from(r.entries()).sort((u,d)=>d[1].length-u[1].length);for(let[u,d]of s){let h=null,f=0;for(let p of e){let v=i.get(p)??0;h!==null&&f<=v||(f=v,h=p)}if(h!==null){for(let p of d)f<o?(f++,n.set(p,h)):n.set(p,"kicked");i.set(h,f)}}let l=a.filter(u=>u.playerType==="FAKEHUMAN");l.length>0&&(l=new U(q(l[0].id)).shuffleArray(l));let c=a.filter(u=>u.playerType!=="FAKEHUMAN");for(let u of c.concat(l)){let d=null,h=0;for(let f of e){let p=i.get(f)??0;d!==null&&h<=p||(h=p,d=f)}d!==null&&(i.set(d,h+1),n.set(u,d))}return n}var Cs=class{constructor(){}smallID(){return 0}clientID(){return"TERRA_NULLIUS_CLIENT_ID"}id(){return null}isPlayer(){return!1}};var Us=class{constructor(e){this.gm=e;this.cellSize=100;this.grid=Array(Math.ceil(e.height()/this.cellSize)).fill(null).map(()=>Array(Math.ceil(e.width()/this.cellSize)).fill(null).map(()=>new Map))}getGridCoords(e,n){return[Math.floor(e/this.cellSize),Math.floor(n/this.cellSize)]}addUnit(e){let n=e.tile(),[i,r]=this.getGridCoords(this.gm.x(n),this.gm.y(n));if(this.isValidCell(i,r)){let a=this.grid[r][i].get(e.type());a!==void 0?a.add(e):this.grid[r][i].set(e.type(),new Set([e]))}}removeUnit(e){let n=e.tile();this.removeUnitByTile(e,n)}removeUnitByTile(e,n){let[i,r]=this.getGridCoords(this.gm.x(n),this.gm.y(n));if(this.isValidCell(i,r)){let a=this.grid[r][i].get(e.type());a!==void 0&&a.delete(e)}}updateUnitCell(e){let n=e.tile(),i=e.lastTile(),[r,a]=this.getGridCoords(this.gm.x(i),this.gm.y(i)),[o,s]=this.getGridCoords(this.gm.x(n),this.gm.y(n));(r!==o||a!==s)&&(this.removeUnitByTile(e,i),this.addUnit(e))}isValidCell(e,n){return e>=0&&e<this.grid[0].length&&n>=0&&n<this.grid.length}getCellsInRange(e,n){let i=this.gm.x(e),r=this.gm.y(e),a=this.cellSize,[o,s]=this.getGridCoords(i,r),l=Math.max(0,o-Math.ceil((n-i%a)/a)),c=Math.min(this.grid[0].length-1,o+Math.ceil((n-(a-i%a))/a)),u=Math.max(0,s-Math.ceil((n-r%a)/a)),d=Math.min(this.grid.length-1,s+Math.ceil((n-(a-r%a))/a));return{startGridX:l,endGridX:c,startGridY:u,endGridY:d}}squaredDistanceFromTile(e,n){let i=this.gm.x(n),r=this.gm.y(n),a=this.gm.x(e.tile()),o=this.gm.y(e.tile()),s=a-i,l=o-r;return s*s+l*l}nearbyUnits(e,n,i,r){let a=[],{startGridX:o,endGridX:s,startGridY:l,endGridY:c}=this.getCellsInRange(e,n),u=n*n,d=Array.isArray(i)?new Set(i):new Set([i]);for(let h=l;h<=c;h++)for(let f=o;f<=s;f++)for(let p of d){let v=this.grid[h][f].get(p);if(v!==void 0)for(let T of v){if(!T.isActive())continue;let A=this.squaredDistanceFromTile(T,e);if(A>u)continue;let k={unit:T,distSquared:A};r!==void 0&&!r(k)||a.push(k)}}return a}unitIsInRange(e,n,i,r){return!e.isActive()||r!==void 0&&e.owner().id()!==r?!1:this.squaredDistanceFromTile(e,n)<=i}hasUnitNearby(e,n,i,r){let{startGridX:a,endGridX:o,startGridY:s,endGridY:l}=this.getCellsInRange(e,n),c=n*n;for(let u=s;u<=l;u++)for(let d=a;d<=o;d++){let h=this.grid[u][d].get(i);if(h!==void 0){for(let f of h)if(this.unitIsInRange(f,e,c,r))return!0}}return!1}};function sv(t,e,n,i,r){let a=new Ds;return new Nh(t,e,n,i,r,a)}var Nh=class{constructor(e,n,i,r,a,o){this._humans=e;this._nations=n;this._map=i;this.miniGameMap=r;this._config=a;this._stats=o;this._ticks=0;this.unInitExecs=[];this._players=new Map;this._playersBySmallID=[];this.execs=[];this.allianceRequests=[];this.alliances_=[];this.nextPlayerID=1;this._nextUnitID=1;this.updates=ov();this.botTeam=ae.Bot;this._railNetwork=Fb(this);this.nextAllianceID=0;this._terraNullius=new Cs,this._width=i.width(),this._height=i.height(),this.unitGrid=new Us(this._map),a.gameConfig().gameMode==="Team"&&this.populateTeams(),this.addPlayers()}populateTeams(){let e=this._config.playerTeams();if(typeof e!="number"){let n=this._humans.length+this._nations.length;switch(e){case Ii:e=Math.ceil(n/2);break;case $i:e=Math.ceil(n/3);break;case Ai:e=Math.ceil(n/4);break;default:throw new Error(`Unknown TeamCountConfig ${e}`)}}if(e<2)throw new Error(`Too few teams: ${e}`);if(e<8)this.playerTeams=[ae.Red,ae.Blue],e>=3&&this.playerTeams.push(ae.Yellow),e>=4&&this.playerTeams.push(ae.Green),e>=5&&this.playerTeams.push(ae.Purple),e>=6&&this.playerTeams.push(ae.Orange),e>=7&&this.playerTeams.push(ae.Teal);else{this.playerTeams=[];for(let n=1;n<=e;n++)this.playerTeams.push(`Team ${n}`)}}addPlayers(){if(this.config().gameConfig().gameMode!=="Team"){this._humans.forEach(i=>this.addPlayer(i)),this._nations.forEach(i=>this.addPlayer(i.playerInfo));return}let e=[...this._humans,...this._nations.map(i=>i.playerInfo)],n=av(e,this.playerTeams);for(let[i,r]of n.entries()){if(r==="kicked"){console.warn(`Player ${i.name} was kicked from team`);continue}this.addPlayer(i,r)}}isOnEdgeOfMap(e){return this._map.isOnEdgeOfMap(e)}owner(e){return this.playerBySmallID(this.ownerID(e))}alliances(){return this.alliances_}playerBySmallID(e){return e===0?this.terraNullius():this._playersBySmallID[e-1]}map(){return this._map}miniMap(){return this.miniGameMap}addUpdate(e){this.updates[e.type].push(e)}nextUnitID(){let e=this._nextUnitID;return this._nextUnitID++,e}setFallout(e,n){if(n&&this.hasOwner(e))throw Error(`cannot set fallout, tile ${e} has owner`);this._map.hasFallout(e)||(this._map.setFallout(e,n),this.addUpdate({type:0,update:this.toTileUpdate(e)}))}units(...e){return Array.from(this._players.values()).flatMap(n=>n.units(...e))}unitCount(e){let n=0;for(let i of this._players.values())n+=i.unitCount(e);return n}unitInfo(e){return this.config().unitInfo(e)}nations(){return this._nations}createAllianceRequest(e,n){if(e.isAlliedWith(n))return console.log("cannot request alliance, already allied"),null;if(n.incomingAllianceRequests().find(a=>a.requestor()===e)!==void 0)return console.log(`duplicate alliance request from ${e.name()}`),null;let i=e.incomingAllianceRequests().find(a=>a.requestor()===n);if(i!==void 0)return console.log("got corresponding alliance requests, accepting"),i.accept(),null;let r=new es(e,n,this._ticks,this);return this.allianceRequests.push(r),this.addUpdate(r.toUpdate()),r}acceptAllianceRequest(e){this.allianceRequests=this.allianceRequests.filter(o=>o!==e);let n=e.requestor(),i=e.recipient();if(n.allianceWith(i))throw new Error(`cannot accept alliance request, already allied with ${i.name()}`);let a=new Qo(this,n,i,this._ticks,this.nextAllianceID++);this.alliances_.push(a),e.requestor().pastOutgoingAllianceRequests.push(e),n.hasEmbargoAgainst(i)&&n.endTemporaryEmbargo(i),i.hasEmbargoAgainst(n)&&i.endTemporaryEmbargo(n),this.addUpdate({type:6,request:e.toUpdate(),accepted:!0})}rejectAllianceRequest(e){this.allianceRequests=this.allianceRequests.filter(n=>n!==e),e.requestor().pastOutgoingAllianceRequests.push(e),this.addUpdate({type:6,request:e.toUpdate(),accepted:!1})}hasPlayer(e){return this._players.has(e)}config(){return this._config}inSpawnPhase(){return this._ticks<=this.config().numSpawnPhaseTurns()}ticks(){return this._ticks}executeNextTick(){this.updates=ov(),this.execs.forEach(i=>{(!this.inSpawnPhase()||i.activeDuringSpawnPhase())&&i.isActive()&&i.tick(this._ticks)});let e=[],n=[];this.unInitExecs.forEach(i=>{!this.inSpawnPhase()||i.activeDuringSpawnPhase()?(i.init(this,this._ticks),e.push(i)):n.push(i)}),this.removeInactiveExecutions(),this.execs.push(...e),this.unInitExecs=n;for(let i of this._players.values())this.addUpdate(i.toUpdate());return this.ticks()%10===0&&this.addUpdate({type:13,tick:this.ticks(),hash:this.hash()}),this._ticks++,this.updates}hash(){let e=1;return this._players.forEach(n=>{e+=n.hash()}),e}terraNullius(){return this._terraNullius}removeInactiveExecutions(){let e=[];for(let n of this.execs)this.inSpawnPhase()?n.activeDuringSpawnPhase()?n.isActive()&&e.push(n):e.push(n):n.isActive()&&e.push(n);this.execs=e}players(){return Array.from(this._players.values()).filter(e=>e.isAlive())}allPlayers(){return Array.from(this._players.values())}executions(){return[...this.execs,...this.unInitExecs]}addExecution(...e){this.unInitExecs.push(...e)}removeExecution(e){this.execs=this.execs.filter(n=>n!==e),this.unInitExecs=this.unInitExecs.filter(n=>n!==e)}playerView(e){return this.player(e)}addPlayer(e,n=null){let i=new Es(this,this.nextPlayerID,e,this.config().startManpower(e),n??this.maybeAssignTeam(e));return this._playersBySmallID.push(i),this.nextPlayerID++,this._players.set(e.id,i),i}maybeAssignTeam(e){if(this._config.gameConfig().gameMode!=="Team")return null;if(e.playerType==="BOT")return this.botTeam;let n=q(e.id);return this.playerTeams[n%this.playerTeams.length]}player(e){let n=this._players.get(e);if(n===void 0)throw new Error(`Player with id ${e} not found`);return n}playerByClientID(e){for(let[,n]of this._players)if(n.clientID()===e)return n;return null}isOnMap(e){return e.x>=0&&e.x<this._width&&e.y>=0&&e.y<this._height}neighborsWithDiag(e){let n=this.x(e),i=this.y(e),r=[];for(let a=-1;a<=1;a++)for(let o=-1;o<=1;o++){if(a===0&&o===0)continue;let s=n+a,l=i+o;s>=0&&s<this._width&&l>=0&&l<this._height&&r.push(this._map.ref(s,l))}return r}conquer(e,n){if(!this.isLand(n))throw Error("cannot conquer water");let i=this.owner(n);i.isPlayer()&&(i._lastTileChange=this._ticks,i._tiles.delete(n),i._borderTiles.delete(n)),this._map.setOwnerID(n,e.smallID()),e._tiles.add(n),e._lastTileChange=this._ticks,this.updateBorders(n),this._map.setFallout(n,!1),this.addUpdate({type:0,update:this.toTileUpdate(n)})}relinquish(e){if(!this.hasOwner(e))throw new Error("Cannot relinquish tile because it is unowned");if(this.isWater(e))throw new Error("Cannot relinquish water");let n=this.owner(e);n._lastTileChange=this._ticks,n._tiles.delete(e),n._borderTiles.delete(e),this._map.setOwnerID(e,0),this.updateBorders(e),this.addUpdate({type:0,update:this.toTileUpdate(e)})}updateBorders(e){let n=[];n.push(e),this.neighbors(e).forEach(i=>n.push(i));for(let i of n)this.hasOwner(i)&&(this.calcIsBorder(i)?this.owner(i)._borderTiles.add(i):this.owner(i)._borderTiles.delete(i))}calcIsBorder(e){if(!this.hasOwner(e))return!1;for(let n of this.neighbors(e))if(this.owner(e)!==this.owner(n))return!0;return!1}target(e,n){this.addUpdate({type:10,playerID:e.smallID(),targetID:n.smallID()})}breakAlliance(e,n){let i;if(n.requestor()===e?i=n.recipient():i=n.requestor(),!e.isAlliedWith(i))throw new Error(`${e} not allied with ${i}, cannot break alliance`);!i.isTraitor()&&!i.isDisconnected()&&e.markTraitor();let r=new Set(e.alliances()),a=i.alliances().filter(o=>r.has(o));if(a.length!==1)throw new Error(`must have exactly one alliance, have ${a.length}`);this.alliances_=this.alliances_.filter(o=>o!==a[0]),this.addUpdate({type:7,traitorID:e.smallID(),betrayedID:i.smallID()})}expireAlliance(e){let n=new Set(e.recipient().alliances()),i=e.requestor().alliances().filter(r=>n.has(r));if(i.length!==1)throw new Error(`cannot expire alliance: must have exactly one alliance, have ${i.length}`);this.alliances_=this.alliances_.filter(r=>r!==i[0]),this.addUpdate({type:8,player1ID:e.requestor().smallID(),player2ID:e.recipient().smallID()})}sendEmojiUpdate(e){this.addUpdate({type:11,emoji:e})}setWinner(e,n){this.addUpdate({type:12,winner:this.makeWinner(e),allPlayersStats:n})}makeWinner(e){if(typeof e=="string")return["team",e,...this.players().filter(n=>n.team()===e&&n.clientID()!==null).map(n=>n.clientID())];{let n=e.clientID();return n===null?void 0:["player",n]}}teams(){return this._config.gameConfig().gameMode!=="Team"?[]:[this.botTeam,...this.playerTeams]}displayMessage(e,n,i,r,a){let o=null;i!==null&&(o=this.player(i).smallID()),this.addUpdate({type:3,messageType:n,message:e,playerID:o,goldAmount:r,params:a})}displayChat(e,n,i,r,a,o){let s=null;r!==null&&(s=this.player(r).smallID()),this.addUpdate({type:4,key:e,category:n,target:i,playerID:s,isFrom:a,recipient:o})}displayIncomingUnit(e,n,i,r){let a=this.player(r).smallID();this.addUpdate({type:14,unitID:e,message:n,messageType:i,playerID:a})}addUnit(e){this.unitGrid.addUnit(e)}removeUnit(e){this.unitGrid.removeUnit(e),e.hasTrainStation()&&this._railNetwork.removeStation(e)}updateUnitTile(e){this.unitGrid.updateUnitCell(e)}hasUnitNearby(e,n,i,r){return this.unitGrid.hasUnitNearby(e,n,i,r)}nearbyUnits(e,n,i,r){return this.unitGrid.nearbyUnits(e,n,i,r)}ref(e,n){return this._map.ref(e,n)}isValidRef(e){return this._map.isValidRef(e)}x(e){return this._map.x(e)}y(e){return this._map.y(e)}cell(e){return this._map.cell(e)}width(){return this._map.width()}height(){return this._map.height()}numLandTiles(){return this._map.numLandTiles()}isValidCoord(e,n){return this._map.isValidCoord(e,n)}isLand(e){return this._map.isLand(e)}isOceanShore(e){return this._map.isOceanShore(e)}isOcean(e){return this._map.isOcean(e)}isShoreline(e){return this._map.isShoreline(e)}magnitude(e){return this._map.magnitude(e)}ownerID(e){return this._map.ownerID(e)}hasOwner(e){return this._map.hasOwner(e)}setOwnerID(e,n){return this._map.setOwnerID(e,n)}hasFallout(e){return this._map.hasFallout(e)}isBorder(e){return this._map.isBorder(e)}neighbors(e){return this._map.neighbors(e)}isWater(e){return this._map.isWater(e)}isLake(e){return this._map.isLake(e)}isShore(e){return this._map.isShore(e)}cost(e){return this._map.cost(e)}terrainType(e){return this._map.terrainType(e)}forEachTile(e){return this._map.forEachTile(e)}manhattanDist(e,n){return this._map.manhattanDist(e,n)}euclideanDistSquared(e,n){return this._map.euclideanDistSquared(e,n)}bfs(e,n){return this._map.bfs(e,n)}toTileUpdate(e){return this._map.toTileUpdate(e)}updateTile(e){return this._map.updateTile(e)}numTilesWithFallout(){return this._map.numTilesWithFallout()}stats(){return this._stats}railNetwork(){return this._railNetwork}conquerPlayer(e,n){let i=n.gold();this.displayMessage(`Conquered ${n.displayName()} received ${st(i)} gold`,3,e.id(),i),e.addGold(i),n.removeGold(i),this.addUpdate({type:17,conquerorId:e.id(),conqueredId:n.id(),gold:i}),this.stats().goldWar(e,n,i)}},ov=()=>{let t={};return Object.values(lt).filter(e=>!isNaN(Number(e))).forEach(e=>{t[e]=[]}),t};var lv=new Map;async function uv(t,e,n){let i=lv.get(t);if(i!==void 0)return i;let r=n.getMapData(t),a=await r.manifest(),o=e==="Normal"?await Ns(a.map,await r.mapBin()):await Ns(a.map4x,await r.map4xBin()),s=e==="Normal"?await Ns(e==="Normal"?a.map4x:a.map16x,await r.map4xBin()):await Ns(a.map16x,await r.map16xBin());e==="Compact"&&a.nations.forEach(c=>{c.coordinates=[Math.floor(c.coordinates[0]/2),Math.floor(c.coordinates[1]/2)]});let l={nations:a.nations,gameMap:o,miniGameMap:s};return lv.set(t,l),l}async function Ns(t,e){if(e.length!==t.width*t.height)throw new Error(`Invalid data: buffer size ${e.length} incorrect for ${t.width}x${t.height} terrain plus 4 bytes for dimensions.`);return new vo(t.width,t.height,e,t.num_land_tiles)}async function yN(t,e,n,i){let r=await Zy(t.config,null),a=await uv(t.config.gameMap,t.config.gameMapSize,n),o=new U(q(t.gameID)),s=t.players.map(d=>new qt(d.clientID===e?al(d.username):Bb(al(d.username)),"HUMAN",d.clientID,o.nextID())),l=t.config.disableNPCs?[]:a.nations.map(d=>new ki(new te(d.coordinates[0],d.coordinates[1]),d.strength,new qt(d.name,"FAKEHUMAN",null,o.nextID()))),c=sv(s,l,a.gameMap,a.miniGameMap,r),u=new zh(c,new Ko(c,t.gameID,e),i);return u.init(),u}var zh=class{constructor(e,n,i){this.game=e;this.execManager=n;this.callBack=i;this.turns=[];this.currTurn=0;this.isExecuting=!1;this.playerViewData={}}init(){this.game.config().bots()>0&&this.game.addExecution(...this.execManager.spawnBots(this.game.config().numBots())),this.game.config().spawnNPCs()&&this.game.addExecution(...this.execManager.fakeHumanExecutions()),this.game.addExecution(new Jo)}addTurn(e){this.turns.push(e)}executeNextTick(){if(this.isExecuting||this.currTurn>=this.turns.length)return;this.isExecuting=!0,this.game.addExecution(...this.execManager.createExecs(this.turns[this.currTurn])),this.currTurn++;let e;try{e=this.game.executeNextTick()}catch(i){i instanceof Error?(console.error("Game tick error:",i.message),this.callBack({errMsg:i.message,stack:i.stack})):console.error("Game tick error:",i);return}this.game.inSpawnPhase()&&this.game.ticks()%2===0&&this.game.players().filter(i=>i.type()==="HUMAN"||i.type()==="FAKEHUMAN").forEach(i=>this.playerViewData[i.id()]=sl(this.game,i)),(this.game.ticks()<3||this.game.ticks()%30===0)&&this.game.players().forEach(i=>{this.playerViewData[i.id()]=sl(this.game,i)});let n=e[0].map(i=>i.update);e[0]=[],this.callBack({tick:this.game.ticks(),packedTileUpdates:new BigUint64Array(n),updates:e,playerNameViewData:this.playerViewData}),this.isExecuting=!1}playerActions(e,n,i){let r=this.game.player(e),a=n!==void 0&&i!==void 0?this.game.ref(n,i):null,o={canAttack:a!==null&&r.canAttack(a),buildableUnits:r.buildableUnits(a),canSendEmojiAllPlayers:r.canSendEmoji(Xe)};if(a!==null&&this.game.hasOwner(a)){let s=this.game.owner(a);o.interaction={sharedBorder:r.sharesBorderWith(s),canSendEmoji:r.canSendEmoji(s),canTarget:r.canTarget(s),canSendAllianceRequest:r.canSendAllianceRequest(s),canBreakAlliance:r.isAlliedWith(s),canDonateGold:r.canDonateGold(s),canDonateTroops:r.canDonateTroops(s),canEmbargo:!r.hasEmbargoAgainst(s)};let l=r.allianceWith(s);l&&(o.interaction.allianceExpiresAt=l.expiresAt())}return o}playerProfile(e){let n=this.game.playerBySmallID(e);if(!n.isPlayer())throw new Error(`player with id ${e} not found`);return n.playerProfile()}playerBorderTiles(e){let n=this.game.player(e);if(!n.isPlayer())throw new Error(`player with id ${e} not found`);return{borderTiles:n.borderTiles()}}attackAveragePosition(e,n){let i=this.game.playerBySmallID(e);if(!i.isPlayer())throw new Error(`player with id ${e} not found`);let r=o=>o.id()===n,a=i.outgoingAttacks().find(r)??i.incomingAttacks().find(r);return a===void 0?null:a.averagePosition()}bestTransportShipSpawn(e,n){let i=this.game.player(e);if(!i.isPlayer())throw new Error(`player with id ${e} not found`);return i.bestTransportShipSpawn(n)}};export{zh as GameRunner,yN as createGameRunner};
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
*/
//# sourceMappingURL=4c9fcdedf448f2dc0ca85297f4cb046e578cd574.js.map
