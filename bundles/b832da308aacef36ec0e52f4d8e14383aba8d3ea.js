/**
 * OpenFront Game Engine Bundle
 * Version: Generated from source
 * Built: 2025-12-19T14:43:30.402Z
 * This bundle contains only the core simulation engine for replay analysis.
 */
var Rv=Object.create;var An=Object.defineProperty;var Cv=Object.getOwnPropertyDescriptor;var Mv=Object.getOwnPropertyNames;var Dv=Object.getPrototypeOf,Nv=Object.prototype.hasOwnProperty;var Uv=(t,e,r)=>e in t?An(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ov=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vt=(t,e)=>{for(var r in e)An(t,r,{get:e[r],enumerable:!0})},zv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Mv(e))!Nv.call(t,i)&&i!==r&&An(t,i,{get:()=>e[i],enumerable:!(n=Cv(e,i))||n.enumerable});return t};var el=(t,e,r)=>(r=t!=null?Rv(Dv(t)):{},zv(e||!t||!t.__esModule?An(r,"default",{value:t,enumerable:!0}):r,t));var tl=(t,e,r)=>Uv(t,typeof e!="symbol"?e+"":e,r);var Wg=z((Zg,lm)=>{(function(t,e,r){function n(s){var l=this,d=o();l.next=function(){var c=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=c-(l.c=c|0)},l.c=1,l.s0=d(" "),l.s1=d(" "),l.s2=d(" "),l.s0-=d(s),l.s0<0&&(l.s0+=1),l.s1-=d(s),l.s1<0&&(l.s1+=1),l.s2-=d(s),l.s2<0&&(l.s2+=1),d=null}function i(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function a(s,l){var d=new n(s),c=l&&l.state,m=d.next;return m.int32=function(){return d.next()*4294967296|0},m.double=function(){return m()+(m()*2097152|0)*11102230246251565e-32},m.quick=m,c&&(typeof c=="object"&&i(c,d),m.state=function(){return i(d,{})}),m}function o(){var s=4022871197,l=function(d){d=String(d);for(var c=0;c<d.length;c++){s+=d.charCodeAt(c);var m=.02519603282416938*s;s=m>>>0,m-=s,m*=s,s=m>>>0,m-=s,s+=m*4294967296}return(s>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(Zg,typeof lm=="object"&&lm,typeof define=="function"&&define)});var Vg=z((qg,um)=>{(function(t,e,r){function n(o){var s=this,l="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var c=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^c^c>>>8},o===(o|0)?s.x=o:l+=o;for(var d=0;d<l.length+64;d++)s.x^=l.charCodeAt(d)|0,s.next()}function i(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s}function a(o,s){var l=new n(o),d=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},c.int32=l.next,c.quick=c,d&&(typeof d=="object"&&i(d,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(qg,typeof um=="object"&&um,typeof define=="function"&&define)});var Yg=z((Hg,cm)=>{(function(t,e,r){function n(o){var s=this,l="";s.next=function(){var c=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(c^c<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,o===(o|0)?s.x=o:l+=o;for(var d=0;d<l.length+64;d++)s.x^=l.charCodeAt(d)|0,d==l.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function i(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s.v=o.v,s.d=o.d,s}function a(o,s){var l=new n(o),d=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},c.int32=l.next,c.quick=c,d&&(typeof d=="object"&&i(d,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(Hg,typeof cm=="object"&&cm,typeof define=="function"&&define)});var Xg=z((Kg,dm)=>{(function(t,e,r){function n(o){var s=this;s.next=function(){var d=s.x,c=s.i,m,h,f;return m=d[c],m^=m>>>7,h=m^m<<24,m=d[c+1&7],h^=m^m>>>10,m=d[c+3&7],h^=m^m>>>3,m=d[c+4&7],h^=m^m<<7,m=d[c+7&7],m=m^m<<13,h^=m^m<<9,d[c]=h,s.i=c+1&7,h};function l(d,c){var m,h,f=[];if(c===(c|0))h=f[0]=c;else for(c=""+c,m=0;m<c.length;++m)f[m&7]=f[m&7]<<15^c.charCodeAt(m)+f[m+1&7]<<13;for(;f.length<8;)f.push(0);for(m=0;m<8&&f[m]===0;++m);for(m==8?h=f[7]=-1:h=f[m],d.x=f,d.i=0,m=256;m>0;--m)d.next()}l(s,o)}function i(o,s){return s.x=o.x.slice(),s.i=o.i,s}function a(o,s){o==null&&(o=+new Date);var l=new n(o),d=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},c.int32=l.next,c.quick=c,d&&(d.x&&i(d,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(Kg,typeof dm=="object"&&dm,typeof define=="function"&&define)});var Qg=z((Jg,mm)=>{(function(t,e,r){function n(o){var s=this;s.next=function(){var d=s.w,c=s.X,m=s.i,h,f;return s.w=d=d+1640531527|0,f=c[m+34&127],h=c[m=m+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,f=c[m]=f^h,s.i=m,f+(d^d>>>16)|0};function l(d,c){var m,h,f,p,b,T=[],A=128;for(c===(c|0)?(h=c,c=null):(c=c+"\0",h=0,A=Math.max(A,c.length)),f=0,p=-32;p<A;++p)c&&(h^=c.charCodeAt((p+32)%c.length)),p===0&&(b=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(b=b+1640531527|0,m=T[p&127]^=h+b,f=m==0?f+1:0);for(f>=128&&(T[(c&&c.length||0)&127]=-1),f=127,p=4*128;p>0;--p)h=T[f+34&127],m=T[f=f+1&127],h^=h<<13,m^=m<<17,h^=h>>>15,m^=m>>>12,T[f]=h^m;d.w=b,d.X=T,d.i=f}l(s,o)}function i(o,s){return s.i=o.i,s.w=o.w,s.X=o.X.slice(),s}function a(o,s){o==null&&(o=+new Date);var l=new n(o),d=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},c.int32=l.next,c.quick=c,d&&(d.X&&i(d,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(Jg,typeof mm=="object"&&mm,typeof define=="function"&&define)});var t0=z((e0,hm)=>{(function(t,e,r){function n(o){var s=this,l="";s.next=function(){var c=s.b,m=s.c,h=s.d,f=s.a;return c=c<<25^c>>>7^m,m=m-h|0,h=h<<24^h>>>8^f,f=f-c|0,s.b=c=c<<20^c>>>12^m,s.c=m=m-h|0,s.d=h<<16^m>>>16^f,s.a=f-c|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,o===Math.floor(o)?(s.a=o/4294967296|0,s.b=o|0):l+=o;for(var d=0;d<l.length+20;d++)s.b^=l.charCodeAt(d)|0,s.next()}function i(o,s){return s.a=o.a,s.b=o.b,s.c=o.c,s.d=o.d,s}function a(o,s){var l=new n(o),d=s&&s.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var m=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(m+h)/(1<<21);while(f===0);return f},c.int32=l.next,c.quick=c,d&&(typeof d=="object"&&i(d,l),c.state=function(){return i(l,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(e0,typeof hm=="object"&&hm,typeof define=="function"&&define)});var i0=z((r0,Wa)=>{(function(t,e,r){var n=256,i=6,a=52,o="random",s=r.pow(n,i),l=r.pow(2,a),d=l*2,c=n-1,m;function h(v,w,N){var L=[];w=w==!0?{entropy:!0}:w||{};var G=T(b(w.entropy?[v,k(e)]:v??A(),3),L),q=new f(L),H=function(){for(var X=q.g(i),B=s,ce=0;X<l;)X=(X+ce)*n,B*=n,ce=q.g(1);for(;X>=d;)X/=2,B/=2,ce>>>=1;return(X+ce)/B};return H.int32=function(){return q.g(4)|0},H.quick=function(){return q.g(4)/4294967296},H.double=H,T(k(q.S),e),(w.pass||N||function(X,B,ce,te){return te&&(te.S&&p(te,q),X.state=function(){return p(q,{})}),ce?(r[o]=X,B):X})(H,G,"global"in w?w.global:this==r,w.state)}function f(v){var w,N=v.length,L=this,G=0,q=L.i=L.j=0,H=L.S=[];for(N||(v=[N++]);G<n;)H[G]=G++;for(G=0;G<n;G++)H[G]=H[q=c&q+v[G%N]+(w=H[G])],H[q]=w;(L.g=function(X){for(var B,ce=0,te=L.i,Ce=L.j,We=L.S;X--;)B=We[te=c&te+1],ce=ce*n+We[c&(We[te]=We[Ce=c&Ce+B])+(We[Ce]=B)];return L.i=te,L.j=Ce,ce})(n)}function p(v,w){return w.i=v.i,w.j=v.j,w.S=v.S.slice(),w}function b(v,w){var N=[],L=typeof v,G;if(w&&L=="object")for(G in v)try{N.push(b(v[G],w-1))}catch{}return N.length?N:L=="string"?v:v+"\0"}function T(v,w){for(var N=v+"",L,G=0;G<N.length;)w[c&G]=c&(L^=w[c&G]*19)+N.charCodeAt(G++);return k(w)}function A(){try{var v;return m&&(v=m.randomBytes)?v=v(n):(v=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(v)),k(v)}catch{var w=t.navigator,N=w&&w.plugins;return[+new Date,t,N,t.screen,k(e)]}}function k(v){return String.fromCharCode.apply(0,v)}if(T(r.random(),e),typeof Wa=="object"&&Wa.exports){Wa.exports=h;try{m=Ov("crypto")}catch{}}else typeof define=="function"&&define.amd?define(function(){return h}):r["seed"+o]=h})(typeof self<"u"?self:r0,[],Math)});var a0=z((aI,n0)=>{var bx=Wg(),vx=Vg(),Tx=Yg(),_x=Xg(),xx=Qg(),wx=t0(),ir=i0();ir.alea=bx;ir.xor128=vx;ir.xorwow=Tx;ir.xorshift7=_x;ir.xor4096=xx;ir.tychei=wx;n0.exports=ir});var ub=z((NE,lb)=>{"use strict";var r2=function(t,e){return t<e};function de(t){if(!(this instanceof de))return new de(t);this.array=[],this.size=0,this.compare=t||r2}de.prototype.clone=function(){var t=new de(this.compare);return t.size=this.size,t.array=this.array.slice(0,this.size),t};de.prototype.add=function(t){var e=this.size;this.array[this.size]=t,this.size+=1;for(var r,n;e>0&&(r=e-1>>1,n=this.array[r],!!this.compare(t,n));)this.array[e]=n,e=r;this.array[e]=t};de.prototype.heapify=function(t){this.array=t,this.size=t.length;var e;for(e=this.size>>1;e>=0;e--)this._percolateDown(e)};de.prototype._percolateUp=function(t,e){for(var r=this.array[t],n,i;t>0&&(n=t-1>>1,i=this.array[n],!(!e&&!this.compare(r,i)));)this.array[t]=i,t=n;this.array[t]=r};de.prototype._percolateDown=function(t){for(var e=this.size,r=this.size>>>1,n=this.array[t],i,a,o;t<r&&(i=(t<<1)+1,a=i+1,o=this.array[i],a<e&&this.compare(this.array[a],o)&&(i=a,o=this.array[a]),!!this.compare(o,n));)this.array[t]=o,t=i;this.array[t]=n};de.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()};de.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1};de.prototype.removeOne=function(t){if(typeof t=="function"){for(var e=0;e<this.size;e++)if(t(this.array[e]))return this._removeAt(e)}};de.prototype.removeMany=function(t,e){if(typeof t!="function"||this.size<1)return[];e=e?Math.min(e,this.size):this.size;for(var r=0,n=new Array(e),i=0,a=new Array(this.size);r<e&&!this.isEmpty();){var o=this.poll();t(o)?n[r++]=o:a[i++]=o}n.length=r;for(var s=0;s<i;)this.add(a[s++]);return n};de.prototype.peek=function(){if(this.size!=0)return this.array[0]};de.prototype.poll=function(){if(this.size!=0){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}};de.prototype.replaceTop=function(t){if(this.size!=0){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}};de.prototype.trim=function(){this.array=this.array.slice(0,this.size)};de.prototype.isEmpty=function(){return this.size===0};de.prototype.forEach=function(t){if(!(this.isEmpty()||typeof t!="function"))for(var e=0,r=this.clone();!r.isEmpty();)t(r.poll(),e++)};de.prototype.kSmallest=function(t){if(this.size==0||t<=0)return[];t=Math.min(this.size,t);let e=Math.min(this.size,2**(t-1)+1);if(e<2)return[this.peek()];let r=new de(this.compare);r.size=e,r.array=this.array.slice(0,e);let n=new Array(t);for(let i=0;i<t;i++)n[i]=r.poll();return n};lb.exports=de});var kt=z(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.getAndAssertSingleCodePoint=ue.invertCaseOfAlphabeticChar=ue.isUpperCase=ue.isLowerCase=ue.isAlphabetic=ue.isDigit=ue.isWordChar=ue.convertSurrogatePairToCodePoint=ue.isLowSurrogate=ue.isHighSurrogate=void 0;function d2(t){return 55296<=t&&t<=56319}ue.isHighSurrogate=d2;function m2(t){return 56320<=t&&t<=57343}ue.isLowSurrogate=m2;function h2(t,e){return(t-55296)*1024+e-56320+65536}ue.convertSurrogatePairToCodePoint=h2;function p2(t){return gb(t)||yb(t)}ue.isWordChar=p2;function gb(t){return 48<=t&&t<=57}ue.isDigit=gb;function yb(t){return bb(t)||vb(t)}ue.isAlphabetic=yb;function bb(t){return 97<=t&&t<=122}ue.isLowerCase=bb;function vb(t){return 65<=t&&t<=90}ue.isUpperCase=vb;function f2(t){return t^32}ue.invertCaseOfAlphabeticChar=f2;function g2(t){if([...t].length!==1)throw new RangeError("Expected the input string to be one code point in length.");return t.codePointAt(0)}ue.getAndAssertSingleCodePoint=g2});var ph=z(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.randomCharFromSetCensorStrategy=Ie.fixedCharCensorStrategy=Ie.fixedPhraseCensorStrategy=Ie.grawlixCensorStrategy=Ie.asteriskCensorStrategy=Ie.keepEndCensorStrategy=Ie.keepStartCensorStrategy=void 0;var y2=kt();function b2(t){return e=>e.overlapsAtStart?t(e):String.fromCodePoint(e.input.codePointAt(e.startIndex))+t({...e,matchLength:e.matchLength-1})}Ie.keepStartCensorStrategy=b2;function v2(t){return e=>{if(e.overlapsAtEnd)return t(e);let r=String.fromCodePoint(e.input.codePointAt(e.endIndex));return t({...e,matchLength:e.matchLength-1})+r}}Ie.keepEndCensorStrategy=v2;function T2(){return Tb("*")}Ie.asteriskCensorStrategy=T2;function _2(){return _b("%@$&*")}Ie.grawlixCensorStrategy=_2;function x2(t){return()=>t}Ie.fixedPhraseCensorStrategy=x2;function Tb(t){return(0,y2.getAndAssertSingleCodePoint)(t),e=>t.repeat(e.matchLength)}Ie.fixedCharCensorStrategy=Tb;function _b(t){let e=[...t];if(e.length<2)throw new Error("The character set passed must have at least 2 characters.");return r=>{if(r.matchLength===0)return"";let n=Math.floor(Math.random()*e.length),i=e[n];for(let a=1;a<r.matchLength;a++){let o=Math.floor(Math.random()*(e.length-1));o>=n&&o++,n=o,i+=e[o]}return i}}Ie.randomCharFromSetCensorStrategy=_b});var xb=z(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.compareIntervals=void 0;function w2(t,e,r,n){return t<r?-1:r<t?1:e<n?-1:n<e?1:0}ss.compareIntervals=w2});var us=z(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.compareMatchByPositionAndId=void 0;var S2=xb();function P2(t,e){let r=(0,S2.compareIntervals)(t.startIndex,t.endIndex,e.startIndex,e.endIndex);return r!==0?r:t.termId===e.termId?0:t.termId<e.termId?-1:1}ls.compareMatchByPositionAndId=P2});var wb=z(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.TextCensor=void 0;var k2=us(),I2=ph(),fh=class{constructor(){this.strategy=(0,I2.grawlixCensorStrategy)()}setStrategy(e){return this.strategy=e,this}applyTo(e,r){if(r.length===0)return e;let n=[...r].sort(k2.compareMatchByPositionAndId),i="",a=0;for(let o=0;o<n.length;o++){let s=n[o];if(a>s.endIndex)continue;let l=s.startIndex<a;l||(i+=e.slice(a,s.startIndex));let d=Math.max(a,s.startIndex),c=o<n.length-1&&s.endIndex>=n[o+1].startIndex&&s.endIndex<n[o+1].endIndex;i+=this.strategy({...s,startIndex:d,input:e,overlapsAtStart:l,overlapsAtEnd:c}),a=s.endIndex+1}return i+=e.slice(a),i}};cs.TextCensor=fh});var gh=z(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.assignIncrementingIds=void 0;function $2(t){let e=0;return t.map(r=>({id:e++,pattern:r}))}ds.assignIncrementingIds=$2});var bh=z(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.PhraseBuilder=ni.DataSet=void 0;var A2=gh(),yh=class{constructor(){this.containers=[],this.patternCount=0,this.patternIdToPhraseContainer=new Map}addAll(e){for(let r of e.containers)this.registerContainer(r);return this}removePhrasesIf(e){this.patternCount=0,this.patternIdToPhraseContainer.clear();let r=this.containers.splice(0);for(let n of r)e(n)||this.registerContainer(n);return this}addPhrase(e){let r=e(new ms).build();return this.registerContainer(r),this}getPayloadWithPhraseMetadata(e){let r=this.patternIdToPhraseContainer.get(e.termId);if(r===void 0)throw new Error(`The pattern with ID ${e.termId} does not exist in this dataset.`);return{...e,phraseMetadata:this.containers[r].metadata}}build(){return{blacklistedTerms:(0,A2.assignIncrementingIds)(this.containers.flatMap(e=>e.patterns)),whitelistedTerms:this.containers.flatMap(e=>e.whitelistedTerms)}}registerContainer(e){let r=this.containers.push(e)-1;for(let n=0,i=this.patternCount;n<e.patterns.length;n++,i++)this.patternIdToPhraseContainer.set(i,r),this.patternCount++}};ni.DataSet=yh;var ms=class{constructor(){this.patterns=[],this.whitelistedTerms=[]}addPattern(e){return this.patterns.push(e),this}addWhitelistedTerm(e){return this.whitelistedTerms.push(e),this}setMetadata(e){return this.metadata=e,this}build(){return{patterns:this.patterns,whitelistedTerms:this.whitelistedTerms,metadata:this.metadata}}};ni.PhraseBuilder=ms});var ps=z(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.SyntaxKind=void 0;var Sb;(function(t){t[t.Optional=0]="Optional",t[t.Wildcard=1]="Wildcard",t[t.Literal=2]="Literal",t[t.BoundaryAssertion=3]="BoundaryAssertion"})(Sb||(hs.SyntaxKind=Sb={}))});var Pb=z(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.getRegExpStringForNode=Ft.compilePatternToRegExp=Ft.potentiallyMatchesEmptyString=void 0;var fs=ps();function E2(t){return t.nodes.every(e=>e.kind===fs.SyntaxKind.Optional)}Ft.potentiallyMatchesEmptyString=E2;function R2(t){let e="";t.requireWordBoundaryAtStart&&(e+="\\b");for(let r of t.nodes)e+=vh(r);return t.requireWordBoundaryAtEnd&&(e+="\\b"),new RegExp(e,"gs")}Ft.compilePatternToRegExp=R2;var C2=["[",".","*","+","?","^","$","{","}","(",")","|","[","\\","]"].map(t=>t.charCodeAt(0));function vh(t){switch(t.kind){case fs.SyntaxKind.Literal:{let e="";for(let r of t.chars)C2.includes(r)&&(e+="\\"),e+=String.fromCodePoint(r);return e}case fs.SyntaxKind.Optional:return`(?:${vh(t.childNode)})?`;case fs.SyntaxKind.Wildcard:return"."}}Ft.getRegExpStringForNode=vh});var kb=z(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.TransformerSet=void 0;var Th=class{constructor(e){this.transformers=e,this.statefulTransformers=Array.from({length:this.transformers.length});for(let r=0;r<this.transformers.length;r++){let n=this.transformers[r];n.type===1&&(this.statefulTransformers[r]=n.factory())}}applyTo(e){let r=e;for(let n=0;n<this.transformers.length&&r!==void 0;n++){let i=this.transformers[n];i.type===0?r=i.transform(r):r=this.statefulTransformers[n].transform(r)}return r}resetAll(){for(let e=0;e<this.transformers.length;e++)this.transformers[e].type===1&&this.statefulTransformers[e].reset()}};gs.TransformerSet=Th});var bs=z(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.CharacterIterator=void 0;var _h=kt(),xh=class{constructor(e){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0,this._input=e??""}get input(){return this._input}setInput(e){return this._input=e,this.reset(),this}reset(){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0}next(){if(this.done)return{done:!0,value:void 0};this.lastPosition=this.currentPosition;let e=this._input.charCodeAt(this.currentPosition++);if(this._lastWidth=1,this.done||!(0,_h.isHighSurrogate)(e))return{done:!1,value:e};let r=this._input.charCodeAt(this.currentPosition);return(0,_h.isLowSurrogate)(r)?(this._lastWidth++,this.currentPosition++,{done:!1,value:(0,_h.convertSurrogatePairToCodePoint)(e,r)}):{done:!1,value:e}}get position(){return this.lastPosition}get lastWidth(){return this._lastWidth}get done(){return this.currentPosition>=this._input.length}[Symbol.iterator](){return this}};ys.CharacterIterator=xh});var Ib=z(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.IntervalCollection=void 0;var wh=class{constructor(){this.dirty=!1,this.intervals=[]}insert(e,r){this.intervals.push([e,r]),this.dirty=!0}query(e,r){if(this.intervals.length===0)return!1;this.dirty&&(this.dirty=!1,this.intervals.sort((n,i)=>n[0]<i[0]?-1:i[0]<n[0]?1:0));for(let n of this.intervals){if(n[0]>e)break;if(n[0]<=e&&r<=n[1])return!0}return!1}values(){return this.intervals.values()}[Symbol.iterator](){return this.values()}};vs.IntervalCollection=wh});var Eb=z(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.RegExpMatcher=void 0;var ai=kt(),$b=Pb(),Ab=kb(),M2=bs(),D2=Ib(),N2=us(),Sh=class{constructor({blacklistedTerms:e,whitelistedTerms:r=[],blacklistMatcherTransformers:n=[],whitelistMatcherTransformers:i=[]}){this.blacklistedTerms=this.compileTerms(e),this.validateWhitelistedTerms(r),this.whitelistedTerms=r,this.blacklistMatcherTransformers=new Ab.TransformerSet(n),this.whitelistMatcherTransformers=new Ab.TransformerSet(i)}getAllMatches(e,r=!1){let n=this.getWhitelistedIntervals(e),[i,a]=this.applyTransformers(e,this.blacklistMatcherTransformers),o=[];for(let s of this.blacklistedTerms)for(let l of a.matchAll(s.regExp)){let d=i[l.index],c=i[l.index+l[0].length-1];c<e.length-1&&(0,ai.isHighSurrogate)(e.charCodeAt(c))&&(0,ai.isLowSurrogate)(e.charCodeAt(c+1))&&c++,n.query(d,c)||o.push({termId:s.id,startIndex:d,endIndex:c,matchLength:[...l[0]].length})}return r&&o.sort(N2.compareMatchByPositionAndId),o}hasMatch(e){let r=this.getWhitelistedIntervals(e),[n,i]=this.applyTransformers(e,this.blacklistMatcherTransformers);for(let a of this.blacklistedTerms)for(let o of i.matchAll(a.regExp)){let s=n[o.index],l=n[o.index+o[0].length-1];if(l<e.length-1&&(0,ai.isHighSurrogate)(e.charCodeAt(l))&&(0,ai.isLowSurrogate)(e.charCodeAt(l+1))&&l++,!r.query(s,l))return!0}return!1}getWhitelistedIntervals(e){let r=new D2.IntervalCollection,[n,i]=this.applyTransformers(e,this.whitelistMatcherTransformers);for(let a of this.whitelistedTerms){let o=0;for(let s=i.indexOf(a,o);s!==-1;s=i.indexOf(a,o)){let l=n[s+a.length-1];l<e.length-1&&(0,ai.isHighSurrogate)(e.charCodeAt(l))&&(0,ai.isLowSurrogate)(e.charCodeAt(l+1))&&l++,r.insert(n[s],l),o=s+a.length}}return r}applyTransformers(e,r){let n=[],i="",a=new M2.CharacterIterator(e);for(let o of a){let s=r.applyTo(o);if(s!==void 0)for(i+=String.fromCodePoint(s);n.length<i.length;)n.push(a.position)}return r.resetAll(),[n,i]}compileTerms(e){let r=[],n=new Set;for(let i of e){if(n.has(i.id))throw new Error(`Duplicate blacklisted term ID ${i.id}.`);if((0,$b.potentiallyMatchesEmptyString)(i.pattern))throw new Error(`Pattern with ID ${i.id} potentially matches empty string; this is unsupported.`);r.push({id:i.id,regExp:(0,$b.compilePatternToRegExp)(i.pattern)}),n.add(i.id)}return r}validateWhitelistedTerms(e){if(e.some(r=>r.length===0))throw new Error("Whitelisted term set contains empty string; this is unsupported.")}};Ts.RegExpMatcher=Sh});var Cb=z(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0})});var kh=z(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.ParserError=void 0;var Ph=class extends Error{constructor(e,r,n){super(`${r}:${n}: ${e}`),this.name="ParserError",this.line=r,this.column=n}};_s.ParserError=Ph});var Nb=z(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.Parser=void 0;var Ih=kt(),U2=bs(),cr=ps(),O2=kh(),Db=[92,91,93,63,124],z2=Db.map(t=>`'${String.fromCodePoint(t)}'`).join(", "),Mb=-1,$h=class{constructor(){this.input="",this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0}parse(e){this.setInput(e);let r=[],n=this.nextNode(),i=n?.kind===cr.SyntaxKind.BoundaryAssertion;n&&!i&&r.push(n);let a=!1;for(;!this.done;){let o=this.mark(),s=this.nextNode();if(s.kind!==cr.SyntaxKind.BoundaryAssertion){r.push(s);continue}this.done||this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",o),a=!0}return{requireWordBoundaryAtStart:i,requireWordBoundaryAtEnd:a,nodes:r}}setInput(e){return this.input=e,this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0,this}nextNode(){switch(this.peek()){case Mb:return;case 91:return this.parseOptional();case 93:this.reportError("Unexpected ']' with no corresponding '['.");case 63:return this.parseWildcard();case 124:return this.parseBoundaryAssertion();default:return this.parseLiteral()}}get done(){return this.position>=this.input.length}parseOptional(){let e=this.mark();this.next();let r=this.mark();this.done&&this.reportError("Unexpected unclosed '['.",e),this.accept("[")&&this.reportError("Unexpected nested optional node.",r);let n=this.nextNode();return n.kind===cr.SyntaxKind.BoundaryAssertion&&this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",r),this.accept("]")||this.reportError("Unexpected unclosed '['."),{kind:cr.SyntaxKind.Optional,childNode:n}}parseWildcard(){return this.next(),{kind:cr.SyntaxKind.Wildcard}}parseBoundaryAssertion(){return this.next(),{kind:cr.SyntaxKind.BoundaryAssertion}}parseLiteral(){let e=[];for(;!this.done;){if(this.accept("[]?|")){this.backup();break}let r=this.next();if(r===92){this.done&&(this.backup(),this.reportError("Unexpected trailing backslash."));let n=this.next();if(!Db.includes(n)){let i=String.fromCodePoint(n);this.backup(),this.reportError(`Cannot escape character '${i}'; the only characters that can be escaped are the following: ${z2}.`)}e.push(n)}else e.push(r)}return{kind:cr.SyntaxKind.Literal,chars:e}}reportError(e,{line:r=this.line,column:n=this.column}={}){throw new O2.ParserError(e,r,n)}mark(){return{line:this.line,column:this.column}}accept(e){let r=this.next(),n=new U2.CharacterIterator(e);for(let i of n)if(i===r)return!0;return this.backup(),!1}peek(){let e=this.next();return this.backup(),e}next(){if(this.done)return Mb;let e=this.input.charCodeAt(this.position++);if(this.lastWidth=1,e===10)return this.lastColumn=this.column,this.column=1,this.line++,e;if(this.lastColumn=this.column++,!(0,Ih.isHighSurrogate)(e)||this.done)return e;let r=this.input.charCodeAt(this.position);return(0,Ih.isLowSurrogate)(r)?(this.position++,this.lastWidth++,(0,Ih.convertSurrogatePairToCodePoint)(e,r)):e}backup(){this.position-=this.lastWidth,this.column=this.lastColumn,this.lastWidth===1&&this.input.charCodeAt(this.position)===10&&this.line--}};xs.Parser=$h});var Ah=z(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.parseRawPattern=oi.pattern=void 0;var j2=Nb(),Ub=new j2.Parser;function L2(t,...e){let r=t.raw[0];for(let[n,i]of e.entries())r+=i,r+=t.raw[n+1];return Ub.parse(r)}oi.pattern=L2;function B2(t){return Ub.parse(t)}oi.parseRawPattern=B2});var vn=z(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.createStatefulTransformer=si.createSimpleTransformer=void 0;function G2(t){return{type:0,transform:t}}si.createSimpleTransformer=G2;function F2(t){return{type:1,factory:t}}si.createStatefulTransformer=F2});var Ob=z(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.CollapseDuplicatesTransformer=void 0;var Eh=class{constructor({defaultThreshold:e,customThresholds:r}){this.remaining=-1,this.lastChar=-1,this.defaultThreshold=e,this.customThresholds=r}transform(e){if(e===this.lastChar)return this.remaining-- >0?e:void 0;let r=this.customThresholds.get(e)??this.defaultThreshold;return this.remaining=r-1,this.lastChar=e,r>0?e:void 0}reset(){this.remaining=-1,this.lastChar=-1}};ws.CollapseDuplicatesTransformer=Eh});var Rh=z(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.collapseDuplicatesTransformer=void 0;var Z2=kt(),W2=vn(),q2=Ob();function V2({defaultThreshold:t=1,customThresholds:e=new Map}={}){let r=H2(e);return(0,W2.createStatefulTransformer)(()=>new q2.CollapseDuplicatesTransformer({defaultThreshold:t,customThresholds:r}))}Ss.collapseDuplicatesTransformer=V2;function H2(t){let e=new Map;for(let[r,n]of t){if(n<0)throw new RangeError("Expected all thresholds to be non-negative.");let i=(0,Z2.getAndAssertSingleCodePoint)(r);e.set(i,n)}return e}});var ks=z(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.remapCharactersTransformer=void 0;var Y2=kt(),K2=bs(),X2=vn();function J2(t){let e=Q2(t);return(0,X2.createSimpleTransformer)(r=>e.get(r)??r)}Ps.remapCharactersTransformer=J2;function Q2(t){let e=new Map,r=t instanceof Map?t.entries():Object.entries(t);for(let[n,i]of r){let a=(0,Y2.getAndAssertSingleCodePoint)(n),o=new K2.CharacterIterator(i);for(let s of o)e.set(s,a)}return e}});var zb=z(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.confusables=void 0;Is.confusables=new Map([[" "," "],["0","\u24FF"],["1","\u24F5\u278A\u2474\xB9\u{1D7CF}\u{1D7D9}\uFF11\u{1D7F7}\u{1D7E3}\u2488\u{1D7ED}1\u2780\u2081\u2460\u2776\u2960"],["2","\u24F6\u2489\u2475\u278B\u01BB\xB2\u14BF\u{1D7DA}\uFF12\u{1D7EE}\u{1D7E4}\u14BE\u{1D7F8}\u01A7\u{1D7D0}\u2461\u1D24\u2082\u2781\u2777\u161D\u01A8"],["3","\xB3\u2CCC\uA7AB\u{1D7D1}\u2128\u{1D7DB}\u{1D7EF}\u{1D7E5}\uA76A\u278C\u0417\u021C\u24F7\u04E0\u01B7\uFF13\u{1D7F9}\u2476\u248A\u0292\u0293\u01EF\u01EE\u01BA\u{1D574}\u1DBE\u0437\u19A1\u2782\u2462\u2083\u1D9A\u1D23\u1D1F\u2778\u0498\u0499\u04EC\u04E1\u04ED\u04DF\u04DE"],["4","\u278D\u04B6\u13CE\u{1D7DC}\u04B7\u24F8\u04B8\u04B9\u04F4\u04F5\u1DA3\uFF14\u0447\u3129\u2074\u2783\u2084\u2463\u2779\u04CB\u2477\u248B"],["5","\u{1D7F1}\u24F9\u278E\u01BC\u{1D7D3}\u{1D7FB}\u{1D7DD}\u{1D7E7}\uFF15\u2784\u2085\u2464\u2075\u277A\u01BD\u2478\u248C"],["6","\u2CD2\u13EE\u{1D7DE}\u{1D7E8}\u{1D7D4}\u278F\u24FA\u03EC\u03ED\u2076\u0431\uFF16\u19C8\u2465\u2785\u2086\u277B\u2479\u248D"],["7","\u24FB\u{104D2}\u2790\uFF17\u2077\u2466\u2087\u277C\u2786\u247A\u248E"],["8","\u{1031A}\u2791\u24FC\uFF18\u{1D7E0}\u{1D7EA}\u09EA\u2078\u2088\u{1D7F4}\u2787\u2467\u277D\u{1D7FE}\u{1D7D6}\u247B\u248F"],["9","\uA76E\u2CCA\u24FD\u2792\u0A67\u09ED\u0B68\uFF19\u{1D7EB}\u{1D7FF}\u{1D7D7}\u2079\u2089\u0533\u2788\u2468\u277E\u247C\u2490"],["A","\u{1F130}\u13AF\u{102A0}\u{1D56C}\u{1D71C}\u{1D434}\uA4EE\u13AA\u{1D6A8}\uAB7A\u{1D756}\u{1F150}\u212B\u2200\u{1F1E6}\u20B3\u{1F170}\u{1D49C}\u{1D608}\u{1D400}\u{1D538}\u0434\u01FA\u15C5\u24B6\uFF21\u0391\u1F8B\u15E9\u0102\xC3\xC5\u01CD\u0200\u0202\u0100\u023A\u0104\u028C\u039B\u03BB\u019B\u1D00\u1D2C\u0414\u0410\u120D\xC4\u2090\u1571\xAA\u01DE\u04D2\u0386\u1EA0\u1EA2\u1EA6\u1EA8\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1FB8\u1FB9\u1FBA\u1FBB\u1FBC\u1F88\u1F89\u1F8A\u1F8C\u1F8D\u1F8E\u1F8F\u1F08\u1F09\u1F0A\u1F0B\u1F0C\u1F0D\u1F0E\u1F0F\u1E00\u0226\u01E0\u04D0\xC0\xC1\xC2\u1EA4\u1EAA\u{1D6E2}\u{1D4D0}\u{1D670}\u{1D63C}"],["a","\u2202\u237A\u24D0\u0571\u01DF\u1D43\u1D8F\u249C\u0430\u0252\uFF41\u03B1\u0203\u0201\u0E04\u01CE\u10DB\xE4\u0251\u0101\u0250\u0105\u1F84\u1E9A\u1EA1\u1EA3\u01E1\u1EA7\u1EB5\u1E01\u0227\u04D1\u04D3\xE3\xE5\u03AC\u1F70\u1F71\u0103\u1EA9\u1EB1\u1EB3\u1EB7\u1F80\u1F81\u1F82\u1F83\u1F85\u1F86\u1FB0\u1FB1\u1FB2\u1FB3\u1FB4\u1D90\u1FB6\u1FB7\u1F00\u1F01\u1F02\u1F03\u1F04\u1F05\u1F06\u1F07\u1F87\u1EAD\u1EAF\xE0\xE1\xE2\u1EA5\u1EAB\u01FB\u2C65\u{1D41A}\u{1D44E}\u{1D482}\u{1D4B6}\u{1D4EA}\u{1D51E}\u{1D552}\u{1D586}\u{1D5BA}\u{1D5EE}\u{1D622}\u{1D656}\u{1D68A}\u{1D6C2}\u{1D6FC}\u{1D736}\u{1D770}\u{1D7AA}\u2376"],["B","\u{10301}\u{1D469}\u{1D56D}\u{1F131}\u{102A1}\u{1D5A1}\u{1D63D}\uA4D0\u{1D5D5}\u{1D609}\u{1D71D}\u{10282}\u{1D6A9}\u{1D401}\u{1D6E3}\u{1D757}\u{1D435}\u{1D671}\u{1D539}\u13F4\u13FC\u{1D791}\uA7B4\u{1D505}\u{1F151}\u0E3F\u{1D4D1}\u15FF\u15FE\u15FD\u{1F171}\u24B7\uFF22\u0432\u03D0\u15F7\u0181\u4E43\xDF\u10EA\u10E9\u0E56\u03B2\u026E\u0411\u0545\u0E52\u1656\u0299\u1D2E\u1D47\u130C\u1E04\u212C\u0392\u0412\u1E9E\u1E02\u1E06\u0243\u0D26\u15F9\u15F8\u1D5D\u165E\u165F\u165D\u16D2\u1657\u1658\u1D03\u{1F1E7}"],["b","\u13CF\u{1D41B}\u{1D623}\u{1D4B7}\u{1D51F}\u{1D4EB}\u{1D587}\u{1D5BB}\u{1D44F}\u{1D657}\u{1D553}\u{1D483}\u{1D5EF}\u{1D68B}\u266D\u1473\u1488\uFF42\u159A\u1579\u157A\u24D1\u1E03\u1E05\u048D\u044A\u1E07\u0183\u0253\u0185\u15AF\u0184\u042C\u1472\xFE\u0182\u249D\u042A\u1D80\u147F\u1480\u1482\u1481\u147E\u044C\u0180\u048C\u0462\u0463\u150E"],["C","\u13DF\u2CA4\u{1F132}\uA4DA\u{102A2}\u{10302}\u{1F172}\u{10415}\u{1F152}\u263E\u010C\xC7\u24B8\uFF23\u2183\u0187\u1455\u3108\xA2\u096E\u21BB\u0108\u03FE\u0547\u023B\u1645\u1D9C\u249E\u0106\u0480\u010A\xA9\u091F\u0186\u2102\u212D\u03F9\u0421\u531A\u1E08\u04AA\u0297\u1456\u1461\u1462\u1463\u1464\u1465\u216D\u{1D402}\u{1D436}\u{1D46A}\u{1D49E}\u{1D4D2}\u{1D56E}\u{1D5A2}\u{1D5D6}\u{1D60A}\u{1D63E}\u150D"],["c","\u2CA5\u{1043D}\uABAF\u0109\uFF43\u24D2\u0107\u010D\u010B\xE7\u0481\u0188\u1E09\u023C\u2184\u0441\u122D\u1D04\u03F2\u04AB\uA49D\u03C2\u027D\u03DB\u{1D672}\u1466\u19DA\u{1D41C}\u{1D450}\u{1D484}\u{1D4B8}\u{1D4EC}\u{1D520}\u{1D554}\u{1D588}\u{1D5BC}\u{1D5F0}\u{1D624}\u{1D658}\u{1D68C}\u20B5\u{1F1E8}\u1974\u14BC\u217D"],["D","\u13A0\u{1F133}\u{1D521}\u{1D589}\u{1D53B}\u{1D5D7}\u{1D60B}\u{1D673}\u{1D437}\u{1D4D3}\u{1D403}\u{1D46B}\u{1D56F}\u{1D5A3}\u{1D507}\u{1D63F}\uAB70\u2145\u{1D49F}\uA4D3\u{1F173}\u{1F153}\u24B9\uFF24\u0189\u15EA\u018A\xD0\u053A\u1D05\u1D30\u2181\u1E0A\u0110\xDE\u216E\u15DE\u146F\u010E\u1E0C\u1E10\u1E12\u1E0E\u15EB\u15EC\u15DF\u15E0\u1D9B\u1D06\u{1F1E9}"],["d","\u13E7\uA4D2\u{1D4ED}\u1D6D\u20AB\u0503\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u1D48\u249F\u0501\u217E\u1D81\u0500\u147A\u147B\u147C\u147D\u1484\u1470\u1471\u1D91\u{1D555}\u{1D5BD}\u{1D451}\u{1D625}\u{1D485}\u{1D659}\u{1D41D}\u{1D5F1}\u{1D68D}\u2146\u{1D4B9}\u02A0\u056A"],["E","\uAB7C\u{1F134}\u{1D640}\u{1D53C}\u{10286}\u{1D6AC}\uA4F0\u{1D75A}\u{1D794}\u{1D4D4}\u{1D46C}\u{1D5D8}\u{1F174}\u{1F154}\u24BA\u0388\uFF25\u018E\u1F1D\u156E\u0190\u30E2\u0404\u1D07\u1D31\u1D49\xC9\u4E47\u0401\u0246\uA085\u20AC\xC8\u2130\u0395\u0415\u2D39\u13AC\u0112\u0114\u0116\u0118\u011A\xCA\xCB\u0510\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u1E14\u1E16\u1EBA\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u1E18\u1E1A\u1F18\u1F19\u1F1A\u1F1B\u1F1C\u1FC8\u1FC9\u04D6\u1F72\u1F73\u0400\u03F5\u{1F1EA}"],["e","\u{1D452}\u{1D4EE}\u{1D556}\u{1D58A}\u{1D626}\u{1D5F2}\u{1D68E}\u{1D65A}\u{1D486}\u{1D522}\u{1D5BE}\u{1D41E}\u04BE\u04BF\u24D4\uFF45\u24A0\xE8\u19C9\xE9\u1D92\xEA\u0258\u1F14\u1EC1\u1EBF\u1EC5\u0AEF\u01DD\u0454\u03B5\u0113\u04BD\u025B\u1EC3\u1EBD\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u0247\u2091\u0119\u1E1D\u1E19\u1E1B\u212E\u0435\u0511\u0450\u04D7\u1971\u0451\u1F10\u1F11\u1F12\u1F13\u1F15\u212F"],["F","\u{1F135}\u{10287}\u{1D509}\u{1D60D}\u{102A5}\uA4DD\uA798\u{1F175}\u{1F155}\u{1D4D5}\u24BB\uFF26\u0493\u0492\u15B4\u0191\u0532\u03DD\u127B\u1E1E\u2131\u03DC\u20A3\u{1F1EB}\u2132"],["f","\u{1D41F}\u{1D58B}\u24D5\uFF46\u0192\u1E1F\u0283\u0562\u1DA0\u24A1\u017F\uA2B0\u0284\u2231\u1D82\u{1D627}"],["G","\uA4D6\u13F3\u{1F136}\u13C0\u13FB\u{1D53E}\u{1D4D6}\u{1D46E}\u{1D572}\uAB90\u{1D4A2}\u{1D642}\u{1D5A6}\u{1D676}\u{1D50A}\u{1D43A}\u{1D406}\u{1F176}\u{1F156}\u24BC\uFF27\u0262\u0193\u029B\u0122\u161C\u1D33\u01F4\u0120\u050C\u011C\u1E20\u011E\u01E6\u01E4\u050D\u20B2\u{1F1EC}\u2141"],["g","\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u0581\u0AED\u01E5\u0260\uFEED\uFEEE\u1D4D\u24A2\u210A\u0261\u19C1\u{1D420}\u{1D454}\u{1D488}\u{1D4F0}\u{1D524}\u{1D558}\u{1D58C}\u{1D5C0}\u{1D5F4}\u{1D628}\u{1D65C}\u{1D690}"],["H","\u{1F137}\u{1D722}\uA4E7\u{1D60F}\u{1D43B}\u{1D75C}\u{1D5A7}\u{102CF}\u{1D5DB}\uAB8B\u210D\u13BB\u210C\u2C8E\u{1D46F}\u{1D796}\u{1F177}\u{1F157}\u12DE\u01F6\u050B\u24BD\uFF28\u0124\u16BA\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u04A2\u04A3\u04A4\u1FCA\u1FCB\u1FCC\u1F28\u1F29\u1F2A\u1F2B\u1F2D\u1F2E\u1F2F\u1F98\u1F99\u1F9A\u1F9B\u1F9C\u1F9D\u1F9E\u1F9F\u04C9\u04C8\u04A5\u0389\u043D\u5344\u2653\u{1D4D7}\u210B\u041D\u{1D407}\u{1D643}\u{1D677}\u029C\u{1D6E8}\u0397\u{1D6AE}\u157C\u04C7\u1D34\u1D78\u{1F1ED}"],["h","\u04BA\u24A3\u0452\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u0570\u04BB\u12A8\u12A9\u12AA\u12AB\u0266\u210E\u{1D421}\u{1D489}\u{1D4BD}\u{1D4F1}\u{1D525}\u{1D559}\u{1D58D}\u{1D5C1}\u{1D5F5}\u{1D629}\u{1D65D}\u{1D691}\u056B\u02B0\u144B\u15C1\u0267\u3093\u0265"],["I","\u{1F138}\u0407\uA024\u13C6\u{1F178}\u{1F158}\u0625\uFE87\u0673\u0623\uFE83\u0672\u0675\u24BE\uFF29\u17F8\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197\u30A7\u30A8\u1FD8\u1FD9\u1FDA\u1FDB\u1F38\u1F39\u1F3A\u1F3B\u1F3C\u1F3D\u1F3E\u2160\u03AA\u038A\u026A\u1DA6\u144A\u1963\u{1D6EA}\u{1D408}\u{1D644}\u{1D678}\u{1D4F5}\u{1D661}\u{1D43C}\u1D35\u{1D6B0}\u{1D470}\u{1F1EE}"],["i","\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u1E2D\u1FD0\u1FD1\u1FD2\u1FD3\u1FD6\u1FD7\u1F30\u1F31\u1F32\u2170\u217C\u2223\u2D4F\uFFE8\u05C0\u0627\u0661\u06F1\u07CA\u16C1\u1F33\u1F34\u1F35\u0268\u0456\u1F76\u1F77\u1D96\u{1D526}\u{1D692}\u{1D778}\u{1D5C2}\u{1D422}\u{1D55A}\u{1D58E}\u{1D5F6}\u{1D62A}\u{1D65E}\u03AF\u2071\u1D62\u{1D4F2}\u24A4"],["J","\u{1F139}\u{1F179}\u{1F159}\u24BF\uFF2A\u0408\u029D\u148D\u05E0\uFF8C\u0134\u0286\u0E27\u0644\u0575\u0296\u1D0A\u1D36\uFEDD\u130B\u0248\u2C7C\u0542\u0E45\u10B1\u012F\u13AB\u0237\u4E3F\u2110\u2111\u1498\u1499\u149A\u149B\u14B4\u14B5\u148E\u148F\u{1F1EF}"],["j","\u24D9\uFF4A\u03F3\u02B2\u24A5\u0249\u0135\u01F0\u0458\u06B6\u1DA8\u{1D4BF}\u{1D62B}\u{1D5F7}\u{1D457}\u{1D65F}\u{1D527}\u{1D48B}\u{1D5C3}\u{1D4F3}\u{1D55B}\u{1D693}\u{1D58F}\u{1D423}"],["K","\u{1D5DE}\u{1F13A}\u{1D725}\u{1D612}\uA4D7\u{1D646}\u{1D542}\u2C94\u{1D50E}\u{1D6EB}\u13E6\u{1D799}\u{1D4A6}\u{1F17A}\u{1F15A}\u20AD\u24C0\uFF2B\u0138\u1E30\u045C\u0198\u043A\u04A0\u03BA\u049B\u049F\u04C4\u029E\u049A\u041A\u04A1\u1D0B\u1D37\u1D4F\u24A6\u16D5\u040C\u1315\u1E32\u039A\u212A\u049C\u049D\u049E\u0136\u1E34\u01E8\u2C69\u03D7\u04C3\u{1F1F0}"],["k","\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\u1D84\u{1D424}\u{1D62C}\u{1D5C4}\u{1D55C}\u{1D705}\u{1D718}\u{1D73F}\u{1D752}\u{1D779}\u{1D78C}\u{1D7B3}\u{1D660}\u{1D694}\u{1D458}\u{1D48C}\u03F0\u{1D6CB}\u{1D6DE}\u{1D7C6}\u{1D5F8}\u{1D4F4}\u{1D4C0}"],["L","\u{1F13B}\u{1041B}\u2CD0\u{1D473}\u{1D67B}\u{10443}\u{1D4DB}\u2CD1\uABAE\u13DE\uA4E1\u{1F17B}\u{1F15B}\uFE88\u2514\u24C1\u0582\uFF2C\u013F\u14AA\u4E5A\u0546\u029F\uA4F6\u03B9\u053C\u1D38\u02E1\u0139\u1228\u1E36\u2097\u0393\u056C\u013B\u1102\u216C\u2112\u2C62\u1967\u1968\u14BB\u14B6\u14B7\u1DAB\uFE8E\u14BA\u14B9\u14B8\u14AB\u23B3\u3125\u0141\u2C60\uFE84\u023D\u{1F1F1}"],["l","\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u04C0\u2113\u1E3D\u1E3B\u0142\uFF9A\u026D\u019A\u026B\u2C61|\u0196\u24A7\u0285\u01C0\u05D5\u05DF\u0399\u0406\uFF5C\u1DA9\u04CF\u{1D4D8}\u{1D540}\u{1D5A8}\u{1D5DC}\u{1D610}\u{1D425}\u{1D459}\u{1D48D}\u{1D4C1}\u{1D529}\u{1D55D}\u{1D591}\u{1D5C5}\u{1D5F9}\u{1D62D}\u{1D695}\u{1D724}\u{1D75E}\u0131\u{1D6A4}\u0269\u1FBE\u{1D6CA}\u{1D704}\u{1D73E}\u{1D7B2}"],["M","\u{1F13C}\u{10311}\u{102B0}\uA4DF\u2C98\u13B7\u{1F17C}\u{1F15C}\u24C2\uFF2D\u043C\u1E42\u0D71\u15F0\u5DDE\u163B\u10DD\u0E53\u264F\u028D\u164F\u1D0D\u1D39\u1D50\u24A8\u1E3E\u041C\u1E40\u0BF1\u216F\u2133\u039C\u03FA\u16D6\u04CD\u04CE\u{1D40C}\u{1D440}\u{1D474}\u{1D4DC}\u{1D510}\u{1D544}\u{1D578}\u{1D5AC}\u{1D5E0}\u{1D614}\u{1D648}\u{1D67C}\u{1D6B3}\u{1D6ED}\u{1D727}\u{1D761}\u{1D79B}\u{1F1F2}"],["m","\u20A5\u1D6F\u{1D592}\u{1D426}\u{1D5C6}\u{1D52A}\u{1D55E}\u{1D4C2}\u24DC\uFF4D\u0D28\u1662\u0D69\u1E3F\u1E41\u217F\u03FB\u1E43\u1320\u0271\u17F3\u1D86\u{1D662}\u{1D4F6}\u{1D696}\u{1D45A}\u{1D5FA}\u19D5\u19D7"],["N","\u{1F13D}\u2115\uA4E0\u{1D6EE}\u{1D762}\u{1D67D}\u{1D6B4}\u{1D475}\u{1D441}\u2C9A\u{1D40D}\u{1D4A9}\u{1D79C}\u{1D5E1}\u{1D615}\u{1D728}\u{1D4DD}\u{1D5AD}\u{1F17D}\u20A6\u{1F15D}\u0419\u040D\u24C3\u048B\u17F7\uFF2E\u1D0E\u0274\u019D\u144E\u51E0\u0438\u0548\u057C\u0418\u05D4\u041B\u03C0\u1D3A\u1DB0\u0143\u5200\u12AD\u1E44\u207F\xD1\u041F\u039D\u1D28\u0578\u03D6\u01F8\u0147\u1E46\u0145\u1E4A\u1E48\u0E17\u014A\u04E2\u04E3\u04E4\u04E5\u045B\u045D\u0439\u1962\u048A\u1D3B\u{1F1F3}"],["n","\u05D7\u{1D48F}\u{1D4F7}\u{1D663}\u{1D45B}\u{1D593}\u{1D52B}\u{1D5C7}\u{1D697}\u{1D5FB}\u1952\u24DD\u03AE\uFF4E\u01F9\u1D12\u0144\xF1\u1F97\u03B7\u1E45\u0148\u1E47\u0272\u0146\u1E4B\u1E49\u0572\u0E96\u054C\u019E\u014B\u24A9\u0E20\u0E01\u0273\u043F\u0149\u043B\u0509\u0220\u1F20\u1F21\u1FC3\u0564\u1F90\u1F91\u1F92\u1F93\u1F94\u1F95\u1F96\u1FC4\u1FC6\u1FC7\u1FC2\u1F22\u1F23\u1F24\u1F25\u1F26\u1F27\u1F74\u1F75\u1260\u1261\u1262\u1263\u1264\u1265\u1266\u0235\u{1D6C8}\u{1D702}\u{1D73C}\u{1D776}\u{1D7B0}\u{1D55F}\u{1D62F}\u{1D427}\u{1D4C3}\u1D87\u1D70\u1965\u2229"],["O","\uA132\u{1F13E}\u{10292}\u{1D7EC}\uA4F3\u2C9E\u{10404}\u{102AB}\u{104C2}\u{1D79E}\u{1F15E}\u2365\u25EF\u2D41\u2296\uFF10\u229D\u{1D764}\u0472\u03F4\u{1D6B6}\u{1D72A}\u047A\u04E6\u04E8\u04EA\u038C\u0298\u{1D40E}\u01D1\xD2\u014E\xD3\xD4\xD5\u020C\u020E\u31FF\u274D\u24C4\uFF2F\u1F4B\u30ED\u2764\u0AE6\u2295\xD8\u0424\u053E\u0398\u01A0\u1D3C\u1D52\u24AA\u0150\xD6\u2092\xA4\u25CA\u03A6\u3007\u039F\u041E\u0555\u0B20\u0D20\u0BE6\u05E1\u1ED2\u1ED0\u1ED6\u1ED4\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u022E\u0230\u022A\u1ECE\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u01FE\u019F\u2D54\u07C0\u17F0\u235C\u2394\u2395\u29B0\u29B1\u29B2\u29B3\u29B4\u29B5\u29B6\u29B7\u29B8\u29B9\u29BA\u29BB\u29BC\u29BD\u29BE\u29BF\u29C0\u29C1\u29C2\u29C3\u1F48\u1F49\u1F4A\u1F4C\u1F4D"],["o","\u{1D698}\u{1D6D0}\u{1D5C8}\u{1D7BC}\u101D\u2C9F\u{1D664}\u1040\u{1042C}\u{1D52C}\u{104EA}\u{1D4F8}\u{1F1F4}\u2364\u25CB\u03D9\u{1F17E}\u{1D4AA}\u{1D5AE}\u{1D7E2}\u{1D7F6}\u{1D67E}\u{1D630}\u{1D5FC}\u{1D560}\u{1D70A}\u{1D428}\u{1D77E}\u{1D7B8}\u1424\u24DE\u0473\u19D0\u1972\xF0\uFF4F\u0C20\u199E\u0553\xF2\u04E9\u04E7\xF3\xBA\u014D\xF4\u01D2\u020F\u014F\u1ED3\u1ED1\u020D\u1ED7\u1ED5\xF5\u03C3\u1E4D\u022D\u1E4F\u1F44\u1E51\u1E53\u022F\u022B\u0E4F\u1D0F\u0151\xF6\u047B\u043E\u12D0\u01ED\u0231\u09E6\u0B66\u0665\u0C66\u0CE6\u0D66\u0E50\u0ED0\u03BF\u0585\u1D11\u0966\u0A66\u1ECF\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\xF8\u01FF\u0275\u056E\u1F40\u1F41\u03CC\u1F78\u1F79\u1F42\u1F43\u1F45"],["P","\u{1F13F}\uA4D1\u{1D6B8}\u{1D67F}\u{1D7A0}\u{1D64B}\uABB2\u2CA2\u{1D4AB}\u{1D766}\u{1D443}\u{1D477}\u{1D5E3}\u{1D40F}\u{10295}\u{1D72C}\u{1D617}\u{1D4DF}\u{1D5AF}\u{1D6F2}\u13E2\u{1F15F}\u048E\u{1F17F}\u24C5\uFF30\u01A4\u146D\u5C38\u1E56\u0580\u03C6\u0584\u1D18\u1D3E\u1D56\u24AB\u1E54\uFF71\u05E7\u0420\u12E8\u1D29\u2C63\u2119\u03A1\u1FEC\u1478\u1476\u1477\u1479\u146C\u146E\u{1F1F5}\u20B1"],["p","\u048F\u2117\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\u1FE5\u03C1\u0440\u01BF\u01F7\u1FE4\u2374\u{1D4F9}\u{1D4C5}\u{1D429}\u{1D45D}\u{1D491}\u{1D52D}\u{1D561}\u{1D595}\u{1D5C9}\u{1D5FD}\u{1D631}\u{1D665}\u{1D699}\u{1D6D2}\u{1D746}\u{1D7BA}\u{1D70C}\u{1D780}"],["Q","\u{1F140}\u{1F180}\u{1F160}\u24C6\uFF31\u211A\u2D55\u051A\u{1D410}\u{1D444}\u{1D478}\u{1D4AC}\u{1D4E0}\u{1D680}\u{1D618}\u{1D64C}\u{1D5B0}\u{1D57C}\u{1D514}\u{1D5E4}\u{1F1F6}"],["q","\u24E0\uFF51\u0563\u24AC\u06F9\u0566\u146B\u024B\u024A\u051B\u{1D5CA}\u{1D45E}\u{1D632}\u{1D562}\u{1D69A}\u{1D492}\u{1D596}\u{1D42A}\u{1D52E}\u{1D4FA}\u{1D666}"],["R","\u211E\u211F\uAB71\u13D2\u{104B4}\uABA2\u13A1\uA4E3\u{1F181}\u{1F161}\u24C7\uFF32\u1D19\u0212\u0280\u1587\u044F\u5C3A\u0154\u042F\u0AB0\u01A6\u1D3F\u12EA\u1E5A\u024C\u0281\u211B\u211C\u211D\u1E58\u0158\u0210\u1E5C\u0156\u1E5E\u2C64\u{1D411}\u{1D445}\u{1D479}\u{1D4E1}\u{1D57D}\u{1D5B1}\u{1D5E5}\u{1D619}\u{1D64D}\u{1D681}\u16B1\u{1F1F7}\u1D1A"],["r","\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u0433\u0550\u027E\u196C\u1E5F\u024D\u02B3\u24AD\u027C\u0453\u1D26\u1D89\u{1D42B}\u{1D45F}\u{1D493}\u{1D4C7}\u{1D4FB}\u{1D52F}\u{1D563}\u{1D597}\u{1D5CB}\u{1D5FF}\u{1D633}\u{1D667}\u1D72\u0491\u1D63"],["S","\u{1F142}\uA1D9\u{1D4E2}\u{1D5E6}\u13DA\u{1D4AE}\u13D5\u{1D682}\u{1D412}\uA4E2\u{1D5B2}\u{1D516}\u{1D64E}\u{10296}\u{1D57E}\u{10420}\u{1D61A}\u{1D54A}\u{1D446}\u{1D47A}\u{1F182}\u{1F162}\u24C8\uFF33\u1E68\u015E\u0586\u054F\u0218\u02E2\u24AE\u0405\u1E60\u0160\u015A\u1E64\u015C\u1E66\u1E62\u0D1F\u1515\u1516\u1522\u1521\u1523\u1524"],["s","\u24E2\uA731\u{10448}\uABAA\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u0282\u1E63\u1E69\u0455\u015F\u0219\u023F\u1D8A\u0C15\u{1D42C}\u{1D460}\u{1D494}\u{1D4C8}\u{1D4FC}\u{1D530}\u{1D564}\u{1D598}\u{1D5CC}\u{1D600}\u{1D634}\u{1D668}\u{1D69C}\u078E\u{1F1F8}"],["T","\u{1F143}\u{1F183}\u{10315}\u{1D6BB}\u{1D6F5}\u{1D54B}\u{1D57F}\u{1D47B}\u{102B1}\u{10297}\u{1D5B3}\u{1D64F}\u{1F768}\u{1D769}\u{1D7A3}\u{1D683}\u{1D61B}\u{1D447}\uA4D4\u27D9\u{1D413}\u2CA6\u{1D5E7}\u22A4\u{1D517}\u13A2\uAB72\u{1D4AF}\u{1F163}\u23C7\u23C9\u24C9\uFF34\u0442\u04AC\u04AD\u01AC\u30A4\u0166\u0535\u03C4\u1D1B\u1D40\uFF72\u1355\u03EE\u0164\u22A5\u01AE\u03A4\u0422\u4E0B\u1E6A\u1E6C\u021A\u0162\u1E70\u1E6E\u4E05\u4E01\u142A\u{1D6D5}\u{1D70F}\u{1D749}\u{1D783}\u{1D7BD}\u{1D4E3}\u3112\u{1F1F9}\u1325"],["t","\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0236\u0A6E\u0567\u0287\u2020\u0163\u1E71\u1E6F\u01AD\u0167\u1D57\u24AF\u0288\u0565\u01AB\u{1D42D}\u{1D461}\u{1D495}\u{1D4C9}\u{1D4FD}\u{1D531}\u{1D565}\u{1D599}\u{1D5CD}\u{1D601}\u{1D635}\u{1D669}\u{1D69D}\u30CA"],["U","\u{1F144}\uA4F4\u{104CE}\uA4A4\u{1F184}\u{1F164}\u0168\u016C\u016E\u1457\u1458\u01D3\u01D5\u01D7\u01D9\u24CA\uFF35\u0216\u144C\u51F5\u01B1\u0574\u0531\uA4F5\u0426\u016A\u0544\u01B2\u1640\u1D41\u1D58\u24B0\u0170\u0AAA\xDC\u054D\xD9\xDA\xDB\u1E78\u1E7A\u01DB\u1EE6\u0214\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244\u1969\u1467\u222A\u162E\u22C3\u{1D414}\u{1D448}\u{1D47C}\u{1D4B0}\u{1D4E4}\u{1D518}\u{1D54C}\u{1D580}\u{1D5B4}\u{1D5E8}\u{1D61C}\u{1D650}\u{1D684}\u{1F1FA}"],["u","\u1F7A\u1F7B\u24E4\uFF55\xF9\u0169\u016B\u1EEB\u1E77\u1E79\u016D\u01D6\u1EEF\u1959\u01DA\u01DC\u1F57\u03C5\u03B0\u0E19\u057D\u028A\u01D8\u01D4\xFA\u016F\u1D1C\u0171\u0173\u0E22\xFB\u1E7B\u0446\u1201\xFC\u1D7E\u1D64\xB5\u028B\u1EE7\u0215\u0217\u01B0\u1EE9\u1EED\u1EF1\u1EE5\u1E73\u1E75\u0289\u1FE0\u1FE1\u1FE2\u1FE3\u1FE6\u1FE7\u1F50\u1F51\u03CB\u03CD\u1F52\u1F53\u1F54\u1F55\u1F56\u1954\u{1D42E}\u{1D462}\u{1D496}\u{1D4CA}\u{1D4FE}\u{1D532}\u{1D566}\u{1D59A}\u{1D5CE}\u1D99"],["V","\u{1F145}\uA4E6\u{1D47D}\u{1D5B5}\u{1D61D}\u13D9\u{1D685}\u{1D651}\u{1D415}\u{1F185}\u{1F165}\u24CB\uFF36\u142F\u0474\u1D5B\u24B1\u06F7\u1E7E\u2174\u2164\u1E7C\u0667\u2D38\u0476\u143A\u143B\u{1F1FB}\u{1D4E5}"],["v","\u1200\u24E5\uFF56\u{1D710}\u{1D74A}\u1E7D\u1E7F\u0C6E\u0E07\u0475\u05E2\u1D20\u03BD\u05D8\u1D65\u0477\u17F4\u1601\u{1D66B}\u{1D69F}\u{1D6CE}\u{1D708}\u{1D742}\u{1D77C}\u{1D7B6}\u{1D637}\u{1D603}\u{1D4FF}"],["W","\u{1F146}\u13D4\u13B3\u{1D47E}\uA4EA\u{1D4B2}\u{1D61E}\u{1F186}\u24CC\u{1F166}\uFF57\uFF37\u1E82\u1FA7\u15EF\u1955\u5C71\u0460\u0E9F\u0C1A\u0561\u0429\u0428\u03CE\u0449\u0E2C\u0448\u164E\u1D42\u02B7\u24B2\u0E1D\u1220\u1E84\u051C\u1E80\u0174\u1E86\u1E88\u0D27\u163A\u047F\u1661\u019C\u20A9\u{1F1FC}"],["w","\u1E81\uAB83\u1E83\u24E6\u2375\u0175\u1E87\u1E85\u1E98\u1E89\u2C73\u1F7C\u1F60\u1F61\u1F62\u1F63\u03C9\u1F64\u1F65\u1F66\u1F67\u1FF2\u1FF3\u1FF4\u1FF6\u1FF7\u2C72\u0461\u051D\u1D21\u1F7D\u1FA0\u1FA1\u1FA2\u1FA3\u1FA4\u1FA5\u1FA6\u026F\u{1D755}\u{1D7C9}\u{1D78F}"],["X","\u{1F7A8}\u{1F7A9}\u{1F7AA}\u{1F147}\u{1F7AB}\u{1F7AC}\u{10317}\u2CAC\uA4EB\u{1D583}\u{1D7A6}\u{1D61F}\u{10290}\u{1D6BE}\u{1D76C}\u{1D732}\uA7B3\u{10322}\u{1D5B7}\u{1D44B}\u{1D54F}\u{1D51B}\u{102B4}\u{1D5EB}\u{1F187}\u{1F167}\u274C\u24CD\u{1D4E7}\uFF38\u1E8A\u166D\u03C7\u3128\u{1D4B3}\u04FE\u10EF\u04FC\u04B3\u0416\u03A7\u04B2\u1D61\u02E3\u24B3\u05D0\u1238\u1E8C\uA2BC\u2169\u0425\u2573\u166E\u1541\u157D\u2179\u16B7\u2D5D\u{1D653}\u{1D687}\u4E42\u{1D417}\u{1F1FD}"],["x","\u24E7\uFF58\u0445\u1E8B\xD7\u2093\u292B\u292C\u2A2F\u1E8D\u1D8D\u{1D66D}\u04FD\u{1D639}\u{1D431}\u{1D6A1}\u2A30\uFF92\u{1D501}"],["Y","\u2CA8\u{1D688}\u{1D44C}\u{1D5EC}\u{1D418}\uA4EC\u{1D480}\u{1D730}\u{102B2}\u{1F188}\u{1F168}\u24CE\uFF39\u1F5B\u01B3\u311A\u028F\u2144\u03D4\uFFE5\xA5\u054E\u03D3\u03B3\u05E5\u04F2\u0427\u040E\u1203\u0178\u024E\u03E4\u03A5\u03D2\u04AE\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u1EF6\u1EF4\u1FE8\u1FE9\u1FEA\u1FEB\u1F59\u1F5D\u1F5F\u03AB\u038E\u04EE\u04F0\u04B0\u04B1\u{1D550}\u{1F1FE}"],["y","\u{1F148}\u13BD\u13A9\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u0443\u10E7\u1E99\u1EF5\u01B4\u024F\u1D5E\u0263\u02B8\u1D8C\u04AF\u24B4\u04F3\u04F1\u04EF\u045E\u0423\u028E"],["Z","\u{1F149}\uA4DC\u{1D5ED}\u{1D419}\u2621\u13C3\u{1D621}\u{1F189}\u{1F169}\u24CF\uFF3A\u1E94\u01B5\u4E59\u1E90\u0224\u1DBB\u24B5\u0179\u2124\u0396\u017B\u017D\u1E92\u2C6B\u{1F1FF}"],["z","\uAB93\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u1D22\u130A\u0290\u2C6C\u1D8E\u0291\u1646"]])});var Ch=z($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.resolveConfusablesTransformer=void 0;var eS=ks(),tS=zb();function rS(){return(0,eS.remapCharactersTransformer)(tS.confusables)}$s.resolveConfusablesTransformer=rS});var jb=z(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.dictionary=void 0;As.dictionary=new Map([["a","@4"],["c","("],["e","3"],["i","1|!"],["g","6"],["o","0"],["s","$5"],["t","7"],["z","2"]])});var Mh=z(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.resolveLeetSpeakTransformer=void 0;var iS=ks(),nS=jb();function aS(){return(0,iS.remapCharactersTransformer)(nS.dictionary)}Es.resolveLeetSpeakTransformer=aS});var Dh=z(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.toAsciiLowerCaseTransformer=void 0;var Lb=kt(),oS=vn();function sS(){return(0,oS.createSimpleTransformer)(t=>(0,Lb.isUpperCase)(t)?(0,Lb.invertCaseOfAlphabeticChar)(t):t)}Rs.toAsciiLowerCaseTransformer=sS});var Fb=z(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.englishDataset=Xe.englishRecommendedTransformers=Xe.englishRecommendedWhitelistMatcherTransformers=Xe.englishRecommendedBlacklistMatcherTransformers=void 0;var lS=bh(),_=Ah(),Bb=Rh(),uS=Ch(),cS=Mh(),Gb=Dh();Xe.englishRecommendedBlacklistMatcherTransformers=[(0,uS.resolveConfusablesTransformer)(),(0,cS.resolveLeetSpeakTransformer)(),(0,Gb.toAsciiLowerCaseTransformer)(),(0,Bb.collapseDuplicatesTransformer)({defaultThreshold:1,customThresholds:new Map([["b",2],["e",2],["o",2],["l",2],["s",2],["g",2]])})];Xe.englishRecommendedWhitelistMatcherTransformers=[(0,Gb.toAsciiLowerCaseTransformer)(),(0,Bb.collapseDuplicatesTransformer)({defaultThreshold:Number.POSITIVE_INFINITY,customThresholds:new Map([[" ",1]])})];Xe.englishRecommendedTransformers={blacklistMatcherTransformers:Xe.englishRecommendedBlacklistMatcherTransformers,whitelistMatcherTransformers:Xe.englishRecommendedWhitelistMatcherTransformers};Xe.englishDataset=new lS.DataSet().addPhrase(t=>t.setMetadata({originalWord:"abo"}).addPattern((0,_.pattern)`|ab[b]o[s]|`)).addPhrase(t=>t.setMetadata({originalWord:"abeed"}).addPattern((0,_.pattern)`ab[b]eed`)).addPhrase(t=>t.setMetadata({originalWord:"africoon"}).addPattern((0,_.pattern)`africoon`)).addPhrase(t=>t.setMetadata({originalWord:"anal"}).addPattern((0,_.pattern)`|anal`).addWhitelistedTerm("analabos").addWhitelistedTerm("analagous").addWhitelistedTerm("analav").addWhitelistedTerm("analy").addWhitelistedTerm("analog").addWhitelistedTerm("an al").addPattern((0,_.pattern)`danal`).addPattern((0,_.pattern)`eanal`).addPattern((0,_.pattern)`fanal`).addWhitelistedTerm("fan al").addPattern((0,_.pattern)`ganal`).addWhitelistedTerm("gan al").addPattern((0,_.pattern)`ianal`).addWhitelistedTerm("ian al").addPattern((0,_.pattern)`janal`).addWhitelistedTerm("trojan al").addPattern((0,_.pattern)`kanal`).addPattern((0,_.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,_.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,_.pattern)`oanal|`).addPattern((0,_.pattern)`panal`).addWhitelistedTerm("pan al").addPattern((0,_.pattern)`qanal`).addPattern((0,_.pattern)`ranal`).addPattern((0,_.pattern)`sanal`).addPattern((0,_.pattern)`tanal`).addWhitelistedTerm("tan al").addPattern((0,_.pattern)`uanal`).addWhitelistedTerm("uan al").addPattern((0,_.pattern)`vanal`).addWhitelistedTerm("van al").addPattern((0,_.pattern)`wanal`).addPattern((0,_.pattern)`xanal`).addWhitelistedTerm("texan al").addPattern((0,_.pattern)`yanal`).addPattern((0,_.pattern)`zanal`)).addPhrase(t=>t.setMetadata({originalWord:"anus"}).addPattern((0,_.pattern)`anus`).addWhitelistedTerm("an us").addWhitelistedTerm("tetanus").addWhitelistedTerm("uranus").addWhitelistedTerm("janus").addWhitelistedTerm("manus")).addPhrase(t=>t.setMetadata({originalWord:"arabush"}).addPattern((0,_.pattern)`arab[b]ush`)).addPhrase(t=>t.setMetadata({originalWord:"arse"}).addPattern((0,_.pattern)`|ars[s]e`).addWhitelistedTerm("arsen")).addPhrase(t=>t.setMetadata({originalWord:"ass"}).addPattern((0,_.pattern)`|ass`).addWhitelistedTerm("assa").addWhitelistedTerm("assem").addWhitelistedTerm("assen").addWhitelistedTerm("asser").addWhitelistedTerm("asset").addWhitelistedTerm("assev").addWhitelistedTerm("assi").addWhitelistedTerm("assoc").addWhitelistedTerm("assoi").addWhitelistedTerm("assu")).addPhrase(t=>t.setMetadata({originalWord:"bastard"}).addPattern((0,_.pattern)`bas[s]tard`)).addPhrase(t=>t.setMetadata({originalWord:"bestiality"}).addPattern((0,_.pattern)`be[e][a]s[s]tial`)).addPhrase(t=>t.setMetadata({originalWord:"bitch"}).addPattern((0,_.pattern)`bitch`).addPattern((0,_.pattern)`bich|`)).addPhrase(t=>t.setMetadata({originalWord:"blowjob"}).addPattern((0,_.pattern)`b[b]l[l][o]wj[o]b`)).addPhrase(t=>t.setMetadata({originalWord:"bollocks"}).addPattern((0,_.pattern)`bol[l]ock`)).addPhrase(t=>t.setMetadata({originalWord:"boob"}).addPattern((0,_.pattern)`boob`)).addPhrase(t=>t.setMetadata({originalWord:"boonga"}).addPattern((0,_.pattern)`boonga`).addWhitelistedTerm("baboon ga")).addPhrase(t=>t.setMetadata({originalWord:"buttplug"}).addPattern((0,_.pattern)`buttplug`)).addPhrase(t=>t.setMetadata({originalWord:"chingchong"}).addPattern((0,_.pattern)`chingchong`)).addPhrase(t=>t.setMetadata({originalWord:"chink"}).addPattern((0,_.pattern)`chink`).addWhitelistedTerm("chin k")).addPhrase(t=>t.setMetadata({originalWord:"cock"}).addPattern((0,_.pattern)`|cock|`).addPattern((0,_.pattern)`|cocks`).addPattern((0,_.pattern)`|cockp`).addPattern((0,_.pattern)`|cocke[e]|`).addWhitelistedTerm("cockney")).addPhrase(t=>t.setMetadata({originalWord:"cuck"}).addPattern((0,_.pattern)`cuck`).addWhitelistedTerm("cuckoo")).addPhrase(t=>t.setMetadata({originalWord:"cum"}).addPattern((0,_.pattern)`|cum`).addWhitelistedTerm("cumu").addWhitelistedTerm("cumb")).addPhrase(t=>t.setMetadata({originalWord:"cunt"}).addPattern((0,_.pattern)`|cunt`).addPattern((0,_.pattern)`cunt|`)).addPhrase(t=>t.setMetadata({originalWord:"deepthroat"}).addPattern((0,_.pattern)`deepthro[o]at`).addPattern((0,_.pattern)`deepthro[o]t`)).addPhrase(t=>t.setMetadata({originalWord:"dick"}).addPattern((0,_.pattern)`|dck|`).addPattern((0,_.pattern)`dick`).addWhitelistedTerm("benedick").addWhitelistedTerm("dickens")).addPhrase(t=>t.setMetadata({originalWord:"dildo"}).addPattern((0,_.pattern)`dildo`)).addPhrase(t=>t.setMetadata({originalWord:"doggystyle"}).addPattern((0,_.pattern)`d[o]g[g]ys[s]t[y]l[l]`)).addPhrase(t=>t.setMetadata({originalWord:"double penetration"}).addPattern((0,_.pattern)`double penetra`)).addPhrase(t=>t.setMetadata({originalWord:"dyke"}).addPattern((0,_.pattern)`dyke`).addWhitelistedTerm("van dyke")).addPhrase(t=>t.setMetadata({originalWord:"ejaculate"}).addPattern((0,_.pattern)`e[e]jacul`).addPattern((0,_.pattern)`e[e]jakul`).addPattern((0,_.pattern)`e[e]acul[l]ate`)).addPhrase(t=>t.setMetadata({originalWord:"fag"}).addPattern((0,_.pattern)`|fag`).addPattern((0,_.pattern)`fggot`)).addPhrase(t=>t.setMetadata({originalWord:"felch"}).addPattern((0,_.pattern)`fe[e]l[l]ch`)).addPhrase(t=>t.setMetadata({originalWord:"fellatio"}).addPattern((0,_.pattern)`f[e][e]llat`)).addPhrase(t=>t.setMetadata({originalWord:"finger bang"}).addPattern((0,_.pattern)`fingerbang`)).addPhrase(t=>t.setMetadata({originalWord:"fisting"}).addPattern((0,_.pattern)`fistin`)).addPhrase(t=>t.setMetadata({originalWord:"fuck"}).addPattern((0,_.pattern)`f[?]ck`).addPattern((0,_.pattern)`|fk`).addPattern((0,_.pattern)`|fu|`).addPattern((0,_.pattern)`|fuk`).addWhitelistedTerm("fick").addWhitelistedTerm("kung-fu").addWhitelistedTerm("kung fu")).addPhrase(t=>t.setMetadata({originalWord:"gangbang"}).addPattern((0,_.pattern)`g[?]ngbang`)).addPhrase(t=>t.setMetadata({originalWord:"handjob"}).addPattern((0,_.pattern)`h[?]ndjob`)).addPhrase(t=>t.setMetadata({originalWord:"hentai"}).addPattern((0,_.pattern)`h[e][e]ntai`)).addPhrase(t=>t.setMetadata({originalWord:"hooker"}).addPattern((0,_.pattern)`hooker`)).addPhrase(t=>t.setMetadata({originalWord:"incest"}).addPattern((0,_.pattern)`incest`)).addPhrase(t=>t.setMetadata({originalWord:"jerk off"}).addPattern((0,_.pattern)`jerkoff`)).addPhrase(t=>t.setMetadata({originalWord:"jizz"}).addPattern((0,_.pattern)`jizz`)).addPhrase(t=>t.setMetadata({originalWord:"kike"}).addPattern((0,_.pattern)`kike`)).addPhrase(t=>t.setMetadata({originalWord:"lubejob"}).addPattern((0,_.pattern)`lubejob`)).addPhrase(t=>t.setMetadata({originalWord:"masturbate"}).addPattern((0,_.pattern)`m[?]sturbate`).addPattern((0,_.pattern)`masterbate`)).addPhrase(t=>t.setMetadata({originalWord:"negro"}).addPattern((0,_.pattern)`negro`).addWhitelistedTerm("montenegro").addWhitelistedTerm("negron").addWhitelistedTerm("stoneground").addWhitelistedTerm("winegrow")).addPhrase(t=>t.setMetadata({originalWord:"nigger"}).addPattern((0,_.pattern)`n[i]gger`).addPattern((0,_.pattern)`n[i]gga`).addPattern((0,_.pattern)`|nig|`).addPattern((0,_.pattern)`|nigs|`).addWhitelistedTerm("snigger")).addPhrase(t=>t.setMetadata({originalWord:"orgasm"}).addPattern((0,_.pattern)`[or]gasm`).addWhitelistedTerm("gasma")).addPhrase(t=>t.setMetadata({originalWord:"orgy"}).addPattern((0,_.pattern)`orgy`).addPattern((0,_.pattern)`orgies`).addWhitelistedTerm("porgy")).addPhrase(t=>t.setMetadata({originalWord:"penis"}).addPattern((0,_.pattern)`pe[e]nis`).addPattern((0,_.pattern)`|pnis`).addWhitelistedTerm("pen is")).addPhrase(t=>t.setMetadata({originalWord:"piss"}).addPattern((0,_.pattern)`|piss`)).addPhrase(t=>t.setMetadata({originalWord:"porn"}).addPattern((0,_.pattern)`|prn|`).addPattern((0,_.pattern)`porn`).addWhitelistedTerm("p orna")).addPhrase(t=>t.setMetadata({originalWord:"prick"}).addPattern((0,_.pattern)`|prick[s]|`)).addPhrase(t=>t.setMetadata({originalWord:"pussy"}).addPattern((0,_.pattern)`p[u]ssy`)).addPhrase(t=>t.setMetadata({originalWord:"rape"}).addPattern((0,_.pattern)`|rape`).addPattern((0,_.pattern)`|rapis[s]t`)).addPhrase(t=>t.setMetadata({originalWord:"retard"}).addPattern((0,_.pattern)`retard`)).addPhrase(t=>t.setMetadata({originalWord:"scat"}).addPattern((0,_.pattern)`|s[s]cat|`)).addPhrase(t=>t.setMetadata({originalWord:"semen"}).addPattern((0,_.pattern)`|s[s]e[e]me[e]n`)).addPhrase(t=>t.setMetadata({originalWord:"sex"}).addPattern((0,_.pattern)`|s[s]e[e]x|`).addPattern((0,_.pattern)`|s[s]e[e]xy|`)).addPhrase(t=>t.setMetadata({originalWord:"shit"}).addPattern((0,_.pattern)`|shit`).addPattern((0,_.pattern)`shit|`).addWhitelistedTerm("s hit").addWhitelistedTerm("sh it").addWhitelistedTerm("shi t").addWhitelistedTerm("shitake")).addPhrase(t=>t.setMetadata({originalWord:"slut"}).addPattern((0,_.pattern)`s[s]lut`)).addPhrase(t=>t.setMetadata({originalWord:"spastic"}).addPattern((0,_.pattern)`|spastic`)).addPhrase(t=>t.setMetadata({originalWord:"tit"}).addPattern((0,_.pattern)`|tit|`).addPattern((0,_.pattern)`|tits|`).addPattern((0,_.pattern)`|titt`).addPattern((0,_.pattern)`|tiddies`).addPattern((0,_.pattern)`|tities`)).addPhrase(t=>t.setMetadata({originalWord:"tranny"}).addPattern((0,_.pattern)`tranny`)).addPhrase(t=>t.setMetadata({originalWord:"turd"}).addPattern((0,_.pattern)`|turd`).addWhitelistedTerm("turducken")).addPhrase(t=>t.setMetadata({originalWord:"twat"}).addPattern((0,_.pattern)`|twat`).addWhitelistedTerm("twattle")).addPhrase(t=>t.setMetadata({originalWord:"vagina"}).addPattern((0,_.pattern)`vagina`).addPattern((0,_.pattern)`|v[?]gina`)).addPhrase(t=>t.setMetadata({originalWord:"wank"}).addPattern((0,_.pattern)`|wank`)).addPhrase(t=>t.setMetadata({originalWord:"whore"}).addPattern((0,_.pattern)`|wh[o]re|`).addPattern((0,_.pattern)`|who[o]res[s]|`).addWhitelistedTerm("who're"))});var Zb=z(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.skipNonAlphabeticTransformer=void 0;var dS=kt(),mS=vn();function hS(){return(0,mS.createSimpleTransformer)(t=>(0,dS.isAlphabetic)(t)?t:void 0)}Cs.skipNonAlphabeticTransformer=hS});var Wb=z(le=>{"use strict";var pS=le&&le.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xe=le&&le.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pS(e,t,r)};Object.defineProperty(le,"__esModule",{value:!0});xe(ph(),le);xe(wb(),le);xe(bh(),le);xe(Eb(),le);xe(gh(),le);xe(us(),le);xe(Cb(),le);xe(ps(),le);xe(kh(),le);xe(Ah(),le);xe(Fb(),le);xe(Rh(),le);xe(ks(),le);xe(Ch(),le);xe(Mh(),le);xe(Zb(),le);xe(Dh(),le)});var{entries:wp,setPrototypeOf:pp,isFrozen:jv,getPrototypeOf:Lv,getOwnPropertyDescriptor:Bv}=Object,{freeze:Ae,seal:qe,create:Sp}=Object,{apply:sl,construct:ll}=typeof Reflect<"u"&&Reflect;Ae||(Ae=function(e){return e});qe||(qe=function(e){return e});sl||(sl=function(e,r,n){return e.apply(r,n)});ll||(ll=function(e,r){return new e(...r)});var En=Ee(Array.prototype.forEach),Gv=Ee(Array.prototype.lastIndexOf),fp=Ee(Array.prototype.pop),mi=Ee(Array.prototype.push),Fv=Ee(Array.prototype.splice),Cn=Ee(String.prototype.toLowerCase),rl=Ee(String.prototype.toString),gp=Ee(String.prototype.match),hi=Ee(String.prototype.replace),Zv=Ee(String.prototype.indexOf),Wv=Ee(String.prototype.trim),Qe=Ee(Object.prototype.hasOwnProperty),$e=Ee(RegExp.prototype.test),pi=qv(TypeError);function Ee(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return sl(t,e,n)}}function qv(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ll(t,r)}}function j(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cn;pp&&pp(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){let a=r(i);a!==i&&(jv(e)||(e[n]=a),i=a)}t[i]=!0}return t}function Vv(t){for(let e=0;e<t.length;e++)Qe(t,e)||(t[e]=null);return t}function pt(t){let e=Sp(null);for(let[r,n]of wp(t))Qe(t,r)&&(Array.isArray(n)?e[r]=Vv(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=pt(n):e[r]=n);return e}function fi(t,e){for(;t!==null;){let n=Bv(t,e);if(n){if(n.get)return Ee(n.get);if(typeof n.value=="function")return Ee(n.value)}t=Lv(t)}function r(){return null}return r}var yp=Ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),il=Ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nl=Ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hv=Ae(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),al=Ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Yv=Ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bp=Ae(["#text"]),vp=Ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ol=Ae(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Tp=Ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rn=Ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kv=qe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Xv=qe(/<%[\w\W]*|[\w\W]*%>/gm),Jv=qe(/\$\{[\w\W]*/gm),Qv=qe(/^data-[\-\w.\u00B7-\uFFFF]+$/),eT=qe(/^aria-[\-\w]+$/),Pp=qe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tT=qe(/^(?:\w+script|data):/i),rT=qe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kp=qe(/^html$/i),iT=qe(/^[a-z][.\w]*(-[.\w]+)+$/i),_p=Object.freeze({__proto__:null,ARIA_ATTR:eT,ATTR_WHITESPACE:rT,CUSTOM_ELEMENT:iT,DATA_ATTR:Qv,DOCTYPE_NAME:kp,ERB_EXPR:Xv,IS_ALLOWED_URI:Pp,IS_SCRIPT_OR_DATA:tT,MUSTACHE_EXPR:Kv,TMPLIT_EXPR:Jv}),gi={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},nT=function(){return typeof window>"u"?null:window},aT=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));let a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},xp=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ip(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nT(),e=C=>Ip(C);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==gi.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t,n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:s,Element:l,NodeFilter:d,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:f}=t,p=l.prototype,b=fi(p,"cloneNode"),T=fi(p,"remove"),A=fi(p,"nextSibling"),k=fi(p,"childNodes"),v=fi(p,"parentNode");if(typeof o=="function"){let C=r.createElement("template");C.content&&C.content.ownerDocument&&(r=C.content.ownerDocument)}let w,N="",{implementation:L,createNodeIterator:G,createDocumentFragment:q,getElementsByTagName:H}=r,{importNode:X}=n,B=xp();e.isSupported=typeof wp=="function"&&typeof v=="function"&&L&&L.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ce,ERB_EXPR:te,TMPLIT_EXPR:Ce,DATA_ATTR:We,ARIA_ATTR:Me,IS_SCRIPT_OR_DATA:Zt,ATTR_WHITESPACE:dr,CUSTOM_ELEMENT:Wt}=_p,{IS_ALLOWED_URI:Je}=_p,ae=null,mr=j({},[...yp,...il,...nl,...al,...bp]),fe=null,_n=j({},[...vp,...ol,...Tp,...Rn]),J=Object.seal(Sp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),li=null,Fs=null,Vh=!0,Zs=!0,Hh=!1,Yh=!0,hr=!1,xn=!0,qt=!1,Ws=!1,qs=!1,pr=!1,wn=!1,Sn=!1,Kh=!0,Xh=!1,wv="user-content-",Vs=!0,ui=!1,fr={},gr=null,Jh=j({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Qh=null,ep=j({},["audio","video","img","source","image","track"]),Hs=null,tp=j({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pn="http://www.w3.org/1998/Math/MathML",kn="http://www.w3.org/2000/svg",dt="http://www.w3.org/1999/xhtml",yr=dt,Ys=!1,Ks=null,Sv=j({},[Pn,kn,dt],rl),In=j({},["mi","mo","mn","ms","mtext"]),$n=j({},["annotation-xml"]),Pv=j({},["title","style","font","a","script"]),ci=null,kv=["application/xhtml+xml","text/html"],Iv="text/html",ve=null,br=null,$v=r.createElement("form"),rp=function(g){return g instanceof RegExp||g instanceof Function},Xs=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(br&&br===g)){if((!g||typeof g!="object")&&(g={}),g=pt(g),ci=kv.indexOf(g.PARSER_MEDIA_TYPE)===-1?Iv:g.PARSER_MEDIA_TYPE,ve=ci==="application/xhtml+xml"?rl:Cn,ae=Qe(g,"ALLOWED_TAGS")?j({},g.ALLOWED_TAGS,ve):mr,fe=Qe(g,"ALLOWED_ATTR")?j({},g.ALLOWED_ATTR,ve):_n,Ks=Qe(g,"ALLOWED_NAMESPACES")?j({},g.ALLOWED_NAMESPACES,rl):Sv,Hs=Qe(g,"ADD_URI_SAFE_ATTR")?j(pt(tp),g.ADD_URI_SAFE_ATTR,ve):tp,Qh=Qe(g,"ADD_DATA_URI_TAGS")?j(pt(ep),g.ADD_DATA_URI_TAGS,ve):ep,gr=Qe(g,"FORBID_CONTENTS")?j({},g.FORBID_CONTENTS,ve):Jh,li=Qe(g,"FORBID_TAGS")?j({},g.FORBID_TAGS,ve):pt({}),Fs=Qe(g,"FORBID_ATTR")?j({},g.FORBID_ATTR,ve):pt({}),fr=Qe(g,"USE_PROFILES")?g.USE_PROFILES:!1,Vh=g.ALLOW_ARIA_ATTR!==!1,Zs=g.ALLOW_DATA_ATTR!==!1,Hh=g.ALLOW_UNKNOWN_PROTOCOLS||!1,Yh=g.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hr=g.SAFE_FOR_TEMPLATES||!1,xn=g.SAFE_FOR_XML!==!1,qt=g.WHOLE_DOCUMENT||!1,pr=g.RETURN_DOM||!1,wn=g.RETURN_DOM_FRAGMENT||!1,Sn=g.RETURN_TRUSTED_TYPE||!1,qs=g.FORCE_BODY||!1,Kh=g.SANITIZE_DOM!==!1,Xh=g.SANITIZE_NAMED_PROPS||!1,Vs=g.KEEP_CONTENT!==!1,ui=g.IN_PLACE||!1,Je=g.ALLOWED_URI_REGEXP||Pp,yr=g.NAMESPACE||dt,In=g.MATHML_TEXT_INTEGRATION_POINTS||In,$n=g.HTML_INTEGRATION_POINTS||$n,J=g.CUSTOM_ELEMENT_HANDLING||{},g.CUSTOM_ELEMENT_HANDLING&&rp(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&rp(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hr&&(Zs=!1),wn&&(pr=!0),fr&&(ae=j({},bp),fe=[],fr.html===!0&&(j(ae,yp),j(fe,vp)),fr.svg===!0&&(j(ae,il),j(fe,ol),j(fe,Rn)),fr.svgFilters===!0&&(j(ae,nl),j(fe,ol),j(fe,Rn)),fr.mathMl===!0&&(j(ae,al),j(fe,Tp),j(fe,Rn))),g.ADD_TAGS&&(ae===mr&&(ae=pt(ae)),j(ae,g.ADD_TAGS,ve)),g.ADD_ATTR&&(fe===_n&&(fe=pt(fe)),j(fe,g.ADD_ATTR,ve)),g.ADD_URI_SAFE_ATTR&&j(Hs,g.ADD_URI_SAFE_ATTR,ve),g.FORBID_CONTENTS&&(gr===Jh&&(gr=pt(gr)),j(gr,g.FORBID_CONTENTS,ve)),Vs&&(ae["#text"]=!0),qt&&j(ae,["html","head","body"]),ae.table&&(j(ae,["tbody"]),delete li.tbody),g.TRUSTED_TYPES_POLICY){if(typeof g.TRUSTED_TYPES_POLICY.createHTML!="function")throw pi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof g.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=g.TRUSTED_TYPES_POLICY,N=w.createHTML("")}else w===void 0&&(w=aT(f,i)),w!==null&&typeof N=="string"&&(N=w.createHTML(""));Ae&&Ae(g),br=g}},ip=j({},[...il,...nl,...Hv]),np=j({},[...al,...Yv]),Av=function(g){let S=v(g);(!S||!S.tagName)&&(S={namespaceURI:yr,tagName:"template"});let E=Cn(g.tagName),re=Cn(S.tagName);return Ks[g.namespaceURI]?g.namespaceURI===kn?S.namespaceURI===dt?E==="svg":S.namespaceURI===Pn?E==="svg"&&(re==="annotation-xml"||In[re]):!!ip[E]:g.namespaceURI===Pn?S.namespaceURI===dt?E==="math":S.namespaceURI===kn?E==="math"&&$n[re]:!!np[E]:g.namespaceURI===dt?S.namespaceURI===kn&&!$n[re]||S.namespaceURI===Pn&&!In[re]?!1:!np[E]&&(Pv[E]||!ip[E]):!!(ci==="application/xhtml+xml"&&Ks[g.namespaceURI]):!1},it=function(g){mi(e.removed,{element:g});try{v(g).removeChild(g)}catch{T(g)}},vr=function(g,S){try{mi(e.removed,{attribute:S.getAttributeNode(g),from:S})}catch{mi(e.removed,{attribute:null,from:S})}if(S.removeAttribute(g),g==="is")if(pr||wn)try{it(S)}catch{}else try{S.setAttribute(g,"")}catch{}},ap=function(g){let S=null,E=null;if(qs)g="<remove></remove>"+g;else{let ge=gp(g,/^[\r\n\t ]+/);E=ge&&ge[0]}ci==="application/xhtml+xml"&&yr===dt&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");let re=w?w.createHTML(g):g;if(yr===dt)try{S=new h().parseFromString(re,ci)}catch{}if(!S||!S.documentElement){S=L.createDocument(yr,"template",null);try{S.documentElement.innerHTML=Ys?N:re}catch{}}let we=S.body||S.documentElement;return g&&E&&we.insertBefore(r.createTextNode(E),we.childNodes[0]||null),yr===dt?H.call(S,qt?"html":"body")[0]:qt?S.documentElement:we},op=function(g){return G.call(g.ownerDocument||g,g,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Js=function(g){return g instanceof m&&(typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof c)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},sp=function(g){return typeof s=="function"&&g instanceof s};function mt(C,g,S){En(C,E=>{E.call(e,g,S,br)})}let lp=function(g){let S=null;if(mt(B.beforeSanitizeElements,g,null),Js(g))return it(g),!0;let E=ve(g.nodeName);if(mt(B.uponSanitizeElement,g,{tagName:E,allowedTags:ae}),xn&&g.hasChildNodes()&&!sp(g.firstElementChild)&&$e(/<[/\w!]/g,g.innerHTML)&&$e(/<[/\w!]/g,g.textContent)||g.nodeType===gi.progressingInstruction||xn&&g.nodeType===gi.comment&&$e(/<[/\w]/g,g.data))return it(g),!0;if(!ae[E]||li[E]){if(!li[E]&&cp(E)&&(J.tagNameCheck instanceof RegExp&&$e(J.tagNameCheck,E)||J.tagNameCheck instanceof Function&&J.tagNameCheck(E)))return!1;if(Vs&&!gr[E]){let re=v(g)||g.parentNode,we=k(g)||g.childNodes;if(we&&re){let ge=we.length;for(let De=ge-1;De>=0;--De){let ht=b(we[De],!0);ht.__removalCount=(g.__removalCount||0)+1,re.insertBefore(ht,A(g))}}}return it(g),!0}return g instanceof l&&!Av(g)||(E==="noscript"||E==="noembed"||E==="noframes")&&$e(/<\/no(script|embed|frames)/i,g.innerHTML)?(it(g),!0):(hr&&g.nodeType===gi.text&&(S=g.textContent,En([ce,te,Ce],re=>{S=hi(S,re," ")}),g.textContent!==S&&(mi(e.removed,{element:g.cloneNode()}),g.textContent=S)),mt(B.afterSanitizeElements,g,null),!1)},up=function(g,S,E){if(Kh&&(S==="id"||S==="name")&&(E in r||E in $v))return!1;if(!(Zs&&!Fs[S]&&$e(We,S))){if(!(Vh&&$e(Me,S))){if(!fe[S]||Fs[S]){if(!(cp(g)&&(J.tagNameCheck instanceof RegExp&&$e(J.tagNameCheck,g)||J.tagNameCheck instanceof Function&&J.tagNameCheck(g))&&(J.attributeNameCheck instanceof RegExp&&$e(J.attributeNameCheck,S)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(S))||S==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&$e(J.tagNameCheck,E)||J.tagNameCheck instanceof Function&&J.tagNameCheck(E))))return!1}else if(!Hs[S]){if(!$e(Je,hi(E,dr,""))){if(!((S==="src"||S==="xlink:href"||S==="href")&&g!=="script"&&Zv(E,"data:")===0&&Qh[g])){if(!(Hh&&!$e(Zt,hi(E,dr,"")))){if(E)return!1}}}}}}return!0},cp=function(g){return g!=="annotation-xml"&&gp(g,Wt)},dp=function(g){mt(B.beforeSanitizeAttributes,g,null);let{attributes:S}=g;if(!S||Js(g))return;let E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe,forceKeepAttr:void 0},re=S.length;for(;re--;){let we=S[re],{name:ge,namespaceURI:De,value:ht}=we,di=ve(ge),Qs=ht,Se=ge==="value"?Qs:Wv(Qs);if(E.attrName=di,E.attrValue=Se,E.keepAttr=!0,E.forceKeepAttr=void 0,mt(B.uponSanitizeAttribute,g,E),Se=E.attrValue,Xh&&(di==="id"||di==="name")&&(vr(ge,g),Se=wv+Se),xn&&$e(/((--!?|])>)|<\/(style|title)/i,Se)){vr(ge,g);continue}if(E.forceKeepAttr)continue;if(!E.keepAttr){vr(ge,g);continue}if(!Yh&&$e(/\/>/i,Se)){vr(ge,g);continue}hr&&En([ce,te,Ce],hp=>{Se=hi(Se,hp," ")});let mp=ve(g.nodeName);if(!up(mp,di,Se)){vr(ge,g);continue}if(w&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!De)switch(f.getAttributeType(mp,di)){case"TrustedHTML":{Se=w.createHTML(Se);break}case"TrustedScriptURL":{Se=w.createScriptURL(Se);break}}if(Se!==Qs)try{De?g.setAttributeNS(De,ge,Se):g.setAttribute(ge,Se),Js(g)?it(g):fp(e.removed)}catch{vr(ge,g)}}mt(B.afterSanitizeAttributes,g,null)},Ev=function C(g){let S=null,E=op(g);for(mt(B.beforeSanitizeShadowDOM,g,null);S=E.nextNode();)mt(B.uponSanitizeShadowNode,S,null),lp(S),dp(S),S.content instanceof a&&C(S.content);mt(B.afterSanitizeShadowDOM,g,null)};return e.sanitize=function(C){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=null,E=null,re=null,we=null;if(Ys=!C,Ys&&(C="<!-->"),typeof C!="string"&&!sp(C))if(typeof C.toString=="function"){if(C=C.toString(),typeof C!="string")throw pi("dirty is not a string, aborting")}else throw pi("toString is not a function");if(!e.isSupported)return C;if(Ws||Xs(g),e.removed=[],typeof C=="string"&&(ui=!1),ui){if(C.nodeName){let ht=ve(C.nodeName);if(!ae[ht]||li[ht])throw pi("root node is forbidden and cannot be sanitized in-place")}}else if(C instanceof s)S=ap("<!---->"),E=S.ownerDocument.importNode(C,!0),E.nodeType===gi.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?S=E:S.appendChild(E);else{if(!pr&&!hr&&!qt&&C.indexOf("<")===-1)return w&&Sn?w.createHTML(C):C;if(S=ap(C),!S)return pr?null:Sn?N:""}S&&qs&&it(S.firstChild);let ge=op(ui?C:S);for(;re=ge.nextNode();)lp(re),dp(re),re.content instanceof a&&Ev(re.content);if(ui)return C;if(pr){if(wn)for(we=q.call(S.ownerDocument);S.firstChild;)we.appendChild(S.firstChild);else we=S;return(fe.shadowroot||fe.shadowrootmode)&&(we=X.call(n,we,!0)),we}let De=qt?S.outerHTML:S.innerHTML;return qt&&ae["!doctype"]&&S.ownerDocument&&S.ownerDocument.doctype&&S.ownerDocument.doctype.name&&$e(kp,S.ownerDocument.doctype.name)&&(De="<!DOCTYPE "+S.ownerDocument.doctype.name+`>
`+De),hr&&En([ce,te,Ce],ht=>{De=hi(De,ht," ")}),w&&Sn?w.createHTML(De):De},e.setConfig=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xs(C),Ws=!0},e.clearConfig=function(){br=null,Ws=!1},e.isValidAttribute=function(C,g,S){br||Xs({});let E=ve(C),re=ve(g);return up(E,re,S)},e.addHook=function(C,g){typeof g=="function"&&mi(B[C],g)},e.removeHook=function(C,g){if(g!==void 0){let S=Gv(B[C],g);return S===-1?void 0:Fv(B[C],S,1)[0]}return fp(B[C])},e.removeHooks=function(C){B[C]=[]},e.removeAllHooks=function(){B=xp()},e}var oT=Ip();var Mn=["Akkadian","Babylonian","Sumerian","Hittite","Phoenician","Canaanite","Minoan","Mycenaean","Etruscan","Scythian","Thracian","Dacian","Illyrian","Median","Chaldean","Roman","Greek","Byzantine","Persian","Parthian","Seleucid","Ptolemaic","Palmyrene","Macedonian","Carthaginian","Ming","Tang","Song","Yuan","Mauryan","Kushan","Rajput","Mughal","Satavahana","Vijayanagara","Egyptian","Nubian","Kushite","Aksumite","Ethiopian","Songhai","Malian","Ghanaian","Benin","Ashanti","Zulu","Tuareg","Berber","Kanem-Bornu","Buganda","Mossi","Swahili","Somali","Wolof","Umayyad","Abbasid","Ayyubid","Fatimid","Mamluk","Seljuk","Safavid","Ottoman","Almoravid","Almohad","Rashidun","Ziyarid","Frankish","Visigothic","Ostrogothic","Viking","Norman","Saxon","Anglo-Saxon","Celtic","Gaulish","Carolingian","Merovingian","Capetian","Plantagenet","Tudor","Stuart","Habsburg","Romanov","Lancaster","York","Bourbon","Napoleonic","British","French","Spanish","Portuguese","Dutch","Russian","German","Italian","Swedish","Norwegian","Danish","Polish","Hungarian","Austrian","Swiss","Czech","Slovak","Serbian","Croatian","Bosnian","Montenegrin","Bulgarian","Romanian","Apache","Sioux","Cherokee","Navajo","Iroquois","Inuit","Arawak","Carib","Taino","Aztec","Mayan","Incan","Mapuche","Guarani","Tupi","Yanomami","Zuni","Hopi","Kiowa","Comanche","Shoshone","Japanese","Ryukyu","Ainu","Cham","Khmer","Thai","Vietnamese","Burmese","Balinese","Malay","Filipino","Mongolian","Korean","Tibetan","Manchu","Uyghur","Hmong","Karen","Pyu","Hawaiian","Fijian","Tongan","Samoan","Maori","Micronesian","Hebrew","Armenian","Circassian","Georgian","Phoenician","Chaldean","Kurdish","Turkic","Kazakh","Uzbek","Kyrgyz","Tajik","Uighur","Pashtun","Baloch","Afghan","Persian","Kenyan","Ugandan","Bhutanese","Latin","Moldovan","Militant","Spartan"],Dn=["Empire","Dynasty","Kingdom","Queendom","Sultanate","Confederation","Union","Republic","Caliphate","Dominion","Realm","State","Federation","Territory","Commonwealth","League","Duchy","Province","Protectorate","Colony","Mandate","Free State","Canton","Region","Nation","Assembly","Hierarchy","Archduchy","Grand Duchy","Metropolis","Cluster","Alliance","Tribunal","Council","Confederacy","Order","Regime","Dominion","Syndicate","Guild","Corporation","Patriarchy","Matriarchy","Legion","Horde","Clan","Brotherhood","Sisterhood","Ascendancy","Supremacy","Province","Tribe","Dominion","Assembly","Republics","Army","Dictatorship","Country","Oligarchy","Monkdom","Throng","Host","Area","District","Fief","Wilderness","Settlement","Parliament","Anarchy","Democracy","Autocracy"];function $t(t,e,r){return Math.min(Math.max(t,e),r)}function Nn(t,e){let r=typeof e=="number"?e:e.tile();return(n,i)=>t.manhattanDist(n.tile(),r)-t.manhattanDist(i.tile(),r)}function F(t){let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return Math.abs(e)}function Ve(t,e){let r=1/0,n=1/0,i=-1/0,a=-1/0;return e.forEach(o=>{let s=t.cell(o);r=Math.min(r,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),a=Math.max(a,s.y)}),{min:new ee(r,n),max:new ee(i,a)}}function ul(t,e,r){let n=[],i=t.x(e),a=t.y(e),o=i-r,s=i+r,l=a-r,d=a+r;for(let c=o;c<=s;c++)t.isValidCoord(c,l)&&n.push(t.ref(c,l)),t.isValidCoord(c,d)&&l!==d&&n.push(t.ref(c,d));for(let c=l+1;c<d;c++)t.isValidCoord(o,c)&&n.push(t.ref(o,c)),t.isValidCoord(s,c)&&o!==s&&n.push(t.ref(s,c));return n}function $p(t){let e=null,r=0;for(let[n,i]of t)i>r&&(r=i,e=n);return e}function Ap(t,e){let{min:r,max:n}=Ve(t,e);return cl({min:r,max:n})}function cl(t){return new ee(t.min.x+Math.floor((t.max.x-t.min.x)/2),t.min.y+Math.floor((t.max.y-t.min.y)/2))}function dl(t,e){return t.min.x<=e.min.x&&t.min.y<=e.min.y&&t.max.x>=e.max.x&&t.max.y>=e.max.y}function Un(t){return Array.from(t).join("").replace(/[^\p{L}\p{N}\s\p{Emoji}\p{Emoji_Component}[\]_]/gu,"")}function On(t){throw new Error("Unexpected value: "+t)}function et(t){return BigInt(t===1/0?Number.MAX_SAFE_INTEGER:t===-1/0?Number.MIN_SAFE_INTEGER:Math.floor(t))}function sT(t,e){return t>e?t:e}function zn(t,e){return t<e?t:e}function Ep(t,e,r){let n=sT(t,e);return zn(n,r)}var lT=[["\u{1F600}","\u{1F60A}","\u{1F970}","\u{1F607}","\u{1F60E}"],["\u{1F61E}","\u{1F97A}","\u{1F62D}","\u{1F631}","\u{1F621}"],["\u{1F608}","\u{1F921}","\u{1F971}","\u{1FAE1}","\u{1F595}"],["\u{1F44B}","\u{1F44F}","\u270B","\u{1F64F}","\u{1F4AA}"],["\u{1F44D}","\u{1F44E}","\u{1FAF4}","\u{1F90C}","\u{1F926}\u200D\u2642\uFE0F"],["\u{1F91D}","\u{1F198}","\u{1F54A}\uFE0F","\u{1F3F3}\uFE0F","\u23F3"],["\u{1F525}","\u{1F4A5}","\u{1F480}","\u2622\uFE0F","\u26A0\uFE0F"],["\u2196\uFE0F","\u2B06\uFE0F","\u2197\uFE0F","\u{1F451}","\u{1F947}"],["\u2B05\uFE0F","\u{1F3AF}","\u27A1\uFE0F","\u{1F948}","\u{1F949}"],["\u2199\uFE0F","\u2B07\uFE0F","\u2198\uFE0F","\u2764\uFE0F","\u{1F494}"],["\u{1F4B0}","\u2693","\u26F5","\u{1F3E1}","\u{1F6E1}\uFE0F"],["\u{1F3ED}","\u{1F682}","\u2753","\u{1F414}","\u{1F400}"]],jn=lT.flat();function ml(t,e,r){return 1/(1+Math.exp(-e*(t-r)))}function Rp(t){let e=Mp(t);return e?e[1].toUpperCase():null}function Cp(t){let e=Mp(t);return e?e[1]:null}function Mp(t){return!t.includes("[")||!t.includes("]")?null:t.match(/\[([a-zA-Z0-9]{2,5})\]/)}var tt="AllPlayers";var Bn="Duos",Gn="Trios",Fn="Quads",yi="Humans Vs Nations",V={Red:"Red",Blue:"Blue",Teal:"Teal",Purple:"Purple",Yellow:"Yellow",Orange:"Orange",Green:"Green",Bot:"Bot",Humans:"Humans",Nations:"Nations"};var Z=(A=>(A.TransportShip="Transport",A.Warship="Warship",A.Shell="Shell",A.SAMMissile="SAMMissile",A.Port="Port",A.AtomBomb="Atom Bomb",A.HydrogenBomb="Hydrogen Bomb",A.TradeShip="Trade Ship",A.MissileSilo="Missile Silo",A.DefensePost="Defense Post",A.SAMLauncher="SAM Launcher",A.City="City",A.MIRV="MIRV",A.MIRVWarhead="MIRV Warhead",A.Construction="Construction",A.Train="Train",A.Factory="Factory",A))(Z||{});var uT=new Set(["City","Construction","Defense Post","SAM Launcher","Missile Silo","Port","Factory"]);function Dp(t){return uT.has(t)}var Ln=class{constructor(e,r,n){this.spawnCell=e;this.strength=r;this.playerInfo=n}},ee=class{constructor(e,r){this.x=e;this.y=r;this.strRepr=`Cell[${this.x},${this.y}]`}pos(){return{x:this.x,y:this.y}}toString(){return this.strRepr}};var Ht=class{constructor(e,r,n,i,a){this.name=e;this.playerType=r;this.clientID=n;this.id=i;this.nation=a;this.clan=Rp(e)}};function bi(t){return t&&typeof t=="object"&&"isUnit"in t&&typeof t.isUnit=="function"&&t.isUnit()}function hl(t,e){let r=e.largestClusterBoundingBox??Ve(t,e.borderTiles()),n=1,i=r.max.x-r.min.x,a=r.max.y-r.min.y,o=Math.min(i,a);o<25?n=1:o<50?n=2:o<100?n=4:o<250?n=8:o<500?n=16:n=32;let s=cT(t,e,r,n),l=dT(s);l.x=l.x*n,l.y=l.y*n,l.width=l.width*n,l.height=l.height*n;let d=new ee(Math.floor(l.x+l.width/2+r.min.x),Math.floor(l.y+l.height/2+r.min.y)),c=hT(l,e.name());return d=new ee(d.x,d.y-c/3),{x:Math.ceil(d.x),y:Math.ceil(d.y),size:c}}function cT(t,e,r,n){let i={min:{x:Math.floor(r.min.x/n),y:Math.floor(r.min.y/n)},max:{x:Math.floor(r.max.x/n),y:Math.floor(r.max.y/n)}},a=i.max.x-i.min.x+1,o=i.max.y-i.min.y+1,s=Array(a).fill(null).map(()=>Array(o).fill(!1));for(let l=i.min.x;l<=i.max.x;l++)for(let d=i.min.y;d<=i.max.y;d++){let c=new ee(l*n,d*n);if(t.isOnMap(c)){let m=t.ref(c.x,c.y);s[l-i.min.x][d-i.min.y]=t.isLake(m)||t.owner(m)===e||t.hasFallout(m)}}return s}function dT(t){let e=t[0].length,r=t.length,n=new Array(r).fill(0),i={x:0,y:0,width:0,height:0};for(let a=0;a<e;a++){for(let s=0;s<r;s++)t[s][a]?n[s]++:n[s]=0;let o=mT(n);o.width*o.height>i.width*i.height&&(i={x:o.x,y:a-o.height+1,width:o.width,height:o.height})}return i}function mT(t){let e=[],r=0,n={x:0,y:0,width:0,height:0};for(let i=0;i<=t.length;i++){let a=i===t.length?0:t[i];for(;e.length>0&&a<t[e[e.length-1]];){let o=t[e.pop()],s=e.length===0?i:i-e[e.length-1]-1;o*s>r&&(r=o*s,n={x:e.length===0?0:e[e.length-1]+1,y:0,width:s,height:o})}e.push(i)}return n}function hT(t,e){let r=t.width/e.length*2,n=t.height/3;return Math.min(r,n)}var he={};Vt(he,{$brand:()=>fl,$input:()=>Ac,$output:()=>$c,NEVER:()=>pl,TimePrecision:()=>Cc,ZodAny:()=>Qf,ZodArray:()=>ig,ZodBase64:()=>Gd,ZodBase64URL:()=>Fd,ZodBigInt:()=>tn,ZodBigIntFormat:()=>qd,ZodBoolean:()=>en,ZodCIDRv4:()=>Ld,ZodCIDRv6:()=>Bd,ZodCUID:()=>Md,ZodCUID2:()=>Dd,ZodCatch:()=>xg,ZodCustom:()=>Fa,ZodCustomStringFormat:()=>qf,ZodDate:()=>La,ZodDefault:()=>gg,ZodDiscriminatedUnion:()=>ng,ZodE164:()=>Zd,ZodEmail:()=>Ad,ZodEmoji:()=>Rd,ZodEnum:()=>Xi,ZodError:()=>Q1,ZodFile:()=>pg,ZodFirstPartyTypeKind:()=>tm,ZodGUID:()=>Da,ZodIPv4:()=>zd,ZodIPv6:()=>jd,ZodISODate:()=>Ea,ZodISODateTime:()=>Aa,ZodISODuration:()=>Ca,ZodISOTime:()=>Ra,ZodIntersection:()=>ag,ZodIssueCode:()=>ix,ZodJWT:()=>Wd,ZodKSUID:()=>Od,ZodLazy:()=>$g,ZodLiteral:()=>mg,ZodMap:()=>ug,ZodNaN:()=>Sg,ZodNanoID:()=>Cd,ZodNever:()=>tg,ZodNonOptional:()=>Qd,ZodNull:()=>Xf,ZodNullable:()=>fg,ZodNumber:()=>Qi,ZodNumberFormat:()=>Rr,ZodObject:()=>Ba,ZodOptional:()=>Jd,ZodPipe:()=>em,ZodPrefault:()=>bg,ZodPromise:()=>Eg,ZodReadonly:()=>Pg,ZodRealError:()=>Er,ZodRecord:()=>Yd,ZodSet:()=>cg,ZodString:()=>Ji,ZodStringFormat:()=>Q,ZodSuccess:()=>_g,ZodSymbol:()=>Yf,ZodTemplateLiteral:()=>Ig,ZodTransform:()=>Kd,ZodTuple:()=>sg,ZodType:()=>O,ZodULID:()=>Nd,ZodURL:()=>Ed,ZodUUID:()=>Tt,ZodUndefined:()=>Kf,ZodUnion:()=>Hd,ZodUnknown:()=>eg,ZodVoid:()=>rg,ZodXID:()=>Ud,_ZodString:()=>$d,_default:()=>yg,any:()=>M_,array:()=>Vd,base64:()=>v_,base64url:()=>T_,bigint:()=>$_,boolean:()=>Hf,catch:()=>wg,check:()=>Rg,cidrv4:()=>y_,cidrv6:()=>b_,clone:()=>je,coerce:()=>rm,config:()=>me,core:()=>vt,cuid:()=>c_,cuid2:()=>d_,custom:()=>J_,date:()=>N_,discriminatedUnion:()=>L_,e164:()=>__,email:()=>t_,emoji:()=>l_,endsWith:()=>Fi,enum:()=>dg,file:()=>q_,flattenError:()=>$i,float32:()=>S_,float64:()=>P_,formatError:()=>Ai,function:()=>gd,getErrorMap:()=>ax,globalRegistry:()=>at,gt:()=>yt,gte:()=>Ue,guid:()=>r_,includes:()=>Bi,instanceof:()=>Q_,int:()=>Id,int32:()=>k_,int64:()=>A_,intersection:()=>og,ipv4:()=>f_,ipv6:()=>g_,iso:()=>Ma,json:()=>tx,jwt:()=>x_,keyof:()=>U_,ksuid:()=>p_,lazy:()=>Ag,length:()=>Ar,literal:()=>hg,locales:()=>Ni,looseObject:()=>j_,lowercase:()=>ji,lt:()=>gt,lte:()=>He,map:()=>F_,maxLength:()=>$r,maxSize:()=>Ir,mime:()=>Zi,minLength:()=>Et,minSize:()=>rr,multipleOf:()=>tr,nan:()=>Y_,nanoid:()=>u_,nativeEnum:()=>W_,negative:()=>od,never:()=>ja,nonnegative:()=>ld,nonoptional:()=>Tg,nonpositive:()=>sd,normalize:()=>Wi,null:()=>Jf,nullable:()=>Oa,nullish:()=>V_,number:()=>Vf,object:()=>O_,optional:()=>Ua,overwrite:()=>bt,parse:()=>xd,parseAsync:()=>wd,partialRecord:()=>G_,pipe:()=>za,positive:()=>ad,prefault:()=>vg,preprocess:()=>rx,prettifyError:()=>$l,promise:()=>X_,property:()=>ud,readonly:()=>kg,record:()=>lg,refine:()=>Cg,regex:()=>zi,regexes:()=>Jt,registry:()=>oa,safeParse:()=>Sd,safeParseAsync:()=>Pd,set:()=>Z_,setErrorMap:()=>nx,size:()=>Oi,startsWith:()=>Gi,strictObject:()=>z_,string:()=>kd,stringFormat:()=>w_,stringbool:()=>ex,success:()=>H_,superRefine:()=>Mg,symbol:()=>R_,templateLiteral:()=>K_,toJSONSchema:()=>yd,toLowerCase:()=>Vi,toUpperCase:()=>Hi,transform:()=>Xd,treeifyError:()=>Il,trim:()=>qi,tuple:()=>B_,uint32:()=>I_,uint64:()=>E_,ulid:()=>m_,undefined:()=>C_,union:()=>Ga,unknown:()=>Na,uppercase:()=>Li,url:()=>s_,uuid:()=>i_,uuidv4:()=>n_,uuidv6:()=>a_,uuidv7:()=>o_,void:()=>D_,xid:()=>h_});var vt={};Vt(vt,{$ZodAny:()=>rc,$ZodArray:()=>Ci,$ZodAsyncError:()=>nt,$ZodBase64:()=>qu,$ZodBase64URL:()=>Vu,$ZodBigInt:()=>ia,$ZodBigIntFormat:()=>Ju,$ZodBoolean:()=>Ri,$ZodCIDRv4:()=>Fu,$ZodCIDRv6:()=>Zu,$ZodCUID:()=>Cu,$ZodCUID2:()=>Mu,$ZodCatch:()=>_c,$ZodCheck:()=>oe,$ZodCheckBigIntFormat:()=>lu,$ZodCheckEndsWith:()=>Tu,$ZodCheckGreaterThan:()=>Qn,$ZodCheckIncludes:()=>bu,$ZodCheckLengthEquals:()=>pu,$ZodCheckLessThan:()=>Jn,$ZodCheckLowerCase:()=>gu,$ZodCheckMaxLength:()=>mu,$ZodCheckMaxSize:()=>uu,$ZodCheckMimeType:()=>xu,$ZodCheckMinLength:()=>hu,$ZodCheckMinSize:()=>cu,$ZodCheckMultipleOf:()=>ou,$ZodCheckNumberFormat:()=>su,$ZodCheckOverwrite:()=>wu,$ZodCheckProperty:()=>_u,$ZodCheckRegex:()=>fu,$ZodCheckSizeEquals:()=>du,$ZodCheckStartsWith:()=>vu,$ZodCheckStringFormat:()=>wr,$ZodCheckUpperCase:()=>yu,$ZodCustom:()=>Ic,$ZodCustomStringFormat:()=>Ku,$ZodDate:()=>ac,$ZodDefault:()=>yc,$ZodDiscriminatedUnion:()=>sc,$ZodE164:()=>Hu,$ZodEmail:()=>$u,$ZodEmoji:()=>Eu,$ZodEnum:()=>mc,$ZodError:()=>Ii,$ZodFile:()=>pc,$ZodFunction:()=>$a,$ZodGUID:()=>ku,$ZodIPv4:()=>Bu,$ZodIPv6:()=>Gu,$ZodISODate:()=>zu,$ZodISODateTime:()=>Ou,$ZodISODuration:()=>Lu,$ZodISOTime:()=>ju,$ZodIntersection:()=>lc,$ZodJWT:()=>Yu,$ZodKSUID:()=>Uu,$ZodLazy:()=>kc,$ZodLiteral:()=>hc,$ZodMap:()=>cc,$ZodNaN:()=>xc,$ZodNanoID:()=>Ru,$ZodNever:()=>ic,$ZodNonOptional:()=>vc,$ZodNull:()=>tc,$ZodNullable:()=>gc,$ZodNumber:()=>ra,$ZodNumberFormat:()=>Xu,$ZodObject:()=>oc,$ZodOptional:()=>fc,$ZodPipe:()=>Di,$ZodPrefault:()=>bc,$ZodPromise:()=>Pc,$ZodReadonly:()=>wc,$ZodRealError:()=>xr,$ZodRecord:()=>uc,$ZodRegistry:()=>Pr,$ZodSet:()=>dc,$ZodString:()=>Qt,$ZodStringFormat:()=>K,$ZodSuccess:()=>Tc,$ZodSymbol:()=>Qu,$ZodTemplateLiteral:()=>Sc,$ZodTransform:()=>Mi,$ZodTuple:()=>er,$ZodType:()=>M,$ZodULID:()=>Du,$ZodURL:()=>Au,$ZodUUID:()=>Iu,$ZodUndefined:()=>ec,$ZodUnion:()=>na,$ZodUnknown:()=>Sr,$ZodVoid:()=>nc,$ZodXID:()=>Nu,$brand:()=>fl,$constructor:()=>y,$input:()=>Ac,$output:()=>$c,Doc:()=>Ei,JSONSchema:()=>Ff,JSONSchemaGenerator:()=>Ki,NEVER:()=>pl,TimePrecision:()=>Cc,_any:()=>Qc,_array:()=>Yi,_base64:()=>Sa,_base64url:()=>Pa,_bigint:()=>qc,_boolean:()=>Zc,_catch:()=>q1,_cidrv4:()=>xa,_cidrv6:()=>wa,_coercedBigint:()=>Vc,_coercedBoolean:()=>Wc,_coercedDate:()=>id,_coercedNumber:()=>zc,_coercedString:()=>Rc,_cuid:()=>fa,_cuid2:()=>ga,_custom:()=>md,_date:()=>rd,_default:()=>F1,_discriminatedUnion:()=>C1,_e164:()=>ka,_email:()=>sa,_emoji:()=>ha,_endsWith:()=>Fi,_enum:()=>O1,_file:()=>dd,_float32:()=>Lc,_float64:()=>Bc,_gt:()=>yt,_gte:()=>Ue,_guid:()=>Ui,_includes:()=>Bi,_int:()=>jc,_int32:()=>Gc,_int64:()=>Hc,_intersection:()=>M1,_ipv4:()=>Ta,_ipv6:()=>_a,_isoDate:()=>Dc,_isoDateTime:()=>Mc,_isoDuration:()=>Uc,_isoTime:()=>Nc,_jwt:()=>Ia,_ksuid:()=>va,_lazy:()=>K1,_length:()=>Ar,_literal:()=>j1,_lowercase:()=>ji,_lt:()=>gt,_lte:()=>He,_map:()=>N1,_max:()=>He,_maxLength:()=>$r,_maxSize:()=>Ir,_mime:()=>Zi,_min:()=>Ue,_minLength:()=>Et,_minSize:()=>rr,_multipleOf:()=>tr,_nan:()=>nd,_nanoid:()=>pa,_nativeEnum:()=>z1,_negative:()=>od,_never:()=>ed,_nonnegative:()=>ld,_nonoptional:()=>Z1,_nonpositive:()=>sd,_normalize:()=>Wi,_null:()=>Jc,_nullable:()=>G1,_number:()=>Oc,_optional:()=>B1,_overwrite:()=>bt,_parse:()=>Wn,_parseAsync:()=>Vn,_pipe:()=>V1,_positive:()=>ad,_promise:()=>X1,_property:()=>ud,_readonly:()=>H1,_record:()=>D1,_refine:()=>hd,_regex:()=>zi,_safeParse:()=>Yn,_safeParseAsync:()=>Kn,_set:()=>U1,_size:()=>Oi,_startsWith:()=>Gi,_string:()=>Ec,_stringFormat:()=>fd,_stringbool:()=>pd,_success:()=>W1,_symbol:()=>Kc,_templateLiteral:()=>Y1,_toLowerCase:()=>Vi,_toUpperCase:()=>Hi,_transform:()=>L1,_trim:()=>qi,_tuple:()=>cd,_uint32:()=>Fc,_uint64:()=>Yc,_ulid:()=>ya,_undefined:()=>Xc,_union:()=>R1,_unknown:()=>kr,_uppercase:()=>Li,_url:()=>ma,_uuid:()=>la,_uuidv4:()=>ua,_uuidv6:()=>ca,_uuidv7:()=>da,_void:()=>td,_xid:()=>ba,clone:()=>je,config:()=>me,flattenError:()=>$i,formatError:()=>Ai,function:()=>gd,globalConfig:()=>vi,globalRegistry:()=>at,isValidBase64:()=>Wu,isValidBase64URL:()=>Qp,isValidJWT:()=>ef,locales:()=>Ni,parse:()=>qn,parseAsync:()=>Hn,prettifyError:()=>$l,regexes:()=>Jt,registry:()=>oa,safeParse:()=>Al,safeParseAsync:()=>El,toDotPath:()=>Up,toJSONSchema:()=>yd,treeifyError:()=>Il,util:()=>$,version:()=>Su});var pl=Object.freeze({status:"aborted"});function y(t,e,r){function n(s,l){var d;Object.defineProperty(s,"_zod",{value:s._zod??{},enumerable:!1}),(d=s._zod).traits??(d.traits=new Set),s._zod.traits.add(t),e(s,l);for(let c in o.prototype)c in s||Object.defineProperty(s,c,{value:o.prototype[c].bind(s)});s._zod.constr=o,s._zod.def=l}let i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function o(s){var l;let d=r?.Parent?new a:this;n(d,s),(l=d._zod).deferred??(l.deferred=[]);for(let c of d._zod.deferred)c();return d}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?!0:s?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}var fl=Symbol("zod_brand"),nt=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},vi={};function me(t){return t&&Object.assign(vi,t),vi}var $={};Vt($,{BIGINT_FORMAT_RANGES:()=>Pl,Class:()=>yl,NUMBER_FORMAT_RANGES:()=>Sl,aborted:()=>Kt,allowsEval:()=>_l,assert:()=>bT,assertEqual:()=>pT,assertIs:()=>gT,assertNever:()=>yT,assertNotEqual:()=>fT,assignProp:()=>Tl,cached:()=>xi,captureStackTrace:()=>Zn,cleanEnum:()=>RT,cleanRegex:()=>wi,clone:()=>je,createTransparentProxy:()=>ST,defineLazy:()=>W,esc:()=>Yt,escapeRegex:()=>ft,extend:()=>IT,finalizeIssue:()=>Le,floatSafeRemainder:()=>vl,getElementAtPath:()=>vT,getEnumValues:()=>_i,getLengthableOrigin:()=>ki,getParsedType:()=>wT,getSizableOrigin:()=>Pi,isObject:()=>Tr,isPlainObject:()=>_r,issue:()=>kl,joinValues:()=>x,jsonStringifyReplacer:()=>bl,merge:()=>$T,normalizeParams:()=>P,nullish:()=>At,numKeys:()=>xT,omit:()=>kT,optionalKeys:()=>wl,partial:()=>AT,pick:()=>PT,prefixIssues:()=>Ne,primitiveTypes:()=>xl,promiseAllObject:()=>TT,propertyKeyTypes:()=>Si,randomString:()=>_T,required:()=>ET,stringifyPrimitive:()=>I,unwrapMessage:()=>Ti});function pT(t){return t}function fT(t){return t}function gT(t){}function yT(t){throw new Error}function bT(t){}function _i(t){let e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function x(t,e="|"){return t.map(r=>I(r)).join(e)}function bl(t,e){return typeof e=="bigint"?e.toString():e}function xi(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function At(t){return t==null}function wi(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function vl(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}function W(t,e,r){Object.defineProperty(t,e,{get(){{let i=r();return t[e]=i,i}throw new Error("cached value already set")},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Tl(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function vT(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function TT(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let a=0;a<e.length;a++)i[e[a]]=n[a];return i})}function _T(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function Yt(t){return JSON.stringify(t)}var Zn=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Tr(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var _l=xi(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function _r(t){if(Tr(t)===!1)return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(Tr(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function xT(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var wT=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},Si=new Set(["string","number","symbol"]),xl=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ft(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function je(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function P(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function ST(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,a){return e??(e=t()),Reflect.set(e,n,i,a)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function I(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function wl(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var Sl={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Pl={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function PT(t,e){let r={},n=t._zod.def;for(let i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(r[i]=n.shape[i])}return je(t,{...t._zod.def,shape:r,checks:[]})}function kT(t,e){let r={...t._zod.def.shape},n=t._zod.def;for(let i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete r[i]}return je(t,{...t._zod.def,shape:r,checks:[]})}function IT(t,e){if(!_r(e))throw new Error("Invalid input to extend: expected a plain object");let r={...t._zod.def,get shape(){let n={...t._zod.def.shape,...e};return Tl(this,"shape",n),n},checks:[]};return je(t,r)}function $T(t,e){return je(t,{...t._zod.def,get shape(){let r={...t._zod.def.shape,...e._zod.def.shape};return Tl(this,"shape",r),r},catchall:e._zod.def.catchall,checks:[]})}function AT(t,e,r){let n=e._zod.def.shape,i={...n};if(r)for(let a in r){if(!(a in n))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=t?new t({type:"optional",innerType:n[a]}):n[a])}else for(let a in n)i[a]=t?new t({type:"optional",innerType:n[a]}):n[a];return je(e,{...e._zod.def,shape:i,checks:[]})}function ET(t,e,r){let n=e._zod.def.shape,i={...n};if(r)for(let a in r){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(i[a]=new t({type:"nonoptional",innerType:n[a]}))}else for(let a in n)i[a]=new t({type:"nonoptional",innerType:n[a]});return je(e,{...e._zod.def,shape:i,checks:[]})}function Kt(t,e=0){for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Ne(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Ti(t){return typeof t=="string"?t:t?.message}function Le(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=Ti(t.inst?._zod.def?.error?.(t))??Ti(e?.error?.(t))??Ti(r.customError?.(t))??Ti(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Pi(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function ki(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function kl(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function RT(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var yl=class{constructor(...e){}};var Np=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,bl,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Ii=y("$ZodError",Np),xr=y("$ZodError",Np,{Parent:Error});function $i(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function Ai(t,e){let r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>i({issues:s}));else if(o.code==="invalid_key")i({issues:o.issues});else if(o.code==="invalid_element")i({issues:o.issues});else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){let d=o.path[l];l===o.path.length-1?(s[d]=s[d]||{_errors:[]},s[d]._errors.push(r(o))):s[d]=s[d]||{_errors:[]},s=s[d],l++}}};return i(t),n}function Il(t,e){let r=e||function(a){return a.message},n={errors:[]},i=(a,o=[])=>{var s,l;for(let d of a.issues)if(d.code==="invalid_union"&&d.errors.length)d.errors.map(c=>i({issues:c},d.path));else if(d.code==="invalid_key")i({issues:d.issues},d.path);else if(d.code==="invalid_element")i({issues:d.issues},d.path);else{let c=[...o,...d.path];if(c.length===0){n.errors.push(r(d));continue}let m=n,h=0;for(;h<c.length;){let f=c[h],p=h===c.length-1;typeof f=="string"?(m.properties??(m.properties={}),(s=m.properties)[f]??(s[f]={errors:[]}),m=m.properties[f]):(m.items??(m.items=[]),(l=m.items)[f]??(l[f]={errors:[]}),m=m.items[f]),p&&m.errors.push(r(d)),h++}}};return i(t),n}function Up(t){let e=[];for(let r of t)typeof r=="number"?e.push(`[${r}]`):typeof r=="symbol"?e.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?e.push(`[${JSON.stringify(r)}]`):(e.length&&e.push("."),e.push(r));return e.join("")}function $l(t){let e=[],r=[...t.issues].sort((n,i)=>n.path.length-i.path.length);for(let n of r)e.push(`\u2716 ${n.message}`),n.path?.length&&e.push(`  \u2192 at ${Up(n.path)}`);return e.join(`
`)}var Wn=t=>(e,r,n,i)=>{let a=n?Object.assign(n,{async:!1}):{async:!1},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new nt;if(o.issues.length){let s=new(i?.Err??t)(o.issues.map(l=>Le(l,a,me())));throw Zn(s,i?.callee),s}return o.value},qn=Wn(xr),Vn=t=>async(e,r,n,i)=>{let a=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let s=new(i?.Err??t)(o.issues.map(l=>Le(l,a,me())));throw Zn(s,i?.callee),s}return o.value},Hn=Vn(xr),Yn=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},a=e._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new nt;return a.issues.length?{success:!1,error:new(t??Ii)(a.issues.map(o=>Le(o,i,me())))}:{success:!0,data:a.value}},Al=Yn(xr),Kn=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},a=e._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(o=>Le(o,i,me())))}:{success:!0,data:a.value}},El=Kn(xr);var Jt={};Vt(Jt,{base64:()=>Wl,base64url:()=>Xn,bigint:()=>Jl,boolean:()=>tu,browserEmail:()=>LT,cidrv4:()=>Fl,cidrv6:()=>Zl,cuid:()=>Rl,cuid2:()=>Cl,date:()=>Hl,datetime:()=>Kl,domain:()=>GT,duration:()=>Ol,e164:()=>Vl,email:()=>jl,emoji:()=>Ll,extendedDuration:()=>MT,guid:()=>zl,hostname:()=>ql,html5Email:()=>OT,integer:()=>Ql,ipv4:()=>Bl,ipv6:()=>Gl,ksuid:()=>Nl,lowercase:()=>nu,nanoid:()=>Ul,null:()=>ru,number:()=>eu,rfc5322Email:()=>zT,string:()=>Xl,time:()=>Yl,ulid:()=>Ml,undefined:()=>iu,unicodeEmail:()=>jT,uppercase:()=>au,uuid:()=>Xt,uuid4:()=>DT,uuid6:()=>NT,uuid7:()=>UT,xid:()=>Dl});var Rl=/^[cC][^\s-]{8,}$/,Cl=/^[0-9a-z]+$/,Ml=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Dl=/^[0-9a-vA-V]{20}$/,Nl=/^[A-Za-z0-9]{27}$/,Ul=/^[a-zA-Z0-9_-]{21}$/,Ol=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,MT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zl=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xt=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,DT=Xt(4),NT=Xt(6),UT=Xt(7),jl=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,OT=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zT=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,jT=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,LT=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,BT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Ll(){return new RegExp(BT,"u")}var Bl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Fl=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Zl=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wl=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Xn=/^[A-Za-z0-9_-]*$/,ql=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,GT=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Vl=/^\+(?:[0-9]){6,14}[0-9]$/,Op="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Hl=new RegExp(`^${Op}$`);function zp(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Yl(t){return new RegExp(`^${zp(t)}$`)}function Kl(t){let e=zp({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-]\\d{2}:\\d{2})");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${Op}T(?:${n})$`)}var Xl=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Jl=/^\d+n?$/,Ql=/^\d+$/,eu=/^-?\d+(?:\.\d+)?/i,tu=/true|false/i,ru=/null/i;var iu=/undefined/i;var nu=/^[^A-Z]*$/,au=/^[^a-z]*$/;var oe=y("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),Lp={number:"number",bigint:"bigint",object:"date"},Jn=y("$ZodCheckLessThan",(t,e)=>{oe.init(t,e);let r=Lp[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,a=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Qn=y("$ZodCheckGreaterThan",(t,e)=>{oe.init(t,e);let r=Lp[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,a=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ou=y("$ZodCheckMultipleOf",(t,e)=>{oe.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):vl(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),su=y("$ZodCheckNumberFormat",(t,e)=>{oe.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,a]=Sl[e.format];t._zod.onattach.push(o=>{let s=o._zod.bag;s.format=e.format,s.minimum=i,s.maximum=a,r&&(s.pattern=Ql)}),t._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s)){o.issues.push({expected:n,format:e.format,code:"invalid_type",input:s,inst:t});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}s<i&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:t})}}),lu=y("$ZodCheckBigIntFormat",(t,e)=>{oe.init(t,e);let[r,n]=Pl[e.format];t._zod.onattach.push(i=>{let a=i._zod.bag;a.format=e.format,a.minimum=r,a.maximum=n}),t._zod.check=i=>{let a=i.value;a<r&&i.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),a>n&&i.issues.push({origin:"bigint",input:a,code:"too_big",maximum:n,inst:t})}}),uu=y("$ZodCheckMaxSize",(t,e)=>{var r;oe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!At(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;i.size<=e.maximum||n.issues.push({origin:Pi(i),code:"too_big",maximum:e.maximum,input:i,inst:t,continue:!e.abort})}}),cu=y("$ZodCheckMinSize",(t,e)=>{var r;oe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!At(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;i.size>=e.minimum||n.issues.push({origin:Pi(i),code:"too_small",minimum:e.minimum,input:i,inst:t,continue:!e.abort})}}),du=y("$ZodCheckSizeEquals",(t,e)=>{var r;oe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!At(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.size,i.maximum=e.size,i.size=e.size}),t._zod.check=n=>{let i=n.value,a=i.size;if(a===e.size)return;let o=a>e.size;n.issues.push({origin:Pi(i),...o?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),mu=y("$ZodCheckMaxLength",(t,e)=>{var r;oe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!At(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;if(i.length<=e.maximum)return;let o=ki(i);n.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),hu=y("$ZodCheckMinLength",(t,e)=>{var r;oe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!At(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;if(i.length>=e.minimum)return;let o=ki(i);n.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),pu=y("$ZodCheckLengthEquals",(t,e)=>{var r;oe.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!At(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=n=>{let i=n.value,a=i.length;if(a===e.length)return;let o=ki(i),s=a>e.length;n.issues.push({origin:o,...s?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),wr=y("$ZodCheckStringFormat",(t,e)=>{var r,n;oe.init(t,e),t._zod.onattach.push(i=>{let a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),fu=y("$ZodCheckRegex",(t,e)=>{wr.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),gu=y("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=nu),wr.init(t,e)}),yu=y("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=au),wr.init(t,e)}),bu=y("$ZodCheckIncludes",(t,e)=>{oe.init(t,e);let r=ft(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),vu=y("$ZodCheckStartsWith",(t,e)=>{oe.init(t,e);let r=new RegExp(`^${ft(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),Tu=y("$ZodCheckEndsWith",(t,e)=>{oe.init(t,e);let r=new RegExp(`.*${ft(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});function jp(t,e,r){t.issues.length&&e.issues.push(...Ne(r,t.issues))}var _u=y("$ZodCheckProperty",(t,e)=>{oe.init(t,e),t._zod.check=r=>{let n=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>jp(i,r,e.property));jp(n,r,e.property)}}),xu=y("$ZodCheckMimeType",(t,e)=>{oe.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(n=>{n._zod.bag.mime=e.mime}),t._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:e.mime,input:n.value.type,inst:t})}}),wu=y("$ZodCheckOverwrite",(t,e)=>{oe.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var Ei=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let n=e.split(`
`).filter(o=>o),i=Math.min(...n.map(o=>o.length-o.trimStart().length)),a=n.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(let o of a)this.content.push(o)}compile(){let e=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...r,i.join(`
`))}};var Su={major:4,minor:0,patch:5};var M=y("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Su;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let a of i._zod.onattach)a(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(a,o,s)=>{let l=Kt(a),d;for(let c of o){if(c._zod.def.when){if(!c._zod.def.when(a))continue}else if(l)continue;let m=a.issues.length,h=c._zod.check(a);if(h instanceof Promise&&s?.async===!1)throw new nt;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,a.issues.length!==m&&(l||(l=Kt(a,m)))});else{if(a.issues.length===m)continue;l||(l=Kt(a,m))}}return d?d.then(()=>a):a};t._zod.run=(a,o)=>{let s=t._zod.parse(a,o);if(s instanceof Promise){if(o.async===!1)throw new nt;return s.then(l=>i(l,n,o))}return i(s,n,o)}}t["~standard"]={validate:i=>{try{let a=Al(t,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return El(t,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Qt=y("$ZodString",(t,e)=>{M.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Xl(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),K=y("$ZodStringFormat",(t,e)=>{wr.init(t,e),Qt.init(t,e)}),ku=y("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=zl),K.init(t,e)}),Iu=y("$ZodUUID",(t,e)=>{if(e.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Xt(n))}else e.pattern??(e.pattern=Xt());K.init(t,e)}),$u=y("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=jl),K.init(t,e)}),Au=y("$ZodURL",(t,e)=>{K.init(t,e),t._zod.check=r=>{try{let n=r.value,i=new URL(n),a=i.href;e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ql.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),!n.endsWith("/")&&a.endsWith("/")?r.value=a.slice(0,-1):r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),Eu=y("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Ll()),K.init(t,e)}),Ru=y("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Ul),K.init(t,e)}),Cu=y("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Rl),K.init(t,e)}),Mu=y("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Cl),K.init(t,e)}),Du=y("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Ml),K.init(t,e)}),Nu=y("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Dl),K.init(t,e)}),Uu=y("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Nl),K.init(t,e)}),Ou=y("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Kl(e)),K.init(t,e)}),zu=y("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Hl),K.init(t,e)}),ju=y("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=Yl(e)),K.init(t,e)}),Lu=y("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Ol),K.init(t,e)}),Bu=y("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Bl),K.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv4"})}),Gu=y("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=Gl),K.init(t,e),t._zod.onattach.push(r=>{let n=r._zod.bag;n.format="ipv6"}),t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),Fu=y("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Fl),K.init(t,e)}),Zu=y("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Zl),K.init(t,e),t._zod.check=r=>{let[n,i]=r.value.split("/");try{if(!i)throw new Error;let a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function Wu(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var qu=y("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Wl),K.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),t._zod.check=r=>{Wu(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function Qp(t){if(!Xn.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return Wu(r)}var Vu=y("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Xn),K.init(t,e),t._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),t._zod.check=r=>{Qp(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Hu=y("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Vl),K.init(t,e)});function ef(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var Yu=y("$ZodJWT",(t,e)=>{K.init(t,e),t._zod.check=r=>{ef(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Ku=y("$ZodCustomStringFormat",(t,e)=>{K.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),ra=y("$ZodNumber",(t,e)=>{M.init(t,e),t._zod.pattern=t._zod.bag.pattern??eu,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...a?{received:a}:{}}),r}}),Xu=y("$ZodNumber",(t,e)=>{su.init(t,e),ra.init(t,e)}),Ri=y("$ZodBoolean",(t,e)=>{M.init(t,e),t._zod.pattern=tu,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),ia=y("$ZodBigInt",(t,e)=>{M.init(t,e),t._zod.pattern=Jl,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),Ju=y("$ZodBigInt",(t,e)=>{lu.init(t,e),ia.init(t,e)}),Qu=y("$ZodSymbol",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),r}}),ec=y("$ZodUndefined",(t,e)=>{M.init(t,e),t._zod.pattern=iu,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),r}}),tc=y("$ZodNull",(t,e)=>{M.init(t,e),t._zod.pattern=ru,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),rc=y("$ZodAny",(t,e)=>{M.init(t,e),t._zod.parse=r=>r}),Sr=y("$ZodUnknown",(t,e)=>{M.init(t,e),t._zod.parse=r=>r}),ic=y("$ZodNever",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),nc=y("$ZodVoid",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),r}}),ac=y("$ZodDate",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...a?{received:"Invalid Date"}:{},inst:t}),r}});function Gp(t,e,r){t.issues.length&&e.issues.push(...Ne(r,t.issues)),e.value[r]=t.value}var Ci=y("$ZodArray",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let a=[];for(let o=0;o<i.length;o++){let s=i[o],l=e.element._zod.run({value:s,issues:[]},n);l instanceof Promise?a.push(l.then(d=>Gp(d,r,o))):Gp(l,r,o)}return a.length?Promise.all(a).then(()=>r):r}});function ea(t,e,r){t.issues.length&&e.issues.push(...Ne(r,t.issues)),e.value[r]=t.value}function Fp(t,e,r,n){t.issues.length?n[r]===void 0?r in n?e.value[r]=void 0:e.value[r]=t.value:e.issues.push(...Ne(r,t.issues)):t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}var oc=y("$ZodObject",(t,e)=>{M.init(t,e);let r=xi(()=>{let m=Object.keys(e.shape);for(let f of m)if(!(e.shape[f]instanceof M))throw new Error(`Invalid element at key "${f}": expected a Zod schema`);let h=wl(e.shape);return{shape:e.shape,keys:m,keySet:new Set(m),numKeys:m.length,optionalKeys:new Set(h)}});W(t._zod,"propValues",()=>{let m=e.shape,h={};for(let f in m){let p=m[f]._zod;if(p.values){h[f]??(h[f]=new Set);for(let b of p.values)h[f].add(b)}}return h});let n=m=>{let h=new Ei(["shape","payload","ctx"]),f=r.value,p=k=>{let v=Yt(k);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};h.write("const input = payload.value;");let b=Object.create(null),T=0;for(let k of f.keys)b[k]=`key_${T++}`;h.write("const newResult = {}");for(let k of f.keys)if(f.optionalKeys.has(k)){let v=b[k];h.write(`const ${v} = ${p(k)};`);let w=Yt(k);h.write(`
        if (${v}.issues.length) {
          if (input[${w}] === undefined) {
            if (${w} in input) {
              newResult[${w}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${v}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${w}, ...iss.path] : [${w}],
              }))
            );
          }
        } else if (${v}.value === undefined) {
          if (${w} in input) newResult[${w}] = undefined;
        } else {
          newResult[${w}] = ${v}.value;
        }
        `)}else{let v=b[k];h.write(`const ${v} = ${p(k)};`),h.write(`
          if (${v}.issues.length) payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Yt(k)}, ...iss.path] : [${Yt(k)}]
          })));`),h.write(`newResult[${Yt(k)}] = ${v}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");let A=h.compile();return(k,v)=>A(m,k,v)},i,a=Tr,o=!vi.jitless,l=o&&_l.value,d=e.catchall,c;t._zod.parse=(m,h)=>{c??(c=r.value);let f=m.value;if(!a(f))return m.issues.push({expected:"object",code:"invalid_type",input:f,inst:t}),m;let p=[];if(o&&l&&h?.async===!1&&h.jitless!==!0)i||(i=n(e.shape)),m=i(m,h);else{m.value={};let v=c.shape;for(let w of c.keys){let N=v[w],L=N._zod.run({value:f[w],issues:[]},h),G=N._zod.optin==="optional"&&N._zod.optout==="optional";L instanceof Promise?p.push(L.then(q=>G?Fp(q,m,w,f):ea(q,m,w))):G?Fp(L,m,w,f):ea(L,m,w)}}if(!d)return p.length?Promise.all(p).then(()=>m):m;let b=[],T=c.keySet,A=d._zod,k=A.def.type;for(let v of Object.keys(f)){if(T.has(v))continue;if(k==="never"){b.push(v);continue}let w=A.run({value:f[v],issues:[]},h);w instanceof Promise?p.push(w.then(N=>ea(N,m,v))):ea(w,m,v)}return b.length&&m.issues.push({code:"unrecognized_keys",keys:b,input:f,inst:t}),p.length?Promise.all(p).then(()=>m):m}});function Zp(t,e,r,n){for(let i of t)if(i.issues.length===0)return e.value=i.value,e;return e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(i=>i.issues.map(a=>Le(a,n,me())))}),e}var na=y("$ZodUnion",(t,e)=>{M.init(t,e),W(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),W(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),W(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),W(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){let r=e.options.map(n=>n._zod.pattern);return new RegExp(`^(${r.map(n=>wi(n.source)).join("|")})$`)}}),t._zod.parse=(r,n)=>{let i=!1,a=[];for(let o of e.options){let s=o._zod.run({value:r.value,issues:[]},n);if(s instanceof Promise)a.push(s),i=!0;else{if(s.issues.length===0)return s;a.push(s)}}return i?Promise.all(a).then(o=>Zp(o,r,t,n)):Zp(a,r,t,n)}}),sc=y("$ZodDiscriminatedUnion",(t,e)=>{na.init(t,e);let r=t._zod.parse;W(t._zod,"propValues",()=>{let i={};for(let a of e.options){let o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(let[s,l]of Object.entries(o)){i[s]||(i[s]=new Set);for(let d of l)i[s].add(d)}}return i});let n=xi(()=>{let i=e.options,a=new Map;for(let o of i){let s=o._zod.propValues?.[e.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let l of s){if(a.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);a.set(l,o)}}return a});t._zod.parse=(i,a)=>{let o=i.value;if(!Tr(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:t}),i;let s=n.value.get(o?.[e.discriminator]);return s?s._zod.run(i,a):e.unionFallback?r(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[e.discriminator],inst:t}),i)}}),lc=y("$ZodIntersection",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,a=e.left._zod.run({value:i,issues:[]},n),o=e.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([l,d])=>Wp(r,l,d)):Wp(r,a,o)}});function Pu(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(_r(t)&&_r(e)){let r=Object.keys(e),n=Object.keys(t).filter(a=>r.indexOf(a)!==-1),i={...t,...e};for(let a of n){let o=Pu(t[a],e[a]);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};i[a]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],a=e[n],o=Pu(i,a);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Wp(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),Kt(t))return t;let n=Pu(e.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}var er=y("$ZodTuple",(t,e)=>{M.init(t,e);let r=e.items,n=r.length-[...r].reverse().findIndex(i=>i._zod.optin!=="optional");t._zod.parse=(i,a)=>{let o=i.value;if(!Array.isArray(o))return i.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),i;i.value=[];let s=[];if(!e.rest){let d=o.length>r.length,c=o.length<n-1;if(d||c)return i.issues.push({input:o,inst:t,origin:"array",...d?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length}}),i}let l=-1;for(let d of r){if(l++,l>=o.length&&l>=n)continue;let c=d._zod.run({value:o[l],issues:[]},a);c instanceof Promise?s.push(c.then(m=>ta(m,i,l))):ta(c,i,l)}if(e.rest){let d=o.slice(r.length);for(let c of d){l++;let m=e.rest._zod.run({value:c,issues:[]},a);m instanceof Promise?s.push(m.then(h=>ta(h,i,l))):ta(m,i,l)}}return s.length?Promise.all(s).then(()=>i):i}});function ta(t,e,r){t.issues.length&&e.issues.push(...Ne(r,t.issues)),e.value[r]=t.value}var uc=y("$ZodRecord",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!_r(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let a=[];if(e.keyType._zod.values){let o=e.keyType._zod.values;r.value={};for(let l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){let d=e.valueType._zod.run({value:i[l],issues:[]},n);d instanceof Promise?a.push(d.then(c=>{c.issues.length&&r.issues.push(...Ne(l,c.issues)),r.value[l]=c.value})):(d.issues.length&&r.issues.push(...Ne(l,d.issues)),r.value[l]=d.value)}let s;for(let l in i)o.has(l)||(s=s??[],s.push(l));s&&s.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:s})}else{r.value={};for(let o of Reflect.ownKeys(i)){if(o==="__proto__")continue;let s=e.keyType._zod.run({value:o,issues:[]},n);if(s instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(s.issues.length){r.issues.push({origin:"record",code:"invalid_key",issues:s.issues.map(d=>Le(d,n,me())),input:o,path:[o],inst:t}),r.value[s.value]=s.value;continue}let l=e.valueType._zod.run({value:i[o],issues:[]},n);l instanceof Promise?a.push(l.then(d=>{d.issues.length&&r.issues.push(...Ne(o,d.issues)),r.value[s.value]=d.value})):(l.issues.length&&r.issues.push(...Ne(o,l.issues)),r.value[s.value]=l.value)}}return a.length?Promise.all(a).then(()=>r):r}}),cc=y("$ZodMap",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),r;let a=[];r.value=new Map;for(let[o,s]of i){let l=e.keyType._zod.run({value:o,issues:[]},n),d=e.valueType._zod.run({value:s,issues:[]},n);l instanceof Promise||d instanceof Promise?a.push(Promise.all([l,d]).then(([c,m])=>{qp(c,m,r,o,i,t,n)})):qp(l,d,r,o,i,t,n)}return a.length?Promise.all(a).then(()=>r):r}});function qp(t,e,r,n,i,a,o){t.issues.length&&(Si.has(typeof n)?r.issues.push(...Ne(n,t.issues)):r.issues.push({origin:"map",code:"invalid_key",input:i,inst:a,issues:t.issues.map(s=>Le(s,o,me()))})),e.issues.length&&(Si.has(typeof n)?r.issues.push(...Ne(n,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:a,key:n,issues:e.issues.map(s=>Le(s,o,me()))})),r.value.set(t.value,e.value)}var dc=y("$ZodSet",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),r;let a=[];r.value=new Set;for(let o of i){let s=e.valueType._zod.run({value:o,issues:[]},n);s instanceof Promise?a.push(s.then(l=>Vp(l,r))):Vp(s,r)}return a.length?Promise.all(a).then(()=>r):r}});function Vp(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var mc=y("$ZodEnum",(t,e)=>{M.init(t,e);let r=_i(e.entries);t._zod.values=new Set(r),t._zod.pattern=new RegExp(`^(${r.filter(n=>Si.has(typeof n)).map(n=>typeof n=="string"?ft(n):n.toString()).join("|")})$`),t._zod.parse=(n,i)=>{let a=n.value;return t._zod.values.has(a)||n.issues.push({code:"invalid_value",values:r,input:a,inst:t}),n}}),hc=y("$ZodLiteral",(t,e)=>{M.init(t,e),t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?ft(r):r?r.toString():String(r)).join("|")})$`),t._zod.parse=(r,n)=>{let i=r.value;return t._zod.values.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),pc=y("$ZodFile",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),r}}),Mi=y("$ZodTransform",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(r.value=o,r));if(i instanceof Promise)throw new nt;return r.value=i,r}}),fc=y("$ZodOptional",(t,e)=>{M.init(t,e),t._zod.optin="optional",t._zod.optout="optional",W(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),W(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${wi(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(r,n):r.value===void 0?r:e.innerType._zod.run(r,n)}),gc=y("$ZodNullable",(t,e)=>{M.init(t,e),W(t._zod,"optin",()=>e.innerType._zod.optin),W(t._zod,"optout",()=>e.innerType._zod.optout),W(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${wi(r.source)}|null)$`):void 0}),W(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),yc=y("$ZodDefault",(t,e)=>{M.init(t,e),t._zod.optin="optional",W(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>Hp(a,e)):Hp(i,e)}});function Hp(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var bc=y("$ZodPrefault",(t,e)=>{M.init(t,e),t._zod.optin="optional",W(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),vc=y("$ZodNonOptional",(t,e)=>{M.init(t,e),W(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>Yp(a,t)):Yp(i,t)}});function Yp(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var Tc=y("$ZodSuccess",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),_c=y("$ZodCatch",(t,e)=>{M.init(t,e),t._zod.optin="optional",W(t._zod,"optout",()=>e.innerType._zod.optout),W(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(o=>Le(o,n,me()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(a=>Le(a,n,me()))},input:r.value}),r.issues=[]),r)}}),xc=y("$ZodNaN",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),Di=y("$ZodPipe",(t,e)=>{M.init(t,e),W(t._zod,"values",()=>e.in._zod.values),W(t._zod,"optin",()=>e.in._zod.optin),W(t._zod,"optout",()=>e.out._zod.optout),W(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(a=>Kp(a,e,n)):Kp(i,e,n)}});function Kp(t,e,r){return Kt(t)?t:e.out._zod.run({value:t.value,issues:t.issues},r)}var wc=y("$ZodReadonly",(t,e)=>{M.init(t,e),W(t._zod,"propValues",()=>e.innerType._zod.propValues),W(t._zod,"values",()=>e.innerType._zod.values),W(t._zod,"optin",()=>e.innerType._zod.optin),W(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(Xp):Xp(i)}});function Xp(t){return t.value=Object.freeze(t.value),t}var Sc=y("$ZodTemplateLiteral",(t,e)=>{M.init(t,e);let r=[];for(let n of e.parts)if(n instanceof M){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let a=i.startsWith("^")?1:0,o=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(a,o))}else if(n===null||xl.has(typeof n))r.push(ft(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:t,expected:"template_literal",code:"invalid_type"}),n):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),n)}),Pc=y("$ZodPromise",(t,e)=>{M.init(t,e),t._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>e.innerType._zod.run({value:i,issues:[]},n))}),kc=y("$ZodLazy",(t,e)=>{M.init(t,e),W(t._zod,"innerType",()=>e.getter()),W(t._zod,"pattern",()=>t._zod.innerType._zod.pattern),W(t._zod,"propValues",()=>t._zod.innerType._zod.propValues),W(t._zod,"optin",()=>t._zod.innerType._zod.optin),W(t._zod,"optout",()=>t._zod.innerType._zod.optout),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)}),Ic=y("$ZodCustom",(t,e)=>{oe.init(t,e),M.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(a=>Jp(a,r,n,t));Jp(i,r,n,t)}});function Jp(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(kl(i))}}var Ni={};Vt(Ni,{ar:()=>rf,az:()=>nf,be:()=>of,ca:()=>sf,cs:()=>lf,de:()=>uf,en:()=>aa,eo:()=>cf,es:()=>df,fa:()=>mf,fi:()=>hf,fr:()=>pf,frCA:()=>ff,he:()=>gf,hu:()=>yf,id:()=>bf,it:()=>vf,ja:()=>Tf,kh:()=>_f,ko:()=>xf,mk:()=>wf,ms:()=>Sf,nl:()=>Pf,no:()=>kf,ota:()=>If,pl:()=>Af,ps:()=>$f,pt:()=>Ef,ru:()=>Cf,sl:()=>Mf,sv:()=>Df,ta:()=>Nf,th:()=>Uf,tr:()=>Of,ua:()=>zf,ur:()=>jf,vi:()=>Lf,zhCN:()=>Bf,zhTW:()=>Gf});var FT=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"};return i=>{switch(i.code){case"invalid_type":return`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${i.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${I(i.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${i.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${a} ${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${i.minimum.toString()} ${o.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${a} ${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${i.prefix}"`:a.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${a.suffix}"`:a.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${a.includes}"`:a.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${a.pattern}`:`${n[a.format]??i.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${i.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${i.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${i.keys.length>1?"\u0629":""}: ${x(i.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function rf(){return{localeError:FT()}}var ZT=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${i.expected}, daxil olan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${I(i.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${a}${i.maximum.toString()} ${o.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${a}${i.minimum.toString()} ${o.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${a.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:a.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${a.suffix}" il\u0259 bitm\u0259lidir`:a.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${a.includes}" daxil olmal\u0131d\u0131r`:a.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${a.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${n[a.format]??i.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${i.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${i.keys.length>1?"lar":""}: ${x(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${i.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function nf(){return{localeError:ZT()}}function af(t,e,r,n){let i=Math.abs(t),a=i%10,o=i%100;return o>=11&&o<=19?n:a===1?e:a>=2&&a<=4?r:n}var WT=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u043B\u0456\u043A";case"object":{if(Array.isArray(i))return"\u043C\u0430\u0441\u0456\u045E";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"};return i=>{switch(i.code){case"invalid_type":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${i.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${I(i.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);if(o){let s=Number(i.maximum),l=af(s,o.unit.one,o.unit.few,o.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${i.maximum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);if(o){let s=Number(i.minimum),l=af(s,o.unit.one,o.unit.few,o.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${o.verb} ${a}${i.minimum.toString()} ${l}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${n[a.format]??i.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${i.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${x(i.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${i.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function of(){return{localeError:WT()}}var qT=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus inv\xE0lid: s'esperava ${i.expected}, s'ha rebut ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Valor inv\xE0lid: s'esperava ${I(i.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${x(i.values," o ")}`;case"too_big":{let a=i.inclusive?"com a m\xE0xim":"menys de",o=e(i.origin);return o?`Massa gran: s'esperava que ${i.origin??"el valor"} contingu\xE9s ${a} ${i.maximum.toString()} ${o.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${a} ${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?"com a m\xEDnim":"m\xE9s de",o=e(i.origin);return o?`Massa petit: s'esperava que ${i.origin} contingu\xE9s ${a} ${i.minimum.toString()} ${o.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${a} ${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${a.prefix}"`:a.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${a.suffix}"`:a.format==="includes"?`Format inv\xE0lid: ha d'incloure "${a.includes}"`:a.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${a.pattern}`:`Format inv\xE0lid per a ${n[a.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${i.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${i.origin}`;default:return"Entrada inv\xE0lida"}}};function sf(){return{localeError:qT()}}var VT=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u010D\xEDslo";case"string":return"\u0159et\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${i.expected}, obdr\u017Eeno ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${I(i.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${a}${i.maximum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${a}${i.minimum.toString()} ${o.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${a.prefix}"`:a.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${a.suffix}"`:a.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${a.includes}"`:a.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${a.pattern}`:`Neplatn\xFD form\xE1t ${n[a.format]??i.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${i.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${x(i.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${i.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${i.origin}`;default:return"Neplatn\xFD vstup"}}};function lf(){return{localeError:VT()}}var HT=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ung\xFCltige Eingabe: erwartet ${i.expected}, erhalten ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ung\xFCltige Eingabe: erwartet ${I(i.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${a}${i.maximum.toString()} ${o.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${a}${i.maximum.toString()} ist`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Zu klein: erwartet, dass ${i.origin} ${a}${i.minimum.toString()} ${o.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${a}${i.minimum.toString()} ist`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Ung\xFCltiger String: muss mit "${a.prefix}" beginnen`:a.format==="ends_with"?`Ung\xFCltiger String: muss mit "${a.suffix}" enden`:a.format==="includes"?`Ung\xFCltiger String: muss "${a.includes}" enthalten`:a.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${a.pattern} entsprechen`:`Ung\xFCltig: ${n[a.format]??i.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${x(i.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${i.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${i.origin}`;default:return"Ung\xFCltige Eingabe"}}};function uf(){return{localeError:HT()}}var YT=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},KT=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function e(n){return t[n]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return n=>{switch(n.code){case"invalid_type":return`Invalid input: expected ${n.expected}, received ${YT(n.input)}`;case"invalid_value":return n.values.length===1?`Invalid input: expected ${I(n.values[0])}`:`Invalid option: expected one of ${x(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",a=e(n.origin);return a?`Too big: expected ${n.origin??"value"} to have ${i}${n.maximum.toString()} ${a.unit??"elements"}`:`Too big: expected ${n.origin??"value"} to be ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",a=e(n.origin);return a?`Too small: expected ${n.origin} to have ${i}${n.minimum.toString()} ${a.unit}`:`Too small: expected ${n.origin} to be ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${r[i.format]??n.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${n.divisor}`;case"unrecognized_keys":return`Unrecognized key${n.keys.length>1?"s":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Invalid key in ${n.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${n.origin}`;default:return"Invalid input"}}};function aa(){return{localeError:KT()}}var XT=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"nombro";case"object":{if(Array.isArray(t))return"tabelo";if(t===null)return"senvalora";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},JT=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(n){return t[n]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return n=>{switch(n.code){case"invalid_type":return`Nevalida enigo: atendi\u011Dis ${n.expected}, ricevi\u011Dis ${XT(n.input)}`;case"invalid_value":return n.values.length===1?`Nevalida enigo: atendi\u011Dis ${I(n.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${x(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",a=e(n.origin);return a?`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()} ${a.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${n.origin??"valoro"} havu ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",a=e(n.origin);return a?`Tro malgranda: atendi\u011Dis ke ${n.origin} havu ${i}${n.minimum.toString()} ${a.unit}`:`Tro malgranda: atendi\u011Dis ke ${n.origin} estu ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${r[i.format]??n.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${n.divisor}`;case"unrecognized_keys":return`Nekonata${n.keys.length>1?"j":""} \u015Dlosilo${n.keys.length>1?"j":""}: ${x(n.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${n.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${n.origin}`;default:return"Nevalida enigo"}}};function cf(){return{localeError:JT()}}var QT=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(i))return"arreglo";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype)return i.constructor.name}}return a},n={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Entrada inv\xE1lida: se esperaba ${i.expected}, recibido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: se esperaba ${I(i.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Demasiado grande: se esperaba que ${i.origin??"valor"} tuviera ${a}${i.maximum.toString()} ${o.unit??"elementos"}`:`Demasiado grande: se esperaba que ${i.origin??"valor"} fuera ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Demasiado peque\xF1o: se esperaba que ${i.origin} tuviera ${a}${i.minimum.toString()} ${o.unit}`:`Demasiado peque\xF1o: se esperaba que ${i.origin} fuera ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${a.prefix}"`:a.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${a.suffix}"`:a.format==="includes"?`Cadena inv\xE1lida: debe incluir "${a.includes}"`:a.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${a.pattern}`:`Inv\xE1lido ${n[a.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${i.origin}`;default:return"Entrada inv\xE1lida"}}};function df(){return{localeError:QT()}}var e1=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(i))return"\u0622\u0631\u0627\u06CC\u0647";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"};return i=>{switch(i.code){case"invalid_type":return`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${i.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${r(i.input)} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`;case"invalid_value":return i.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${I(i.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${x(i.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${i.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${a}${i.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${a}${i.minimum.toString()} ${o.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${a}${i.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:a.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${a.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:a.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${a.includes}" \u0628\u0627\u0634\u062F`:a.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${a.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${n[a.format]??i.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${i.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${i.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${x(i.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${i.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${i.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function mf(){return{localeError:e1()}}var t1=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${I(i.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Liian suuri: ${o.subject} t\xE4ytyy olla ${a}${i.maximum.toString()} ${o.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Liian pieni: ${o.subject} t\xE4ytyy olla ${a}${i.minimum.toString()} ${o.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${a.prefix}"`:a.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${a.suffix}"`:a.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${a.includes}"`:a.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${a.pattern}`:`Virheellinen ${n[a.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${x(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function hf(){return{localeError:t1()}}var r1=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return i=>{switch(i.code){case"invalid_type":return`Entr\xE9e invalide : ${i.expected} attendu, ${r(i.input)} re\xE7u`;case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : ${I(i.values[0])} attendu`:`Option invalide : une valeur parmi ${x(i.values,"|")} attendue`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Trop grand : ${i.origin??"valeur"} doit ${o.verb} ${a}${i.maximum.toString()} ${o.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit \xEAtre ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Trop petit : ${i.origin} doit ${o.verb} ${a}${i.minimum.toString()} ${o.unit}`:`Trop petit : ${i.origin} doit \xEAtre ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${a.pattern}`:`${n[a.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${x(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function pf(){return{localeError:r1()}}var i1=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"};return i=>{switch(i.code){case"invalid_type":return`Entr\xE9e invalide : attendu ${i.expected}, re\xE7u ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : attendu ${I(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"\u2264":"<",o=e(i.origin);return o?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${a}${i.maximum.toString()} ${o.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?"\u2265":">",o=e(i.origin);return o?`Trop petit : attendu que ${i.origin} ait ${a}${i.minimum.toString()} ${o.unit}`:`Trop petit : attendu que ${i.origin} soit ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${a.prefix}"`:a.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${a.suffix}"`:a.format==="includes"?`Cha\xEEne invalide : doit inclure "${a.includes}"`:a.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${a.pattern}`:`${n[a.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${x(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function ff(){return{localeError:i1()}}var n1=()=>{let t={string:{unit:"\u05D0\u05D5\u05EA\u05D9\u05D5\u05EA",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",verb:"\u05DC\u05DB\u05DC\u05D5\u05DC"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u05E7\u05DC\u05D8",email:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",url:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",emoji:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",date:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",time:"\u05D6\u05DE\u05DF ISO",duration:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",ipv4:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",ipv6:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",cidrv4:"\u05D8\u05D5\u05D5\u05D7 IPv4",cidrv6:"\u05D8\u05D5\u05D5\u05D7 IPv6",base64:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",base64url:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",json_string:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",e164:"\u05DE\u05E1\u05E4\u05E8 E.164",jwt:"JWT",template_literal:"\u05E7\u05DC\u05D8"};return i=>{switch(i.code){case"invalid_type":return`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${i.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA ${I(i.values[0])}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05D0\u05D7\u05EA \u05DE\u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA  ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${i.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${i.maximum.toString()} ${o.unit??"elements"}`:`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${i.origin??"value"} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${i.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${i.minimum.toString()} ${o.unit}`:`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${i.origin} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1"${a.prefix}"`:a.format==="ends_with"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${a.suffix}"`:a.format==="includes"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${a.includes}"`:a.format==="regex"?`\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05E0\u05D4: \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${a.pattern}`:`${n[a.format]??i.format} \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${i.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${i.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${i.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${x(i.keys,", ")}`;case"invalid_key":return`\u05DE\u05E4\u05EA\u05D7 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i.origin}`;case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i.origin}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function gf(){return{localeError:n1()}}var a1=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"sz\xE1m";case"object":{if(Array.isArray(i))return"t\xF6mb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${i.expected}, a kapott \xE9rt\xE9k ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${I(i.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`T\xFAl nagy: ${i.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${a}${i.maximum.toString()} ${o.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${i.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} m\xE9rete t\xFAl kicsi ${a}${i.minimum.toString()} ${o.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} t\xFAl kicsi ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\xC9rv\xE9nytelen string: "${a.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:a.format==="ends_with"?`\xC9rv\xE9nytelen string: "${a.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:a.format==="includes"?`\xC9rv\xE9nytelen string: "${a.includes}" \xE9rt\xE9ket kell tartalmaznia`:a.format==="regex"?`\xC9rv\xE9nytelen string: ${a.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${n[a.format]??i.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${i.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${i.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${i.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function yf(){return{localeError:a1()}}var o1=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${I(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${a}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Terlalu kecil: diharapkan ${i.origin} memiliki ${a}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`String tidak valid: harus dimulai dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak valid: harus berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak valid: harus menyertakan "${a.includes}"`:a.format==="regex"?`String tidak valid: harus sesuai pola ${a.pattern}`:`${n[a.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function bf(){return{localeError:o1()}}var s1=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${I(i.values[0])}`:`Opzione non valida: atteso uno tra ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Troppo grande: ${i.origin??"valore"} deve avere ${a}${i.maximum.toString()} ${o.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Troppo piccolo: ${i.origin} deve avere ${a}${i.minimum.toString()} ${o.unit}`:`Troppo piccolo: ${i.origin} deve essere ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Stringa non valida: deve iniziare con "${a.prefix}"`:a.format==="ends_with"?`Stringa non valida: deve terminare con "${a.suffix}"`:a.format==="includes"?`Stringa non valida: deve includere "${a.includes}"`:a.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${a.pattern}`:`Invalid ${n[a.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${x(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function vf(){return{localeError:s1()}}var l1=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u6570\u5024";case"object":{if(Array.isArray(i))return"\u914D\u5217";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"};return i=>{switch(i.code){case"invalid_type":return`\u7121\u52B9\u306A\u5165\u529B: ${i.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${r(i.input)}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`;case"invalid_value":return i.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${I(i.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${x(i.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let a=i.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",o=e(i.origin);return o?`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${o.unit??"\u8981\u7D20"}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let a=i.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",o=e(i.origin);return o?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${o.unit}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${a}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${a.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:a.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${a.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${n[a.format]??i.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${i.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${i.keys.length>1?"\u7FA4":""}: ${x(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function Tf(){return{localeError:l1()}}var u1=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u1798\u17B7\u1793\u1798\u17C2\u1793\u1787\u17B6\u179B\u17C1\u1781 (NaN)":"\u179B\u17C1\u1781";case"object":{if(Array.isArray(i))return"\u17A2\u17B6\u179A\u17C1 (Array)";if(i===null)return"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"};return i=>{switch(i.code){case"invalid_type":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${I(i.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${i.maximum.toString()} ${o.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${a} ${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${a} ${i.minimum.toString()} ${o.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${a} ${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${a.prefix}"`:a.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${a.suffix}"`:a.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${a.includes}"`:a.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${a.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${n[a.format]??i.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${i.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${x(i.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function _f(){return{localeError:u1()}}var c1=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"};return i=>{switch(i.code){case"invalid_type":return`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${i.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${r(i.input)}\uC785\uB2C8\uB2E4`;case"invalid_value":return i.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${I(i.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${x(i.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let a=i.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",o=a==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(i.origin),l=s?.unit??"\uC694\uC18C";return s?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()}${l} ${a}${o}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()} ${a}${o}`}case"too_small":{let a=i.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",o=a==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",s=e(i.origin),l=s?.unit??"\uC694\uC18C";return s?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()}${l} ${a}${o}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()} ${a}${o}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:a.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${a.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:a.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${a.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${n[a.format]??i.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${i.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${x(i.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${i.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${i.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function xf(){return{localeError:c1()}}var d1=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0431\u0440\u043E\u0458";case"object":{if(Array.isArray(i))return"\u043D\u0438\u0437\u0430";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"};return i=>{switch(i.code){case"invalid_type":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${I(i.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${a}${i.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0438\u043C\u0430 ${a}${i.minimum.toString()} ${o.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${a.pattern}`:`Invalid ${n[a.format]??i.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${x(i.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${i.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${i.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function wf(){return{localeError:d1()}}var m1=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${I(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Terlalu besar: dijangka ${i.origin??"nilai"} ${o.verb} ${a}${i.maximum.toString()} ${o.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Terlalu kecil: dijangka ${i.origin} ${o.verb} ${a}${i.minimum.toString()} ${o.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`String tidak sah: mesti bermula dengan "${a.prefix}"`:a.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${a.suffix}"`:a.format==="includes"?`String tidak sah: mesti mengandungi "${a.includes}"`:a.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${a.pattern}`:`${n[a.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${x(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function Sf(){return{localeError:m1()}}var h1=()=>{let t={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${I(i.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Te lang: verwacht dat ${i.origin??"waarde"} ${a}${i.maximum.toString()} ${o.unit??"elementen"} bevat`:`Te lang: verwacht dat ${i.origin??"waarde"} ${a}${i.maximum.toString()} is`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Te kort: verwacht dat ${i.origin} ${a}${i.minimum.toString()} ${o.unit} bevat`:`Te kort: verwacht dat ${i.origin} ${a}${i.minimum.toString()} is`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Ongeldige tekst: moet met "${a.prefix}" beginnen`:a.format==="ends_with"?`Ongeldige tekst: moet op "${a.suffix}" eindigen`:a.format==="includes"?`Ongeldige tekst: moet "${a.includes}" bevatten`:a.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${a.pattern}`:`Ongeldig: ${n[a.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function Pf(){return{localeError:h1()}}var p1=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${I(i.values[0])}`:`Ugyldig valg: forventet en av ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${a}${i.maximum.toString()} ${o.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`For lite(n): forventet ${i.origin} til \xE5 ha ${a}${i.minimum.toString()} ${o.unit}`:`For lite(n): forventet ${i.origin} til \xE5 ha ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${a.prefix}"`:a.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${a.suffix}"`:a.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${a.includes}"`:a.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${a.pattern}`:`Ugyldig ${n[a.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${x(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function kf(){return{localeError:p1()}}var f1=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`F\xE2sit giren: umulan ${i.expected}, al\u0131nan ${r(i.input)}`;case"invalid_value":return i.values.length===1?`F\xE2sit giren: umulan ${I(i.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${a}${i.maximum.toString()} ${o.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${a}${i.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${a}${i.minimum.toString()} ${o.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${a}${i.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let a=i;return a.format==="starts_with"?`F\xE2sit metin: "${a.prefix}" ile ba\u015Flamal\u0131.`:a.format==="ends_with"?`F\xE2sit metin: "${a.suffix}" ile bitmeli.`:a.format==="includes"?`F\xE2sit metin: "${a.includes}" ihtiv\xE2 etmeli.`:a.format==="regex"?`F\xE2sit metin: ${a.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${n[a.format]??i.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${i.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${i.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function If(){return{localeError:f1()}}var g1=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0639\u062F\u062F";case"object":{if(Array.isArray(i))return"\u0627\u0631\u06D0";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"};return i=>{switch(i.code){case"invalid_type":return`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${i.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${r(i.input)} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`;case"invalid_value":return i.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${I(i.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${x(i.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${i.maximum.toString()} ${o.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${a}${i.maximum.toString()} \u0648\u064A`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${a}${i.minimum.toString()} ${o.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${a}${i.minimum.toString()} \u0648\u064A`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:a.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${a.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:a.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${a.includes}" \u0648\u0644\u0631\u064A`:a.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${a.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${n[a.format]??i.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${i.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${i.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${x(i.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${i.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${i.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function $f(){return{localeError:g1()}}var y1=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"};return i=>{switch(i.code){case"invalid_type":return`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${i.expected}, otrzymano ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${I(i.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${i.maximum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${a}${i.minimum.toString()} ${o.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${a.prefix}"`:a.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${a.suffix}"`:a.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${a.includes}"`:a.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${a.pattern}`:`Nieprawid\u0142ow(y/a/e) ${n[a.format]??i.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${i.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${i.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function Af(){return{localeError:y1()}}var b1=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"n\xFAmero";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo inv\xE1lido: esperado ${i.expected}, recebido ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: esperado ${I(i.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${a}${i.maximum.toString()} ${o.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Muito pequeno: esperado que ${i.origin} tivesse ${a}${i.minimum.toString()} ${o.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${a.prefix}"`:a.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${a.suffix}"`:a.format==="includes"?`Texto inv\xE1lido: deve incluir "${a.includes}"`:a.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${a.pattern}`:`${n[a.format]??i.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${x(i.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${i.origin}`;default:return"Campo inv\xE1lido"}}};function Ef(){return{localeError:b1()}}function Rf(t,e,r,n){let i=Math.abs(t),a=i%10,o=i%100;return o>=11&&o<=19?n:a===1?e:a>=2&&a<=4?r:n}var v1=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(i))return"\u043C\u0430\u0441\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"};return i=>{switch(i.code){case"invalid_type":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${I(i.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);if(o){let s=Number(i.maximum),l=Rf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${i.maximum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);if(o){let s=Number(i.minimum),l=Rf(s,o.unit.one,o.unit.few,o.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${a}${i.minimum.toString()} ${l}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${n[a.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${i.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0438":""}: ${x(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function Cf(){return{localeError:v1()}}var T1=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0161tevilo";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: pri\u010Dakovano ${i.expected}, prejeto ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${I(i.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} imelo ${a}${i.maximum.toString()} ${o.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Premajhno: pri\u010Dakovano, da bo ${i.origin} imelo ${a}${i.minimum.toString()} ${o.unit}`:`Premajhno: pri\u010Dakovano, da bo ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${a.prefix}"`:a.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${a.suffix}"`:a.format==="includes"?`Neveljaven niz: mora vsebovati "${a.includes}"`:a.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${a.pattern}`:`Neveljaven ${n[a.format]??i.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${x(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function Mf(){return{localeError:T1()}}var _1=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: f\xF6rv\xE4ntat ${i.expected}, fick ${r(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${I(i.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`F\xF6r stor(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${a}${i.maximum.toString()} ${o.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${i.origin??"v\xE4rdet"} att ha ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${a}${i.minimum.toString()} ${o.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${a.prefix}"`:a.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${a.suffix}"`:a.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${a.includes}"`:a.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${a.pattern}"`:`Ogiltig(t) ${n[a.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${x(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${i.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function Df(){return{localeError:_1()}}var x1=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u0B8E\u0BA3\u0BCD \u0B85\u0BB2\u0BCD\u0BB2\u0BBE\u0BA4\u0BA4\u0BC1":"\u0B8E\u0BA3\u0BCD";case"object":{if(Array.isArray(i))return"\u0B85\u0BA3\u0BBF";if(i===null)return"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${I(i.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${x(i.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${i.maximum.toString()} ${o.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${a}${i.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${a}${i.minimum.toString()} ${o.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${a}${i.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${a.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:a.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${a.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${n[a.format]??i.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${i.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${i.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${x(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function Nf(){return{localeError:x1()}}var w1=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u0E44\u0E21\u0E48\u0E43\u0E0A\u0E48\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02 (NaN)":"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02";case"object":{if(Array.isArray(i))return"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)";if(i===null)return"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"};return i=>{switch(i.code){case"invalid_type":return`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${i.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${I(i.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",o=e(i.origin);return o?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${i.maximum.toString()} ${o.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",o=e(i.origin);return o?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${i.minimum.toString()} ${o.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${a} ${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${a.prefix}"`:a.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${a.suffix}"`:a.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${a.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:a.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${a.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${n[a.format]??i.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${i.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${x(i.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function Uf(){return{localeError:w1()}}var S1=t=>{let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return e},P1=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(n){return t[n]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"};return n=>{switch(n.code){case"invalid_type":return`Ge\xE7ersiz de\u011Fer: beklenen ${n.expected}, al\u0131nan ${S1(n.input)}`;case"invalid_value":return n.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${I(n.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${x(n.values,"|")}`;case"too_big":{let i=n.inclusive?"<=":"<",a=e(n.origin);return a?`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${i}${n.maximum.toString()} ${a.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${n.origin??"de\u011Fer"} ${i}${n.maximum.toString()}`}case"too_small":{let i=n.inclusive?">=":">",a=e(n.origin);return a?`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${i}${n.minimum.toString()} ${a.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${n.origin} ${i}${n.minimum.toString()}`}case"invalid_format":{let i=n;return i.format==="starts_with"?`Ge\xE7ersiz metin: "${i.prefix}" ile ba\u015Flamal\u0131`:i.format==="ends_with"?`Ge\xE7ersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Ge\xE7ersiz metin: "${i.includes}" i\xE7ermeli`:i.format==="regex"?`Ge\xE7ersiz metin: ${i.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[i.format]??n.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${n.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${n.keys.length>1?"lar":""}: ${x(n.keys,", ")}`;case"invalid_key":return`${n.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${n.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function Of(){return{localeError:P1()}}var k1=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0447\u0438\u0441\u043B\u043E";case"object":{if(Array.isArray(i))return"\u043C\u0430\u0441\u0438\u0432";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"};return i=>{switch(i.code){case"invalid_type":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${i.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${I(i.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${o.verb} ${a}${i.maximum.toString()} ${o.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} ${o.verb} ${a}${i.minimum.toString()} ${o.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} \u0431\u0443\u0434\u0435 ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${a.prefix}"`:a.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${a.suffix}"`:a.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${a.includes}"`:a.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${a.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${n[a.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0456":""}: ${x(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${i.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function zf(){return{localeError:k1()}}var I1=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"\u0646\u0645\u0628\u0631";case"object":{if(Array.isArray(i))return"\u0622\u0631\u06D2";if(i===null)return"\u0646\u0644";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"};return i=>{switch(i.code){case"invalid_type":return`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${i.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${r(i.input)} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`;case"invalid_value":return i.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${I(i.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${x(i.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${a}${i.maximum.toString()} ${o.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${a}${i.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u06D2 ${a}${i.minimum.toString()} ${o.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u0627 ${a}${i.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${a.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:a.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${a.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${n[a.format]??i.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${i.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${i.keys.length>1?"\u0632":""}: ${x(i.keys,"\u060C ")}`;case"invalid_key":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function jf(){return{localeError:I1()}}var $1=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"s\u1ED1";case"object":{if(Array.isArray(i))return"m\u1EA3ng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"};return i=>{switch(i.code){case"invalid_type":return`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${i.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${I(i.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${o.verb} ${a}${i.maximum.toString()} ${o.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${o.verb} ${a}${i.minimum.toString()} ${o.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${a.prefix}"`:a.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${a.suffix}"`:a.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${a.includes}"`:a.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${a.pattern}`:`${n[a.format]??i.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${i.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${x(i.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function Lf(){return{localeError:$1()}}var A1=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"\u975E\u6570\u5B57(NaN)":"\u6570\u5B57";case"object":{if(Array.isArray(i))return"\u6570\u7EC4";if(i===null)return"\u7A7A\u503C(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"};return i=>{switch(i.code){case"invalid_type":return`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${i.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${I(i.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${a}${i.maximum.toString()} ${o.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${a}${i.minimum.toString()} ${o.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.prefix}" \u5F00\u5934`:a.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${a.suffix}" \u7ED3\u5C3E`:a.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${a.pattern}`:`\u65E0\u6548${n[a.format]??i.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${i.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${x(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${i.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function Bf(){return{localeError:A1()}}var E1=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(i){return t[i]??null}let r=i=>{let a=typeof i;switch(a){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return a},n={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"};return i=>{switch(i.code){case"invalid_type":return`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${i.expected}\uFF0C\u4F46\u6536\u5230 ${r(i.input)}`;case"invalid_value":return i.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${I(i.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${x(i.values,"|")}`;case"too_big":{let a=i.inclusive?"<=":"<",o=e(i.origin);return o?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${a}${i.maximum.toString()} ${o.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${a}${i.maximum.toString()}`}case"too_small":{let a=i.inclusive?">=":">",o=e(i.origin);return o?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${a}${i.minimum.toString()} ${o.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${a}${i.minimum.toString()}`}case"invalid_format":{let a=i;return a.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.prefix}" \u958B\u982D`:a.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${a.suffix}" \u7D50\u5C3E`:a.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${a.includes}"`:a.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${a.pattern}`:`\u7121\u6548\u7684 ${n[a.format]??i.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${i.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${i.keys.length>1?"\u5011":""}\uFF1A${x(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function Gf(){return{localeError:E1()}}var $c=Symbol("ZodOutput"),Ac=Symbol("ZodInput"),Pr=class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...r){let n=r[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function oa(){return new Pr}var at=oa();function Ec(t,e){return new t({type:"string",...P(e)})}function Rc(t,e){return new t({type:"string",coerce:!0,...P(e)})}function sa(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...P(e)})}function Ui(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...P(e)})}function la(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...P(e)})}function ua(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...P(e)})}function ca(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...P(e)})}function da(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...P(e)})}function ma(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...P(e)})}function ha(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...P(e)})}function pa(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...P(e)})}function fa(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...P(e)})}function ga(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...P(e)})}function ya(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...P(e)})}function ba(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...P(e)})}function va(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...P(e)})}function Ta(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...P(e)})}function _a(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...P(e)})}function xa(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...P(e)})}function wa(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...P(e)})}function Sa(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...P(e)})}function Pa(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...P(e)})}function ka(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...P(e)})}function Ia(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...P(e)})}var Cc={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Mc(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...P(e)})}function Dc(t,e){return new t({type:"string",format:"date",check:"string_format",...P(e)})}function Nc(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...P(e)})}function Uc(t,e){return new t({type:"string",format:"duration",check:"string_format",...P(e)})}function Oc(t,e){return new t({type:"number",checks:[],...P(e)})}function zc(t,e){return new t({type:"number",coerce:!0,checks:[],...P(e)})}function jc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...P(e)})}function Lc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...P(e)})}function Bc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...P(e)})}function Gc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...P(e)})}function Fc(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...P(e)})}function Zc(t,e){return new t({type:"boolean",...P(e)})}function Wc(t,e){return new t({type:"boolean",coerce:!0,...P(e)})}function qc(t,e){return new t({type:"bigint",...P(e)})}function Vc(t,e){return new t({type:"bigint",coerce:!0,...P(e)})}function Hc(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...P(e)})}function Yc(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...P(e)})}function Kc(t,e){return new t({type:"symbol",...P(e)})}function Xc(t,e){return new t({type:"undefined",...P(e)})}function Jc(t,e){return new t({type:"null",...P(e)})}function Qc(t){return new t({type:"any"})}function kr(t){return new t({type:"unknown"})}function ed(t,e){return new t({type:"never",...P(e)})}function td(t,e){return new t({type:"void",...P(e)})}function rd(t,e){return new t({type:"date",...P(e)})}function id(t,e){return new t({type:"date",coerce:!0,...P(e)})}function nd(t,e){return new t({type:"nan",...P(e)})}function gt(t,e){return new Jn({check:"less_than",...P(e),value:t,inclusive:!1})}function He(t,e){return new Jn({check:"less_than",...P(e),value:t,inclusive:!0})}function yt(t,e){return new Qn({check:"greater_than",...P(e),value:t,inclusive:!1})}function Ue(t,e){return new Qn({check:"greater_than",...P(e),value:t,inclusive:!0})}function ad(t){return yt(0,t)}function od(t){return gt(0,t)}function sd(t){return He(0,t)}function ld(t){return Ue(0,t)}function tr(t,e){return new ou({check:"multiple_of",...P(e),value:t})}function Ir(t,e){return new uu({check:"max_size",...P(e),maximum:t})}function rr(t,e){return new cu({check:"min_size",...P(e),minimum:t})}function Oi(t,e){return new du({check:"size_equals",...P(e),size:t})}function $r(t,e){return new mu({check:"max_length",...P(e),maximum:t})}function Et(t,e){return new hu({check:"min_length",...P(e),minimum:t})}function Ar(t,e){return new pu({check:"length_equals",...P(e),length:t})}function zi(t,e){return new fu({check:"string_format",format:"regex",...P(e),pattern:t})}function ji(t){return new gu({check:"string_format",format:"lowercase",...P(t)})}function Li(t){return new yu({check:"string_format",format:"uppercase",...P(t)})}function Bi(t,e){return new bu({check:"string_format",format:"includes",...P(e),includes:t})}function Gi(t,e){return new vu({check:"string_format",format:"starts_with",...P(e),prefix:t})}function Fi(t,e){return new Tu({check:"string_format",format:"ends_with",...P(e),suffix:t})}function ud(t,e,r){return new _u({check:"property",property:t,schema:e,...P(r)})}function Zi(t,e){return new xu({check:"mime_type",mime:t,...P(e)})}function bt(t){return new wu({check:"overwrite",tx:t})}function Wi(t){return bt(e=>e.normalize(t))}function qi(){return bt(t=>t.trim())}function Vi(){return bt(t=>t.toLowerCase())}function Hi(){return bt(t=>t.toUpperCase())}function Yi(t,e,r){return new t({type:"array",element:e,...P(r)})}function R1(t,e,r){return new t({type:"union",options:e,...P(r)})}function C1(t,e,r,n){return new t({type:"union",options:r,discriminator:e,...P(n)})}function M1(t,e,r){return new t({type:"intersection",left:e,right:r})}function cd(t,e,r,n){let i=r instanceof M,a=i?n:r,o=i?r:null;return new t({type:"tuple",items:e,rest:o,...P(a)})}function D1(t,e,r,n){return new t({type:"record",keyType:e,valueType:r,...P(n)})}function N1(t,e,r,n){return new t({type:"map",keyType:e,valueType:r,...P(n)})}function U1(t,e,r){return new t({type:"set",valueType:e,...P(r)})}function O1(t,e,r){let n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:n,...P(r)})}function z1(t,e,r){return new t({type:"enum",entries:e,...P(r)})}function j1(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...P(r)})}function dd(t,e){return new t({type:"file",...P(e)})}function L1(t,e){return new t({type:"transform",transform:e})}function B1(t,e){return new t({type:"optional",innerType:e})}function G1(t,e){return new t({type:"nullable",innerType:e})}function F1(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():r}})}function Z1(t,e,r){return new t({type:"nonoptional",innerType:e,...P(r)})}function W1(t,e){return new t({type:"success",innerType:e})}function q1(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function V1(t,e,r){return new t({type:"pipe",in:e,out:r})}function H1(t,e){return new t({type:"readonly",innerType:e})}function Y1(t,e,r){return new t({type:"template_literal",parts:e,...P(r)})}function K1(t,e){return new t({type:"lazy",getter:e})}function X1(t,e){return new t({type:"promise",innerType:e})}function md(t,e,r){let n=P(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function hd(t,e,r){return new t({type:"custom",check:"custom",fn:e,...P(r)})}function pd(t,e){let r=P(e),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(p=>typeof p=="string"?p.toLowerCase():p),i=i.map(p=>typeof p=="string"?p.toLowerCase():p));let a=new Set(n),o=new Set(i),s=t.Pipe??Di,l=t.Boolean??Ri,d=t.String??Qt,c=t.Transform??Mi,m=new c({type:"transform",transform:(p,b)=>{let T=p;return r.case!=="sensitive"&&(T=T.toLowerCase()),a.has(T)?!0:o.has(T)?!1:(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:b.value,inst:m}),{})},error:r.error}),h=new s({type:"pipe",in:new d({type:"string",error:r.error}),out:m,error:r.error});return new s({type:"pipe",in:h,out:new l({type:"boolean",error:r.error}),error:r.error})}function fd(t,e,r,n={}){let i=P(n),a={...P(n),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:s=>r.test(s),...i};return r instanceof RegExp&&(a.pattern=r),new t(a)}var $a=class{constructor(e){this._def=e,this.def=e}implement(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let r=(...n)=>{let i=this._def.input?qn(this._def.input,n,void 0,{callee:r}):n;if(!Array.isArray(i))throw new Error("Invalid arguments schema: not an array or tuple schema.");let a=e(...i);return this._def.output?qn(this._def.output,a,void 0,{callee:r}):a};return r}implementAsync(e){if(typeof e!="function")throw new Error("implement() must be called with a function");let r=async(...n)=>{let i=this._def.input?await Hn(this._def.input,n,void 0,{callee:r}):n;if(!Array.isArray(i))throw new Error("Invalid arguments schema: not an array or tuple schema.");let a=await e(...i);return this._def.output?Hn(this._def.output,a,void 0,{callee:r}):a};return r}input(...e){let r=this.constructor;return Array.isArray(e[0])?new r({type:"function",input:new er({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}):new r({type:"function",input:e[0],output:this._def.output})}output(e){let r=this.constructor;return new r({type:"function",input:this._def.input,output:e})}};function gd(t){return new $a({type:"function",input:Array.isArray(t?.input)?cd(er,t?.input):t?.input??Yi(Ci,kr(Sr)),output:t?.output??kr(Sr)})}var Ki=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??at,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,r={path:[],schemaPath:[]}){var n;let i=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,r.schemaPath.includes(e)&&(o.cycle=r.path),o.schema;let s={schema:{},count:1,cycle:void 0,path:r.path};this.seen.set(e,s);let l=e._zod.toJSONSchema?.();if(l)s.schema=l;else{let m={...r,schemaPath:[...r.schemaPath,e],path:r.path},h=e._zod.parent;if(h)s.ref=h,this.process(h,m),this.seen.get(h).isParent=!0;else{let f=s.schema;switch(i.type){case"string":{let p=f;p.type="string";let{minimum:b,maximum:T,format:A,patterns:k,contentEncoding:v}=e._zod.bag;if(typeof b=="number"&&(p.minLength=b),typeof T=="number"&&(p.maxLength=T),A&&(p.format=a[A]??A,p.format===""&&delete p.format),v&&(p.contentEncoding=v),k&&k.size>0){let w=[...k];w.length===1?p.pattern=w[0].source:w.length>1&&(s.schema.allOf=[...w.map(N=>({...this.target==="draft-7"?{type:"string"}:{},pattern:N.source}))])}break}case"number":{let p=f,{minimum:b,maximum:T,format:A,multipleOf:k,exclusiveMaximum:v,exclusiveMinimum:w}=e._zod.bag;typeof A=="string"&&A.includes("int")?p.type="integer":p.type="number",typeof w=="number"&&(p.exclusiveMinimum=w),typeof b=="number"&&(p.minimum=b,typeof w=="number"&&(w>=b?delete p.minimum:delete p.exclusiveMinimum)),typeof v=="number"&&(p.exclusiveMaximum=v),typeof T=="number"&&(p.maximum=T,typeof v=="number"&&(v<=T?delete p.maximum:delete p.exclusiveMaximum)),typeof k=="number"&&(p.multipleOf=k);break}case"boolean":{let p=f;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{f.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{f.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let p=f,{minimum:b,maximum:T}=e._zod.bag;typeof b=="number"&&(p.minItems=b),typeof T=="number"&&(p.maxItems=T),p.type="array",p.items=this.process(i.element,{...m,path:[...m.path,"items"]});break}case"object":{let p=f;p.type="object",p.properties={};let b=i.shape;for(let k in b)p.properties[k]=this.process(b[k],{...m,path:[...m.path,"properties",k]});let T=new Set(Object.keys(b)),A=new Set([...T].filter(k=>{let v=i.shape[k]._zod;return this.io==="input"?v.optin===void 0:v.optout===void 0}));A.size>0&&(p.required=Array.from(A)),i.catchall?._zod.def.type==="never"?p.additionalProperties=!1:i.catchall?i.catchall&&(p.additionalProperties=this.process(i.catchall,{...m,path:[...m.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{let p=f;p.anyOf=i.options.map((b,T)=>this.process(b,{...m,path:[...m.path,"anyOf",T]}));break}case"intersection":{let p=f,b=this.process(i.left,{...m,path:[...m.path,"allOf",0]}),T=this.process(i.right,{...m,path:[...m.path,"allOf",1]}),A=v=>"allOf"in v&&Object.keys(v).length===1,k=[...A(b)?b.allOf:[b],...A(T)?T.allOf:[T]];p.allOf=k;break}case"tuple":{let p=f;p.type="array";let b=i.items.map((k,v)=>this.process(k,{...m,path:[...m.path,"prefixItems",v]}));if(this.target==="draft-2020-12"?p.prefixItems=b:p.items=b,i.rest){let k=this.process(i.rest,{...m,path:[...m.path,"items"]});this.target==="draft-2020-12"?p.items=k:p.additionalItems=k}i.rest&&(p.items=this.process(i.rest,{...m,path:[...m.path,"items"]}));let{minimum:T,maximum:A}=e._zod.bag;typeof T=="number"&&(p.minItems=T),typeof A=="number"&&(p.maxItems=A);break}case"record":{let p=f;p.type="object",p.propertyNames=this.process(i.keyType,{...m,path:[...m.path,"propertyNames"]}),p.additionalProperties=this.process(i.valueType,{...m,path:[...m.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let p=f,b=_i(i.entries);b.every(T=>typeof T=="number")&&(p.type="number"),b.every(T=>typeof T=="string")&&(p.type="string"),p.enum=b;break}case"literal":{let p=f,b=[];for(let T of i.values)if(T===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof T=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(T))}else b.push(T);if(b.length!==0)if(b.length===1){let T=b[0];p.type=T===null?"null":typeof T,p.const=T}else b.every(T=>typeof T=="number")&&(p.type="number"),b.every(T=>typeof T=="string")&&(p.type="string"),b.every(T=>typeof T=="boolean")&&(p.type="string"),b.every(T=>T===null)&&(p.type="null"),p.enum=b;break}case"file":{let p=f,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:T,maximum:A,mime:k}=e._zod.bag;T!==void 0&&(b.minLength=T),A!==void 0&&(b.maxLength=A),k?k.length===1?(b.contentMediaType=k[0],Object.assign(p,b)):p.anyOf=k.map(v=>({...b,contentMediaType:v})):Object.assign(p,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let p=this.process(i.innerType,m);f.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(i.innerType,m),s.ref=i.innerType;break}case"success":{let p=f;p.type="boolean";break}case"default":{this.process(i.innerType,m),s.ref=i.innerType,f.default=JSON.parse(JSON.stringify(i.defaultValue));break}case"prefault":{this.process(i.innerType,m),s.ref=i.innerType,this.io==="input"&&(f._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break}case"catch":{this.process(i.innerType,m),s.ref=i.innerType;let p;try{p=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}f.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let p=f,b=e._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=b.source;break}case"pipe":{let p=this.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;this.process(p,m),s.ref=p;break}case"readonly":{this.process(i.innerType,m),s.ref=i.innerType,f.readOnly=!0;break}case"promise":{this.process(i.innerType,m),s.ref=i.innerType;break}case"optional":{this.process(i.innerType,m),s.ref=i.innerType;break}case"lazy":{let p=e._zod.innerType;this.process(p,m),s.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}default:}}}let d=this.metadataRegistry.get(e);return d&&Object.assign(s.schema,d),this.io==="input"&&ye(e)&&(delete s.schema.examples,delete s.schema.default),this.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,this.seen.get(e).schema}emit(e,r){let n={cycles:r?.cycles??"ref",reused:r?.reused??"inline",external:r?.external??void 0},i=this.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");let a=c=>{let m=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){let b=n.external.registry.get(c[0])?.id,T=n.external.uri??(k=>k);if(b)return{ref:T(b)};let A=c[1].defId??c[1].schema.id??`schema${this.counter++}`;return c[1].defId=A,{defId:A,ref:`${T("__shared")}#/${m}/${A}`}}if(c[1]===i)return{ref:"#"};let f=`#/${m}/`,p=c[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:f+p}},o=c=>{if(c[1].schema.$ref)return;let m=c[1],{ref:h,defId:f}=a(c);m.def={...m.schema},f&&(m.defId=f);let p=m.schema;for(let b in p)delete p[b];p.$ref=h};if(n.cycles==="throw")for(let c of this.seen.entries()){let m=c[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let c of this.seen.entries()){let m=c[1];if(e===c[0]){o(c);continue}if(n.external){let f=n.external.registry.get(c[0])?.id;if(e!==c[0]&&f){o(c);continue}}if(this.metadataRegistry.get(c[0])?.id){o(c);continue}if(m.cycle){o(c);continue}if(m.count>1&&n.reused==="ref"){o(c);continue}}let s=(c,m)=>{let h=this.seen.get(c),f=h.def??h.schema,p={...f};if(h.ref===null)return;let b=h.ref;if(h.ref=null,b){s(b,m);let T=this.seen.get(b).schema;T.$ref&&m.target==="draft-7"?(f.allOf=f.allOf??[],f.allOf.push(T)):(Object.assign(f,T),Object.assign(f,p))}h.isParent||this.override({zodSchema:c,jsonSchema:f,path:h.path??[]})};for(let c of[...this.seen.entries()].reverse())s(c[0],{target:this.target});let l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){let c=n.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");l.$id=n.external.uri(c)}Object.assign(l,i.def);let d=n.external?.defs??{};for(let c of this.seen.entries()){let m=c[1];m.def&&m.defId&&(d[m.defId]=m.def)}n.external||Object.keys(d).length>0&&(this.target==="draft-2020-12"?l.$defs=d:l.definitions=d);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}};function yd(t,e){if(t instanceof Pr){let n=new Ki(e),i={};for(let s of t._idmap.entries()){let[l,d]=s;n.process(d)}let a={},o={registry:t,uri:e?.uri,defs:i};for(let s of t._idmap.entries()){let[l,d]=s;a[l]=n.emit(d,{...e,external:o})}if(Object.keys(i).length>0){let s=n.target==="draft-2020-12"?"$defs":"definitions";a.__shared={[s]:i}}return{schemas:a}}let r=new Ki(e);return r.process(t),r.emit(t,e)}function ye(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let i=t._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return ye(i.element,r);case"object":{for(let a in i.shape)if(ye(i.shape[a],r))return!0;return!1}case"union":{for(let a of i.options)if(ye(a,r))return!0;return!1}case"intersection":return ye(i.left,r)||ye(i.right,r);case"tuple":{for(let a of i.items)if(ye(a,r))return!0;return!!(i.rest&&ye(i.rest,r))}case"record":return ye(i.keyType,r)||ye(i.valueType,r);case"map":return ye(i.keyType,r)||ye(i.valueType,r);case"set":return ye(i.valueType,r);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return ye(i.innerType,r);case"lazy":return ye(i.getter(),r);case"default":return ye(i.innerType,r);case"prefault":return ye(i.innerType,r);case"custom":return!1;case"transform":return!0;case"pipe":return ye(i.in,r)||ye(i.out,r);case"success":return!1;case"catch":return!1;default:}throw new Error(`Unknown schema type: ${i.type}`)}var Ff={};var Ma={};Vt(Ma,{ZodISODate:()=>Ea,ZodISODateTime:()=>Aa,ZodISODuration:()=>Ca,ZodISOTime:()=>Ra,date:()=>vd,datetime:()=>bd,duration:()=>_d,time:()=>Td});var Aa=y("ZodISODateTime",(t,e)=>{Ou.init(t,e),Q.init(t,e)});function bd(t){return Mc(Aa,t)}var Ea=y("ZodISODate",(t,e)=>{zu.init(t,e),Q.init(t,e)});function vd(t){return Dc(Ea,t)}var Ra=y("ZodISOTime",(t,e)=>{ju.init(t,e),Q.init(t,e)});function Td(t){return Nc(Ra,t)}var Ca=y("ZodISODuration",(t,e)=>{Lu.init(t,e),Q.init(t,e)});function _d(t){return Uc(Ca,t)}var Wf=(t,e)=>{Ii.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Ai(t,r)},flatten:{value:r=>$i(t,r)},addIssue:{value:r=>t.issues.push(r)},addIssues:{value:r=>t.issues.push(...r)},isEmpty:{get(){return t.issues.length===0}}})},Q1=y("ZodError",Wf),Er=y("ZodError",Wf,{Parent:Error});var xd=Wn(Er),wd=Vn(Er),Sd=Yn(Er),Pd=Kn(Er);var O=y("ZodType",(t,e)=>(M.init(t,e),t.def=e,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone({...e,checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),t.clone=(r,n)=>je(t,r,n),t.brand=()=>t,t.register=(r,n)=>(r.add(t,n),t),t.parse=(r,n)=>xd(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>Sd(t,r,n),t.parseAsync=async(r,n)=>wd(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>Pd(t,r,n),t.spa=t.safeParseAsync,t.refine=(r,n)=>t.check(Cg(r,n)),t.superRefine=r=>t.check(Mg(r)),t.overwrite=r=>t.check(bt(r)),t.optional=()=>Ua(t),t.nullable=()=>Oa(t),t.nullish=()=>Ua(Oa(t)),t.nonoptional=r=>Tg(t,r),t.array=()=>Vd(t),t.or=r=>Ga([t,r]),t.and=r=>og(t,r),t.transform=r=>za(t,Xd(r)),t.default=r=>yg(t,r),t.prefault=r=>vg(t,r),t.catch=r=>wg(t,r),t.pipe=r=>za(t,r),t.readonly=()=>kg(t),t.describe=r=>{let n=t.clone();return at.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return at.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return at.get(t);let n=t.clone();return at.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),$d=y("_ZodString",(t,e)=>{Qt.init(t,e),O.init(t,e);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(zi(...n)),t.includes=(...n)=>t.check(Bi(...n)),t.startsWith=(...n)=>t.check(Gi(...n)),t.endsWith=(...n)=>t.check(Fi(...n)),t.min=(...n)=>t.check(Et(...n)),t.max=(...n)=>t.check($r(...n)),t.length=(...n)=>t.check(Ar(...n)),t.nonempty=(...n)=>t.check(Et(1,...n)),t.lowercase=n=>t.check(ji(n)),t.uppercase=n=>t.check(Li(n)),t.trim=()=>t.check(qi()),t.normalize=(...n)=>t.check(Wi(...n)),t.toLowerCase=()=>t.check(Vi()),t.toUpperCase=()=>t.check(Hi())}),Ji=y("ZodString",(t,e)=>{Qt.init(t,e),$d.init(t,e),t.email=r=>t.check(sa(Ad,r)),t.url=r=>t.check(ma(Ed,r)),t.jwt=r=>t.check(Ia(Wd,r)),t.emoji=r=>t.check(ha(Rd,r)),t.guid=r=>t.check(Ui(Da,r)),t.uuid=r=>t.check(la(Tt,r)),t.uuidv4=r=>t.check(ua(Tt,r)),t.uuidv6=r=>t.check(ca(Tt,r)),t.uuidv7=r=>t.check(da(Tt,r)),t.nanoid=r=>t.check(pa(Cd,r)),t.guid=r=>t.check(Ui(Da,r)),t.cuid=r=>t.check(fa(Md,r)),t.cuid2=r=>t.check(ga(Dd,r)),t.ulid=r=>t.check(ya(Nd,r)),t.base64=r=>t.check(Sa(Gd,r)),t.base64url=r=>t.check(Pa(Fd,r)),t.xid=r=>t.check(ba(Ud,r)),t.ksuid=r=>t.check(va(Od,r)),t.ipv4=r=>t.check(Ta(zd,r)),t.ipv6=r=>t.check(_a(jd,r)),t.cidrv4=r=>t.check(xa(Ld,r)),t.cidrv6=r=>t.check(wa(Bd,r)),t.e164=r=>t.check(ka(Zd,r)),t.datetime=r=>t.check(bd(r)),t.date=r=>t.check(vd(r)),t.time=r=>t.check(Td(r)),t.duration=r=>t.check(_d(r))});function kd(t){return Ec(Ji,t)}var Q=y("ZodStringFormat",(t,e)=>{K.init(t,e),$d.init(t,e)}),Ad=y("ZodEmail",(t,e)=>{$u.init(t,e),Q.init(t,e)});function t_(t){return sa(Ad,t)}var Da=y("ZodGUID",(t,e)=>{ku.init(t,e),Q.init(t,e)});function r_(t){return Ui(Da,t)}var Tt=y("ZodUUID",(t,e)=>{Iu.init(t,e),Q.init(t,e)});function i_(t){return la(Tt,t)}function n_(t){return ua(Tt,t)}function a_(t){return ca(Tt,t)}function o_(t){return da(Tt,t)}var Ed=y("ZodURL",(t,e)=>{Au.init(t,e),Q.init(t,e)});function s_(t){return ma(Ed,t)}var Rd=y("ZodEmoji",(t,e)=>{Eu.init(t,e),Q.init(t,e)});function l_(t){return ha(Rd,t)}var Cd=y("ZodNanoID",(t,e)=>{Ru.init(t,e),Q.init(t,e)});function u_(t){return pa(Cd,t)}var Md=y("ZodCUID",(t,e)=>{Cu.init(t,e),Q.init(t,e)});function c_(t){return fa(Md,t)}var Dd=y("ZodCUID2",(t,e)=>{Mu.init(t,e),Q.init(t,e)});function d_(t){return ga(Dd,t)}var Nd=y("ZodULID",(t,e)=>{Du.init(t,e),Q.init(t,e)});function m_(t){return ya(Nd,t)}var Ud=y("ZodXID",(t,e)=>{Nu.init(t,e),Q.init(t,e)});function h_(t){return ba(Ud,t)}var Od=y("ZodKSUID",(t,e)=>{Uu.init(t,e),Q.init(t,e)});function p_(t){return va(Od,t)}var zd=y("ZodIPv4",(t,e)=>{Bu.init(t,e),Q.init(t,e)});function f_(t){return Ta(zd,t)}var jd=y("ZodIPv6",(t,e)=>{Gu.init(t,e),Q.init(t,e)});function g_(t){return _a(jd,t)}var Ld=y("ZodCIDRv4",(t,e)=>{Fu.init(t,e),Q.init(t,e)});function y_(t){return xa(Ld,t)}var Bd=y("ZodCIDRv6",(t,e)=>{Zu.init(t,e),Q.init(t,e)});function b_(t){return wa(Bd,t)}var Gd=y("ZodBase64",(t,e)=>{qu.init(t,e),Q.init(t,e)});function v_(t){return Sa(Gd,t)}var Fd=y("ZodBase64URL",(t,e)=>{Vu.init(t,e),Q.init(t,e)});function T_(t){return Pa(Fd,t)}var Zd=y("ZodE164",(t,e)=>{Hu.init(t,e),Q.init(t,e)});function __(t){return ka(Zd,t)}var Wd=y("ZodJWT",(t,e)=>{Yu.init(t,e),Q.init(t,e)});function x_(t){return Ia(Wd,t)}var qf=y("ZodCustomStringFormat",(t,e)=>{Ku.init(t,e),Q.init(t,e)});function w_(t,e,r={}){return fd(qf,t,e,r)}var Qi=y("ZodNumber",(t,e)=>{ra.init(t,e),O.init(t,e),t.gt=(n,i)=>t.check(yt(n,i)),t.gte=(n,i)=>t.check(Ue(n,i)),t.min=(n,i)=>t.check(Ue(n,i)),t.lt=(n,i)=>t.check(gt(n,i)),t.lte=(n,i)=>t.check(He(n,i)),t.max=(n,i)=>t.check(He(n,i)),t.int=n=>t.check(Id(n)),t.safe=n=>t.check(Id(n)),t.positive=n=>t.check(yt(0,n)),t.nonnegative=n=>t.check(Ue(0,n)),t.negative=n=>t.check(gt(0,n)),t.nonpositive=n=>t.check(He(0,n)),t.multipleOf=(n,i)=>t.check(tr(n,i)),t.step=(n,i)=>t.check(tr(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Vf(t){return Oc(Qi,t)}var Rr=y("ZodNumberFormat",(t,e)=>{Xu.init(t,e),Qi.init(t,e)});function Id(t){return jc(Rr,t)}function S_(t){return Lc(Rr,t)}function P_(t){return Bc(Rr,t)}function k_(t){return Gc(Rr,t)}function I_(t){return Fc(Rr,t)}var en=y("ZodBoolean",(t,e)=>{Ri.init(t,e),O.init(t,e)});function Hf(t){return Zc(en,t)}var tn=y("ZodBigInt",(t,e)=>{ia.init(t,e),O.init(t,e),t.gte=(n,i)=>t.check(Ue(n,i)),t.min=(n,i)=>t.check(Ue(n,i)),t.gt=(n,i)=>t.check(yt(n,i)),t.gte=(n,i)=>t.check(Ue(n,i)),t.min=(n,i)=>t.check(Ue(n,i)),t.lt=(n,i)=>t.check(gt(n,i)),t.lte=(n,i)=>t.check(He(n,i)),t.max=(n,i)=>t.check(He(n,i)),t.positive=n=>t.check(yt(BigInt(0),n)),t.negative=n=>t.check(gt(BigInt(0),n)),t.nonpositive=n=>t.check(He(BigInt(0),n)),t.nonnegative=n=>t.check(Ue(BigInt(0),n)),t.multipleOf=(n,i)=>t.check(tr(n,i));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});function $_(t){return qc(tn,t)}var qd=y("ZodBigIntFormat",(t,e)=>{Ju.init(t,e),tn.init(t,e)});function A_(t){return Hc(qd,t)}function E_(t){return Yc(qd,t)}var Yf=y("ZodSymbol",(t,e)=>{Qu.init(t,e),O.init(t,e)});function R_(t){return Kc(Yf,t)}var Kf=y("ZodUndefined",(t,e)=>{ec.init(t,e),O.init(t,e)});function C_(t){return Xc(Kf,t)}var Xf=y("ZodNull",(t,e)=>{tc.init(t,e),O.init(t,e)});function Jf(t){return Jc(Xf,t)}var Qf=y("ZodAny",(t,e)=>{rc.init(t,e),O.init(t,e)});function M_(){return Qc(Qf)}var eg=y("ZodUnknown",(t,e)=>{Sr.init(t,e),O.init(t,e)});function Na(){return kr(eg)}var tg=y("ZodNever",(t,e)=>{ic.init(t,e),O.init(t,e)});function ja(t){return ed(tg,t)}var rg=y("ZodVoid",(t,e)=>{nc.init(t,e),O.init(t,e)});function D_(t){return td(rg,t)}var La=y("ZodDate",(t,e)=>{ac.init(t,e),O.init(t,e),t.min=(n,i)=>t.check(Ue(n,i)),t.max=(n,i)=>t.check(He(n,i));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function N_(t){return rd(La,t)}var ig=y("ZodArray",(t,e)=>{Ci.init(t,e),O.init(t,e),t.element=e.element,t.min=(r,n)=>t.check(Et(r,n)),t.nonempty=r=>t.check(Et(1,r)),t.max=(r,n)=>t.check($r(r,n)),t.length=(r,n)=>t.check(Ar(r,n)),t.unwrap=()=>t.element});function Vd(t,e){return Yi(ig,t,e)}function U_(t){let e=t._zod.def.shape;return hg(Object.keys(e))}var Ba=y("ZodObject",(t,e)=>{oc.init(t,e),O.init(t,e),$.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>dg(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Na()}),t.loose=()=>t.clone({...t._zod.def,catchall:Na()}),t.strict=()=>t.clone({...t._zod.def,catchall:ja()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>$.extend(t,r),t.merge=r=>$.merge(t,r),t.pick=r=>$.pick(t,r),t.omit=r=>$.omit(t,r),t.partial=(...r)=>$.partial(Jd,t,r[0]),t.required=(...r)=>$.required(Qd,t,r[0])});function O_(t,e){let r={type:"object",get shape(){return $.assignProp(this,"shape",{...t}),this.shape},...$.normalizeParams(e)};return new Ba(r)}function z_(t,e){return new Ba({type:"object",get shape(){return $.assignProp(this,"shape",{...t}),this.shape},catchall:ja(),...$.normalizeParams(e)})}function j_(t,e){return new Ba({type:"object",get shape(){return $.assignProp(this,"shape",{...t}),this.shape},catchall:Na(),...$.normalizeParams(e)})}var Hd=y("ZodUnion",(t,e)=>{na.init(t,e),O.init(t,e),t.options=e.options});function Ga(t,e){return new Hd({type:"union",options:t,...$.normalizeParams(e)})}var ng=y("ZodDiscriminatedUnion",(t,e)=>{Hd.init(t,e),sc.init(t,e)});function L_(t,e,r){return new ng({type:"union",options:e,discriminator:t,...$.normalizeParams(r)})}var ag=y("ZodIntersection",(t,e)=>{lc.init(t,e),O.init(t,e)});function og(t,e){return new ag({type:"intersection",left:t,right:e})}var sg=y("ZodTuple",(t,e)=>{er.init(t,e),O.init(t,e),t.rest=r=>t.clone({...t._zod.def,rest:r})});function B_(t,e,r){let n=e instanceof M,i=n?r:e,a=n?e:null;return new sg({type:"tuple",items:t,rest:a,...$.normalizeParams(i)})}var Yd=y("ZodRecord",(t,e)=>{uc.init(t,e),O.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function lg(t,e,r){return new Yd({type:"record",keyType:t,valueType:e,...$.normalizeParams(r)})}function G_(t,e,r){return new Yd({type:"record",keyType:Ga([t,ja()]),valueType:e,...$.normalizeParams(r)})}var ug=y("ZodMap",(t,e)=>{cc.init(t,e),O.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function F_(t,e,r){return new ug({type:"map",keyType:t,valueType:e,...$.normalizeParams(r)})}var cg=y("ZodSet",(t,e)=>{dc.init(t,e),O.init(t,e),t.min=(...r)=>t.check(rr(...r)),t.nonempty=r=>t.check(rr(1,r)),t.max=(...r)=>t.check(Ir(...r)),t.size=(...r)=>t.check(Oi(...r))});function Z_(t,e){return new cg({type:"set",valueType:t,...$.normalizeParams(e)})}var Xi=y("ZodEnum",(t,e)=>{mc.init(t,e),O.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let a={};for(let o of n)if(r.has(o))a[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Xi({...e,checks:[],...$.normalizeParams(i),entries:a})},t.exclude=(n,i)=>{let a={...e.entries};for(let o of n)if(r.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new Xi({...e,checks:[],...$.normalizeParams(i),entries:a})}});function dg(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new Xi({type:"enum",entries:r,...$.normalizeParams(e)})}function W_(t,e){return new Xi({type:"enum",entries:t,...$.normalizeParams(e)})}var mg=y("ZodLiteral",(t,e)=>{hc.init(t,e),O.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function hg(t,e){return new mg({type:"literal",values:Array.isArray(t)?t:[t],...$.normalizeParams(e)})}var pg=y("ZodFile",(t,e)=>{pc.init(t,e),O.init(t,e),t.min=(r,n)=>t.check(rr(r,n)),t.max=(r,n)=>t.check(Ir(r,n)),t.mime=(r,n)=>t.check(Zi(Array.isArray(r)?r:[r],n))});function q_(t){return dd(pg,t)}var Kd=y("ZodTransform",(t,e)=>{Mi.init(t,e),O.init(t,e),t._zod.parse=(r,n)=>{r.addIssue=a=>{if(typeof a=="string")r.issues.push($.issue(a,r.value,e));else{let o=a;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=t),o.continue??(o.continue=!0),r.issues.push($.issue(o))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function Xd(t){return new Kd({type:"transform",transform:t})}var Jd=y("ZodOptional",(t,e)=>{fc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Ua(t){return new Jd({type:"optional",innerType:t})}var fg=y("ZodNullable",(t,e)=>{gc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Oa(t){return new fg({type:"nullable",innerType:t})}function V_(t){return Ua(Oa(t))}var gg=y("ZodDefault",(t,e)=>{yc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function yg(t,e){return new gg({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var bg=y("ZodPrefault",(t,e)=>{bc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType});function vg(t,e){return new bg({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():e}})}var Qd=y("ZodNonOptional",(t,e)=>{vc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType});function Tg(t,e){return new Qd({type:"nonoptional",innerType:t,...$.normalizeParams(e)})}var _g=y("ZodSuccess",(t,e)=>{Tc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType});function H_(t){return new _g({type:"success",innerType:t})}var xg=y("ZodCatch",(t,e)=>{_c.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function wg(t,e){return new xg({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var Sg=y("ZodNaN",(t,e)=>{xc.init(t,e),O.init(t,e)});function Y_(t){return nd(Sg,t)}var em=y("ZodPipe",(t,e)=>{Di.init(t,e),O.init(t,e),t.in=e.in,t.out=e.out});function za(t,e){return new em({type:"pipe",in:t,out:e})}var Pg=y("ZodReadonly",(t,e)=>{wc.init(t,e),O.init(t,e)});function kg(t){return new Pg({type:"readonly",innerType:t})}var Ig=y("ZodTemplateLiteral",(t,e)=>{Sc.init(t,e),O.init(t,e)});function K_(t,e){return new Ig({type:"template_literal",parts:t,...$.normalizeParams(e)})}var $g=y("ZodLazy",(t,e)=>{kc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.getter()});function Ag(t){return new $g({type:"lazy",getter:t})}var Eg=y("ZodPromise",(t,e)=>{Pc.init(t,e),O.init(t,e),t.unwrap=()=>t._zod.def.innerType});function X_(t){return new Eg({type:"promise",innerType:t})}var Fa=y("ZodCustom",(t,e)=>{Ic.init(t,e),O.init(t,e)});function Rg(t){let e=new oe({check:"custom"});return e._zod.check=t,e}function J_(t,e){return md(Fa,t??(()=>!0),e)}function Cg(t,e={}){return hd(Fa,t,e)}function Mg(t){let e=Rg(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push($.issue(n,r.value,e._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push($.issue(i))}},t(r.value,r)));return e}function Q_(t,e={error:`Input not instance of ${t.name}`}){let r=new Fa({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...$.normalizeParams(e)});return r._zod.bag.Class=t,r}var ex=(...t)=>pd({Pipe:em,Boolean:en,String:Ji,Transform:Kd},...t);function tx(t){let e=Ag(()=>Ga([kd(t),Vf(),Hf(),Jf(),Vd(e),lg(kd(),e)]));return e}function rx(t,e){return za(Xd(t),e)}var ix={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function nx(t){me({customError:t})}function ax(){return me().customError}var tm;tm||(tm={});var rm={};Vt(rm,{bigint:()=>ux,boolean:()=>lx,date:()=>cx,number:()=>sx,string:()=>ox});function ox(t){return Rc(Ji,t)}function sx(t){return zc(Qi,t)}function lx(t){return Wc(en,t)}function ux(t){return Vc(tn,t)}function cx(t){return id(La,t)}me(aa());var dx={grad:.9,turn:360,rad:360/(2*Math.PI)},_t=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Te=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Ye=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Bg=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Dg=function(t){return{r:Ye(t.r,0,255),g:Ye(t.g,0,255),b:Ye(t.b,0,255),a:Ye(t.a)}},im=function(t){return{r:Te(t.r),g:Te(t.g),b:Te(t.b),a:Te(t.a,3)}},mx=/^#([0-9a-f]{3,8})$/i,Za=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Gg=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=Math.max(e,r,n),o=a-Math.min(e,r,n),s=o?a===e?(r-n)/o:a===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:i}},Fg=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),o=n*(1-r),s=n*(1-(e-a)*r),l=n*(1-(1-e+a)*r),d=a%6;return{r:255*[n,s,o,o,l,n][d],g:255*[l,n,n,s,o,o][d],b:255*[o,o,l,n,n,s][d],a:i}},Ng=function(t){return{h:Bg(t.h),s:Ye(t.s,0,100),l:Ye(t.l,0,100),a:Ye(t.a)}},Ug=function(t){return{h:Te(t.h),s:Te(t.s),l:Te(t.l),a:Te(t.a,3)}},Og=function(t){return Fg((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},rn=function(t){return{h:(e=Gg(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},hx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,px=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,om={string:[[function(t){var e=mx.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Te(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Te(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=fx.exec(t)||gx.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Dg({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=hx.exec(t)||px.exec(t);if(!e)return null;var r,n,i=Ng({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(dx[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Og(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,a=i===void 0?1:i;return _t(e)&&_t(r)&&_t(n)?Dg({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,a=i===void 0?1:i;if(!_t(e)||!_t(r)||!_t(n))return null;var o=Ng({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return Og(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,a=i===void 0?1:i;if(!_t(e)||!_t(r)||!_t(n))return null;var o=function(s){return{h:Bg(s.h),s:Ye(s.s,0,100),v:Ye(s.v,0,100),a:Ye(s.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return Fg(o)},"hsv"]]},zg=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},yx=function(t){return typeof t=="string"?zg(t.trim(),om.string):typeof t=="object"&&t!==null?zg(t,om.object):[null,void 0]};var nm=function(t,e){var r=rn(t);return{h:r.h,s:Ye(r.s+100*e,0,100),l:r.l,a:r.a}},am=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},jg=function(t,e){var r=rn(t);return{h:r.h,s:r.s,l:Ye(r.l+100*e,0,100),a:r.a}},sm=function(){function t(e){this.parsed=yx(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Te(am(this.rgba),2)},t.prototype.isDark=function(){return am(this.rgba)<.5},t.prototype.isLight=function(){return am(this.rgba)>=.5},t.prototype.toHex=function(){return e=im(this.rgba),r=e.r,n=e.g,i=e.b,o=(a=e.a)<1?Za(Te(255*a)):"","#"+Za(r)+Za(n)+Za(i)+o;var e,r,n,i,a,o},t.prototype.toRgb=function(){return im(this.rgba)},t.prototype.toRgbString=function(){return e=im(this.rgba),r=e.r,n=e.g,i=e.b,(a=e.a)<1?"rgba("+r+", "+n+", "+i+", "+a+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,a},t.prototype.toHsl=function(){return Ug(rn(this.rgba))},t.prototype.toHslString=function(){return e=Ug(rn(this.rgba)),r=e.h,n=e.s,i=e.l,(a=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+a+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,a},t.prototype.toHsv=function(){return e=Gg(this.rgba),{h:Te(e.h),s:Te(e.s),v:Te(e.v),a:Te(e.a,3)};var e},t.prototype.invert=function(){return u({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),u(nm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),u(nm(this.rgba,-e))},t.prototype.grayscale=function(){return u(nm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),u(jg(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),u(jg(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?u({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Te(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=rn(this.rgba);return typeof e=="number"?u({h:e,s:r.s,l:r.l,a:r.a}):Te(r.h)},t.prototype.isEqual=function(e){return this.toHex()===u(e).toHex()},t}(),u=function(t){return t instanceof sm?t:new sm(t)},Lg=[],Cr=function(t){t.forEach(function(e){Lg.indexOf(e)<0&&(e(sm,om),Lg.push(e))})};var o0=el(a0(),1),qa=class qa{constructor(e){this.rng=(0,o0.default)(String(e))}next(){return this.rng()}nextInt(e,r){return Math.floor(this.rng()*(r-e))+e}nextFloat(e,r){return this.rng()*(r-e)+e}nextID(){return Math.floor(this.rng()*qa.POW36_8).toString(36).padStart(8,"0")}randElement(e){if(e.length===0)throw new Error("array must not be empty");return e[this.nextInt(0,e.length)]}randFromSet(e){let r=e.size;if(r===0)throw new Error("set must not be empty");let n=this.nextInt(0,r),i=0;for(let a of e){if(i===n)return a;i++}throw new Error("Unexpected error selecting element from set")}chance(e){return this.nextInt(0,e)===0}shuffleArray(e){let r=[...e];for(let n=r.length-1;n>0;n--){let i=this.nextInt(0,n+1);[r[n],r[i]]=[r[i],r[n]]}return r}};qa.POW36_8=Math.pow(36,8);var D=qa;var pm=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},nn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},rt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},fm=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},gm=function(t){return 255*(t>.0031308?1.055*Math.pow(t,.4166666666666667)-.055:12.92*t)},ym=96.422,bm=100,vm=82.521,Sx=function(t){var e,r,n={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return r={r:gm(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:gm(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:gm(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:t.a},{r:rt(r.r,0,255),g:rt(r.g,0,255),b:rt(r.b,0,255),a:rt(r.a)}},Px=function(t){var e=fm(t.r),r=fm(t.g),n=fm(t.b);return function(i){return{x:rt(i.x,0,ym),y:rt(i.y,0,bm),z:rt(i.z,0,vm),a:rt(i.a)}}(function(i){return{x:1.0478112*i.x+.0228866*i.y+-.050127*i.z,y:.0295424*i.x+.9904844*i.y+-.0170491*i.z,z:-.0092345*i.x+.0150436*i.y+.7521316*i.z,a:i.a}}({x:100*(.4124564*e+.3575761*r+.1804375*n),y:100*(.2126729*e+.7151522*r+.072175*n),z:100*(.0193339*e+.119192*r+.9503041*n),a:t.a}))},an=216/24389,Mr=24389/27,kx=function(t){var e=t.l,r=t.a,n=t.b,i=t.alpha,a=i===void 0?1:i;if(!pm(e)||!pm(r)||!pm(n))return null;var o=function(s){return{l:rt(s.l,0,400),a:s.a,b:s.b,alpha:rt(s.alpha)}}({l:Number(e),a:Number(r),b:Number(n),alpha:Number(a)});return Ix(o)},Ix=function(t){var e=(t.l+16)/116,r=t.a/500+e,n=e-t.b/200;return Sx({x:(Math.pow(r,3)>an?Math.pow(r,3):(116*r-16)/Mr)*ym,y:(t.l>8?Math.pow((t.l+16)/116,3):t.l/Mr)*bm,z:(Math.pow(n,3)>an?Math.pow(n,3):(116*n-16)/Mr)*vm,a:t.alpha})};function Va(t,e){t.prototype.toLab=function(){return n=Px(this.rgba),a=n.y/bm,o=n.z/vm,i=(i=n.x/ym)>an?Math.cbrt(i):(Mr*i+16)/116,r={l:116*(a=a>an?Math.cbrt(a):(Mr*a+16)/116)-16,a:500*(i-a),b:200*(a-(o=o>an?Math.cbrt(o):(Mr*o+16)/116)),alpha:n.a},{l:nn(r.l,2),a:nn(r.a,2),b:nn(r.b,2),alpha:nn(r.alpha,3)};var r,n,i,a,o},t.prototype.delta=function(r){r===void 0&&(r="#FFF");var n=r instanceof t?r:new t(r),i=function(a,o){var s=a.l,l=a.a,d=a.b,c=o.l,m=o.a,h=o.b,f=180/Math.PI,p=Math.PI/180,b=Math.pow(Math.pow(l,2)+Math.pow(d,2),.5),T=Math.pow(Math.pow(m,2)+Math.pow(h,2),.5),A=(s+c)/2,k=Math.pow((b+T)/2,7),v=.5*(1-Math.pow(k/(k+Math.pow(25,7)),.5)),w=l*(1+v),N=m*(1+v),L=Math.pow(Math.pow(w,2)+Math.pow(d,2),.5),G=Math.pow(Math.pow(N,2)+Math.pow(h,2),.5),q=(L+G)/2,H=w===0&&d===0?0:Math.atan2(d,w)*f,X=N===0&&h===0?0:Math.atan2(h,N)*f;H<0&&(H+=360),X<0&&(X+=360);var B=X-H,ce=Math.abs(X-H);ce>180&&X<=H?B+=360:ce>180&&X>H&&(B-=360);var te=H+X;ce<=180?te/=2:te=(H+X<360?te+360:te-360)/2;var Ce=1-.17*Math.cos(p*(te-30))+.24*Math.cos(2*p*te)+.32*Math.cos(p*(3*te+6))-.2*Math.cos(p*(4*te-63)),We=c-s,Me=G-L,Zt=2*Math.sin(p*B/2)*Math.pow(L*G,.5),dr=1+.015*Math.pow(A-50,2)/Math.pow(20+Math.pow(A-50,2),.5),Wt=1+.045*q,Je=1+.015*q*Ce,ae=30*Math.exp(-1*Math.pow((te-275)/25,2)),mr=-2*Math.pow(k/(k+Math.pow(25,7)),.5)*Math.sin(2*p*ae);return Math.pow(Math.pow(We/1/dr,2)+Math.pow(Me/1/Wt,2)+Math.pow(Zt/1/Je,2)+mr*Me*Zt/(1*Wt*1*Je),.5)}(this.toLab(),n.toLab())/100;return rt(nn(i,3))},e.object.push([kx,"lab"])}var $x={grad:.9,turn:360,rad:360/(2*Math.PI)},Tm=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Dr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},xt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},_m=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},xm=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},wm=96.422,Sm=100,Pm=82.521,Ax=function(t){var e,r,n={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return r={r:xm(.032404542*n.x-.015371385*n.y-.004985314*n.z),g:xm(-.00969266*n.x+.018760108*n.y+41556e-8*n.z),b:xm(556434e-9*n.x-.002040259*n.y+.010572252*n.z),a:t.a},{r:xt(r.r,0,255),g:xt(r.g,0,255),b:xt(r.b,0,255),a:xt(r.a)}},Ex=function(t){var e=_m(t.r),r=_m(t.g),n=_m(t.b);return function(i){return{x:xt(i.x,0,wm),y:xt(i.y,0,Sm),z:xt(i.z,0,Pm),a:xt(i.a)}}(function(i){return{x:1.0478112*i.x+.0228866*i.y+-.050127*i.z,y:.0295424*i.x+.9904844*i.y+-.0170491*i.z,z:-.0092345*i.x+.0150436*i.y+.7521316*i.z,a:i.a}}({x:100*(.4124564*e+.3575761*r+.1804375*n),y:100*(.2126729*e+.7151522*r+.072175*n),z:100*(.0193339*e+.119192*r+.9503041*n),a:t.a}))},on=216/24389,Nr=24389/27,u0=function(t){return{l:xt(t.l,0,100),c:t.c,h:(e=t.h,(e=isFinite(e)?e%360:0)>0?e:e+360),a:t.a};var e},s0=function(t){return{l:Dr(t.l,2),c:Dr(t.c,2),h:Dr(t.h,2),a:Dr(t.a,3)}},Rx=function(t){var e=t.l,r=t.c,n=t.h,i=t.a,a=i===void 0?1:i;if(!Tm(e)||!Tm(r)||!Tm(n))return null;var o=u0({l:Number(e),c:Number(r),h:Number(n),a:Number(a)});return c0(o)},l0=function(t){var e=function(a){var o=Ex(a),s=o.x/wm,l=o.y/Sm,d=o.z/Pm;return s=s>on?Math.cbrt(s):(Nr*s+16)/116,{l:116*(l=l>on?Math.cbrt(l):(Nr*l+16)/116)-16,a:500*(s-l),b:200*(l-(d=d>on?Math.cbrt(d):(Nr*d+16)/116)),alpha:o.a}}(t),r=Dr(e.a,3),n=Dr(e.b,3),i=Math.atan2(n,r)/Math.PI*180;return{l:e.l,c:Math.sqrt(r*r+n*n),h:i<0?i+360:i,a:e.alpha}},c0=function(t){return e={l:t.l,a:t.c*Math.cos(t.h*Math.PI/180),b:t.c*Math.sin(t.h*Math.PI/180),alpha:t.a},n=e.a/500+(r=(e.l+16)/116),i=r-e.b/200,Ax({x:(Math.pow(n,3)>on?Math.pow(n,3):(116*n-16)/Nr)*wm,y:(e.l>8?Math.pow((e.l+16)/116,3):e.l/Nr)*Sm,z:(Math.pow(i,3)>on?Math.pow(i,3):(116*i-16)/Nr)*Pm,a:e.alpha});var e,r,n,i},Cx=/^lch\(\s*([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)\s+([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mx=function(t){var e=Cx.exec(t);if(!e)return null;var r,n,i=u0({l:Number(e[1]),c:Number(e[2]),h:(r=e[3],n=e[4],n===void 0&&(n="deg"),Number(r)*($x[n]||1)),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return c0(i)};function Ha(t,e){t.prototype.toLch=function(){return s0(l0(this.rgba))},t.prototype.toLchString=function(){return r=s0(l0(this.rgba)),n=r.l,i=r.c,a=r.h,(o=r.a)<1?"lch("+n+"% "+i+" "+a+" / "+o+")":"lch("+n+"% "+i+" "+a+")";var r,n,i,a,o},e.string.push([Mx,"lch"]),e.object.push([Rx,"lch"])}function ne(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let n=e[0].length,i=e[0].map((o,s)=>e.map(l=>l[s])),a=t.map(o=>i.map(s=>{let l=0;if(!Array.isArray(o)){for(let d of s)l+=o*d;return l}for(let d=0;d<o.length;d++)l+=o[d]*(s[d]||0);return l}));return r===1&&(a=a[0]),n===1?a.map(o=>o[0]):a}function mn(t){return Rt(t)==="string"}function Rt(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function no(t,{precision:e,unit:r}){return Ct(t)?"none":ly(t,e)+(r??"")}function Ct(t){return Number.isNaN(t)||t instanceof Number&&t?.none}function pe(t){return Ct(t)?0:t}function ly(t,e){if(t===0)return 0;let r=~~t,n=0;r&&e&&(n=~~Math.log10(Math.abs(r))+1);let i=10**(e-n);return Math.floor(t*i+.5)/i}var Dx={deg:1,grad:.9,rad:180/Math.PI,turn:360};function uy(t){if(!t)return;t=t.trim();let e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,i=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,a=t.match(e);if(a){let o=[];return a[2].replace(i,(s,l)=>{let d=l.match(n),c=l;if(d){let m=d[0],h=c.slice(0,-m.length);m==="%"?(c=new Number(h/100),c.type="<percentage>"):(c=new Number(h*Dx[m]),c.type="<angle>",c.unit=m)}else r.test(c)?(c=new Number(c),c.type="<number>"):c==="none"&&(c=new Number(NaN),c.none=!0);s.startsWith("/")&&(c=c instanceof Number?c:new Number(c),c.alpha=!0),typeof c=="object"&&c instanceof Number&&(c.raw=l),o.push(c)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:o}}}function cy(t){return t[t.length-1]}function un(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function dy(t,e,r){return(r-t)/(e-t)}function Wm(t,e,r){return un(e[0],e[1],dy(t[0],t[1],r))}function my(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let n=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let i=new String(n[1]);return i.range=[+n[2],+n[3]],i}return r}))}function hy(t,e,r){return Math.max(Math.min(r,e),t)}function lo(t,e){return Math.sign(t)===Math.sign(e)?t:-t}function ot(t,e){return lo(Math.abs(t)**e,t)}function qm(t,e){return e===0?0:t/e}function py(t,e,r=0,n=t.length){for(;r<n;){let i=r+n>>1;t[i]<e?r=i+1:n=i}return r}var Nx=Object.freeze({__proto__:null,bisectLeft:py,clamp:hy,copySign:lo,interpolate:un,interpolateInv:dy,isNone:Ct,isString:mn,last:cy,mapRange:Wm,multiplyMatrices:ne,parseCoordGrammar:my,parseFunction:uy,serializeNumber:no,skipNone:pe,spow:ot,toPrecision:ly,type:Rt,zdiv:qm}),Um=class{add(e,r,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(i){this[i]=this[i]||[],r&&this[i][n?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}},Mt=new Um,Fe={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}},Re={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Om(t){return Array.isArray(t)?t:Re[t]}function ao(t,e,r,n={}){if(t=Om(t),e=Om(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let i={W1:t,W2:e,XYZ:r,options:n};if(Mt.run("chromatic-adaptation-start",i),i.M||(i.W1===Re.D65&&i.W2===Re.D50?i.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:i.W1===Re.D50&&i.W2===Re.D65&&(i.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Mt.run("chromatic-adaptation-end",i),i.M)return ne(i.M,i.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var Ux=new Set(["<number>","<percentage>","<angle>"]);function d0(t,e,r,n){return Object.entries(t.coords).map(([a,o],s)=>{let l=e.coordGrammar[s],d=n[s],c=d?.type,m;if(d.none?m=l.find(p=>Ux.has(p)):m=l.find(p=>p==c),!m){let p=o.name||a;throw new TypeError(`${c??d.raw} not allowed for ${p} in ${r}()`)}let h=m.range;c==="<percentage>"&&(h||(h=[0,1]));let f=o.range||o.refRange;return h&&f&&(n[s]=Wm(h,f,n[s])),m})}function fy(t,{meta:e}={}){let r={str:String(t)?.trim()};if(Mt.run("parse-start",r),r.color)return r.color;if(r.parsed=uy(r.str),r.parsed){let n=r.parsed.name;if(n==="color"){let i=r.parsed.args.shift(),a=i.startsWith("--")?i.substring(2):`--${i}`,o=[i,a],s=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let c of R.all){let m=c.getFormat("color");if(m&&(o.includes(m.id)||m.ids?.filter(h=>o.includes(h)).length)){let h=Object.keys(c.coords).map((p,b)=>r.parsed.args[b]||0),f;return m.coordGrammar&&(f=d0(c,m,"color",h)),e&&Object.assign(e,{formatId:"color",types:f}),m.id.startsWith("--")&&!i.startsWith("--")&&Fe.warn(`${c.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${m.id}) instead of color(${i}).`),i.startsWith("--")&&!m.id.startsWith("--")&&Fe.warn(`${c.name} is a standard space and supported in the CSS spec. Use color(${m.id}) instead of prefixed color(${i}).`),{spaceId:c.id,coords:h,alpha:s}}}let l="",d=i in R.registry?i:a;if(d in R.registry){let c=R.registry[d].formats?.color?.id;c&&(l=`Did you mean color(${c})?`)}throw new TypeError(`Cannot parse color(${i}). `+(l||"Missing a plugin?"))}else for(let i of R.all){let a=i.getFormat(n);if(a&&a.type==="function"){let o=1;(a.lastAlpha||cy(r.parsed.args).alpha)&&(o=r.parsed.args.pop());let s=r.parsed.args,l;return a.coordGrammar&&(l=d0(i,a,n,s)),e&&Object.assign(e,{formatId:a.name,types:l}),{spaceId:i.id,coords:s,alpha:o}}}}else for(let n of R.all)for(let i in n.formats){let a=n.formats[i];if(a.type!=="custom"||a.test&&!a.test(r.str))continue;let o=a.parse(r.str);if(o)return o.alpha??(o.alpha=1),e&&(e.formatId=i),o}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function U(t){if(Array.isArray(t))return t.map(U);if(!t)throw new TypeError("Empty color reference");mn(t)&&(t=fy(t));let e=t.space||t.spaceId;return e instanceof R||(t.space=R.get(e)),t.alpha===void 0&&(t.alpha=1),t}var Ox=75e-6,Oe=class Oe{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?Oe.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let i in r)"name"in r[i]||(r[i].name=i);this.coords=r;let n=e.white??this.base.white??"D65";this.white=Om(n),this.formats=e.formats??{};for(let i in this.formats){let a=this.formats[i];a.type||(a.type="function"),a.name||(a.name=i)}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:e.cssId||this.id}),e.gamutSpace?this.gamutSpace=e.gamutSpace==="self"?this:Oe.get(e.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(i,a)=>!0),this.referred=e.referred,Object.defineProperty(this,"path",{value:zx(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Mt.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=Ox}={}){if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:r});let n=Object.values(this.coords);return e.every((i,a)=>{let o=n[a];if(o.type!=="angle"&&o.range){if(Number.isNaN(i))return!0;let[s,l]=o.range;return(s===void 0||i>=s-r)&&(l===void 0||i<=l+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(e=>!("range"in e))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=m0(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=m0(r,this),r):null}equals(e){return e?this===e||this.id===e||this.id===e.id:!1}to(e,r){if(arguments.length===1){let s=U(e);[e,r]=[s.space,s.coords]}if(e=Oe.get(e),this.equals(e))return r;r=r.map(s=>Number.isNaN(s)?0:s);let n=this.path,i=e.path,a,o;for(let s=0;s<n.length&&n[s].equals(i[s]);s++)a=n[s],o=s;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let s=n.length-1;s>o;s--)r=n[s].toBase(r);for(let s=o+1;s<i.length;s++)r=i[s].fromBase(r);return r}from(e,r){if(arguments.length===1){let n=U(e);[e,r]=[n.space,n.coords]}return e=Oe.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let n=this.coords[r],i=n.range||n.refRange;e.push(i?.min??0)}return e}static get all(){return[...new Set(Object.values(Oe.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(e,...r){if(!e||e instanceof Oe)return e;if(Rt(e)==="string"){let i=Oe.registry[e.toLowerCase()];if(!i)throw new TypeError(`No color space found with id = "${e}"`);return i}if(r.length)return Oe.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){let n=Rt(e),i,a;if(n==="string"?e.includes(".")?[i,a]=e.split("."):[i,a]=[,e]:Array.isArray(e)?[i,a]=e:(i=e.space,a=e.coordId),i=Oe.get(i),i||(i=r),!i)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(n=Rt(a),n==="number"||n==="string"&&a>=0){let l=Object.entries(i.coords)[a];if(l)return{space:i,id:l[0],index:a,...l[1]}}i=Oe.get(i);let o=a.toLowerCase(),s=0;for(let l in i.coords){let d=i.coords[l];if(l.toLowerCase()===o||d.name?.toLowerCase()===o)return{space:i,id:l,index:s,...d};s++}throw new TypeError(`No "${a}" coordinate found in ${i.name}. Its coordinates are: ${Object.keys(i.coords).join(", ")}`)}};tl(Oe,"registry",{}),tl(Oe,"DEFAULT_FORMAT",{type:"functions",name:"color"});var R=Oe;function zx(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function m0(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||(t.type="function"),t.name||(t.name="color"),t.coordGrammar=my(t.coords);let r=Object.entries(e).map(([n,i],a)=>{let o=t.coordGrammar[a][0],s=i.range||i.refRange,l=o.range,d="";return o=="<percentage>"?(l=[0,100],d="%"):o=="<angle>"&&(d="deg"),{fromRange:s,toRange:l,suffix:d}});t.serializeCoords=(n,i)=>n.map((a,o)=>{let{fromRange:s,toRange:l,suffix:d}=r[o];return s&&l&&(a=Wm(s,l,a)),a=no(a,{precision:i,unit:d}),a})}return t}var _e=new R({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),Pe=class extends R{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=_e),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??(e.toBase=r=>{let n=ne(e.toXYZ_M,r);return this.white!==this.base.white&&(n=ao(this.white,this.base.white,n)),n}),e.fromBase??(e.fromBase=r=>(r=ao(this.base.white,this.white,r),ne(e.fromXYZ_M,r)))),e.referred??(e.referred="display"),super(e)}};function hn(t,e){return t=U(t),!e||t.space.equals(e)?t.coords.slice():(e=R.get(e),e.from(t))}function Be(t,e){t=U(t);let{space:r,index:n}=R.resolveCoord(e,t.space);return hn(t,r)[n]}function Vm(t,e,r){return t=U(t),e=R.get(e),t.coords=e.to(t.space,r),t}Vm.returns="color";function wt(t,e,r){if(t=U(t),arguments.length===2&&Rt(arguments[1])==="object"){let n=arguments[1];for(let i in n)wt(t,i,n[i])}else{typeof r=="function"&&(r=r(Be(t,e)));let{space:n,index:i}=R.resolveCoord(e,t.space),a=hn(t,n);a[i]=r,Vm(t,n,a)}return t}wt.returns="color";var Hm=new R({id:"xyz-d50",name:"XYZ D50",white:"D50",base:_e,fromBase:t=>ao(_e.white,"D50",t),toBase:t=>ao("D50",_e.white,t)}),jx=216/24389,h0=24/116,Ya=24389/27,km=Re.D50,Ge=new R({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:km,base:Hm,fromBase(t){let r=t.map((n,i)=>n/km[i]).map(n=>n>jx?Math.cbrt(n):(Ya*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>h0?Math.pow(e[0],3):(116*e[0]-16)/Ya,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Ya,e[2]>h0?Math.pow(e[2],3):(116*e[2]-16)/Ya].map((n,i)=>n*km[i])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function st(t){return(t%360+360)%360}function Lx(t,e){if(t==="raw")return e;let[r,n]=e.map(st),i=n-r;return t==="increasing"?i<0&&(n+=360):t==="decreasing"?i>0&&(r+=360):t==="longer"?-180<i&&i<180&&(i>0?r+=360:n+=360):t==="shorter"&&(i>180?r+=360:i<-180&&(n+=360)),[r,n]}var cn=new R({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ge,fromBase(t){let[e,r,n]=t,i,a=.02;return Math.abs(r)<a&&Math.abs(n)<a?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),st(i)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),p0=25**7,oo=Math.PI,f0=180/oo,Ur=oo/180;function g0(t){let e=t*t;return e*e*e*t}function gy(t,e,{kL:r=1,kC:n=1,kH:i=1}={}){[t,e]=U([t,e]);let[a,o,s]=Ge.from(t),l=cn.from(Ge,[a,o,s])[1],[d,c,m]=Ge.from(e),h=cn.from(Ge,[d,c,m])[1];l<0&&(l=0),h<0&&(h=0);let f=(l+h)/2,p=g0(f),b=.5*(1-Math.sqrt(p/(p+p0))),T=(1+b)*o,A=(1+b)*c,k=Math.sqrt(T**2+s**2),v=Math.sqrt(A**2+m**2),w=T===0&&s===0?0:Math.atan2(s,T),N=A===0&&m===0?0:Math.atan2(m,A);w<0&&(w+=2*oo),N<0&&(N+=2*oo),w*=f0,N*=f0;let L=d-a,G=v-k,q=N-w,H=w+N,X=Math.abs(q),B;k*v===0?B=0:X<=180?B=q:q>180?B=q-360:q<-180?B=q+360:Fe.warn("the unthinkable has happened");let ce=2*Math.sqrt(v*k)*Math.sin(B*Ur/2),te=(a+d)/2,Ce=(k+v)/2,We=g0(Ce),Me;k*v===0?Me=H:X<=180?Me=H/2:H<360?Me=(H+360)/2:Me=(H-360)/2;let Zt=(te-50)**2,dr=1+.015*Zt/Math.sqrt(20+Zt),Wt=1+.045*Ce,Je=1;Je-=.17*Math.cos((Me-30)*Ur),Je+=.24*Math.cos(2*Me*Ur),Je+=.32*Math.cos((3*Me+6)*Ur),Je-=.2*Math.cos((4*Me-63)*Ur);let ae=1+.015*Ce*Je,mr=30*Math.exp(-1*((Me-275)/25)**2),fe=2*Math.sqrt(We/(We+p0)),_n=-1*Math.sin(2*mr*Ur)*fe,J=(L/(r*dr))**2;return J+=(G/(n*Wt))**2,J+=(ce/(i*ae))**2,J+=_n*(G/(n*Wt))*(ce/(i*ae)),Math.sqrt(J)}var Bx=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Gx=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Fx=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Zx=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Lr=new R({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:_e,fromBase(t){let r=ne(Bx,t).map(n=>Math.cbrt(n));return ne(Fx,r)},toBase(t){let r=ne(Zx,t).map(n=>n**3);return ne(Gx,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function zm(t,e){[t,e]=U([t,e]);let[r,n,i]=Lr.from(t),[a,o,s]=Lr.from(e),l=r-a,d=n-o,c=i-s;return Math.sqrt(l**2+d**2+c**2)}var Wx=75e-6;function ar(t,e,{epsilon:r=Wx}={}){t=U(t),e||(e=t.space),e=R.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:r})}function Br(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function yy(t,e,r="lab"){r=R.get(r);let n=r.from(t),i=r.from(e);return Math.sqrt(n.reduce((a,o,s)=>{let l=i[s];return isNaN(o)||isNaN(l)?a:a+(l-o)**2},0))}function qx(t,e){return yy(t,e,"lab")}var Vx=Math.PI,y0=Vx/180;function Hx(t,e,{l:r=2,c:n=1}={}){[t,e]=U([t,e]);let[i,a,o]=Ge.from(t),[,s,l]=cn.from(Ge,[i,a,o]),[d,c,m]=Ge.from(e),h=cn.from(Ge,[d,c,m])[1];s<0&&(s=0),h<0&&(h=0);let f=i-d,p=s-h,b=a-c,T=o-m,A=b**2+T**2-p**2,k=.511;i>=16&&(k=.040975*i/(1+.01765*i));let v=.0638*s/(1+.0131*s)+.638,w;Number.isNaN(l)&&(l=0),l>=164&&l<=345?w=.56+Math.abs(.2*Math.cos((l+168)*y0)):w=.36+Math.abs(.4*Math.cos((l+35)*y0));let N=Math.pow(s,4),L=Math.sqrt(N/(N+1900)),G=v*(L*w+1-L),q=(f/(r*k))**2;return q+=(p/(n*v))**2,q+=A/G**2,Math.sqrt(q)}var b0=203,Ym=new R({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:_e,fromBase(t){return t.map(e=>Math.max(e*b0,0))},toBase(t){return t.map(e=>Math.max(e/b0,0))}}),Ka=1.15,Xa=.66,v0=2610/2**14,Yx=2**14/2610,T0=3424/2**12,_0=2413/2**7,x0=2392/2**7,Kx=1.7*2523/2**5,w0=2**5/(1.7*2523),Ja=-.56,Im=16295499532821565e-27,Xx=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Jx=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Qx=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],ew=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],by=new R({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Ym,fromBase(t){let[e,r,n]=t,i=Ka*e-(Ka-1)*n,a=Xa*r-(Xa-1)*e,s=ne(Xx,[i,a,n]).map(function(h){let f=T0+_0*(h/1e4)**v0,p=1+x0*(h/1e4)**v0;return(f/p)**Kx}),[l,d,c]=ne(Qx,s);return[(1+Ja)*l/(1+Ja*l)-Im,d,c]},toBase(t){let[e,r,n]=t,i=(e+Im)/(1+Ja-Ja*(e+Im)),o=ne(ew,[i,r,n]).map(function(h){let f=T0-h**w0,p=x0*h**w0-_0;return 1e4*(f/p)**Yx}),[s,l,d]=ne(Jx,o),c=(s+(Ka-1)*d)/Ka,m=(l+(Xa-1)*c)/Xa;return[c,m,d]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),jm=new R({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:by,fromBase(t){let[e,r,n]=t,i,a=2e-4;return Math.abs(r)<a&&Math.abs(n)<a?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),st(i)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]}});function tw(t,e){[t,e]=U([t,e]);let[r,n,i]=jm.from(t),[a,o,s]=jm.from(e),l=r-a,d=n-o;Number.isNaN(i)&&Number.isNaN(s)?(i=0,s=0):Number.isNaN(i)?i=s:Number.isNaN(s)&&(s=i);let c=i-s,m=2*Math.sqrt(n*o)*Math.sin(c/2*(Math.PI/180));return Math.sqrt(l**2+d**2+m**2)}var vy=3424/4096,Ty=2413/128,_y=2392/128,S0=2610/16384,rw=2523/32,iw=16384/2610,P0=32/2523,nw=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],aw=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],ow=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],sw=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],Lm=new R({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Ym,fromBase(t){let e=ne(nw,t);return lw(e)},toBase(t){let e=uw(t);return ne(sw,e)}});function lw(t){let e=t.map(function(r){let n=vy+Ty*(r/1e4)**S0,i=1+_y*(r/1e4)**S0;return(n/i)**rw});return ne(aw,e)}function uw(t){return ne(ow,t).map(function(n){let i=Math.max(n**P0-vy,0),a=Ty-_y*n**P0;return 1e4*(i/a)**iw})}function cw(t,e){[t,e]=U([t,e]);let[r,n,i]=Lm.from(t),[a,o,s]=Lm.from(e);return 720*Math.sqrt((r-a)**2+.25*(n-o)**2+(i-s)**2)}var dw=Re.D65,xy=.42,k0=1/xy,$m=2*Math.PI,wy=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],mw=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],hw=[[460,451,288],[460,-891,-261],[460,-220,-6300]],pw={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},nr={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},fw=180/Math.PI,I0=Math.PI/180;function Sy(t,e){return t.map(n=>{let i=ot(e*Math.abs(n)*.01,xy);return 400*lo(i,n)/(i+27.13)})}function gw(t,e){let r=100/e*27.13**k0;return t.map(n=>{let i=Math.abs(n);return lo(r*ot(i/(400-i),k0),n)})}function yw(t){let e=st(t);e<=nr.h[0]&&(e+=360);let r=py(nr.h,e)-1,[n,i]=nr.h.slice(r,r+2),[a,o]=nr.e.slice(r,r+2),s=nr.H[r],l=(e-n)/a;return s+100*l/(l+(i-e)/o)}function bw(t){let e=(t%400+400)%400,r=Math.floor(.01*e);e=e%100;let[n,i]=nr.h.slice(r,r+2),[a,o]=nr.e.slice(r,r+2);return st((e*(o*n-a*i)-100*n*o)/(e*(o-a)-100*o))}function Py(t,e,r,n,i){let a={};a.discounting=i,a.refWhite=t,a.surround=n;let o=t.map(b=>b*100);a.la=e,a.yb=r;let s=o[1],l=ne(wy,o);n=pw[a.surround];let d=n[0];a.c=n[1],a.nc=n[2];let m=(1/(5*a.la+1))**4;a.fl=m*a.la+.1*(1-m)*(1-m)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/s,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;let h=i?1:Math.max(Math.min(d*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=l.map(b=>un(1,s/b,h)),a.dRgbInv=a.dRgb.map(b=>1/b);let f=l.map((b,T)=>b*a.dRgb[T]),p=Sy(f,a.fl);return a.aW=a.nbb*(2*p[0]+p[1]+.05*p[2]),a}var $0=Py(dw,64/Math.PI*.2,20,"average",!1);function Bm(t,e){if(!(t.J!==void 0^t.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(t.C!==void 0^t.M!==void 0^t.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(t.h!==void 0^t.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(t.J===0||t.Q===0)return[0,0,0];let r=0;t.h!==void 0?r=st(t.h)*I0:r=bw(t.H)*I0;let n=Math.cos(r),i=Math.sin(r),a=0;t.J!==void 0?a=ot(t.J,1/2)*.1:t.Q!==void 0&&(a=.25*e.c*t.Q/((e.aW+4)*e.flRoot));let o=0;t.C!==void 0?o=t.C/a:t.M!==void 0?o=t.M/e.flRoot/a:t.s!==void 0&&(o=4e-4*t.s**2*(e.aW+4)/e.c);let s=ot(o*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),l=.25*(Math.cos(r+2)+3.8),d=e.aW*ot(a,2/e.c/e.z),c=5e4/13*e.nc*e.ncb*l,m=d/e.nbb,h=23*(m+.305)*qm(s,23*c+s*(11*n+108*i)),f=h*n,p=h*i,b=gw(ne(hw,[m,f,p]).map(T=>T*1/1403),e.fl);return ne(mw,b.map((T,A)=>T*e.dRgbInv[A])).map(T=>T/100)}function ky(t,e){let r=t.map(v=>v*100),n=Sy(ne(wy,r).map((v,w)=>v*e.dRgb[w]),e.fl),i=n[0]+(-12*n[1]+n[2])/11,a=(n[0]+n[1]-2*n[2])/9,o=(Math.atan2(a,i)%$m+$m)%$m,s=.25*(Math.cos(o+2)+3.8),l=5e4/13*e.nc*e.ncb*qm(s*Math.sqrt(i**2+a**2),n[0]+n[1]+1.05*n[2]+.305),d=ot(l,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),c=e.nbb*(2*n[0]+n[1]+.05*n[2]),m=ot(c/e.aW,.5*e.c*e.z),h=100*ot(m,2),f=4/e.c*m*(e.aW+4)*e.flRoot,p=d*m,b=p*e.flRoot,T=st(o*fw),A=yw(T),k=50*ot(e.c*d/(e.aW+4),1/2);return{J:h,C:p,h:T,s:k,Q:f,M:b,H:A}}var vw=new R({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:_e,fromBase(t){let e=ky(t,$0);return[e.J,e.M,e.h]},toBase(t){return Bm({J:t[0],M:t[1],h:t[2]},$0)}}),Tw=Re.D65,_w=216/24389,Iy=24389/27;function xw(t){return 116*(t>_w?Math.cbrt(t):(Iy*t+16)/116)-16}function Gm(t){return t>8?Math.pow((t+16)/116,3):t/Iy}function ww(t,e){let[r,n,i]=t,a=[],o=0;if(i===0)return[0,0,0];let s=Gm(i);i>0?o=.00379058511492914*i**2+.608983189401032*i+.9155088574762233:o=9514440756550361e-21*i**2+.08693057439788597*i-21.928975842194614;let l=2e-12,d=15,c=0,m=1/0;for(;c<=d;){a=Bm({J:o,C:n,h:r},e);let h=Math.abs(a[1]-s);if(h<m){if(h<=l)return a;m=h}o=o-(a[1]-s)*o/(2*a[1]),c+=1}return Bm({J:o,C:n,h:r},e)}function Sw(t,e){let r=xw(t[1]);if(r===0)return[0,0,0];let n=ky(t,Km);return[st(n.h),n.C,r]}var Km=Py(Tw,200/Math.PI*Gm(50),Gm(50)*100,"average",!1),dn=new R({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:_e,fromBase(t){return Sw(t)},toBase(t){return ww(t,Km)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Pw=Math.PI/180,A0=[1,.007,.0228];function E0(t){t[1]<0&&(t=dn.fromBase(dn.toBase(t)));let e=Math.log(Math.max(1+A0[2]*t[1]*Km.flRoot,1))/A0[2],r=t[0]*Pw,n=e*Math.cos(r),i=e*Math.sin(r);return[t[2],n,i]}function kw(t,e){[t,e]=U([t,e]);let[r,n,i]=E0(dn.from(t)),[a,o,s]=E0(dn.from(e));return Math.sqrt((r-a)**2+(n-o)**2+(i-s)**2)}var Gr={deltaE76:qx,deltaECMC:Hx,deltaE2000:gy,deltaEJz:tw,deltaEITP:cw,deltaEOK:zm,deltaEHCT:kw};function Iw(t){let e=t?Math.floor(Math.log10(Math.abs(t))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}var R0={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Dt(t,{method:e=Fe.gamut_mapping,space:r=void 0,deltaEMethod:n="",jnd:i=2,blackWhiteClamp:a={}}={}){if(t=U(t),mn(arguments[1])?r=arguments[1]:r||(r=t.space),r=R.get(r),ar(t,r,{epsilon:0}))return t;let o;if(e==="css")o=$w(t,{space:r});else{if(e!=="clip"&&!ar(t,r)){Object.prototype.hasOwnProperty.call(R0,e)&&({method:e,jnd:i,deltaEMethod:n,blackWhiteClamp:a}=R0[e]);let s=gy;if(n!==""){for(let d in Gr)if("deltae"+n.toLowerCase()===d.toLowerCase()){s=Gr[d];break}}let l=Dt(ie(t,r),{method:"clip",space:r});if(s(t,l)>i){if(Object.keys(a).length===3){let k=R.resolveCoord(a.channel),v=Be(ie(t,k.space),k.id);if(Ct(v)&&(v=0),v>=a.max)return ie({space:"xyz-d65",coords:Re.D65},t.space);if(v<=a.min)return ie({space:"xyz-d65",coords:[0,0,0]},t.space)}let d=R.resolveCoord(e),c=d.space,m=d.id,h=ie(t,c);h.coords.forEach((k,v)=>{Ct(k)&&(h.coords[v]=0)});let p=(d.range||d.refRange)[0],b=Iw(i),T=p,A=Be(h,m);for(;A-T>b;){let k=Br(h);k=Dt(k,{space:r,method:"clip"}),s(h,k)-i<b?T=Be(h,m):A=Be(h,m),wt(h,m,(T+A)/2)}o=ie(h,r)}else o=l}else o=ie(t,r);if(e==="clip"||!ar(o,r,{epsilon:0})){let s=Object.values(r.coords).map(l=>l.range||[]);o.coords=o.coords.map((l,d)=>{let[c,m]=s[d];return c!==void 0&&(l=Math.max(c,l)),m!==void 0&&(l=Math.min(l,m)),l})}}return r!==t.space&&(o=ie(o,t.space)),t.coords=o.coords,t}Dt.returns="color";var C0={WHITE:{space:Lr,coords:[1,0,0]},BLACK:{space:Lr,coords:[0,0,0]}};function $w(t,{space:e}={}){t=U(t),e||(e=t.space),e=R.get(e);let i=R.get("oklch");if(e.isUnbounded)return ie(t,e);let a=ie(t,i),o=a.coords[0];if(o>=1){let p=ie(C0.WHITE,e);return p.alpha=t.alpha,ie(p,e)}if(o<=0){let p=ie(C0.BLACK,e);return p.alpha=t.alpha,ie(p,e)}if(ar(a,e,{epsilon:0}))return ie(a,e);function s(p){let b=ie(p,e),T=Object.values(e.coords);return b.coords=b.coords.map((A,k)=>{if("range"in T[k]){let[v,w]=T[k].range;return hy(v,A,w)}return A}),b}let l=0,d=a.coords[1],c=!0,m=Br(a),h=s(m),f=zm(h,m);if(f<.02)return h;for(;d-l>1e-4;){let p=(l+d)/2;if(m.coords[1]=p,c&&ar(m,e,{epsilon:0}))l=p;else if(h=s(m),f=zm(h,m),f<.02){if(.02-f<1e-4)break;c=!1,l=p}else d=p}return h}function ie(t,e,{inGamut:r}={}){t=U(t),e=R.get(e);let n=e.from(t),i={space:e,coords:n,alpha:t.alpha};return r&&(i=Dt(i,r===!0?void 0:r)),i}ie.returns="color";function ln(t,{precision:e=Fe.precision,format:r="default",inGamut:n=!0,...i}={}){let a;t=U(t);let o=r;r=t.space.getFormat(r)??t.space.getFormat("default")??R.DEFAULT_FORMAT;let s=t.coords.slice();if(n||(n=r.toGamut),n&&!ar(t)&&(s=Dt(Br(t),n===!0?void 0:n).coords),r.type==="custom")if(i.precision=e,r.serialize)a=r.serialize(s,t.alpha,i);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let l=r.name||"color";r.serializeCoords?s=r.serializeCoords(s,e):e!==null&&(s=s.map(h=>no(h,{precision:e})));let d=[...s];if(l==="color"){let h=r.id||r.ids?.[0]||t.space.id;d.unshift(h)}let c=t.alpha;e!==null&&(c=no(c,{precision:e}));let m=t.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${c}`;a=`${l}(${d.join(r.commas?", ":" ")}${m})`}return a}var Aw=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Ew=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],uo=new Pe({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:Aw,fromXYZ_M:Ew}),Qa=1.09929682680944,M0=.018053968510807,$y=new Pe({id:"rec2020",name:"REC.2020",base:uo,toBase(t){return t.map(function(e){return e<M0*4.5?e/4.5:Math.pow((e+Qa-1)/Qa,1/.45)})},fromBase(t){return t.map(function(e){return e>=M0?Qa*Math.pow(e,.45)-(Qa-1):4.5*e})}}),Rw=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Cw=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Ay=new Pe({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Rw,fromXYZ_M:Cw}),Mw=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],be=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],Ey=new Pe({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Mw,fromXYZ_M:be}),D0={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},N0=Array(3).fill("<percentage> | <number>[0, 255]"),U0=Array(3).fill("<number>[0, 255]"),Fr=new Pe({id:"srgb",name:"sRGB",base:Ey,fromBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n<=.04045?e/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:N0},rgb_number:{name:"rgb",commas:!0,coords:U0,noAlpha:!0},color:{},rgba:{coords:N0,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:U0},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(a=>Math.round(a*255));let n=r&&t.every(a=>a%17===0);return"#"+t.map(a=>n?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=D0.black,e.alpha=0):e.coords=D0[t],e.coords)return e}}}}),Ry=new Pe({id:"p3",cssId:"display-p3",name:"P3",base:Ay,fromBase:Fr.fromBase,toBase:Fr.toBase});Fe.display_space=Fr;var Dw;if(typeof CSS<"u"&&CSS.supports)for(let t of[Ge,$y,Ry]){let e=t.getMinCoords(),n=ln({space:t,coords:e,alpha:1});if(CSS.supports("color",n)){Fe.display_space=t;break}}function Nw(t,{space:e=Fe.display_space,...r}={}){let n=ln(t,r);if(typeof CSS>"u"||CSS.supports("color",n)||!Fe.display_space)n=new String(n),n.color=t;else{let i=t;if((t.coords.some(Ct)||Ct(t.alpha))&&!(Dw??(Dw=CSS.supports("color","hsl(none 50% 50%)")))&&(i=Br(t),i.coords=i.coords.map(pe),i.alpha=pe(i.alpha),n=ln(i,r),CSS.supports("color",n)))return n=new String(n),n.color=i,n;i=ie(i,e),n=new String(ln(i,r)),n.color=i}return n}function Uw(t,e){return t=U(t),e=U(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,n)=>r===e.coords[n])}function Nt(t){return Be(t,[_e,"y"])}function Cy(t,e){wt(t,[_e,"y"],e)}function Ow(t){Object.defineProperty(t.prototype,"luminance",{get(){return Nt(this)},set(e){Cy(this,e)}})}var zw=Object.freeze({__proto__:null,getLuminance:Nt,register:Ow,setLuminance:Cy});function jw(t,e){t=U(t),e=U(e);let r=Math.max(Nt(t),0),n=Math.max(Nt(e),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)}var Lw=.56,Bw=.57,Gw=.62,Fw=.65,O0=.022,Zw=1.414,Ww=.1,qw=5e-4,Vw=1.14,z0=.027,Hw=1.14;function j0(t){return t>=O0?t:t+(O0-t)**Zw}function Or(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}function Yw(t,e){e=U(e),t=U(t);let r,n,i,a,o,s;e=ie(e,"srgb"),[a,o,s]=e.coords;let l=Or(a)*.2126729+Or(o)*.7151522+Or(s)*.072175;t=ie(t,"srgb"),[a,o,s]=t.coords;let d=Or(a)*.2126729+Or(o)*.7151522+Or(s)*.072175,c=j0(l),m=j0(d),h=m>c;return Math.abs(m-c)<qw?n=0:h?(r=m**Lw-c**Bw,n=r*Vw):(r=m**Fw-c**Gw,n=r*Hw),Math.abs(n)<Ww?i=0:n>0?i=n-z0:i=n+z0,i*100}function Kw(t,e){t=U(t),e=U(e);let r=Math.max(Nt(t),0),n=Math.max(Nt(e),0);n>r&&([r,n]=[n,r]);let i=r+n;return i===0?0:(r-n)/i}var Xw=5e4;function Jw(t,e){t=U(t),e=U(e);let r=Math.max(Nt(t),0),n=Math.max(Nt(e),0);return n>r&&([r,n]=[n,r]),n===0?Xw:(r-n)/n}function Qw(t,e){t=U(t),e=U(e);let r=Be(t,[Ge,"l"]),n=Be(e,[Ge,"l"]);return Math.abs(r-n)}var e5=216/24389,L0=24/116,eo=24389/27,Am=Re.D65,Fm=new R({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Am,base:_e,fromBase(t){let r=t.map((n,i)=>n/Am[i]).map(n=>n>e5?Math.cbrt(n):(eo*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>L0?Math.pow(e[0],3):(116*e[0]-16)/eo,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/eo,e[2]>L0?Math.pow(e[2],3):(116*e[2]-16)/eo].map((n,i)=>n*Am[i])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Em=Math.pow(5,.5)*.5+.5;function t5(t,e){t=U(t),e=U(e);let r=Be(t,[Fm,"l"]),n=Be(e,[Fm,"l"]),i=Math.abs(Math.pow(r,Em)-Math.pow(n,Em)),a=Math.pow(i,1/Em)*Math.SQRT2-40;return a<7.5?0:a}var io=Object.freeze({__proto__:null,contrastAPCA:Yw,contrastDeltaPhi:t5,contrastLstar:Qw,contrastMichelson:Kw,contrastWCAG21:jw,contrastWeber:Jw});function r5(t,e,r={}){mn(r)&&(r={algorithm:r});let{algorithm:n,...i}=r;if(!n){let a=Object.keys(io).map(o=>o.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}t=U(t),e=U(e);for(let a in io)if("contrast"+n.toLowerCase()===a.toLowerCase())return io[a](t,e,i);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function co(t){let[e,r,n]=hn(t,_e),i=e+15*r+3*n;return[4*e/i,9*r/i]}function My(t){let[e,r,n]=hn(t,_e),i=e+r+n;return[e/i,r/i]}function i5(t){Object.defineProperty(t.prototype,"uv",{get(){return co(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return My(this)}})}var n5=Object.freeze({__proto__:null,register:i5,uv:co,xy:My});function sn(t,e,r={}){mn(r)&&(r={method:r});let{method:n=Fe.deltaE,...i}=r;for(let a in Gr)if("deltae"+n.toLowerCase()===a.toLowerCase())return Gr[a](t,e,i);throw new TypeError(`Unknown deltaE method: ${n}`)}function a5(t,e=.25){let n=[R.get("oklch","lch"),"l"];return wt(t,n,i=>i*(1+e))}function o5(t,e=.25){let n=[R.get("oklch","lch"),"l"];return wt(t,n,i=>i*(1-e))}var s5=Object.freeze({__proto__:null,darken:o5,lighten:a5});function Dy(t,e,r=.5,n={}){return[t,e]=[U(t),U(e)],Rt(r)==="object"&&([r,n]=[.5,r]),pn(t,e,n)(r)}function Ny(t,e,r={}){let n;Xm(t)&&([n,r]=[t,e],[t,e]=n.rangeArgs.colors);let{maxDeltaE:i,deltaEMethod:a,steps:o=2,maxSteps:s=1e3,...l}=r;n||([t,e]=[U(t),U(e)],n=pn(t,e,l));let d=sn(t,e),c=i>0?Math.max(o,Math.ceil(d/i)+1):o,m=[];if(s!==void 0&&(c=Math.min(c,s)),c===1)m=[{p:.5,color:n(.5)}];else{let h=1/(c-1);m=Array.from({length:c},(f,p)=>{let b=p*h;return{p:b,color:n(b)}})}if(i>0){let h=m.reduce((f,p,b)=>{if(b===0)return 0;let T=sn(p.color,m[b-1].color,a);return Math.max(f,T)},0);for(;h>i;){h=0;for(let f=1;f<m.length&&m.length<s;f++){let p=m[f-1],b=m[f],T=(b.p+p.p)/2,A=n(T);h=Math.max(h,sn(A,p.color),sn(A,b.color)),m.splice(f,0,{p:T,color:n(T)}),f++}}}return m=m.map(h=>h.color),m}function pn(t,e,r={}){if(Xm(t)){let[l,d]=[t,e];return pn(...l.rangeArgs.colors,{...l.rangeArgs.options,...d})}let{space:n,outputSpace:i,progression:a,premultiplied:o}=r;t=U(t),e=U(e),t=Br(t),e=Br(e);let s={colors:[t,e],options:r};if(n?n=R.get(n):n=R.registry[Fe.interpolationSpace]||t.space,i=i?R.get(i):n,t=ie(t,n),e=ie(e,n),t=Dt(t),e=Dt(e),n.coords.h&&n.coords.h.type==="angle"){let l=r.hue=r.hue||"shorter",d=[n,"h"],[c,m]=[Be(t,d),Be(e,d)];isNaN(c)&&!isNaN(m)?c=m:isNaN(m)&&!isNaN(c)&&(m=c),[c,m]=Lx(l,[c,m]),wt(t,d,c),wt(e,d,m)}return o&&(t.coords=t.coords.map(l=>l*t.alpha),e.coords=e.coords.map(l=>l*e.alpha)),Object.assign(l=>{l=a?a(l):l;let d=t.coords.map((h,f)=>{let p=e.coords[f];return un(h,p,l)}),c=un(t.alpha,e.alpha,l),m={space:n,coords:d,alpha:c};return o&&(m.coords=m.coords.map(h=>h/c)),i!==n&&(m=ie(m,i)),m},{rangeArgs:s})}function Xm(t){return Rt(t)==="function"&&!!t.rangeArgs}Fe.interpolationSpace="lab";function l5(t){t.defineFunction("mix",Dy,{returns:"color"}),t.defineFunction("range",pn,{returns:"function<color>"}),t.defineFunction("steps",Ny,{returns:"array<color>"})}var u5=Object.freeze({__proto__:null,isRange:Xm,mix:Dy,range:pn,register:l5,steps:Ny}),Uy=new R({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Fr,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[n,i,a]=t,[o,s,l]=[NaN,0,(r+e)/2],d=e-r;if(d!==0){switch(s=l===0||l===1?0:(e-l)/Math.min(l,1-l),e){case n:o=(i-a)/d+(i<a?6:0);break;case i:o=(a-n)/d+2;break;case a:o=(n-i)/d+4}o=o*60}return s<0&&(o+=180,s=Math.abs(s)),o>=360&&(o-=360),[o,s*100,l*100]},toBase:t=>{let[e,r,n]=t;e=e%360,e<0&&(e+=360),r/=100,n/=100;function i(a){let o=(a+e/30)%12,s=r*Math.min(n,1-n);return n-s*Math.max(-1,Math.min(o-3,9-o,1))}return[i(0),i(8),i(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Oy=new R({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Uy,fromBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n+r*Math.min(n,1-n);return[e,i===0?0:200*(1-n/i),100*i]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=n*(1-r/2);return[e,i===0||i===1?0:(n-i)/Math.min(i,1-i)*100,i*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),c5=new R({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Oy,fromBase(t){let[e,r,n]=t;return[e,n*(100-r)/100,100-n]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let i=r+n;if(i>=1){let s=r/i;return[e,0,s*100]}let a=1-n,o=a===0?0:1-r/a;return[e,o*100,a*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),d5=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],m5=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]],zy=new Pe({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe\xAE 98 RGB compatible",white:"D65",toXYZ_M:d5,fromXYZ_M:m5}),h5=new Pe({id:"a98rgb",cssId:"a98-rgb",name:"Adobe\xAE 98 RGB compatible",base:zy,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))}),p5=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],f5=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]],jy=new Pe({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Hm,toXYZ_M:p5,fromXYZ_M:f5}),g5=1/512,y5=16/512,b5=new Pe({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:jy,toBase(t){return t.map(e=>e<y5?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=g5?e**(1/1.8):16*e)}}),v5=new R({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Lr,fromBase(t){let[e,r,n]=t,i,a=2e-4;return Math.abs(r)<a&&Math.abs(n)<a?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),st(i)]},toBase(t){let[e,r,n]=t,i,a;return isNaN(n)?(i=0,a=0):(i=r*Math.cos(n*Math.PI/180),a=r*Math.sin(n*Math.PI/180)),[e,i,a]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Ly=Re.D65,T5=216/24389,B0=24389/27,[G0,F0]=co({space:_e,coords:Ly}),By=new R({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Ly,base:_e,fromBase(t){let e=[pe(t[0]),pe(t[1]),pe(t[2])],r=e[1],[n,i]=co({space:_e,coords:e});if(!Number.isFinite(n)||!Number.isFinite(i))return[0,0,0];let a=r<=T5?B0*r:116*Math.cbrt(r)-16;return[a,13*a*(n-G0),13*a*(i-F0)]},toBase(t){let[e,r,n]=t;if(e===0||Ct(e))return[0,0,0];r=pe(r),n=pe(n);let i=r/(13*e)+G0,a=n/(13*e)+F0,o=e<=8?e/B0:Math.pow((e+16)/116,3);return[o*(9*i/(4*a)),o,o*((12-3*i-20*a)/(4*a))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Jm=new R({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:By,fromBase(t){let[e,r,n]=t,i,a=.02;return Math.abs(r)<a&&Math.abs(n)<a?i=NaN:i=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),st(i)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),_5=216/24389,x5=24389/27,Z0=be[0][0],W0=be[0][1],Rm=be[0][2],q0=be[1][0],V0=be[1][1],Cm=be[1][2],H0=be[2][0],Y0=be[2][1],Mm=be[2][2];function zr(t,e,r){let n=e/(Math.sin(r)-t*Math.cos(r));return n<0?1/0:n}function so(t){let e=Math.pow(t+16,3)/1560896,r=e>_5?e:t/x5,n=r*(284517*Z0-94839*Rm),i=r*(838422*Rm+769860*W0+731718*Z0),a=r*(632260*Rm-126452*W0),o=r*(284517*q0-94839*Cm),s=r*(838422*Cm+769860*V0+731718*q0),l=r*(632260*Cm-126452*V0),d=r*(284517*H0-94839*Mm),c=r*(838422*Mm+769860*Y0+731718*H0),m=r*(632260*Mm-126452*Y0);return{r0s:n/a,r0i:i*t/a,r1s:n/(a+126452),r1i:(i-769860)*t/(a+126452),g0s:o/l,g0i:s*t/l,g1s:o/(l+126452),g1i:(s-769860)*t/(l+126452),b0s:d/m,b0i:c*t/m,b1s:d/(m+126452),b1i:(c-769860)*t/(m+126452)}}function K0(t,e){let r=e/360*Math.PI*2,n=zr(t.r0s,t.r0i,r),i=zr(t.r1s,t.r1i,r),a=zr(t.g0s,t.g0i,r),o=zr(t.g1s,t.g1i,r),s=zr(t.b0s,t.b0i,r),l=zr(t.b1s,t.b1i,r);return Math.min(n,i,a,o,s,l)}var w5=new R({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Jm,gamutSpace:Fr,fromBase(t){let[e,r,n]=[pe(t[0]),pe(t[1]),pe(t[2])],i;if(e>99.9999999)i=0,e=100;else if(e<1e-8)i=0,e=0;else{let a=so(e),o=K0(a,n);i=r/o*100}return[n,i,e]},toBase(t){let[e,r,n]=[pe(t[0]),pe(t[1]),pe(t[2])],i;if(n>99.9999999)n=100,i=0;else if(n<1e-8)n=0,i=0;else{let a=so(n);i=K0(a,e)/100*r}return[n,i,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});be[0][0];be[0][1];be[0][2];be[1][0];be[1][1];be[1][2];be[2][0];be[2][1];be[2][2];function jr(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}function X0(t){let e=jr(t.r0s,t.r0i),r=jr(t.r1s,t.r1i),n=jr(t.g0s,t.g0i),i=jr(t.g1s,t.g1i),a=jr(t.b0s,t.b0i),o=jr(t.b1s,t.b1i);return Math.min(e,r,n,i,a,o)}var S5=new R({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Jm,gamutSpace:"self",fromBase(t){let[e,r,n]=[pe(t[0]),pe(t[1]),pe(t[2])],i;if(e>99.9999999)i=0,e=100;else if(e<1e-8)i=0,e=0;else{let a=so(e),o=X0(a);i=r/o*100}return[n,i,e]},toBase(t){let[e,r,n]=[pe(t[0]),pe(t[1]),pe(t[2])],i;if(n>99.9999999)n=100,i=0;else if(n<1e-8)n=0,i=0;else{let a=so(n);i=X0(a)/100*r}return[n,i,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),J0=203,Q0=2610/2**14,P5=2**14/2610,k5=2523/2**5,ey=2**5/2523,ty=3424/2**12,ry=2413/2**7,iy=2392/2**7,I5=new Pe({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:uo,toBase(t){return t.map(function(e){return(Math.max(e**ey-ty,0)/(ry-iy*e**ey))**P5*1e4/J0})},fromBase(t){return t.map(function(e){let r=Math.max(e*J0/1e4,0),n=ty+ry*r**Q0,i=1+iy*r**Q0;return(n/i)**k5})}}),ny=.17883277,ay=.28466892,oy=.55991073,Dm=3.7743,$5=new Pe({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:uo,toBase(t){return t.map(function(e){return e<=.5?e**2/3*Dm:(Math.exp((e-oy)/ny)+ay)/12*Dm})},fromBase(t){return t.map(function(e){return e/=Dm,e<=1/12?Math.sqrt(3*e):ny*Math.log(12*e-ay)+oy})}}),Gy={};Mt.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=Fy(t.W1,t.W2,t.options.method))});Mt.add("chromatic-adaptation-end",t=>{t.M||(t.M=Fy(t.W1,t.W2,t.options.method))});function mo({id:t,toCone_M:e,fromCone_M:r}){Gy[t]=arguments[0]}function Fy(t,e,r="Bradford"){let n=Gy[r],[i,a,o]=ne(n.toCone_M,t),[s,l,d]=ne(n.toCone_M,e),c=[[s/i,0,0],[0,l/a,0],[0,0,d/o]],m=ne(c,n.toCone_M);return ne(n.fromCone_M,m)}mo({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});mo({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});mo({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});mo({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(Re,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});Re.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];var A5=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],E5=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],Zy=new Pe({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:Re.ACES,toXYZ_M:A5,fromXYZ_M:E5}),to=2**-16,Nm=-.35828683,ro=(Math.log2(65504)+9.72)/17.52,R5=new Pe({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[Nm,ro],name:"Red"},g:{range:[Nm,ro],name:"Green"},b:{range:[Nm,ro],name:"Blue"}},referred:"scene",base:Zy,toBase(t){let e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-to)*2:r<ro?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(to)+9.72)/17.52:e<to?(Math.log2(to+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),sy=Object.freeze({__proto__:null,A98RGB:h5,A98RGB_Linear:zy,ACEScc:R5,ACEScg:Zy,CAM16_JMh:vw,HCT:dn,HPLuv:S5,HSL:Uy,HSLuv:w5,HSV:Oy,HWB:c5,ICTCP:Lm,JzCzHz:jm,Jzazbz:by,LCH:cn,LCHuv:Jm,Lab:Ge,Lab_D65:Fm,Luv:By,OKLCH:v5,OKLab:Lr,P3:Ry,P3_Linear:Ay,ProPhoto:b5,ProPhoto_Linear:jy,REC_2020:$y,REC_2020_Linear:uo,REC_2100_HLG:$5,REC_2100_PQ:I5,XYZ_ABS_D65:Ym,XYZ_D50:Hm,XYZ_D65:_e,sRGB:Fr,sRGB_Linear:Ey}),ke=class t{constructor(...e){let r;e.length===1&&(r=U(e[0]));let n,i,a;r?(n=r.space||r.spaceId,i=r.coords,a=r.alpha):[n,i,a]=e,Object.defineProperty(this,"space",{value:R.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=i?i.slice():[0,0,0],this.alpha=a>1||a===void 0?1:a<0?0:a;for(let o=0;o<this.coords.length;o++)this.coords[o]==="NaN"&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:s=>this.set(o,s)})}get spaceId(){return this.space.id}clone(){return new t(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=Nw(this,...e);return r.color=new t(r.color),r}static get(e,...r){return e instanceof t?e:new t(e,...r)}static defineFunction(e,r,n=r){let{instance:i=!0,returns:a}=n,o=function(...s){let l=r(...s);if(a==="color")l=t.get(l);else if(a==="function<color>"){let d=l;l=function(...c){let m=d(...c);return t.get(m)},Object.assign(l,d)}else a==="array<color>"&&(l=l.map(d=>t.get(d)));return l};e in t||(t[e]=o),i&&(t.prototype[e]=function(...s){return o(this,...s)})}static defineFunctions(e){for(let r in e)t.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(t);else for(let r in e)t.defineFunction(r,e[r])}};ke.defineFunctions({get:Be,getAll:hn,set:wt,setAll:Vm,to:ie,equals:Uw,inGamut:ar,toGamut:Dt,distance:yy,toString:ln});Object.assign(ke,{util:Nx,hooks:Mt,WHITES:Re,Space:R,spaces:R.registry,parse:fy,defaults:Fe});for(let t of Object.keys(sy))R.register(sy[t]);for(let t in R.registry)Zm(t,R.registry[t]);Mt.add("colorspace-init-end",t=>{Zm(t.id,t),t.aliases?.forEach(e=>{Zm(e,t)})});function Zm(t,e){let r=t.replace(/-/g,"_");Object.defineProperty(ke.prototype,r,{get(){let n=this.getAll(t);return typeof Proxy>"u"?n:new Proxy(n,{has:(i,a)=>{try{return R.resolveCoord([e,a]),!0}catch{}return Reflect.has(i,a)},get:(i,a,o)=>{if(a&&typeof a!="symbol"&&!(a in i)){let{index:s}=R.resolveCoord([e,a]);if(s>=0)return i[s]}return Reflect.get(i,a,o)},set:(i,a,o,s)=>{if(a&&typeof a!="symbol"&&!(a in i)||a>=0){let{index:l}=R.resolveCoord([e,a]);if(l>=0)return i[l]=o,this.setAll(t,i),!0}return Reflect.set(i,a,o,s)}})},set(n){this.setAll(t,n)},configurable:!0,enumerable:!0})}ke.extend(Gr);ke.extend({deltaE:sn});Object.assign(ke,{deltaEMethods:Gr});ke.extend(s5);ke.extend({contrast:r5});ke.extend(n5);ke.extend(zw);ke.extend(u5);ke.extend(io);Cr([Ha]);Cr([Va]);var C5=u("rgb(235,51,51)"),M5=u("rgb(41,98,255)"),D5=u("rgb(43,212,189)"),N5=u("rgb(146,52,234)"),U5=u("rgb(231,176,8)"),O5=u("rgb(249,116,21)"),z5=u("rgb(65,190,82)"),j5=u("rgb(209,205,199)"),Qm=or(C5),eh=or(M5),Wy=or(D5),qy=or(N5),Vy=or(U5),Hy=or(O5),Yy=or(z5),Ky=[j5];function or(t){let e=t.toHsl(),r=64;return Array.from({length:r},(n,i)=>{let a=i/(r-1),o=e.s*(1-.3*a),s=Math.min(100,e.l+a*30);return u({h:e.h,s:o,l:s})})}var th=[u("rgb(210,210,100)"),u("rgb(180,210,120)"),u("rgb(170,190,100)"),u("rgb(80,200,120)"),u("rgb(130,200,130)"),u("rgb(140,180,140)"),u("rgb(160,190,160)"),u("rgb(160,180,140)"),u("rgb(100,160,80)"),u("rgb(100,140,110)"),u("rgb(100,180,160)"),u("rgb(130,180,170)"),u("rgb(170,190,180)"),u("rgb(100,130,150)"),u("rgb(120,160,200)"),u("rgb(140,150,180)"),u("rgb(100,210,210)"),u("rgb(140,180,220)"),u("rgb(130,170,190)"),u("rgb(100,180,230)"),u("rgb(80,130,190)"),u("rgb(120,120,190)"),u("rgb(150,110,190)"),u("rgb(160,120,160)"),u("rgb(170,140,190)"),u("rgb(180,130,180)"),u("rgb(190,140,150)"),u("rgb(180,100,230)"),u("rgb(180,160,180)"),u("rgb(170,150,170)"),u("rgb(150,130,150)"),u("rgb(230,180,180)"),u("rgb(210,160,200)"),u("rgb(230,130,180)"),u("rgb(210,100,160)"),u("rgb(190,100,130)"),u("rgb(220,120,120)"),u("rgb(200,130,110)"),u("rgb(230,140,140)"),u("rgb(230,100,100)"),u("rgb(230,150,100)"),u("rgb(210,140,80)"),u("rgb(230,180,80)"),u("rgb(200,160,110)"),u("rgb(190,150,130)"),u("rgb(190,180,160)"),u("rgb(180,170,140)"),u("rgb(200,200,140)"),u("rgb(190,170,100)")],rh=[u("rgb(163,230,53)"),u("rgb(132,204,22)"),u("rgb(16,185,129)"),u("rgb(52,211,153)"),u("rgb(45,212,191)"),u("rgb(74,222,128)"),u("rgb(110,231,183)"),u("rgb(134,239,172)"),u("rgb(151,255,187)"),u("rgb(186,255,201)"),u("rgb(230,250,210)"),u("rgb(34,197,94)"),u("rgb(67,190,84)"),u("rgb(82,183,136)"),u("rgb(48,178,180)"),u("rgb(230,255,250)"),u("rgb(220,240,250)"),u("rgb(233,213,255)"),u("rgb(204,204,255)"),u("rgb(220,220,255)"),u("rgb(202,225,255)"),u("rgb(147,197,253)"),u("rgb(125,211,252)"),u("rgb(99,202,253)"),u("rgb(56,189,248)"),u("rgb(96,165,250)"),u("rgb(59,130,246)"),u("rgb(79,70,229)"),u("rgb(124,58,237)"),u("rgb(147,51,234)"),u("rgb(179,136,255)"),u("rgb(167,139,250)"),u("rgb(217,70,239)"),u("rgb(168,85,247)"),u("rgb(190,92,251)"),u("rgb(192,132,252)"),u("rgb(240,171,252)"),u("rgb(244,114,182)"),u("rgb(236,72,153)"),u("rgb(220,38,38)"),u("rgb(239,68,68)"),u("rgb(235,75,75)"),u("rgb(245,101,101)"),u("rgb(248,113,113)"),u("rgb(251,113,133)"),u("rgb(253,164,175)"),u("rgb(252,165,165)"),u("rgb(255,204,229)"),u("rgb(250,215,225)"),u("rgb(251,235,245)"),u("rgb(240,240,200)"),u("rgb(250,250,210)"),u("rgb(255,240,200)"),u("rgb(255,223,186)"),u("rgb(252,211,77)"),u("rgb(251,191,36)"),u("rgb(234,179,8)"),u("rgb(202,138,4)"),u("rgb(245,158,11)"),u("rgb(251,146,60)"),u("rgb(249,115,22)"),u("rgb(234,88,12)"),u("rgb(133,77,14)")],ih=[u("rgb(150,160,140)"),u("rgb(160,160,150)"),u("rgb(170,170,140)"),u("rgb(170,170,120)"),u("rgb(150,160,120)"),u("rgb(150,170,130)"),u("rgb(150,170,150)"),u("rgb(130,170,130)"),u("rgb(140,160,140)"),u("rgb(120,150,100)"),u("rgb(120,140,120)"),u("rgb(100,170,130)"),u("rgb(120,160,150)"),u("rgb(130,160,150)"),u("rgb(120,170,170)"),u("rgb(120,160,190)"),u("rgb(130,150,170)"),u("rgb(130,150,160)"),u("rgb(140,150,160)"),u("rgb(140,160,170)"),u("rgb(150,160,160)"),u("rgb(100,120,160)"),u("rgb(120,130,140)"),u("rgb(130,130,160)"),u("rgb(140,130,140)"),u("rgb(140,120,160)"),u("rgb(150,130,150)"),u("rgb(150,140,160)"),u("rgb(160,130,160)"),u("rgb(170,150,170)"),u("rgb(160,120,190)"),u("rgb(160,120,130)"),u("rgb(170,120,140)"),u("rgb(170,130,120)"),u("rgb(170,130,130)"),u("rgb(180,140,140)"),u("rgb(190,130,160)"),u("rgb(190,120,120)"),u("rgb(190,140,120)"),u("rgb(190,160,100)"),u("rgb(170,140,100)"),u("rgb(160,140,130)"),u("rgb(170,150,130)"),u("rgb(160,150,120)"),u("rgb(160,150,140)"),u("rgb(160,140,150)"),u("rgb(160,150,160)"),u("rgb(150,140,150)"),u("rgb(180,160,160)")],nh=[u("rgb(35,0,0)"),u("rgb(45,0,0)"),u("rgb(55,0,0)"),u("rgb(65,0,0)"),u("rgb(75,0,0)"),u("rgb(85,0,0)"),u("rgb(95,0,0)"),u("rgb(105,0,0)"),u("rgb(115,0,0)"),u("rgb(125,0,0)"),u("rgb(135,0,0)"),u("rgb(145,0,0)"),u("rgb(155,0,0)"),u("rgb(165,0,0)"),u("rgb(175,0,0)"),u("rgb(185,0,0)"),u("rgb(195,0,5)"),u("rgb(205,0,10)"),u("rgb(215,0,15)"),u("rgb(225,0,20)"),u("rgb(235,0,25)"),u("rgb(245,0,30)"),u("rgb(255,0,35)"),u("rgb(255,10,45)"),u("rgb(255,20,55)"),u("rgb(255,30,65)"),u("rgb(255,40,75)"),u("rgb(255,50,85)"),u("rgb(255,60,95)"),u("rgb(255,70,105)"),u("rgb(255,80,115)"),u("rgb(255,90,125)"),u("rgb(255,100,135)"),u("rgb(255,110,145)"),u("rgb(255,120,155)"),u("rgb(255,130,165)"),u("rgb(255,140,175)"),u("rgb(255,150,185)"),u("rgb(255,160,195)"),u("rgb(255,170,205)"),u("rgb(255,180,215)"),u("rgb(255,190,225)"),u("rgb(255,200,235)"),u("rgb(0,45,0)"),u("rgb(0,55,0)"),u("rgb(0,65,0)"),u("rgb(0,75,0)"),u("rgb(0,85,0)"),u("rgb(0,95,0)"),u("rgb(0,105,0)"),u("rgb(0,115,0)"),u("rgb(0,125,0)"),u("rgb(0,135,0)"),u("rgb(0,145,0)"),u("rgb(0,155,0)"),u("rgb(0,165,0)"),u("rgb(0,175,0)"),u("rgb(0,185,0)"),u("rgb(0,195,5)"),u("rgb(0,205,10)"),u("rgb(0,215,15)"),u("rgb(0,225,20)"),u("rgb(0,235,25)"),u("rgb(0,245,30)"),u("rgb(0,255,35)"),u("rgb(10,255,45)"),u("rgb(20,255,55)"),u("rgb(30,255,65)"),u("rgb(40,255,75)"),u("rgb(50,255,85)"),u("rgb(60,255,95)"),u("rgb(70,255,105)"),u("rgb(80,255,115)"),u("rgb(90,255,125)"),u("rgb(100,255,135)"),u("rgb(110,255,145)"),u("rgb(120,255,155)"),u("rgb(130,255,165)"),u("rgb(140,255,175)"),u("rgb(150,255,185)"),u("rgb(160,255,195)"),u("rgb(170,255,205)"),u("rgb(180,255,215)"),u("rgb(190,255,225)"),u("rgb(200,255,235)"),u("rgb(0,0,35)"),u("rgb(0,0,45)"),u("rgb(0,0,55)"),u("rgb(0,0,65)"),u("rgb(0,0,75)"),u("rgb(0,0,85)"),u("rgb(0,0,95)"),u("rgb(0,0,105)"),u("rgb(0,0,115)"),u("rgb(0,0,125)"),u("rgb(0,0,135)"),u("rgb(0,0,145)"),u("rgb(0,0,155)"),u("rgb(0,0,165)"),u("rgb(0,0,175)"),u("rgb(0,0,185)"),u("rgb(5,0,195)"),u("rgb(10,0,205)"),u("rgb(15,0,215)"),u("rgb(20,0,225)"),u("rgb(25,0,235)"),u("rgb(30,0,245)"),u("rgb(35,0,255)"),u("rgb(45,10,255)"),u("rgb(55,20,255)"),u("rgb(65,30,255)"),u("rgb(75,40,255)"),u("rgb(85,50,255)"),u("rgb(95,60,255)"),u("rgb(105,70,255)"),u("rgb(115,80,255)"),u("rgb(125,90,255)"),u("rgb(135,100,255)"),u("rgb(145,110,255)"),u("rgb(155,120,255)"),u("rgb(165,130,255)"),u("rgb(175,140,255)"),u("rgb(185,150,255)"),u("rgb(195,160,255)"),u("rgb(205,170,255)"),u("rgb(215,180,255)"),u("rgb(225,190,255)"),u("rgb(235,200,255)"),u("rgb(35,0,35)"),u("rgb(45,0,45)"),u("rgb(55,0,55)"),u("rgb(65,0,65)"),u("rgb(75,0,75)"),u("rgb(85,0,85)"),u("rgb(95,0,95)"),u("rgb(105,0,105)"),u("rgb(115,0,115)"),u("rgb(125,0,125)"),u("rgb(135,0,135)"),u("rgb(145,0,145)"),u("rgb(155,0,155)"),u("rgb(165,0,165)"),u("rgb(175,0,175)"),u("rgb(185,0,185)"),u("rgb(195,5,195)"),u("rgb(205,10,205)"),u("rgb(215,15,215)"),u("rgb(225,20,225)"),u("rgb(235,25,235)"),u("rgb(245,30,245)"),u("rgb(255,35,255)"),u("rgb(255,45,255)"),u("rgb(255,55,255)"),u("rgb(255,65,255)"),u("rgb(255,75,255)"),u("rgb(255,85,255)"),u("rgb(255,95,255)"),u("rgb(255,105,255)"),u("rgb(255,115,255)"),u("rgb(255,125,255)"),u("rgb(255,135,255)"),u("rgb(255,145,255)"),u("rgb(255,155,255)"),u("rgb(255,165,255)"),u("rgb(255,175,255)"),u("rgb(255,185,255)"),u("rgb(255,195,255)"),u("rgb(255,205,255)"),u("rgb(255,215,255)"),u("rgb(0,35,35)"),u("rgb(0,45,45)"),u("rgb(0,55,55)"),u("rgb(0,65,65)"),u("rgb(0,75,75)"),u("rgb(0,85,85)"),u("rgb(0,95,95)"),u("rgb(0,105,105)"),u("rgb(0,115,115)"),u("rgb(0,125,125)"),u("rgb(0,135,135)"),u("rgb(0,145,145)"),u("rgb(0,155,155)"),u("rgb(0,165,165)"),u("rgb(0,175,175)"),u("rgb(0,185,185)"),u("rgb(5,195,195)"),u("rgb(10,205,205)"),u("rgb(15,215,215)"),u("rgb(20,225,225)"),u("rgb(25,235,235)"),u("rgb(30,245,245)"),u("rgb(35,255,255)"),u("rgb(45,255,255)"),u("rgb(55,255,255)"),u("rgb(65,255,255)"),u("rgb(75,255,255)"),u("rgb(85,255,255)"),u("rgb(95,255,255)"),u("rgb(105,255,255)"),u("rgb(115,255,255)"),u("rgb(125,255,255)"),u("rgb(135,255,255)"),u("rgb(145,255,255)"),u("rgb(155,255,255)"),u("rgb(165,255,255)"),u("rgb(175,255,255)"),u("rgb(185,255,255)"),u("rgb(195,255,255)"),u("rgb(205,255,255)"),u("rgb(215,255,255)"),u("rgb(35,35,0)"),u("rgb(45,45,0)"),u("rgb(55,55,0)"),u("rgb(65,65,0)"),u("rgb(75,75,0)"),u("rgb(85,85,0)"),u("rgb(95,95,0)"),u("rgb(105,105,0)"),u("rgb(115,115,0)"),u("rgb(125,125,0)"),u("rgb(135,135,0)"),u("rgb(145,145,0)"),u("rgb(155,155,0)"),u("rgb(165,165,0)"),u("rgb(175,175,0)"),u("rgb(185,185,0)"),u("rgb(195,195,5)"),u("rgb(205,205,10)"),u("rgb(215,215,15)"),u("rgb(225,225,20)"),u("rgb(235,235,25)"),u("rgb(245,245,30)"),u("rgb(255,255,35)"),u("rgb(255,255,45)"),u("rgb(255,255,55)"),u("rgb(255,255,65)"),u("rgb(255,255,75)"),u("rgb(255,255,85)"),u("rgb(255,255,95)"),u("rgb(255,255,105)"),u("rgb(255,255,115)"),u("rgb(255,255,125)"),u("rgb(255,255,135)"),u("rgb(255,255,145)"),u("rgb(255,255,155)"),u("rgb(255,255,165)"),u("rgb(255,255,175)"),u("rgb(255,255,185)"),u("rgb(255,255,195)"),u("rgb(255,255,205)"),u("rgb(255,255,215)"),u("rgb(215,255,200)"),u("rgb(225,255,175)"),u("rgb(240,250,160)"),u("rgb(245,245,175)"),u("rgb(150,200,255)"),u("rgb(160,215,255)"),u("rgb(170,225,255)"),u("rgb(180,235,250)"),u("rgb(190,245,240)"),u("rgb(210,255,245)"),u("rgb(220,255,255)"),u("rgb(230,250,255)"),u("rgb(240,240,255)"),u("rgb(250,230,255)"),u("rgb(170,190,255)"),u("rgb(180,180,255)"),u("rgb(200,170,255)"),u("rgb(190,140,195)"),u("rgb(195,145,200)"),u("rgb(200,150,205)"),u("rgb(205,155,210)"),u("rgb(210,160,215)"),u("rgb(215,165,220)"),u("rgb(220,170,225)"),u("rgb(225,175,230)"),u("rgb(230,180,235)"),u("rgb(235,185,240)"),u("rgb(240,190,245)"),u("rgb(245,195,250)"),u("rgb(250,200,255)"),u("rgb(255,205,255)"),u("rgb(255,210,255)"),u("rgb(255,210,250)"),u("rgb(255,205,245)"),u("rgb(255,215,245)"),u("rgb(220,160,255)"),u("rgb(235,150,255)"),u("rgb(245,160,240)"),u("rgb(255,170,225)"),u("rgb(255,185,215)"),u("rgb(255,195,235)"),u("rgb(255,200,220)"),u("rgb(255,210,230)"),u("rgb(255,220,235)"),u("rgb(255,220,250)"),u("rgb(255,225,255)"),u("rgb(255,230,245)"),u("rgb(255,235,235)"),u("rgb(255,215,195)"),u("rgb(255,225,180)"),u("rgb(255,230,190)"),u("rgb(255,235,200)"),u("rgb(255,245,210)"),u("rgb(255,240,220)")];Cr([Ha]);Cr([Va]);var sr=class{constructor(e,r){this.assigned=new Map;this.teamPlayerColors=new Map;this.availableColors=[...e],this.fallbackColors=[...e,...r]}getTeamColorVariations(e){switch(e){case V.Blue:return eh;case V.Red:return Qm;case V.Teal:return Wy;case V.Purple:return qy;case V.Yellow:return Vy;case V.Orange:return Hy;case V.Green:return Yy;case V.Bot:return Ky;case V.Humans:return eh;case V.Nations:return Qm;default:return[this.assignColor(e)]}}assignColor(e){if(this.assigned.has(e))return this.assigned.get(e);this.availableColors.length===0&&(this.availableColors=[...this.fallbackColors]);let r=0;if(this.assigned.size===0||this.assigned.size>50)r=new D(F(e)).nextInt(0,this.availableColors.length);else{let i=Array.from(this.assigned.values());r=L5(this.availableColors,i)??0}let n=this.availableColors.splice(r,1)[0];return this.assigned.set(e,n),n}assignTeamColor(e){let n=this.getTeamColorVariations(e)[0].toRgb();return n.r=Math.round(n.r),n.g=Math.round(n.g),n.b=Math.round(n.b),u(n)}assignTeamPlayerColor(e,r){if(this.teamPlayerColors.has(r))return this.teamPlayerColors.get(r);let n=this.getTeamColorVariations(e),a=F(r)%n.length,o=n[a];return this.teamPlayerColors.set(r,o),o}};function L5(t,e){if(e.length===0)throw new Error("No assigned colors");let r=e.map(Xy),n=0,i=0;for(let a=0;a<t.length;a++){let o=t[a],s=B5(Xy(o),r);s>n&&(n=s,i=a)}return i}function B5(t,e){return e.reduce((r,n)=>Math.min(r,G5(t,n)),1/0)}function G5(t,e){return t.deltaE(e,"2000")}function Xy(t){let e=t.toLab();return new ke("lab",[e.l,e.a,e.b])}var Zr=class{constructor(){this.borderColorCache=new Map;this.rand=new D(123);this.humanColorAllocator=new sr(rh,nh);this.botColorAllocator=new sr(ih,ih);this.teamColorAllocator=new sr(rh,nh);this.nationColorAllocator=new sr(th,th);this.background=u("rgb(60,60,60)");this.shore=u("rgb(204,203,158)");this.falloutColors=[u("rgb(120,255,71)"),u("rgb(130,255,85)"),u("rgb(110,245,65)"),u("rgb(125,255,75)"),u("rgb(115,250,68)")];this.water=u("rgb(70,132,180)");this.shorelineWater=u("rgb(100,143,255)");this._selfColor=u("rgb(0,255,0)");this._allyColor=u("rgb(255,255,0)");this._neutralColor=u("rgb(128,128,128)");this._enemyColor=u("rgb(255,0,0)");this._spawnHighlightColor=u("rgb(255,213,79)");this._spawnHighlightSelfColor=u("rgb(255,255,255)");this._spawnHighlightTeamColor=u("rgb(0,255,0)");this._spawnHighlightEnemyColor=u("rgb(255,0,0)")}teamColor(e){return this.teamColorAllocator.assignTeamColor(e)}territoryColor(e){let r=e.team();return r!==null?this.teamColorAllocator.assignTeamPlayerColor(r,e.id()):e.type()==="HUMAN"?this.humanColorAllocator.assignColor(e.id()):e.type()==="BOT"?this.botColorAllocator.assignColor(e.id()):this.nationColorAllocator.assignColor(e.id())}structureColors(e){let r=e.alpha(.5882352941176471).toLab(),n=this.borderColor(e).toLab(),i=this.contrast(r,n),a=10,o=50,s=.5,l=0,d=5;for(;i<s;){if(l>o){console.warn(`Infinite loop detected during structure color calculation. 
          Light color: ${u(r).toRgbString()}, 
          Dark color: ${u(n).toRgbString()}, 
          Contrast: ${i}`);break}else l>a?r.l=this.clamp(r.l+d):n.l=this.clamp(n.l-d);i=this.contrast(r,n),l++}return{light:u(r),dark:u(n)}}contrast(e,r){return u(e).delta(u(r))}clamp(e,r=0,n=100){return Math.min(Math.max(r,e),n)}borderColor(e){return e.darken(.125)}defendedBorderColors(e){return{light:e.darken(.2),dark:e.darken(.4)}}focusedBorderColor(){return u("rgb(230,230,230)")}textColor(e){return e.type()==="HUMAN"?"#000000":"#4D4D4D"}terrainColor(e,r){let n=e.magnitude(r);if(e.isShore(r))return this.shore;switch(e.terrainType(r)){case 4:case 3:{let i=this.water.rgba;return e.isShoreline(r)&&e.isWater(r)?this.shorelineWater:u({r:Math.max(i.r-10+(11-Math.min(n,10)),0),g:Math.max(i.g-10+(11-Math.min(n,10)),0),b:Math.max(i.b-10+(11-Math.min(n,10)),0)})}case 0:return u({r:190,g:220-2*n,b:138});case 1:return u({r:200+2*n,g:183+2*n,b:138+2*n});case 2:return u({r:230+n/2,g:230+n/2,b:230+n/2})}}backgroundColor(){return this.background}falloutColor(){return this.rand.randElement(this.falloutColors)}font(){return"Overpass, sans-serif"}selfColor(){return this._selfColor}allyColor(){return this._allyColor}neutralColor(){return this._neutralColor}enemyColor(){return this._enemyColor}spawnHighlightColor(){return this._spawnHighlightColor}spawnHighlightSelfColor(){return this._spawnHighlightSelfColor}spawnHighlightTeamColor(){return this._spawnHighlightTeamColor}spawnHighlightEnemyColor(){return this._spawnHighlightEnemyColor}};var ho=class extends Zr{constructor(){super(...arguments);this.darkShore=u("rgb(134,133,88)");this.darkWater=u("rgb(14,11,30)");this.darkShorelineWater=u("rgb(50,50,50)")}terrainColor(r,n){let i=r.magnitude(n);if(r.isShore(n))return this.darkShore;switch(r.terrainType(n)){case 4:case 3:{let a=this.darkWater.rgba;return r.isShoreline(n)&&r.isWater(n)?this.darkShorelineWater:r.magnitude(n)<10?u({r:Math.max(a.r+9-i,0),g:Math.max(a.g+9-i,0),b:Math.max(a.b+9-i,0)}):this.darkWater}case 0:return u({r:140,g:170-2*i,b:88});case 1:return u({r:150+2*i,g:133+2*i,b:88+2*i});case 2:return u({r:180+i/2,g:180+i/2,b:180+i/2})}}};var F5=15e4,Z5=Math.LN2/5e4,W5=he.object({keys:he.object({alg:he.literal("EdDSA"),crv:he.literal("Ed25519"),kty:he.literal("OKP"),x:he.string()}).array().min(1)}),q5={Africa:[100,70,50],Asia:[50,40,30],Australia:[70,40,30],Achiran:[40,36,30],Baikal:[100,70,50],"Baikal (Nuke Wars)":[100,70,50],"Between Two Seas":[70,50,40],"Black Sea":[50,30,30],Britannia:[50,30,20],"Deglaciated Antarctica":[50,40,30],"East Asia":[50,30,20],Europe:[100,70,50],"Europe Classic":[50,30,30],"Falkland Islands":[50,30,20],"Faroe Islands":[20,15,10],"Gateway to the Atlantic":[100,70,50],"Giant World Map":[100,70,50],Halkidiki:[100,50,40],Iceland:[50,40,30],Italia:[50,30,20],Japan:[20,15,10],Mars:[70,40,30],Mena:[70,50,40],Montreal:[60,40,30],"North America":[70,40,30],Oceania:[10,10,10],Pangaea:[20,15,10],Pluto:[100,70,50],"South America":[70,50,40],"Strait of Gibraltar":[100,70,50],World:[50,30,20]},Ut=class{turnstileSecretKey(){return process.env.TURNSTILE_SECRET_KEY??""}allowedFlares(){}stripePublishableKey(){return process.env.STRIPE_PUBLISHABLE_KEY??""}domain(){return process.env.DOMAIN??""}subdomain(){return process.env.SUBDOMAIN??""}cloudflareAccountId(){return process.env.CF_ACCOUNT_ID??""}cloudflareApiToken(){return process.env.CF_API_TOKEN??""}cloudflareConfigPath(){return process.env.CF_CONFIG_PATH??""}cloudflareCredsPath(){return process.env.CF_CREDS_PATH??""}jwtIssuer(){let e=this.jwtAudience();return e==="localhost"?"http://localhost:8787":`https://api.${e}`}async jwkPublicKey(){if(this.publicKey)return this.publicKey;let e=this.jwtIssuer()+"/.well-known/jwks.json";console.log(`Fetching JWKS from ${e}`);let r=await fetch(e),n=W5.safeParse(await r.json());if(!n.success){let i=he.prettifyError(n.error);throw console.error("Error parsing JWKS",i),new Error("Invalid JWKS")}return this.publicKey=n.data.keys[0],this.publicKey}otelEnabled(){return this.env()!==0&&!!this.otelEndpoint()&&!!this.otelAuthHeader()}otelEndpoint(){return process.env.OTEL_EXPORTER_OTLP_ENDPOINT??""}otelAuthHeader(){return process.env.OTEL_AUTH_HEADER??""}gitCommit(){return process.env.GIT_COMMIT??""}r2Endpoint(){return`https://${process.env.CF_ACCOUNT_ID}.r2.cloudflarestorage.com`}r2AccessKey(){return process.env.R2_ACCESS_KEY??""}r2SecretKey(){return process.env.R2_SECRET_KEY??""}r2Bucket(){return process.env.R2_BUCKET??""}apiKey(){return process.env.API_KEY??""}adminHeader(){return"x-admin-key"}adminToken(){return process.env.ADMIN_TOKEN??"dummy-admin-token"}turnIntervalMs(){return 100}gameCreationRate(){return 60*1e3}lobbyMaxPlayers(e,r,n){let[i,a,o]=q5[e]??[50,30,20],s=Math.random(),l=s<.3?i:s<.6?a:o,d=Math.min(r==="Team"?Math.ceil(l*1.5):l,i);if(n===void 0)return d;switch(n){case Bn:d-=d%2;break;case Gn:d-=d%3;break;case Fn:d-=d%4;break;case yi:break;default:d-=d%n;break}return d}workerIndex(e){return F(e)%this.numWorkers()}workerPath(e){return`w${this.workerIndex(e)}`}workerPort(e){return this.workerPortByIndex(this.workerIndex(e))}workerPortByIndex(e){return 3001+e}enableMatchmaking(){return!1}},Wr=class{constructor(e,r,n,i){this._serverConfig=e;this._gameConfig=r;this._userSettings=n;this._isReplay=i;this.pastelTheme=new Zr;this.pastelThemeDark=new ho}stripePublishableKey(){return process.env.STRIPE_PUBLISHABLE_KEY??""}isReplay(){return this._isReplay}samHittingChance(){return .8}samWarheadHittingChance(){return .5}traitorDefenseDebuff(){return .5}traitorSpeedDebuff(){return .8}traitorDuration(){return 30*10}spawnImmunityDuration(){return 5*10}gameConfig(){return this._gameConfig}serverConfig(){return this._serverConfig}userSettings(){if(this._userSettings===null)throw new Error("userSettings is null");return this._userSettings}difficultyModifier(e){switch(e){case"Easy":return 1;case"Medium":return 3;case"Hard":return 9;case"Impossible":return 18}}cityTroopIncrease(){return 25e4}falloutDefenseModifier(e){return 5-e*2}SAMCooldown(){return 75}SiloCooldown(){return 75}defensePostRange(){return 30}defensePostDefenseBonus(){return 5}defensePostSpeedBonus(){return 3}playerTeams(){return this._gameConfig.playerTeams??0}spawnNPCs(){return!this._gameConfig.disableNPCs}isUnitDisabled(e){return this._gameConfig.disabledUnits?.includes(e)??!1}bots(){return this._gameConfig.bots}instantBuild(){return this._gameConfig.instantBuild}isRandomSpawn(){return this._gameConfig.randomSpawn}infiniteGold(){return this._gameConfig.infiniteGold}donateGold(){return this._gameConfig.donateGold}infiniteTroops(){return this._gameConfig.infiniteTroops}donateTroops(){return this._gameConfig.donateTroops}trainSpawnRate(e){return(e+10)*18}trainGold(e){switch(e){case"ally":return 50000n;case"team":case"other":return 25000n;case"self":return 10000n}}trainStationMinRange(){return 15}trainStationMaxRange(){return 100}railroadMaxSize(){return 120}tradeShipGold(e,r){let n=this.tradeShipShortRangeDebuff(),i=1e5/(1+Math.exp(-.03*(e-n)))+100*e,a=r-1,o=1+2*(a/(a+5));return BigInt(Math.floor(i*o))}tradeShipSpawnRate(e,r,n){let i=Math.sqrt(this.tradeShipBaseSpawn(e,n)*this.tradeShipPortMultiplier(r));return Math.floor(25/i)}tradeShipBaseSpawn(e,r){if(r<3)return 1;let n=Math.LN2/10;return 1-ml(e,n,55)}tradeShipPortMultiplier(e){return 1/(1+.1*e)}unitInfo(e){switch(e){case"Transport":return{cost:()=>0n,territoryBound:!1};case"Warship":return{cost:this.costWrapper(r=>Math.min(1e6,(r+1)*25e4),"Warship"),territoryBound:!1,maxHealth:1e3};case"Shell":return{cost:()=>0n,territoryBound:!1,damage:250};case"SAMMissile":return{cost:()=>0n,territoryBound:!1};case"Port":return{cost:this.costWrapper(r=>Math.min(1e6,Math.pow(2,r)*125e3),"Port","Factory"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,upgradable:!0,canBuildTrainStation:!0};case"Atom Bomb":return{cost:this.costWrapper(()=>75e4,"Atom Bomb"),territoryBound:!1};case"Hydrogen Bomb":return{cost:this.costWrapper(()=>5e6,"Hydrogen Bomb"),territoryBound:!1};case"MIRV":return{cost:this.costWrapper(()=>35e6,"MIRV"),territoryBound:!1};case"MIRV Warhead":return{cost:()=>0n,territoryBound:!1};case"Trade Ship":return{cost:()=>0n,territoryBound:!1};case"Missile Silo":return{cost:this.costWrapper(()=>1e6,"Missile Silo"),territoryBound:!0,constructionDuration:this.instantBuild()?0:10*10,upgradable:!0};case"Defense Post":return{cost:this.costWrapper(r=>Math.min(25e4,(r+1)*5e4),"Defense Post"),territoryBound:!0,constructionDuration:this.instantBuild()?0:5*10};case"SAM Launcher":return{cost:this.costWrapper(r=>Math.min(3e6,(r+1)*15e5),"SAM Launcher"),territoryBound:!0,constructionDuration:this.instantBuild()?0:30*10,upgradable:!0};case"City":return{cost:this.costWrapper(r=>Math.min(1e6,Math.pow(2,r)*125e3),"City"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,upgradable:!0,canBuildTrainStation:!0};case"Factory":return{cost:this.costWrapper(r=>Math.min(1e6,Math.pow(2,r)*125e3),"Factory","Port"),territoryBound:!0,constructionDuration:this.instantBuild()?0:2*10,canBuildTrainStation:!0,experimental:!0,upgradable:!0};case"Construction":return{cost:()=>0n,territoryBound:!0};case"Train":return{cost:()=>0n,territoryBound:!1,experimental:!0};default:On(e)}}costWrapper(e,...r){return n=>{if(n.type()==="HUMAN"&&this.infiniteGold())return 0n;let i=r.reduce((a,o)=>a+Math.min(n.unitsOwned(o),n.unitsConstructed(o)),0);return BigInt(e(i))}}defaultDonationAmount(e){return Math.floor(e.troops()/3)}donateCooldown(){return 10*10}embargoAllCooldown(){return 10*10}deletionMarkDuration(){return 30*10}deleteUnitCooldown(){return 30*10}emojiMessageDuration(){return 5*10}emojiMessageCooldown(){return 5*10}targetDuration(){return 10*10}targetCooldown(){return 15*10}allianceRequestDuration(){return 20*10}allianceRequestCooldown(){return 30*10}allianceDuration(){return 300*10}temporaryEmbargoDuration(){return 300*10}percentageTilesOwnedToWin(){return this._gameConfig.gameMode==="Team"?95:80}boatMaxNumber(){return 3}numSpawnPhaseTurns(){return this._gameConfig.gameType==="Singleplayer"?100:300}numBots(){return this.bots()}theme(){return this.userSettings()?.darkMode()?this.pastelThemeDark:this.pastelTheme}attackLogic(e,r,n,i,a){let o=0,s=0,l=e.terrainType(a);switch(l){case 0:o=80,s=16.5;break;case 1:o=100,s=20;break;case 2:o=120,s=25;break;default:throw new Error(`terrain type ${l} not supported`)}if(i.isPlayer()){for(let d of e.nearbyUnits(a,e.config().defensePostRange(),"Defense Post"))if(d.unit.owner()===i){o*=this.defensePostDefenseBonus(),s*=this.defensePostSpeedBonus();break}}if(e.hasFallout(a)){let d=e.numTilesWithFallout()/e.numLandTiles();o*=this.falloutDefenseModifier(d),s*=this.falloutDefenseModifier(d)}if(n.isPlayer()&&i.isPlayer()&&(i.isDisconnected()&&n.isOnSameTeam(i)&&(o=0),n.type()==="HUMAN"&&i.type()==="BOT"&&(o*=.8),n.type()==="FAKEHUMAN"&&i.type()==="BOT"&&(o*=.8)),i.isPlayer()){let d=1-ml(i.numTilesOwned(),Z5,F5),c=.7+.3*d,m=.7+.3*d,h=1;n.numTilesOwned()>1e5&&(h=Math.sqrt(1e5/n.numTilesOwned())**.7);let f=1;return n.numTilesOwned()>1e5&&(f=(1e5/n.numTilesOwned())**.6),{attackerTroopLoss:$t(i.troops()/r,.6,2)*o*.8*m*h*(i.isTraitor()?this.traitorDefenseDebuff():1),defenderTroopLoss:i.troops()/i.numTilesOwned(),tilesPerTickUsed:$t(i.troops()/(5*r),.2,1.5)*s*c*f*(i.isTraitor()?this.traitorSpeedDebuff():1)}}else return{attackerTroopLoss:n.type()==="BOT"?o/10:o/5,defenderTroopLoss:0,tilesPerTickUsed:$t(2e3*Math.max(10,s)/r,5,100)}}attackTilesPerTick(e,r,n,i){return n.isPlayer()?$t(5*e/n.troops()*2,.01,.5)*i*3:i*2}boatAttackAmount(e,r){return Math.floor(e.troops()/5)}warshipShellLifetime(){return 20}radiusPortSpawn(){return 20}tradeShipShortRangeDebuff(){return 300}proximityBonusPortsNb(e){return $t(e/3,4,e)}attackAmount(e,r){return e.type()==="BOT"?e.troops()/20:e.troops()/5}startManpower(e){if(e.playerType==="BOT")return 1e4;if(e.playerType==="FAKEHUMAN")switch(this._gameConfig.difficulty){case"Easy":return 2500*(e?.nation?.strength??1);case"Medium":return 5e3*(e?.nation?.strength??1);case"Hard":return 2e4*(e?.nation?.strength??1);case"Impossible":return 5e4*(e?.nation?.strength??1)}return this.infiniteTroops()?1e6:25e3}maxTroops(e){let r=e.type()==="HUMAN"&&this.infiniteTroops()?1e9:2*(Math.pow(e.numTilesOwned(),.6)*1e3+5e4)+e.units("City").map(n=>n.level()).reduce((n,i)=>n+i,0)*this.cityTroopIncrease();if(e.type()==="BOT")return r/3;if(e.type()==="HUMAN")return r;switch(this._gameConfig.difficulty){case"Easy":return r*.5;case"Medium":return r*1;case"Hard":return r*1.5;case"Impossible":return r*2}}troopIncreaseRate(e){let r=this.maxTroops(e),n=10+Math.pow(e.troops(),.73)/4,i=1-e.troops()/r;if(n*=i,e.type()==="BOT"&&(n*=.6),e.type()==="FAKEHUMAN")switch(this._gameConfig.difficulty){case"Easy":n*=.9;break;case"Medium":n*=1;break;case"Hard":n*=1.1;break;case"Impossible":n*=1.2;break}return Math.min(e.troops()+n,r)-e.troops()}goldAdditionRate(e){return e.type()==="BOT"?50n:100n}nukeMagnitudes(e){switch(e){case"MIRV Warhead":return{inner:12,outer:18};case"Atom Bomb":return{inner:12,outer:30};case"Hydrogen Bomb":return{inner:80,outer:100}}throw new Error(`Unknown nuke type: ${e}`)}nukeAllianceBreakThreshold(){return 100}defaultNukeSpeed(){return 6}defaultNukeTargetableRange(){return 150}defaultSamRange(){return 70}samRange(e){return this.maxSamRange()-480/(e+5)}maxSamRange(){return 150}defaultSamMissileSpeed(){return 12}nukeDeathFactor(e,r,n,i){if(e!=="MIRV Warhead")return 5*r/Math.max(1,n);let a=.03*i,o=Math.max(0,r-a),s=500,l=2,d=o/i;return s*(1-Math.exp(-l*d))}structureMinDist(){return 15}shellLifetime(){return 50}warshipPatrolRange(){return 100}warshipTargettingRange(){return 130}warshipShellAttackRate(){return 20}defensePostShellAttackRate(){return 100}safeFromPiratesCooldownMax(){return 20}defensePostTargettingRange(){return 75}allianceExtensionPromptOffset(){return 300}};var fo=class extends Ut{turnstileSiteKey(){return"1x00000000000000000000AA"}turnstileSecretKey(){return"1x0000000000000000000000000000000AA"}adminToken(){return"WARNING_DEV_ADMIN_KEY_DO_NOT_USE_IN_PRODUCTION"}apiKey(){return"WARNING_DEV_API_KEY_DO_NOT_USE_IN_PRODUCTION"}env(){return 0}gameCreationRate(){return 5*1e3}samWarheadHittingChance(){return 1}samHittingChance(){return 1}numWorkers(){return 2}jwtAudience(){return"localhost"}gitCommit(){return"DEV"}domain(){return"localhost"}subdomain(){return""}},go=class extends Wr{constructor(e,r,n,i){super(e,r,n,i)}};var eb=new class extends Ut{env(){return 1}numWorkers(){return 2}turnstileSiteKey(){return"0x4AAAAAAB7QetxHwRCKw-aP"}jwtAudience(){return"openfront.dev"}allowedFlares(){}};var tb=new class extends Ut{numWorkers(){return 20}env(){return 2}jwtAudience(){return"openfront.io"}turnstileSiteKey(){return"0x4AAAAAACFLkaecN39lS8sk"}};var yo=null;async function rb(t,e,r=!1){let n=await V5();switch(n.env()){case 0:return new go(n,t,e,r);case 1:case 2:return console.log("using prod config"),new Wr(n,t,e,r);default:throw Error(`unsupported server configuration: ${process.env.GAME_ENV}`)}}async function V5(){if(yo)return yo;let t=await fetch("/api/env");if(!t.ok)throw new Error(`Failed to fetch server config: ${t.status} ${t.statusText}`);let e=await t.json();return console.log("Server config loaded:",e),yo=H5(e.game_env),yo}function H5(t){switch(t){case"dev":return console.log("using dev server config"),new fo;case"staging":return console.log("using preprod server config"),eb;case"prod":return console.log("using prod server config"),tb;default:throw Error(`unsupported server configuration: ${t}`)}}var qr=class{constructor(e,r){this.from=e;this.toID=r}init(e,r){if(!e.hasPlayer(this.toID)){console.warn(`[AllianceExtensionExecution] Player ${this.toID} not found`);return}let n=e.player(this.toID);if(!this.from.isAlive()||!n.isAlive()){console.info(`[AllianceExtensionExecution] Player ${this.from.id()} or ${this.toID} is not alive`);return}let i=this.from.allianceWith(n);if(!i){console.warn(`[AllianceExtensionExecution] No alliance to extend between ${this.from.id()} and ${this.toID}`);return}let a=i.onlyOneAgreedToExtend();i.addExtensionRequest(this.from),i.bothAgreedToExtend()?(i.extend(),e.displayMessage("events_display.alliance_renewed",13,this.from.id(),void 0,{name:n.displayName()}),e.displayMessage("events_display.alliance_renewed",13,this.toID,void 0,{name:this.from.displayName()})):i.onlyOneAgreedToExtend()&&!a&&e.displayMessage("events_display.wants_to_renew_alliance",24,this.toID,void 0,{name:this.from.displayName()})}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Vr=class{constructor(e,r){this.requestor=e;this.recipientID=r;this.req=null;this.active=!0}init(e,r){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`AllianceRequestExecution recipient ${this.recipientID} not found`);return}let n=e.player(this.recipientID);if(!this.requestor.canSendAllianceRequest(n))console.warn("cannot send alliance request"),this.active=!1;else{let i=n.outgoingAllianceRequests().find(a=>a.recipient()===this.requestor);i?(this.active=!1,i.accept()):this.req=this.requestor.createAllianceRequest(n)}}tick(e){if(this.req?.status()==="accepted"||this.req?.status()==="rejected"){this.active=!1;return}this.mg.ticks()-(this.req?.createdAt()??0)>this.mg.config().allianceRequestDuration()&&(this.req?.reject(),this.active=!1)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var bo=class{constructor(e,r,n){this.requestorID=e;this.recipient=r;this.accept=n;this.active=!0;this.requestor=null}init(e,r){if(!e.hasPlayer(this.requestorID)){console.warn(`AllianceRequestReplyExecution requester ${this.requestorID} not found`),this.active=!1;return}this.requestor=e.player(this.requestorID)}tick(e){if(this.requestor===null)throw new Error("Not initialized");if(this.requestor.isFriendly(this.recipient))console.warn("already allied");else{let r=this.requestor.outgoingAllianceRequests().find(n=>n.recipient()===this.recipient);r===void 0?console.warn("no alliance request found"):this.accept?(r.accept(),this.requestor.updateRelation(this.recipient,100),this.recipient.updateRelation(this.requestor,100)):r.reject()}this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var vo=class{constructor(e,r){this.requestor=e;this.recipientID=r;this.active=!0;this.recipient=null;this.mg=null}init(e,r){if(!e.hasPlayer(this.recipientID)){console.warn(`BreakAllianceExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.mg=e}tick(e){if(this.mg===null||this.requestor===null||this.recipient===null)throw new Error("Not initialized");let r=this.requestor.allianceWith(this.recipient);if(r===null)console.warn("cant break alliance, not allied");else{this.requestor.breakAlliance(r),this.recipient.updateRelation(this.requestor,-200);for(let n of this.mg.players())n!==this.requestor&&!n.isOnSameTeam(this.requestor)&&n.updateRelation(this.requestor,-40)}this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};function lr(t){return lt(t/10)}function lt(t,e){return t=Number(t),t=Math.max(t,0),t>=1e7?(Math.floor(t/1e5)/10).toFixed(e??1)+"M":t>=1e6?(Math.floor(t/1e4)/100).toFixed(e??2)+"M":t>=1e5?Math.floor(t/1e3)+"K":t>=1e4?(Math.floor(t/100)/10).toFixed(e??1)+"K":t>=1e3?(Math.floor(t/10)/100).toFixed(e??2)+"K":Math.floor(t).toString()}var To=class{constructor(e=1024){this.len=0;this.pri=new Float32Array(e),this.tiles=new Array(e)}clear(){this.len=0}size(){return this.len}enqueue(e,r){this.len===this.pri.length&&this.grow();let n=this.len++;for(;n>0;){let i=n-1>>1;if(r>=this.pri[i])break;this.pri[n]=this.pri[i],this.tiles[n]=this.tiles[i],n=i}this.pri[n]=r,this.tiles[n]=e}dequeue(){if(this.len===0)throw new Error("heap empty");let e=this.tiles[0],r=this.pri[0],n=this.pri[--this.len],i=this.tiles[this.len],a=0;for(;;){let o=(a<<1)+1;if(o>=this.len)break;let s=o+1,l=s<this.len&&this.pri[s]<this.pri[o]?s:o;if(n<=this.pri[l])break;this.pri[a]=this.pri[l],this.tiles[a]=this.tiles[l],a=l}return this.pri[a]=n,this.tiles[a]=i,[e,r]}grow(){let e=this.pri.length<<1,r=new Float32Array(e);r.set(this.pri),this.pri=r,this.tiles.length=e}};var Y5=25,St=class{constructor(e=null,r,n,i=null,a=!0){this.startTroops=e;this._owner=r;this._targetID=n;this.sourceTile=i;this.removeTroops=a;this.active=!0;this.toConquer=new To;this.random=new D(123);this.attack=null}targetID(){return this._targetID}activeDuringSpawnPhase(){return!1}init(e,r){if(this.active){if(this.mg=e,this._targetID!==null&&!e.hasPlayer(this._targetID)){console.warn(`target ${this._targetID} not found`),this.active=!1;return}if(this.target=this._targetID===this.mg.terraNullius().id()?e.terraNullius():e.player(this._targetID),this._owner===this.target){console.error(`Player ${this._owner} cannot attack itself`),this.active=!1;return}if(this.target.isPlayer()){let n=this.target;if(this._owner.isFriendly(n)){console.warn(`${this._owner.displayName()} cannot attack ${n.displayName()} because they are friendly (allied or same team)`),this.active=!1;return}}if(this.target&&this.target.isPlayer()){let n=this.target;n.type()!=="BOT"&&this._owner.type()!=="BOT"&&(n.addEmbargo(this._owner,!0),this.rejectIncomingAllianceRequests(n))}if(this.target.isPlayer()&&this.mg.config().numSpawnPhaseTurns()+this.mg.config().spawnImmunityDuration()>this.mg.ticks()){console.warn("cannot attack player during immunity phase"),this.active=!1;return}this.startTroops??(this.startTroops=this.mg.config().attackAmount(this._owner,this.target)),this.removeTroops&&(this.startTroops=Math.min(this._owner.troops(),this.startTroops),this._owner.removeTroops(this.startTroops)),this.attack=this._owner.createAttack(this.target,this.startTroops,this.sourceTile,new Set),this.sourceTile!==null?this.addNeighbors(this.sourceTile):this.refreshToConquer(),this.mg.stats().attack(this._owner,this.target,this.startTroops);for(let n of this._owner.incomingAttacks())if(n.attacker()===this.target)if(n.troops()>this.attack.troops()){n.setTroops(n.troops()-this.attack.troops()),this.attack.delete(),this.active=!1;return}else this.attack.setTroops(this.attack.troops()-n.troops()),n.delete();for(let n of this._owner.outgoingAttacks())n!==this.attack&&n.target()===this.attack.target()&&this.attack.sourceTile()===null&&(this.attack.setTroops(this.attack.troops()+n.troops()),n.delete());this.target.isPlayer()&&this.target.updateRelation(this._owner,-80)}}refreshToConquer(){if(this.attack===null)throw new Error("Attack not initialized");this.toConquer.clear(),this.attack.clearBorder();for(let e of this._owner.borderTiles())this.addNeighbors(e)}retreat(e=0){if(this.attack===null)throw new Error("Attack not initialized");let r=this.attack.troops()*(e/100);r&&this.mg.displayMessage(`Attack cancelled, ${lr(r)} soldiers killed during retreat.`,1,this._owner.id()),this.removeTroops===!1&&this.sourceTile===null&&this.attack.setTroops(this.attack.troops()-(this.startTroops??0));let n=this.attack.troops()-r;this._owner.addTroops(n),this.attack.delete(),this.active=!1,this.attack.retreated()&&this.mg.stats().attackCancel(this._owner,this.target,n)}tick(e){if(this.attack===null)throw new Error("Attack not initialized");let r=this.attack.troops(),n=this.target.isPlayer(),i=n?this.target:null;if(this.attack.retreated()){n?this.retreat(Y5):this.retreat(),this.active=!1;return}if(this.attack.retreating())return;if(!this.attack.isActive()){this.active=!1;return}if(i&&this._owner.isFriendly(i)){this.retreat();return}let a=this.mg.config().attackTilesPerTick(r,this._owner,this.target,this.attack.borderSize()+this.random.nextInt(0,5));for(;a>0;){if(r<1){this.attack.delete(),this.active=!1;return}if(this.toConquer.size()===0){this.refreshToConquer(),this.retreat();return}let[o]=this.toConquer.dequeue();this.attack.removeBorderTile(o);let s=!1;for(let m of this.mg.neighbors(o))if(this.mg.owner(m)===this._owner){s=!0;break}if(this.mg.owner(o)!==this.target||!s)continue;this.addNeighbors(o);let{attackerTroopLoss:l,defenderTroopLoss:d,tilesPerTickUsed:c}=this.mg.config().attackLogic(this.mg,r,this._owner,this.target,o);a-=c,r-=l,this.attack.setTroops(r),i&&i.removeTroops(d),this._owner.conquer(o),this.handleDeadDefender()}}rejectIncomingAllianceRequests(e){let r=this._owner.incomingAllianceRequests().find(n=>n.requestor()===e);r!==void 0&&r.reject()}addNeighbors(e){if(this.attack===null)throw new Error("Attack not initialized");let r=this.mg.ticks();for(let n of this.mg.neighbors(e)){if(this.mg.isWater(n)||this.mg.owner(n)!==this.target)continue;this.attack.addBorderTile(n);let i=0;for(let s of this.mg.neighbors(n))this.mg.owner(s)===this._owner&&i++;let a=0;switch(this.mg.terrainType(n)){case 0:a=1;break;case 1:a=1.5;break;case 2:a=2;break}let o=(this.random.nextInt(0,7)+10)*(1-i*.5+a/2)+r;this.toConquer.enqueue(n,o)}}handleDeadDefender(){if(this.target.isPlayer()&&this.target.numTilesOwned()<100){this.mg.conquerPlayer(this._owner,this.target);for(let e=0;e<10;e++)for(let r of this.target.tiles())if(this.mg.neighbors(r).some(i=>this.mg.owner(i)===this._owner))this._owner.conquer(r);else for(let i of this.mg.neighbors(r)){let a=this.mg.owner(i);if(a.isPlayer()&&a!==this.target){this.mg.player(a.id()).conquer(r);break}}}}owner(){return this._owner}isActive(){return this.active}};var _o=class{constructor(e,r){this.player=e;this.unitID=r;this.active=!0}init(e,r){}tick(e){let r=this.player.units().find(n=>n.id()===this.unitID&&n.type()==="Transport");if(!r){console.warn(`Didn't find outgoing boat with id ${this.unitID}`),this.active=!1;return}r.orderBoatRetreat(),this.active=!1}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Ot=class{constructor(e,r,n){this.requestor=e;this.recipientID=r;this.emoji=n;this.active=!0}init(e,r){if(this.recipientID!==tt&&!e.hasPlayer(this.recipientID)){console.warn(`EmojiExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=this.recipientID===tt?tt:e.player(this.recipientID)}tick(e){let r=jn[this.emoji];r===void 0?console.warn(`cannot send emoji ${this.emoji} from ${this.requestor} to ${this.recipient}`):this.requestor.canSendEmoji(this.recipient)?(this.requestor.sendEmoji(this.recipient,r),r==="\u{1F595}"&&this.recipient!==tt&&this.recipient.type()==="FAKEHUMAN"&&this.recipient.updateRelation(this.requestor,-100)):console.warn(`cannot send emoji from ${this.requestor} to ${this.recipient}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var gn=t=>jn.indexOf(t),K5=["\u{1F44D}","\u26F5","\u{1F91D}","\u{1F3AF}"].map(gn),X5=["\u{1F971}","\u{1F926}\u200D\u2642\uFE0F"].map(gn),J5=["\u{1F97A}","\u{1F480}"].map(gn),Q5=["\u{1F54A}\uFE0F","\u{1F44E}"].map(gn),ib=["\u{1F921}","\u{1F621}"].map(gn),Hr=class{constructor(e,r,n,i,a,o){this.random=e;this.game=r;this.player=n;this.triggerRatio=i;this.reserveRatio=a;this.expandRatio=o;this.enemy=null}handleAllianceRequests(){for(let e of this.player.incomingAllianceRequests())e2(this.player,e)?e.accept():e.reject()}handleAllianceExtensionRequests(){for(let e of this.player.alliances()){if(!e.onlyOneAgreedToExtend())continue;let r=e.other(this.player);this.player.type()==="FAKEHUMAN"&&this.player.relation(r)===2&&!this.random.chance(1.5)||this.game.addExecution(new qr(this.player,r.id()))}}emoji(e,r){e.type()==="HUMAN"&&this.game.addExecution(new Ot(this.player,e.id(),r))}setNewEnemy(e,r=!1){e!==null&&!r&&!this.shouldAttack(e)||(this.enemy=e,this.enemyUpdated=this.game.ticks())}shouldAttack(e){if(this.player===null)throw new Error("not initialized");if(this.player.isOnSameTeam(e))return!1;let r=this.attackChance(e);return r&&this.player.isAlliedWith(e)?(this.betray(e),!0):r}betray(e){if(this.player===null)throw new Error("not initialized");let r=this.player.allianceWith(e);r&&this.player.breakAlliance(r)}attackChance(e){if(this.player===null)throw new Error("not initialized");return this.player.isAlliedWith(e)?this.shouldDiscourageAttack(e)?this.random.chance(200):this.random.chance(50):this.shouldDiscourageAttack(e)?this.random.chance(4):!0}shouldDiscourageAttack(e){if(e.isTraitor())return!1;let{difficulty:r}=this.game.config().gameConfig();return!(r==="Hard"||r==="Impossible"||e.type()!=="HUMAN")}clearEnemy(){this.enemy=null}forgetOldEnemies(){this.game.ticks()-(this.enemyUpdated??0)>100&&this.clearEnemy()}hasReserveRatioTroops(){let e=this.game.config().maxTroops(this.player);return this.player.troops()/e>=this.reserveRatio}hasTriggerRatioTroops(){let e=this.game.config().maxTroops(this.player);return this.player.troops()/e>=this.triggerRatio}checkIncomingAttacks(){let e=this.player.incomingAttacks(),r=0,n;for(let i of e)i.troops()<=r||(r=i.troops(),n=i.attacker());n!==void 0&&this.setNewEnemy(n,!0)}getNeighborTraitorToAttack(){let e=this.player.neighbors().filter(r=>r.isPlayer()&&r.isTraitor());return e.length>0?this.random.randElement(e):null}assistAllies(){for(let e of this.player.allies())if(e.targets().length!==0){if(this.player.relation(e)<3){this.emoji(e,this.random.randElement(X5));continue}for(let r of e.targets()){if(r===this.player){this.emoji(e,this.random.randElement(J5));continue}if(this.player.isAlliedWith(r)){this.emoji(e,this.random.randElement(Q5));continue}this.player.updateRelation(e,-20),this.setNewEnemy(r),this.emoji(e,this.random.randElement(K5));return}}}selectEnemy(e){if(this.enemy===null){if(!this.hasReserveRatioTroops()||!this.hasTriggerRatioTroops()&&!this.random.chance(10))return null;let r=this.player.neighbors().filter(n=>n.isPlayer()&&n.type()==="BOT");if(r.length>0){let n=o=>o.troops()/o.numTilesOwned(),i,a=1/0;for(let o of r){let s=n(o);s<a&&(a=s,i=o)}i!==void 0&&this.setNewEnemy(i)}if(this.enemy===null&&this.checkIncomingAttacks(),this.enemy===null&&this.random.chance(2)){let n=this.player.allRelationsSorted()[0];n!==void 0&&n.relation===0&&this.setNewEnemy(n.player)}this.enemy===null&&e.length>0&&this.setNewEnemy(e[0]),this.enemy===null&&e.length>0&&this.setNewEnemy(this.random.randElement(e)),this.enemy===null&&e.length===0&&this.selectNearestIslandEnemy()}return this.enemySanityCheck()}getPlayerCenter(e){return e.largestClusterBoundingBox?cl(e.largestClusterBoundingBox):Ap(this.game,e.borderTiles())}selectNearestIslandEnemy(){if(this.player.borderTiles().size===0)return;let r=this.game.players().filter(n=>n===this.player||!n.isAlive()||n.borderTiles().size===0||this.player.isFriendly(n)?!1:n.troops()<=this.player.troops()*2);if(r.length>0){let n=this.getPlayerCenter(this.player),i=r.map(o=>{let s=this.getPlayerCenter(o),l=this.game.ref(n.x,n.y),d=this.game.ref(s.x,s.y),c=this.game.manhattanDist(l,d);return{player:o,distance:c}}).sort((o,s)=>o.distance-s.distance),a;i.length>1&&this.random.chance(2)?a=i[1].player:a=i[0].player,a!==null&&this.setNewEnemy(a)}}selectRandomEnemy(){if(this.enemy===null){if(!this.hasTriggerRatioTroops())return null;let e=this.player.neighbors();for(let r of this.random.shuffleArray(e))r.isPlayer()&&(this.player.isFriendly(r)||r.type()==="FAKEHUMAN"&&this.random.chance(2)||this.setNewEnemy(r));if(this.enemy===null&&this.checkIncomingAttacks(),this.enemy===null){let r=this.getNeighborTraitorToAttack();r!==null&&!this.player.isFriendly(r)&&this.random.chance(3)&&this.setNewEnemy(r)}}return this.enemySanityCheck()}enemySanityCheck(){return this.enemy&&this.player.isFriendly(this.enemy)&&this.clearEnemy(),this.enemy}forceSendAttack(e){this.game.addExecution(new St(this.player.troops()/2,this.player,e.isPlayer()?e.id():this.game.terraNullius().id()))}sendAttack(e){if(e.isPlayer()&&this.player.isFriendly(e))return;let r=this.game.config().maxTroops(this.player),n=e.isPlayer()?this.reserveRatio:this.expandRatio,i=r*n,a=this.player.troops()-i;a<1||this.game.addExecution(new St(a,this.player,e.isPlayer()?e.id():this.game.terraNullius().id()))}};function e2(t,e){return t.relation(e.requestor())<2||e.requestor().isTraitor()?!1:e.requestor().numTilesOwned()>t.numTilesOwned()*3?!0:!(e.requestor().alliances().length>=3)}var xo=class{constructor(e){this.bot=e;this.active=!0;this.neighborsTerraNullius=!0;this.behavior=null;this.random=new D(F(e.id())),this.attackRate=this.random.nextInt(40,80),this.attackTick=this.random.nextInt(0,this.attackRate),this.triggerRatio=this.random.nextInt(50,60)/100,this.reserveRatio=this.random.nextInt(30,40)/100,this.expandRatio=this.random.nextInt(10,20)/100}activeDuringSpawnPhase(){return!1}init(e){this.mg=e}tick(e){if(e%this.attackRate===this.attackTick){if(!this.bot.isAlive()){this.active=!1;return}if(this.behavior===null){this.behavior=new Hr(this.random,this.mg,this.bot,this.triggerRatio,this.reserveRatio,this.expandRatio),this.behavior.sendAttack(this.mg.terraNullius());return}this.behavior.handleAllianceRequests(),this.behavior.handleAllianceExtensionRequests(),this.maybeAttack()}}maybeAttack(){if(this.behavior===null)throw new Error("not initialized");let e=this.behavior.getNeighborTraitorToAttack();if(e!==null){let n=this.bot.isFriendly(e)?6:3;if(this.random.chance(n)){let i=this.bot.allianceWith(e);i!==null&&this.bot.breakAlliance(i),this.behavior.sendAttack(e);return}}if(this.neighborsTerraNullius){if(this.bot.sharesBorderWith(this.mg.terraNullius())){this.behavior.sendAttack(this.mg.terraNullius());return}this.neighborsTerraNullius=!1}this.behavior.forgetOldEnemies();let r=this.behavior.selectRandomEnemy();r&&this.bot.sharesBorderWith(r)&&this.behavior.sendAttack(r)}isActive(){return this.active}};var wo=class{constructor(e){this.player=e;this.ticksPerClusterCalc=20;this.lastCalc=0;this.active=!0}activeDuringSpawnPhase(){return!1}init(e,r){this.mg=e,this.config=e.config(),this.lastCalc=r+F(this.player.name())%this.ticksPerClusterCalc}tick(e){this.player.decayRelations();for(let o of this.player.units()){if(!o.info().territoryBound)continue;let s=this.mg.owner(o.tile());if(!s?.isPlayer()){o.delete();continue}if(s===this.player)continue;let l=this.mg.player(s.id());o.type()==="Defense Post"?(o.decreaseLevel(l),o.isActive()&&l.captureUnit(o)):l.captureUnit(o)}if(!this.player.isAlive()){let o=this.player.gold();this.player.removeGold(o),this.player.units().forEach(s=>{s.type()!=="Atom Bomb"&&s.type()!=="Hydrogen Bomb"&&s.type()!=="MIRV Warhead"&&s.type()!=="MIRV"&&s.delete()}),this.active=!1,this.mg.stats().playerKilled(this.player,e);return}let r=this.config.troopIncreaseRate(this.player);this.player.addTroops(r);let n=this.config.goldAdditionRate(this.player);this.player.addGold(n),this.mg.stats().goldWork(this.player,n);let i=Array.from(this.player.alliances());for(let o of i)o.expiresAt()<=this.mg.ticks()&&o.expire();let a=this.player.getEmbargoes();for(let o of a)o.isTemporary&&this.mg.ticks()-o.createdAt>this.mg.config().temporaryEmbargoDuration()&&this.player.stopEmbargo(o.target);if(e-this.lastCalc>this.ticksPerClusterCalc&&this.player.lastTileChange()>this.lastCalc){this.lastCalc=e;let o=performance.now();this.removeClusters();let s=performance.now();s-o>1e3&&console.log(`player ${this.player.name()}, took ${s-o}ms`)}}removeClusters(){let e=this.calculateClusters();e.sort((i,a)=>a.size-i.size);let r=e.shift();if(r===void 0)throw new Error("No clusters");this.player.largestClusterBoundingBox=Ve(this.mg,r);let n=this.surroundedBySamePlayer(r);n&&!n.isFriendly(this.player)&&this.removeCluster(r);for(let i of e)this.isSurrounded(i)&&this.removeCluster(i)}surroundedBySamePlayer(e){let r=new Set;for(let o of e)if(this.mg.isOceanShore(o)||this.mg.isOnEdgeOfMap(o)||this.mg.neighbors(o).some(s=>!this.mg?.hasOwner(s))||(this.mg.neighbors(o).filter(s=>this.mg?.ownerID(s)!==this.player?.smallID()).forEach(s=>this.mg&&r.add(this.mg.ownerID(s))),r.size!==1))return!1;if(r.size!==1)return!1;let n=this.mg.playerBySmallID(Array.from(r)[0]),i=Ve(this.mg,n.borderTiles()),a=Ve(this.mg,e);return dl(i,a)?n:!1}isSurrounded(e){let r=new Set;for(let a of e){if(this.mg.isShore(a)||this.mg.isOnEdgeOfMap(a))return!1;this.mg.neighbors(a).filter(o=>this.mg?.owner(o).isPlayer()&&this.mg?.ownerID(o)!==this.player?.smallID()).forEach(o=>r.add(o))}if(r.size===0)return!1;let n=Ve(this.mg,r),i=Ve(this.mg,e);return dl(n,i)}removeCluster(e){if(Array.from(e).some(o=>this.mg?.ownerID(o)!==this.player?.smallID()))return;let r=this.getCapturingPlayer(e);if(r===null)return;let n=e.values().next().value;if(!n)return;let i=(o,s)=>this.mg?.ownerID(s)===this.player?.smallID(),a=this.mg.bfs(n,i);this.player.numTilesOwned()===a.size&&this.mg.conquerPlayer(r,this.player);for(let o of a)r.conquer(o)}getCapturingPlayer(e){let r=new Map;for(let a of e)for(let o of this.mg.neighbors(a)){let s=this.mg.owner(o);s.isPlayer()&&s!==this.player&&!s.isFriendly(this.player)&&r.set(s,(r.get(s)??0)+1)}if(r.size===0)return null;let n=null,i=0;for(let[a]of r)for(let o of a.outgoingAttacks())o.target()===this.player&&o.troops()>i&&(i=o.troops(),n=a);return n!==null?n:$p(r)}calculateClusters(){let e=new Set,r=this.player.borderTiles(),n=[];for(let i of r){if(e.has(i))continue;let a=new Set,o=[i];for(e.add(i);o.length>0;){let s=o.shift();if(s===void 0)throw new Error("curr is undefined");a.add(s);let l=this.mg.neighborsWithDiag(s);for(let d of l)r.has(d)&&!e.has(d)&&(o.push(d),e.add(d))}n.push(a)}return n}owner(){if(this.player===null)throw new Error("Not initialized");return this.player}isActive(){return this.active}};var se=class se{constructor(e,r,n,i){this.numLandTiles_=i;this._numTilesWithFallout=0;if(n.length!==e*r)throw new Error(`Terrain data length ${n.length} doesn't match dimensions ${e}x${r}`);this.width_=e,this.height_=r,this.terrain=n,this.state=new Uint16Array(e*r);let a=0;this.refToX=new Array(e*r),this.refToY=new Array(e*r),this.yToRef=new Array(r);for(let o=0;o<r;o++){this.yToRef[o]=a;for(let s=0;s<e;s++)this.refToX[a]=s,this.refToY[a]=o,a++}}numTilesWithFallout(){return this._numTilesWithFallout}ref(e,r){if(!this.isValidCoord(e,r))throw new Error(`Invalid coordinates: ${e},${r}`);return this.yToRef[r]+e}isValidRef(e){return e>=0&&e<this.refToX.length}x(e){return this.refToX[e]}y(e){return this.refToY[e]}cell(e){return new ee(this.x(e),this.y(e))}width(){return this.width_}height(){return this.height_}numLandTiles(){return this.numLandTiles_}isValidCoord(e,r){return e>=0&&e<this.width_&&r>=0&&r<this.height_}isLand(e){return!!(this.terrain[e]&1<<se.IS_LAND_BIT)}isOceanShore(e){return this.isLand(e)&&this.neighbors(e).some(r=>this.isOcean(r))}isOcean(e){return!!(this.terrain[e]&1<<se.OCEAN_BIT)}isShoreline(e){return!!(this.terrain[e]&1<<se.SHORELINE_BIT)}magnitude(e){return this.terrain[e]&se.MAGNITUDE_MASK}ownerID(e){return this.state[e]&se.PLAYER_ID_MASK}hasOwner(e){return this.ownerID(e)!==0}setOwnerID(e,r){if(r>se.PLAYER_ID_MASK)throw new Error(`Player ID ${r} exceeds maximum value ${se.PLAYER_ID_MASK}`);this.state[e]=this.state[e]&~se.PLAYER_ID_MASK|r}hasFallout(e){return!!(this.state[e]&1<<se.FALLOUT_BIT)}setFallout(e,r){let n=this.hasFallout(e);r?n||(this._numTilesWithFallout++,this.state[e]|=1<<se.FALLOUT_BIT):n&&(this._numTilesWithFallout--,this.state[e]&=~(1<<se.FALLOUT_BIT))}isOnEdgeOfMap(e){let r=this.x(e),n=this.y(e);return r===0||r===this.width()-1||n===0||n===this.height()-1}isBorder(e){return this.neighbors(e).some(r=>this.ownerID(r)!==this.ownerID(e))}hasDefenseBonus(e){return!!(this.state[e]&1<<se.DEFENSE_BONUS_BIT)}setDefenseBonus(e,r){r?this.state[e]|=1<<se.DEFENSE_BONUS_BIT:this.state[e]&=~(1<<se.DEFENSE_BONUS_BIT)}isWater(e){return!this.isLand(e)}isLake(e){return!this.isLand(e)&&!this.isOcean(e)}isShore(e){return this.isLand(e)&&this.isShoreline(e)}cost(e){return this.magnitude(e)<10?2:1}terrainType(e){if(this.isLand(e)){let r=this.magnitude(e);return r<10?0:r<20?1:2}return this.isOcean(e)?4:3}neighbors(e){let r=[],n=this.width_,i=this.refToX[e];return e>=n&&r.push(e-n),e<(this.height_-1)*n&&r.push(e+n),i!==0&&r.push(e-1),i!==n-1&&r.push(e+1),r}forEachTile(e){for(let r=0;r<this.width_*this.height_;r++)e(r)}manhattanDist(e,r){return Math.abs(this.x(e)-this.x(r))+Math.abs(this.y(e)-this.y(r))}euclideanDistSquared(e,r){let n=this.x(e)-this.x(r),i=this.y(e)-this.y(r);return n*n+i*i}bfs(e,r){let n=new Set,i=[];for(r(this,e)&&(n.add(e),i.push(e));i.length>0;){let a=i.pop();if(a!==void 0)for(let o of this.neighbors(a))!n.has(o)&&r(this,o)&&(n.add(o),i.push(o))}return n}toTileUpdate(e){return BigInt(e)<<16n|BigInt(this.state[e])}updateTile(e){let r=Number(e>>16n),n=Number(e&0xffffn),i=this.hasFallout(r);this.state[r]=n;let a=this.hasFallout(r);return i&&!a&&this._numTilesWithFallout--,!i&&a&&this._numTilesWithFallout++,r}};se.IS_LAND_BIT=7,se.SHORELINE_BIT=6,se.OCEAN_BIT=5,se.MAGNITUDE_MASK=31,se.PLAYER_ID_MASK=4095,se.FALLOUT_BIT=13,se.DEFENSE_BONUS_BIT=14;var So=se;function yn(t,e,r=!1){let n=e*e;return r?(i,a)=>{let o=i.x(t)-.5,s=i.y(t)-.5,l=i.x(a)-o,d=i.y(a)-s;return l*l+d*d<=n}:(i,a)=>i.euclideanDistSquared(t,a)<=n}function Yr(t,e,r=!1){return r?(n,i)=>{let a=n.x(t)-.5,o=n.y(t)-.5,s=Math.abs(n.x(i)-a),l=Math.abs(n.y(i)-o);return s+l<=e}:(n,i)=>n.manhattanDist(t,i)<=e}function bn(t,e){return(r,n)=>t(r,n)&&e(r,n)}function nb(t,e){return Array.from(t.bfs(e,yn(e,4,!0))).filter(r=>!t.hasOwner(r)&&t.isLand(r))}function Po(t,e,r){let n=1/0,i=null;for(let a of e){let o=t.manhattanDist(a,r);o<n&&(n=o,i=a)}return[i,n]}function zt(t,e,r){let n=Array.from(e).sort((d,c)=>t.x(d)-t.x(c)),i=Array.from(r).sort((d,c)=>t.x(d)-t.x(c));if(n.length===0||i.length===0)return null;let a=0,o=0,s=1/0,l={x:n[0],y:i[0]};for(;a<n.length&&o<i.length;){let d=n[a],c=i[o],m=Math.abs(t.x(d)-t.x(c))+Math.abs(t.y(d)-t.y(c));m<s&&(s=m,l={x:d,y:c}),a===n.length-1?o++:o===i.length-1||t.x(d)<t.x(c)?a++:o++}return l}function ab(t,e){let r=e.borderTiles();if(r.size===0)return null;let n=1/0,i=-1/0,a=1/0,o=-1/0;for(let h of r){let f=t.x(h),p=t.y(h);f<n&&(n=f),f>i&&(i=f),p<a&&(a=p),p>o&&(o=p)}let s=Math.floor((n+i)/2),l=Math.floor((a+o)/2),d=t.ref(s,l);if(t.owner(d)===e)return d;let c=null,m=1/0;for(let h of r){let f=t.x(h)-s,p=t.y(h)-l,b=f*f+p*p;b<m&&(m=b,c=h)}return c}var ut=class{constructor(e,r){this.playerInfo=e;this.tile=r;this.active=!0}init(e,r){this.mg=e}tick(e){if(this.active=!1,!this.mg.isValidRef(this.tile)){console.warn(`SpawnExecution: tile ${this.tile} not valid`);return}if(!this.mg.inSpawnPhase()){this.active=!1;return}let r=null;this.mg.hasPlayer(this.playerInfo.id)?r=this.mg.player(this.playerInfo.id):r=this.mg.addPlayer(this.playerInfo),r.tiles().forEach(n=>r.relinquish(n)),nb(this.mg,this.tile).forEach(n=>{r.conquer(n)}),r.hasSpawned()||(this.mg.addExecution(new wo(r)),r.type()==="BOT"&&this.mg.addExecution(new xo(r))),r.setHasSpawned(!0)}isActive(){return this.active}activeDuringSpawnPhase(){return!0}};var ko=class{constructor(e,r){this.gs=e;this.bots=[];this.random=new D(F(r))}spawnBots(e){let r=0;for(;this.bots.length<e;){if(r>1e4)return console.log("too many retries while spawning bots, giving up"),this.bots;let n=this.randomBotName(),i=this.spawnBot(n);i!==null?this.bots.push(i):r++}return this.bots}spawnBot(e){let r=this.randTile();if(!this.gs.isLand(r))return null;for(let n of this.bots)if(this.gs.manhattanDist(n.tile,r)<30)return null;return new ut(new Ht(e,"BOT",null,this.random.nextID()),r)}randomBotName(){let e=this.random.nextInt(0,Mn.length),r=this.random.nextInt(0,Dn.length);return`${Mn[e]} ${Dn[r]}`}randTile(){return this.gs.ref(this.random.nextInt(0,this.gs.width()),this.random.nextInt(0,this.gs.height()))}};var ct=(v=>(v[v.Tile=0]="Tile",v[v.Unit=1]="Unit",v[v.Player=2]="Player",v[v.DisplayEvent=3]="DisplayEvent",v[v.DisplayChatEvent=4]="DisplayChatEvent",v[v.AllianceRequest=5]="AllianceRequest",v[v.AllianceRequestReply=6]="AllianceRequestReply",v[v.BrokeAlliance=7]="BrokeAlliance",v[v.AllianceExpired=8]="AllianceExpired",v[v.AllianceExtension=9]="AllianceExtension",v[v.TargetPlayer=10]="TargetPlayer",v[v.Emoji=11]="Emoji",v[v.Win=12]="Win",v[v.Hash=13]="Hash",v[v.UnitIncoming=14]="UnitIncoming",v[v.BonusEvent=15]="BonusEvent",v[v.RailroadEvent=16]="RailroadEvent",v[v.ConquestEvent=17]="ConquestEvent",v[v.EmbargoEvent=18]="EmbargoEvent",v))(ct||{});var oh=class{onStop(e,r,n){let i=r.unit.owner(),a=n.owner(),o=e.config().trainGold(sb(a,i));a!==i&&i.addGold(o,r.tile()),a.addGold(o,r.tile())}},sh=class{constructor(e){this.random=e}onStop(e,r,n){let i=r.unit.owner(),a=n.owner(),o=e.config().trainGold(sb(a,i));a.addGold(o,r.tile()),a!==i&&i.addGold(o,r.tile())}},lh=class{onStop(e,r,n){}};function t2(t){return{City:new oh,Port:new sh(t),Factory:new lh}}var Io=class{constructor(e,r){this.mg=e;this.unit=r;this.stopHandlers={};this.railroads=new Set;this.stopHandlers=t2(new D(e.ticks()))}tradeAvailable(e){let r=this.unit.owner();return e===r||r.canTrade(e)}clearRailroads(){this.railroads.clear()}addRailroad(e){this.railroads.add(e)}removeNeighboringRails(e){let r=[...this.railroads].find(n=>n.from===e||n.to===e);if(r){let n=r.tiles.map(i=>({tile:i,railType:0}));this.mg.addUpdate({type:16,isActive:!1,railTiles:n}),this.railroads.delete(r)}}neighbors(){let e=[];for(let r of this.railroads)r.from!==this?e.push(r.from):e.push(r.to);return e}tile(){return this.unit.tile()}isActive(){return this.unit.isActive()}getRailroads(){return this.railroads}setCluster(e){this.cluster=e}getCluster(){return this.cluster}onTrainStop(e){let r=this.unit.type(),n=this.stopHandlers[r];n&&n.onStop(this.mg,this,e)}},$o=class{constructor(e){this.game=e}neighbors(e){return e.neighbors()}cost(e){return 1}position(e){return{x:this.game.x(e.tile()),y:this.game.y(e.tile())}}isTraversable(e,r){return!0}},Kr=class{constructor(){this.stations=new Set}has(e){return this.stations.has(e)}addStation(e){this.stations.add(e),e.setCluster(this)}removeStation(e){this.stations.delete(e)}addStations(e){for(let r of e)this.addStation(r)}merge(e){for(let r of e.stations)this.addStation(r)}availableForTrade(e){let r=new Set;for(let n of this.stations)(n.unit.type()==="City"||n.unit.type()==="Port")&&n.tradeAvailable(e)&&r.add(n);return r}size(){return this.stations.size}clear(){this.stations.clear()}};function sb(t,e){return t===e?"self":t.isOnSameTeam(e)?"team":t.isAlliedWith(e)?"ally":"other"}var Ao=class{constructor(e,r,n){this.from=e;this.to=r;this.tiles=n}delete(e){let r=this.tiles.map(n=>({tile:n,railType:0}));e.addUpdate({type:16,isActive:!1,railTiles:r}),this.from.getRailroads().delete(this),this.to.getRailroads().delete(this)}};function uh(t,e){for(let r of t.getRailroads()){if(r.from===e)return new Eo(r,!1);if(r.to===e)return new Eo(r,!0)}return null}var Eo=class{constructor(e,r){this.railroad=e;this.forward=r;this.tiles=[];this.tiles=this.forward?this.railroad.tiles:[...this.railroad.tiles].reverse()}getTiles(){return this.tiles}getStart(){return this.forward?this.railroad.from:this.railroad.to}getEnd(){return this.forward?this.railroad.to:this.railroad.from}};var Ro=class{constructor(e,r,n,i,a){this.railNetwork=e;this.player=r;this.source=n;this.destination=i;this.numCars=a;this.active=!0;this.mg=null;this.train=null;this.cars=[];this.hasCargo=!1;this.currentTile=0;this.spacing=2;this.usedTiles=[];this.stations=[];this.currentRailroad=null;this.speed=2}owner(){return this.player}init(e,r){this.mg=e;let n=this.railNetwork.findStationsPath(this.source,this.destination);if(!n||n.length<=1){this.active=!1;return}this.stations=n;let i=uh(this.stations[0],this.stations[1]);if(i)this.currentRailroad=i;else{this.active=!1;return}let a=this.player.canBuild("Train",this.stations[0].tile());if(a===!1){console.warn("cannot build train"),this.active=!1;return}this.train=this.createTrainUnits(a)}tick(e){if(this.train===null)throw new Error("Not initialized");if(!this.train.isActive()||!this.activeSourceOrDestination()){this.deleteTrain();return}let r=this.getNextTile();r?this.updateCarsPositions(r):(this.targetReached(),this.deleteTrain())}loadCargo(){if(!(this.hasCargo||this.train===null)){this.hasCargo=!0;for(let e=1;e<this.cars.length;e++)this.cars[e].setLoaded(!0)}}targetReached(){this.train!==null&&(this.train.setReachedTarget(),this.cars.forEach(e=>{e.setReachedTarget()}))}createTrainUnits(e){let r=this.player.buildUnit("Train",e,{targetUnit:this.destination.unit,trainType:"Engine"});this.cars.push(this.player.buildUnit("Train",e,{targetUnit:this.destination.unit,trainType:"Engine"}));for(let n=0;n<this.numCars;n++)this.cars.push(this.player.buildUnit("Train",e,{trainType:"Carriage",loaded:this.hasCargo}));return r}deleteTrain(){this.active=!1,this.train?.isActive()&&this.train.delete(!1);for(let e of this.cars)e.isActive()&&e.delete(!1)}activeSourceOrDestination(){return this.stations.length>1&&this.stations[1].isActive()&&this.stations[0].isActive()}saveTraversedTiles(e,r){if(!this.currentRailroad)return;let n=e;for(let i=0;i<r&&n<this.currentRailroad.getTiles().length;i++)this.saveTile(this.currentRailroad.getTiles()[n]),n=n+1}saveTile(e){this.usedTiles.push(e),this.usedTiles.length>this.cars.length*this.spacing+3&&this.usedTiles.shift()}updateCarsPositions(e){if(this.cars.length>0)for(let r=this.cars.length-1;r>=0;--r){let n=(r+1)*this.spacing+2;this.usedTiles.length>n&&this.cars[r].move(this.usedTiles[n])}this.train!==null&&this.train.move(e)}nextStation(){if(this.stations.length>2){this.stations.shift();let e=uh(this.stations[0],this.stations[1]);if(e)return this.currentRailroad=e,!0}return!1}canTradeWithDestination(){return this.stations.length>1&&this.stations[1].tradeAvailable(this.player)}getNextTile(){if(this.currentRailroad===null||!this.canTradeWithDestination())return null;this.saveTraversedTiles(this.currentTile,this.speed),this.currentTile=this.currentTile+this.speed;let e=this.currentTile-this.currentRailroad.getTiles().length;if(e>=0){if(this.stationReached(),!this.nextStation())return null;this.currentTile=e,this.saveTraversedTiles(0,e)}return this.currentRailroad.getTiles()[this.currentTile]}stationReached(){if(this.mg===null||this.player===null)throw new Error("Not initialized");this.stations[1].onTrainStop(this)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Pt=class{constructor(e,r){this.unit=e;this.spawnTrains=r;this.active=!0;this.station=null;this.numCars=5;this.lastSpawnTick=0;this.ticksCooldown=10;this.unit.setTrainStation(!0)}isActive(){return this.active}init(e,r){this.mg=e,this.spawnTrains&&(this.random=new D(e.ticks()))}tick(e){if(this.mg===void 0)throw new Error("Not initialized");if(!(!this.isActive()||this.unit===void 0)){if(this.station===null&&(this.station=new Io(this.mg,this.unit),this.mg.railNetwork().connectStation(this.station)),!this.station.isActive()){this.active=!1;return}this.spawnTrain(this.station,e)}}shouldSpawnTrain(){let e=this.mg.config().trainSpawnRate(this.unit.owner().unitCount("Factory"));for(let r=0;r<this.unit.level();r++)if(this.random.chance(e))return!0;return!1}spawnTrain(e,r){if(this.mg===void 0)throw new Error("Not initialized");if(!this.spawnTrains)return;if(this.random===void 0)throw new Error("Not initialized");if(r<this.lastSpawnTick+this.ticksCooldown)return;let n=e.getCluster();if(n===null)return;let i=n.availableForTrade(this.unit.owner());if(i.size===0||!this.shouldSpawnTrain())return;let a=this.random.randFromSet(i);a!==e&&(this.mg.addExecution(new Ro(this.mg.railNetwork(),this.unit.owner(),e,a,this.numCars)),this.lastSpawnTick=r)}activeDuringSpawnPhase(){return!1}};var Co=class{constructor(e,r){this.player=e;this.tile=r;this.city=null;this.active=!0}init(e,r){this.mg=e}tick(e){if(this.city===null){let r=this.player.canBuild("City",this.tile);if(r===!1){console.warn("cannot build city"),this.active=!1;return}this.city=this.player.buildUnit("City",r,{}),this.createStation()}if(!this.city.isActive()){this.active=!1;return}this.player!==this.city.owner()&&(this.player=this.city.owner())}isActive(){return this.active}activeDuringSpawnPhase(){return!1}createStation(){this.city!==null&&this.mg.hasUnitNearby(this.city.tile(),this.mg.config().trainStationMaxRange(),"Factory")&&this.mg.addExecution(new Pt(this.city))}};var ch=class{constructor(e,r,n,i){this.p0=e;this.p1=r;this.p2=n;this.p3=i}getPointAt(e){let r=1-e,n=r*r,i=n*r,a=e*e,o=a*e,s=i*this.p0.x+3*n*e*this.p1.x+3*r*a*this.p2.x+o*this.p3.x,l=i*this.p0.y+3*n*e*this.p1.y+3*r*a*this.p2.y+o*this.p3.y;return{x:s,y:l}}},Mo=class extends ch{constructor(r,n,i,a,o){super(r,n,i,a);this.totalDistance=0;this.cachedPoints=[];this.currentIndex=0;this.computeAllPoints(o,.002)}getAllPoints(){return this.cachedPoints}increment(r){for(this.totalDistance+=r;this.currentIndex<this.cachedPoints.length-1&&this.getDistanceUpToIndex(this.currentIndex+1)<this.totalDistance;)this.currentIndex++;return this.currentIndex>=this.cachedPoints.length-1?null:this.cachedPoints[this.currentIndex]}getCurrentIndex(){return this.currentIndex}computeAllPoints(r,n){this.cachedPoints=[],this.totalDistance=0,this.currentIndex=0;let i=0,a=this.getPointAt(i);this.cachedPoints.push(a);let o=0;for(;i<1;){i=Math.min(i+n,1);let l=this.getPointAt(i),d=l.x-a.x,c=l.y-a.y,m=Math.sqrt(d*d+c*c);o+=m,o>=r&&(this.cachedPoints.push(l),o=0),a=l}let s=this.getPointAt(1);(this.cachedPoints.length===0||s.x!==this.cachedPoints[this.cachedPoints.length-1].x||s.y!==this.cachedPoints[this.cachedPoints.length-1].y)&&this.cachedPoints.push(s)}getDistanceUpToIndex(r){let n=0;for(let i=1;i<=r;i++){let a=this.cachedPoints[i-1],o=this.cachedPoints[i],s=o.x-a.x,l=o.y-a.y;n+=Math.sqrt(s*s+l*l)}return n}};var dh=el(ub(),1);var Xr=class{constructor(e,r,n,i,a,o=0){this.dst=r;this.iterations=n;this.maxTries=i;this.graph=a;this.directionChangePenalty=o;this.fwdCameFrom=new Map;this.bwdCameFrom=new Map;this.fwdGScore=new Map;this.bwdGScore=new Map;this.meetingPoint=null;this.completed=!1;this.fwdOpenSet=new dh.default((s,l)=>s.fScore<l.fScore),this.bwdOpenSet=new dh.default((s,l)=>s.fScore<l.fScore),this.sources=Array.isArray(e)?e:[e],this.closestSource=this.findClosestSource(r),this.sources.forEach(s=>{this.fwdGScore.set(s,0),this.fwdOpenSet.add({tile:s,fScore:this.heuristic(s,r)})}),this.bwdGScore.set(r,0),this.bwdOpenSet.add({tile:r,fScore:this.heuristic(r,this.findClosestSource(r))})}findClosestSource(e){return this.sources.reduce((r,n)=>this.heuristic(e,n)<this.heuristic(e,r)?n:r)}compute(){if(this.completed)return 2;this.maxTries-=1;let e=this.iterations;for(;!this.fwdOpenSet.isEmpty()&&!this.bwdOpenSet.isEmpty();){if(e--,e<=0)return this.maxTries<=0?3:1;let r=this.fwdOpenSet.poll().tile;if(this.bwdGScore.has(r))return this.meetingPoint=r,this.completed=!0,2;this.expandNode(r,!0);let n=this.bwdOpenSet.poll().tile;if(this.fwdGScore.has(n))return this.meetingPoint=n,this.completed=!0,2;this.expandNode(n,!1)}return this.completed?2:3}expandNode(e,r){for(let n of this.graph.neighbors(e)){if(n!==(r?this.dst:this.closestSource)&&!this.graph.isTraversable(e,n))continue;let i=r?this.fwdGScore:this.bwdGScore,a=r?this.fwdOpenSet:this.bwdOpenSet,o=r?this.fwdCameFrom:this.bwdCameFrom,s=i.get(e)+this.graph.cost(n),l=0;if(this.directionChangePenalty>0){let c=o.get(e);if(c){let m=this.getDirection(c,e),h=this.getDirection(e,n);m!==h&&(l=this.directionChangePenalty)}}let d=s+l;if(!i.has(n)||d<i.get(n)){o.set(n,e),i.set(n,d);let c=d+this.heuristic(n,r?this.dst:this.closestSource);a.add({tile:n,fScore:c})}}}heuristic(e,r){let n=this.graph.position(e),i=this.graph.position(r);return 2*(Math.abs(n.x-i.x)+Math.abs(n.y-i.y))}getDirection(e,r){let n=this.graph.position(e),i=this.graph.position(r),a=i.x-n.x,o=i.y-n.y;return`${Math.sign(a)},${Math.sign(o)}`}reconstructPath(){if(!this.meetingPoint)return[];let e=[this.meetingPoint],r=this.meetingPoint;for(;this.fwdCameFrom.has(r);)r=this.fwdCameFrom.get(r),e.unshift(r);for(r=this.meetingPoint;this.bwdCameFrom.has(r);)r=this.bwdCameFrom.get(r),e.push(r);return e}};var mh=class{constructor(e,r){this.gameMap=e;this.waterPath=r;this.waterPenalty=3}neighbors(e){return this.gameMap.neighbors(e)}cost(e){let r=this.gameMap.cost(e);return!this.waterPath&&this.gameMap.isWater(e)&&(r+=this.waterPenalty),r}position(e){return{x:this.gameMap.x(e),y:this.gameMap.y(e)}}isTraversable(e,r){let n=this.gameMap.isWater(r);if(this.waterPath)return n;let i=this.gameMap.isShoreline(e),a=this.gameMap.isShoreline(r);return!n||i||a}},jt=class{constructor(e,r,n,i,a,o,s=!0,l=0){this.gameMap=e;this.miniMap=r;this.src=n;this.dst=i;let c=(Array.isArray(n)?n:[n]).map(h=>this.miniMap.ref(Math.floor(e.x(h)/2),Math.floor(e.y(h)/2))),m=this.miniMap.ref(Math.floor(e.x(i)/2),Math.floor(e.y(i)/2));this.aStar=new Xr(c,m,a,o,new mh(r,s),l)}compute(){return this.aStar.compute()}reconstructPath(){let e;Array.isArray(this.src)||(e=new ee(this.gameMap.x(this.src),this.gameMap.y(this.src)));let r=new ee(this.gameMap.x(this.dst),this.gameMap.y(this.dst));return i2(n2(this.aStar.reconstructPath().map(i=>new ee(this.miniMap.x(i),this.miniMap.y(i)))),r,e).map(i=>this.gameMap.ref(i.x,i.y))}};function i2(t,e,r){if(r!==void 0){let i=cb(t,r);i===-1?t.unshift(r):i!==0&&(t=t.slice(i))}let n=cb(t,e);return n===-1?t.push(e):n!==t.length-1&&(t=t.slice(0,n+1)),t}function n2(t,e=2){let r=t.map(i=>new ee(i.x*e,i.y*e)),n=[];for(let i=0;i<r.length-1;i++){let a=r[i],o=r[i+1];n.push(a);let s=o.x-a.x,l=o.y-a.y,c=Math.max(Math.abs(s),Math.abs(l));for(let m=1;m<c;m++)n.push(new ee(Math.round(a.x+s*m/c),Math.round(a.y+l*m/c)))}return r.length>0&&n.push(r[r.length-1]),n}function cb(t,e){for(let r=0;r<t.length;r++)if(t[r].x===e.x&&t[r].y===e.y)return r;return-1}var a2=50,Qr=class{constructor(e){this.mg=e}computeControlPoints(e,r,n=3,i=!0){let a={x:this.mg.x(e),y:this.mg.y(e)},o={x:this.mg.x(r),y:this.mg.y(r)},s=o.x-a.x,l=o.y-a.y,d=Math.sqrt(s*s+l*l),c=i?Math.max(d/3,a2):0,m={x:a.x+(o.x-a.x)/4,y:Math.max(a.y+(o.y-a.y)/4-c,0)},h={x:a.x+(o.x-a.x)*3/4,y:Math.max(a.y+(o.y-a.y)*3/4-c,0)};this.curve=new Mo(a,m,h,o,n)}nextTile(e){if(!this.curve)throw new Error("ParabolaPathFinder not initialized");let r=this.curve.increment(e);return r?this.mg.ref(Math.floor(r.x),Math.floor(r.y)):!0}currentIndex(){return this.curve?this.curve.getCurrentIndex():0}allTiles(){return this.curve?this.curve.getAllPoints().map(e=>this.mg.ref(Math.floor(e.x),Math.floor(e.y))):[]}},ei=class{constructor(e,r){this.mg=e;this.random=r}nextTile(e,r){let n=this.mg.x(e),i=this.mg.y(e),a=this.mg.x(r),o=this.mg.y(r);if(n===a&&i===o)return!0;let s=n,l=i,d=Math.floor(1+Math.abs(o-i)/(Math.abs(a-n)+1));return this.random.chance(d)&&n!==a?n<a?s++:n>a&&s--:i<o?l++:i>o&&l--,s===n&&l===i?!0:this.mg.ref(s,l)}},Lt=class t{constructor(e,r){this.game=e;this.newAStar=r;this.curr=null;this.dst=null;this.path=null;this.path_idx=0;this.computeFinished=!0}static Mini(e,r,n=!0,i=20){return new t(e,(a,o)=>new jt(e.map(),e.miniMap(),a,o,r,i,n))}nextTile(e,r,n=1){if(e===null)return console.error("curr is null"),{type:3};if(r===null)return console.error("dst is null"),{type:3};if(this.game.manhattanDist(e,r)<n)return this.path=null,{type:2,node:e};if(this.computeFinished){if(this.shouldRecompute(e,r))return this.curr=e,this.dst=r,this.path=null,this.path_idx=0,this.aStar=this.newAStar(e,r),this.computeFinished=!1,this.nextTile(e,r);{let i=this.path?.[this.path_idx++];if(i===void 0)throw new Error("missing tile");return{type:0,node:i}}}switch(this.aStar.compute()){case 2:return this.computeFinished=!0,this.path=this.aStar.reconstructPath(),this.path_idx=1,this.nextTile(e,r);case 1:return{type:1};case 3:return{type:3};default:throw new Error("unexpected compute result")}}shouldRecompute(e,r){if(this.path===null||this.curr===null||this.dst===null)return!0;let n=this.game.manhattanDist(e,r),i=10;return n>50?i=10:n>25?i=5:i=0,this.game.manhattanDist(this.dst,r)>i}};var ti=class{constructor(e,r,n,i){this.spawn=e;this._owner=r;this.ownerUnit=n;this.target=i;this.active=!0;this.destroyAtTick=-1}init(e,r){this.pathFinder=new ei(e,new D(e.ticks())),this.mg=e,this.random=new D(e.ticks())}tick(e){if(this.shell??(this.shell=this._owner.buildUnit("Shell",this.spawn,{})),!this.shell.isActive()){this.active=!1;return}if(!this.target.isActive()||this.target.owner()===this.shell.owner()||this.destroyAtTick!==-1&&this.mg.ticks()>=this.destroyAtTick){this.shell.delete(!1),this.active=!1;return}this.destroyAtTick===-1&&!this.ownerUnit.isActive()&&(this.destroyAtTick=this.mg.ticks()+this.mg.config().shellLifetime());for(let r=0;r<3;r++){let n=this.pathFinder.nextTile(this.shell.tile(),this.target.tile());if(n===!0){this.active=!1,this.target.modifyHealth(-this.effectOnTarget(),this._owner),this.shell.setReachedTarget(),this.shell.delete(!1);return}else this.shell.move(n)}}effectOnTarget(){let{damage:e}=this.mg.config().unitInfo("Shell"),r=e??250,i=(this.random.nextInt(1,6)-1)*25+200;return Math.round(r/250*i)}getEffectOnTargetForTesting(){return this.effectOnTarget()}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Do=class{constructor(e,r){this.player=e;this.tile=r;this.post=null;this.active=!0;this.target=null;this.lastShellAttack=0;this.alreadySentShell=new Set}init(e,r){this.mg=e}shoot(){if(this.post===null||this.target===null)return;let e=this.mg.config().defensePostShellAttackRate();if(this.mg.ticks()-this.lastShellAttack>e&&(this.lastShellAttack=this.mg.ticks(),this.mg.addExecution(new ti(this.post.tile(),this.post.owner(),this.post,this.target)),!this.target.hasHealth())){this.alreadySentShell.add(this.target),this.target=null;return}}tick(e){if(this.post===null){let r=this.player.canBuild("Defense Post",this.tile);if(r===!1){console.warn("cannot build Defense Post"),this.active=!1;return}this.post=this.player.buildUnit("Defense Post",r,{})}if(!this.post.isActive()){this.active=!1;return}this.player!==this.post.owner()&&(this.player=this.post.owner()),this.target!==null&&!this.target.isActive()&&(this.target=null)}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var No=class{constructor(e,r){this.player=e;this.tile=r;this.factory=null;this.active=!0}init(e,r){this.game=e}tick(e){if(!this.factory){let r=this.player.canBuild("Factory",this.tile);if(r===!1){console.warn("cannot build factory"),this.active=!1;return}this.factory=this.player.buildUnit("Factory",r,{}),this.createStation()}if(!this.factory.isActive()){this.active=!1;return}this.player!==this.factory.owner()&&(this.player=this.factory.owner())}isActive(){return this.active}activeDuringSpawnPhase(){return!1}createStation(){if(this.factory!==null){let e=this.game.nearbyUnits(this.factory.tile(),this.game.config().trainStationMaxRange(),["City","Port","Factory"]);this.game.addExecution(new Pt(this.factory,!0));for(let{unit:r}of e)r.hasTrainStation()||this.game.addExecution(new Pt(r))}}};var o2=16,Bt=class{constructor(e,r,n,i,a=-1,o=0){this.nukeType=e;this.player=r;this.dst=n;this.src=i;this.speed=a;this.waitTicks=o;this.active=!0;this.nuke=null}init(e,r){this.mg=e,this.speed===-1&&(this.speed=this.mg.config().defaultNukeSpeed()),this.pathFinder=new Qr(e)}target(){return this.mg.owner(this.dst)}tilesToDestroy(){if(this.tilesToDestroyCache!==void 0)return this.tilesToDestroyCache;if(this.nuke===null)throw new Error("Not initialized");let e=this.mg.config().nukeMagnitudes(this.nuke.type()),r=new D(this.mg.ticks()),n=e.inner*e.inner,i=e.outer*e.outer;return this.tilesToDestroyCache=this.mg.bfs(this.dst,(a,o)=>{let s=this.mg?.euclideanDistSquared(this.dst,o)??0;return s<=i&&(s<=n||r.chance(2))}),this.tilesToDestroyCache}maybeBreakAlliances(e){if(this.nuke===null)throw new Error("Not initialized");let r=new Map;for(let i of e){let a=this.mg.owner(i);if(a.isPlayer()){let o=r.get(a)??0;r.set(a,o+1)}}let n=this.mg.config().nukeAllianceBreakThreshold();for(let[i,a]of r)if(a>n&&this.nuke.type()!=="MIRV Warhead"){let o=i.incomingAllianceRequests().find(l=>l.requestor()===this.player);o&&o?.reject();let s=this.player.allianceWith(i);s!==null&&this.player.breakAlliance(s),i!==this.player&&i.updateRelation(this.player,-100)}}tick(e){if(this.nuke===null){let n=this.src??this.player.canBuild(this.nukeType,this.dst);if(n===!1){console.warn("cannot build Nuke"),this.active=!1;return}if(this.src=n,this.pathFinder.computeControlPoints(n,this.dst,this.speed,this.nukeType!=="MIRV Warhead"),this.nuke=this.player.buildUnit(this.nukeType,n,{targetTile:this.dst,trajectory:this.getTrajectory(this.dst)}),this.maybeBreakAlliances(this.tilesToDestroy()),this.mg.hasOwner(this.dst)){let a=this.mg.owner(this.dst);a.isPlayer()&&(this.nukeType==="Atom Bomb"?this.mg.displayIncomingUnit(this.nuke.id(),`${this.player.name()} - atom bomb inbound`,5,a.id()):this.nukeType==="Hydrogen Bomb"&&this.mg.displayIncomingUnit(this.nuke.id(),`${this.player.name()} - hydrogen bomb inbound`,6,a.id())),this.mg.stats().bombLaunch(this.player,a,this.nukeType)}let i=this.player.units("Missile Silo").find(a=>a.tile()===n);i&&i.launch();return}if(!this.nuke.isActive()){console.log("Nuke destroyed before reaching target"),this.active=!1;return}if(this.waitTicks>0){this.waitTicks--;return}let r=this.pathFinder.nextTile(this.speed);if(r===!0){this.detonate();return}else this.updateNukeTargetable(),this.nuke.move(r),this.nuke.setTrajectoryIndex(this.pathFinder.currentIndex())}getNuke(){return this.nuke}getTrajectory(e){let r=[],n=this.mg.config().defaultNukeTargetableRange()**2,i=this.pathFinder.allTiles();for(let a of i)r.push({tile:a,targetable:this.isTargetable(e,a,n)});return r}isTargetable(e,r,n){return this.mg.euclideanDistSquared(r,e)<n||this.src!==void 0&&this.src!==null&&this.mg.euclideanDistSquared(this.src,r)<n}updateNukeTargetable(){if(this.nuke===null||this.nuke.targetTile()===void 0)return;let e=this.mg.config().defaultNukeTargetableRange()**2,r=this.nuke.targetTile();this.nuke.setTargetable(this.isTargetable(r,this.nuke.tile(),e))}detonate(){if(this.nuke===null)throw new Error("Not initialized");let e=this.mg.config().nukeMagnitudes(this.nuke.type()),r=this.tilesToDestroy();this.maybeBreakAlliances(r);let n=this.target().isPlayer()?this.mg.config().maxTroops(this.target()):1;for(let a of r){let o=this.mg.owner(a);o.isPlayer()&&(o.relinquish(a),o.removeTroops(this.mg.config().nukeDeathFactor(this.nukeType,o.troops(),o.numTilesOwned(),n)),o.outgoingAttacks().forEach(s=>{let l=this.mg?.config().nukeDeathFactor(this.nukeType,s.troops(),o.numTilesOwned(),n)??0;s.setTroops(s.troops()-l)}),o.units("Transport").forEach(s=>{let l=this.mg?.config().nukeDeathFactor(this.nukeType,s.troops(),o.numTilesOwned(),n)??0;s.setTroops(s.troops()-l)})),this.mg.isLand(a)&&this.mg.setFallout(a,!0)}let i=e.outer*e.outer;for(let a of this.mg.units())a.type()!=="Atom Bomb"&&a.type()!=="Hydrogen Bomb"&&a.type()!=="MIRV Warhead"&&a.type()!=="MIRV"&&this.mg.euclideanDistSquared(this.dst,a.tile())<i&&a.delete(!0,this.player);this.redrawBuildings(e.outer+o2),this.active=!1,this.nuke.setReachedTarget(),this.nuke.delete(!1),this.mg.stats().bombLand(this.player,this.target(),this.nuke.type())}redrawBuildings(e){let r=e*e;for(let n of this.mg.units())Dp(n.type())&&this.mg.euclideanDistSquared(this.dst,n.tile())<r&&n.touch()}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ri=class{constructor(e,r){this.player=e;this.dst=r;this.active=!0;this.nuke=null;this.mirvRange=1500;this.warheadCount=350;this.speed=-1}init(e,r){if(this.random=new D(e.ticks()+F(this.player.id())),this.mg=e,this.pathFinder=new Qr(e),this.targetPlayer=this.mg.owner(this.dst),this.speed=this.mg.config().defaultNukeSpeed(),this.mg.stats().bombLaunch(this.player,this.targetPlayer,"MIRV"),this.targetPlayer.isPlayer()){let n=this.player.allianceWith(this.targetPlayer);n!==null&&this.player.breakAlliance(n),this.targetPlayer!==this.player&&this.targetPlayer.updateRelation(this.player,-100)}}tick(e){if(this.nuke===null){let n=this.player.canBuild("MIRV",this.dst);if(n===!1){console.warn("cannot build MIRV"),this.active=!1;return}this.nuke=this.player.buildUnit("MIRV",n,{targetTile:this.dst});let i=Math.floor((this.mg.x(this.dst)+this.mg.x(this.mg.x(this.nuke.tile())))/2),a=Math.max(0,this.mg.y(this.dst)-500)+50;this.separateDst=this.mg.ref(i,a),this.pathFinder.computeControlPoints(n,this.separateDst),this.mg.displayIncomingUnit(this.nuke.id(),`\u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F ${this.player.name()} - MIRV INBOUND \u26A0\uFE0F\u26A0\uFE0F\u26A0\uFE0F`,4,this.targetPlayer.id())}let r=this.pathFinder.nextTile(this.speed);if(r===!0){this.separate(),this.active=!1,this.mg.stats().bombLand(this.player,this.targetPlayer,"MIRV");return}else this.nuke.move(r)}separate(){if(this.nuke===null)throw new Error("uninitialized");let e=[this.dst],r=1e3;for(;r>0&&e.length<this.warheadCount;){r--;let n=this.randomLand(this.dst,e);n!==null&&e.push(n)}console.log(`dsts: ${e.length}`),e.sort((n,i)=>this.mg.manhattanDist(i,this.dst)-this.mg.manhattanDist(n,this.dst)),console.log(`got ${e.length} dsts!!`);for(let[n,i]of e.entries())this.mg.addExecution(new Bt("MIRV Warhead",this.player,i,this.nuke.tile(),15+Math.floor(n/this.warheadCount*5),this.random.nextInt(0,15)));this.nuke.delete(!1)}randomLand(e,r){let n=0,i=this.mirvRange*this.mirvRange;for(;n<100;){n++;let a=this.random.nextInt(this.mg.x(e)-this.mirvRange,this.mg.x(e)+this.mirvRange),o=this.random.nextInt(this.mg.y(e)-this.mirvRange,this.mg.y(e)+this.mirvRange);if(!this.mg.isValidCoord(a,o))continue;let s=this.mg.ref(a,o);if(this.mg.isLand(s)&&!(this.mg.euclideanDistSquared(s,e)>i)&&this.mg.owner(s)===this.targetPlayer&&!this.proximityCheck(s,r))return s}return console.log("couldn't find place, giving up"),null}proximityCheck(e,r){for(let n of r)if(this.mg.manhattanDist(e,n)<55)return!0;return!1}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Uo=class{constructor(e,r){this.player=e;this.tile=r;this.active=!0;this.silo=null}init(e,r){this.mg=e}tick(e){if(this.silo===null){let i=this.player.canBuild("Missile Silo",this.tile);if(i===!1){console.warn(`player ${this.player} cannot build missile silo at ${this.tile}`),this.active=!1;return}this.silo=this.player.buildUnit("Missile Silo",i,{}),this.player!==this.silo.owner()&&(this.player=this.silo.owner())}let r=this.silo.missileTimerQueue()[0];if(r===void 0)return;this.mg.config().SiloCooldown()-(this.mg.ticks()-r)<=0&&this.silo.reloadMissile()}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Oo=class{constructor(e,r,n){this.origOwner=e;this.srcPort=r;this._dstPort=n;this.active=!0;this.wasCaptured=!1;this.tilesTraveled=0}init(e,r){this.mg=e,this.pathFinder=Lt.Mini(e,2500)}tick(e){if(this.tradeShip===void 0){let o=this.origOwner.canBuild("Trade Ship",this.srcPort.tile());if(o===!1){console.warn("cannot build trade ship"),this.active=!1;return}this.tradeShip=this.origOwner.buildUnit("Trade Ship",o,{targetUnit:this._dstPort,lastSetSafeFromPirates:e}),this.mg.stats().boatSendTrade(this.origOwner,this._dstPort.owner())}if(!this.tradeShip.isActive()){this.active=!1;return}let r=this.tradeShip.owner(),n=this._dstPort.owner();if(this.wasCaptured!==!0&&this.origOwner!==r&&(this.wasCaptured=!0),n.id()===this.srcPort.owner().id()){this.tradeShip.delete(!1),this.active=!1;return}if(!this.wasCaptured&&(!this._dstPort.isActive()||!r.canTrade(n))){this.tradeShip.delete(!1),this.active=!1;return}if(this.wasCaptured&&(r!==n||!this._dstPort.isActive())){let o=this.tradeShip.owner().units("Port").sort(Nn(this.mg,this.tradeShip));if(o.length===0){this.tradeShip.delete(!1),this.active=!1;return}else this._dstPort=o[0],this.tradeShip.setTargetUnit(this._dstPort)}let i=this.tradeShip.tile();if(i===this.dstPort()){this.complete();return}let a=this.pathFinder.nextTile(i,this._dstPort.tile());switch(a.type){case 1:this.tradeShip.move(i);break;case 0:this.mg.isWater(a.node)&&this.mg.isShoreline(a.node)&&this.tradeShip.setSafeFromPirates(),this.tradeShip.move(a.node),this.tilesTraveled++;break;case 2:this.complete();break;case 3:console.warn("captured trade ship cannot find route"),this.tradeShip.isActive()&&this.tradeShip.delete(!1),this.active=!1;break}}complete(){this.active=!1,this.tradeShip.delete(!1);let e=this.mg.config().tradeShipGold(this.tilesTraveled,this.tradeShip.owner().unitCount("Port"));this.wasCaptured?(this.tradeShip.owner().addGold(e,this._dstPort.tile()),this.mg.displayMessage(`Received ${lt(e)} gold from ship captured from ${this.origOwner.displayName()}`,10,this.tradeShip.owner().id(),e),this.mg.stats().boatCapturedTrade(this.tradeShip.owner(),this.origOwner,e)):(this.srcPort.owner().addGold(e),this._dstPort.owner().addGold(e,this._dstPort.tile()),this.mg.displayMessage(`Received ${lt(e)} gold from trade with ${this.srcPort.owner().displayName()}`,20,this._dstPort.owner().id(),e),this.mg.displayMessage(`Received ${lt(e)} gold from trade with ${this._dstPort.owner().displayName()}`,20,this.srcPort.owner().id(),e),this.mg.stats().boatArriveTrade(this.srcPort.owner(),this._dstPort.owner(),e))}isActive(){return this.active}activeDuringSpawnPhase(){return!1}dstPort(){return this._dstPort.tile()}};var zo=class{constructor(e,r){this.player=e;this.tile=r;this.active=!0;this.port=null}init(e,r){this.mg=e,this.random=new D(e.ticks()),this.checkOffset=e.ticks()%10}tick(e){if(this.mg===null||this.random===null||this.checkOffset===null)throw new Error("Not initialized");if(this.port===null){let i=this.tile,a=this.player.canBuild("Port",i);if(a===!1){console.warn(`player ${this.player.id()} cannot build port at ${this.tile}`),this.active=!1;return}this.port=this.player.buildUnit("Port",a,{}),this.createStation()}if(!this.port.isActive()){this.active=!1;return}if(this.player.id()!==this.port.owner().id()&&(this.player=this.port.owner()),(this.mg.ticks()+this.checkOffset)%10!==0||!this.shouldSpawnTradeShip())return;let r=this.tradingPorts();if(r.length===0)return;let n=this.random.randElement(r);this.mg.addExecution(new Oo(this.player,this.port,n))}isActive(){return this.active}activeDuringSpawnPhase(){return!1}shouldSpawnTradeShip(){let e=this.mg.unitCount("Trade Ship"),r=this.player.unitCount("Port"),n=this.player.unitCount("Trade Ship"),i=this.mg.config().tradeShipSpawnRate(e,r,n);for(let a=0;a<this.port.level();a++)if(this.random.chance(i))return!0;return!1}createStation(){this.port!==null&&this.mg.hasUnitNearby(this.port.tile(),this.mg.config().trainStationMaxRange(),"Factory")&&this.mg.addExecution(new Pt(this.port))}tradingPorts(){let e=this.mg.players().filter(n=>n!==this.port.owner()&&n.canTrade(this.port.owner())).flatMap(n=>n.units("Port")).sort((n,i)=>this.mg.manhattanDist(this.port.tile(),n.tile())-this.mg.manhattanDist(this.port.tile(),i.tile())),r=[];for(let[n,i]of e.entries()){let a=new Array(i.level()).fill(i);r.push(...a);let o=this.mg.manhattanDist(this.port.tile(),i.tile())<this.mg.config().tradeShipShortRangeDebuff(),s=n<this.mg.config().proximityBonusPortsNb(e.length);!o&&s&&r.push(...a),!o&&this.port.owner().isFriendly(i.owner())&&r.push(...a)}return r}};var jo=class{constructor(e,r,n,i,a){this.spawn=e;this._owner=r;this.ownerUnit=n;this.target=i;this.targetTile=a;this.active=!0;this.speed=0}init(e,r){this.pathFinder=new ei(e,new D(e.ticks())),this.mg=e,this.speed=this.mg.config().defaultSamMissileSpeed()}tick(e){if(this.SAMMissile??(this.SAMMissile=this._owner.buildUnit("SAMMissile",this.spawn,{})),!this.SAMMissile.isActive()){this.active=!1;return}let r=["Atom Bomb","Hydrogen Bomb"];if(!this.target.isActive()||!this.ownerUnit.isActive()||this.target.owner()===this.SAMMissile.owner()||!r.includes(this.target.type())){this.SAMMissile.delete(!1),this.active=!1;return}for(let n=0;n<this.speed;n++){let i=this.pathFinder.nextTile(this.SAMMissile.tile(),this.targetTile);if(i===!0){this.mg.displayMessage(`Missile intercepted ${this.target.type()}`,9,this._owner.id()),this.active=!1,this.target.delete(!0,this._owner),this.SAMMissile.delete(!1),this.mg.stats().bombIntercept(this._owner,this.target.type(),1);return}else this.SAMMissile.move(i)}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var hh=class{constructor(e,r){this.mg=e;this.sam=r;this.precomputedNukes=new Map;this.missileSpeed=this.mg.config().defaultSamMissileSpeed()}updateUnreachableNukes(e){let r=new Set(e.map(n=>n.unit.id()));for(let n of this.precomputedNukes.keys())r.has(n)||this.precomputedNukes.delete(n)}isInRange(e){let r=this.sam.tile(),n=this.mg.config().samRange(this.sam.level()),i=n*n;return this.mg.euclideanDistSquared(r,e)<=i}tickToReach(e,r){return Math.ceil(this.mg.manhattanDist(e,r)/this.missileSpeed)}computeInterceptionTile(e){let r=e.trajectory(),n=this.sam.tile(),i=e.trajectoryIndex(),a=r.length-i;for(let o=i;o<r.length;o++){let s=r[o];if(s.targetable&&this.isInRange(s.tile)){let l=o-i,d=this.tickToReach(n,s.tile),c=l-d;if(d<a&&c>=0)return{tick:c,tile:s.tile}}}}getSingleTarget(e){let r=this.mg.config().maxSamRange()*2,n=this.mg.nearbyUnits(this.sam.tile(),r,["Atom Bomb","Hydrogen Bomb"],({unit:a})=>bi(a)&&a.owner()!==this.sam.owner()&&!this.sam.owner().isFriendly(a.owner()));this.updateUnreachableNukes(n);let i=[];for(let a of n){let o=a.unit.id(),s=this.precomputedNukes.get(o);if(s!==void 0){if(s===null)continue;if(s.tick===e){i.push({tile:s.tile,unit:a.unit}),this.precomputedNukes.delete(o);continue}if(s.tick>e)continue;this.precomputedNukes.delete(o)}let l=this.computeInterceptionTile(a.unit);l!==void 0?l.tick<=1?i.push({unit:a.unit,tile:l.tile}):this.precomputedNukes.set(o,{tick:l.tick+e,tile:l.tile}):this.precomputedNukes.set(o,null)}return i.sort((a,o)=>a.unit.type()==="Hydrogen Bomb"&&o.unit.type()!=="Hydrogen Bomb"?-1:a.unit.type()!=="Hydrogen Bomb"&&o.unit.type()==="Hydrogen Bomb"?1:0)[0]??null}},Lo=class{constructor(e,r,n=null){this.player=e;this.tile=r;this.sam=n;this.active=!0;this.MIRVWarheadSearchRadius=400;this.MIRVWarheadProtectionRadius=50;n!==null&&(this.tile=n.tile())}init(e,r){this.mg=e}isHit(e,r){return e==="Atom Bomb"?!0:e==="MIRV Warhead"?r<this.mg.config().samWarheadHittingChance():r<this.mg.config().samHittingChance()}tick(e){if(this.mg===null||this.player===null)throw new Error("Not initialized");if(this.sam===null){if(this.tile===null)throw new Error("tile is null");let a=this.player.canBuild("SAM Launcher",this.tile);if(a===!1){console.warn("cannot build SAM Launcher"),this.active=!1;return}this.sam=this.player.buildUnit("SAM Launcher",a,{})}if(this.targetingSystem??(this.targetingSystem=new hh(this.mg,this.sam)),this.sam.isInCooldown()){let a=this.sam.missileTimerQueue()[0];if(a===void 0)return;this.mg.config().SAMCooldown()-(this.mg.ticks()-a)<=0&&this.sam.reloadMissile();return}if(!this.sam.isActive()){this.active=!1;return}this.player!==this.sam.owner()&&(this.player=this.sam.owner()),this.pseudoRandom??(this.pseudoRandom=new D(this.sam.id()));let r=this.mg.nearbyUnits(this.sam.tile(),this.MIRVWarheadSearchRadius,"MIRV Warhead",({unit:a})=>{if(!bi(a)||a.owner()===this.player||this.player.isFriendly(a.owner()))return!1;let o=a.targetTile();return this.sam!==null&&o!==void 0&&this.mg.manhattanDist(o,this.sam.tile())<this.MIRVWarheadProtectionRadius}),n=null;if(r.length===0&&(n=this.targetingSystem.getSingleTarget(e),n!==null&&console.log("Target acquired")),n&&!n.unit.targetedBySAM()||r.length>0){this.sam.launch();let a=r.length>0?"MIRV Warhead":n?.unit.type();if(a===void 0)throw new Error("Unknown unit type");let o=this.pseudoRandom.next();if(!this.isHit(a,o))this.mg.displayMessage(`Missile failed to intercept ${a}`,8,this.sam.owner().id());else if(r.length>0){let l=this.sam.owner();this.mg.displayMessage(`${r.length} MIRV warheads intercepted`,9,l.id()),r.forEach(({unit:d})=>{d.delete()}),this.mg.stats().bombIntercept(l,"MIRV Warhead",r.length)}else if(n!==null)n.unit.setTargetedBySAM(!0),this.mg.addExecution(new jo(this.sam.tile(),this.sam.owner(),this.sam,n.unit,n.tile));else throw new Error("target is null")}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Bo=class{constructor(e){this.input=e;this.lastShellAttack=0;this.alreadySentShell=new Set}init(e,r){if(this.mg=e,this.pathfinder=Lt.Mini(e,1e4,!0,100),this.random=new D(e.ticks()),bi(this.input))this.warship=this.input;else{let n=this.input.owner.canBuild("Warship",this.input.patrolTile);if(n===!1){console.warn(`Failed to spawn warship for ${this.input.owner.name()} at ${this.input.patrolTile}`);return}this.warship=this.input.owner.buildUnit("Warship",n,this.input)}}tick(e){if(this.warship.health()<=0){this.warship.delete();return}if(this.warship.owner().unitCount("Port")>0&&this.warship.modifyHealth(1),this.warship.setTargetUnit(this.findTargetUnit()),this.warship.targetUnit()?.type()==="Trade Ship"){this.huntDownTradeShip();return}if(this.patrol(),this.warship.targetUnit()!==void 0){this.shootTarget();return}}findTargetUnit(){let e=this.warship.owner().unitCount("Port")>0,r=this.mg.config().warshipPatrolRange()**2,n=this.mg.nearbyUnits(this.warship.tile(),this.mg.config().warshipTargettingRange(),["Transport","Warship","Trade Ship"]),i=[];for(let{unit:a,distSquared:o}of n)a.owner()===this.warship.owner()||a===this.warship||a.owner().isFriendly(this.warship.owner(),!0)||this.alreadySentShell.has(a)||a.type()==="Trade Ship"&&(!e||a.isSafeFromPirates()||a.targetUnit()?.owner()===this.warship.owner()||a.targetUnit()?.owner().isFriendly(this.warship.owner())||this.mg.euclideanDistSquared(this.warship.patrolTile(),a.tile())>r)||i.push({unit:a,distSquared:o});return i.sort((a,o)=>{let{unit:s,distSquared:l}=a,{unit:d,distSquared:c}=o;return s.type()==="Transport"&&d.type()!=="Transport"?-1:s.type()!=="Transport"&&d.type()==="Transport"?1:s.type()==="Warship"&&d.type()!=="Warship"?-1:s.type()!=="Warship"&&d.type()==="Warship"?1:l-c})[0]?.unit}shootTarget(){let e=this.mg.config().warshipShellAttackRate();if(this.mg.ticks()-this.lastShellAttack>e&&(this.warship.targetUnit()?.type()!=="Transport"&&(this.lastShellAttack=this.mg.ticks()),this.mg.addExecution(new ti(this.warship.tile(),this.warship.owner(),this.warship,this.warship.targetUnit())),!this.warship.targetUnit().hasHealth())){this.alreadySentShell.add(this.warship.targetUnit()),this.warship.setTargetUnit(void 0);return}}huntDownTradeShip(){for(let e=0;e<2;e++){let r=this.pathfinder.nextTile(this.warship.tile(),this.warship.targetUnit().tile(),5);switch(r.type){case 2:this.warship.owner().captureUnit(this.warship.targetUnit()),this.warship.setTargetUnit(void 0),this.warship.move(this.warship.tile());return;case 0:this.warship.move(r.node);break;case 1:this.warship.touch();break;case 3:console.log("path not found to target");break}}}patrol(){if(this.warship.targetTile()===void 0&&(this.warship.setTargetTile(this.randomTile()),this.warship.targetTile()===void 0))return;let e=this.pathfinder.nextTile(this.warship.tile(),this.warship.targetTile());switch(e.type){case 2:this.warship.setTargetTile(void 0),this.warship.move(e.node);break;case 0:this.warship.move(e.node);break;case 1:this.warship.touch();return;case 3:console.warn("path not found to target tile"),this.warship.setTargetTile(void 0);break}}isActive(){return this.warship?.isActive()}activeDuringSpawnPhase(){return!1}randomTile(e=!1){let r=this.mg.config().warshipPatrolRange(),n=500,i=0,a=0;for(;a<3;){let o=this.mg.x(this.warship.patrolTile())+this.random.nextInt(-r/2,r/2),s=this.mg.y(this.warship.patrolTile())+this.random.nextInt(-r/2,r/2);if(!this.mg.isValidCoord(o,s))continue;let l=this.mg.ref(o,s);if(!this.mg.isOcean(l)||!e&&this.mg.isShoreline(l)){i++,i===n&&(a++,i=0,r=r+Math.floor(r/2));continue}return l}if(console.warn(`Failed to find random tile for warship for ${this.warship.owner().name()}`),!e)return this.randomTile(!0)}};var Gt=class{constructor(e,r,n){this.player=e;this.constructionType=r;this.tile=n;this.construction=null;this.active=!0}init(e,r){if(this.mg=e,this.mg.config().isUnitDisabled(this.constructionType)){console.warn(`cannot build construction ${this.constructionType} because it is disabled`),this.active=!1;return}if(!this.mg.isValidRef(this.tile)){console.warn(`cannot build construction invalid tile ${this.tile}`),this.active=!1;return}}tick(e){if(this.construction===null){let r=this.mg.unitInfo(this.constructionType);if(r.constructionDuration===void 0){this.completeConstruction(),this.active=!1;return}let n=this.player.canBuild(this.constructionType,this.tile);if(n===!1){console.warn(`cannot build ${this.constructionType}`),this.active=!1;return}this.construction=this.player.buildUnit("Construction",n,{}),this.cost=this.mg.unitInfo(this.constructionType).cost(this.player),this.player.removeGold(this.cost),this.construction.setConstructionType(this.constructionType),this.ticksUntilComplete=r.constructionDuration;return}if(!this.construction.isActive()){this.active=!1;return}if(this.player!==this.construction.owner()&&(this.player=this.construction.owner()),this.ticksUntilComplete===0){this.player=this.construction.owner(),this.construction.delete(!1),this.player.addGold(this.cost),this.completeConstruction(),this.active=!1;return}this.ticksUntilComplete--}completeConstruction(){let e=this.player;switch(this.constructionType){case"Atom Bomb":case"Hydrogen Bomb":this.mg.addExecution(new Bt(this.constructionType,e,this.tile));break;case"MIRV":this.mg.addExecution(new ri(e,this.tile));break;case"Warship":this.mg.addExecution(new Bo({owner:e,patrolTile:this.tile}));break;case"Port":this.mg.addExecution(new zo(e,this.tile));break;case"Missile Silo":this.mg.addExecution(new Uo(e,this.tile));break;case"Defense Post":this.mg.addExecution(new Do(e,this.tile));break;case"SAM Launcher":this.mg.addExecution(new Lo(e,this.tile));break;case"City":this.mg.addExecution(new Co(e,this.tile));break;case"Factory":this.mg.addExecution(new No(e,this.tile));break;default:console.warn(`unit type ${this.constructionType} cannot be constructed`);break}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Go=class{constructor(e,r){this.player=e;this.unitId=r;this.active=!0;this.unit=null}activeDuringSpawnPhase(){return!1}init(e,r){if(!this.active)return;this.mg=e;let n=this.player.units().find(a=>a.id()===this.unitId);if(!n){console.warn(`SECURITY: unit ${this.unitId} not found or not owned by player ${this.player.displayName()}`),this.active=!1;return}if(!n.isActive()){console.warn(`SECURITY: unit ${this.unitId} is not active`),this.active=!1;return}this.unit=n;let i=e.owner(n.tile());if(!i.isPlayer()||i.id()!==this.player.id()){console.warn(`SECURITY: unit ${this.unitId} is not on player's territory`),this.active=!1;return}if(!e.isLand(n.tile())){console.warn(`SECURITY: unit ${this.unitId} is not on land`),this.active=!1;return}if(e.inSpawnPhase()){console.warn("SECURITY: cannot delete units during spawn phase"),this.active=!1;return}if(!this.player.canDeleteUnit()){console.warn("SECURITY: delete unit cooldown not expired"),this.active=!1;return}this.player.recordDeleteUnit(),n.markForDeletion()}tick(e){if(!(!this.active||!this.unit)){if(!this.unit.isActive()){this.active=!1;return}this.unit.isOverdueDeletion()&&(this.unit.delete(!1),this.mg.displayMessage("events_display.unit_voluntarily_deleted",12,this.player.id()),this.active=!1)}}isActive(){return this.active}};var Fo=class{constructor(e,r,n){this.sender=e;this.recipientID=r;this.active=!0;this.gold=et(n??0)}init(e,r){if(!e.hasPlayer(this.recipientID)){console.warn(`DonateExecution recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.gold??(this.gold=this.sender.gold()/3n)}tick(e){if(this.gold===null)throw new Error("not initialized");this.sender.canDonateGold(this.recipient)&&this.sender.donateGold(this.recipient,this.gold)?this.recipient.updateRelation(this.sender,50):console.warn(`cannot send gold from ${this.sender.name()} to ${this.recipient.name()}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Zo=class{constructor(e,r,n){this.sender=e;this.recipientID=r;this.troops=n;this.active=!0}init(e,r){if(!e.hasPlayer(this.recipientID)){console.warn(`DonateExecution recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID),this.troops??(this.troops=e.config().defaultDonationAmount(this.sender));let n=e.config().maxTroops(this.recipient)-this.recipient.troops();this.troops=Math.min(this.troops,n)}tick(e){if(this.troops===null)throw new Error("not initialized");this.sender.canDonateTroops(this.recipient)&&this.sender.donateTroops(this.recipient,this.troops)?this.recipient.updateRelation(this.sender,50):console.warn(`cannot send troops from ${this.sender} to ${this.recipient}`),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var Wo=class{constructor(e,r){this.player=e;this.action=r}init(e,r){if(!this.player.canEmbargoAll())return;let n=this.player;for(let i of e.players())i.id()!==n.id()&&i.type()!=="BOT"&&(n.isOnSameTeam(i)||(this.action==="start"?n.hasEmbargoAgainst(i)||n.addEmbargo(i,!1):n.hasEmbargoAgainst(i)&&n.stopEmbargo(i)));this.player.recordEmbargoAll()}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var qo=class{constructor(e,r,n){this.player=e;this.targetID=r;this.action=n;this.active=!0}init(e,r){if(!e.hasPlayer(this.targetID)){console.warn(`EmbargoExecution recipient ${this.targetID} not found`),this.active=!1;return}this.target=e.player(this.targetID)}tick(e){this.action==="start"?this.player.addEmbargo(this.target,!1):this.player.stopEmbargo(this.target),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};function db(t,e,r){let n=e.borderTiles(),i=e.units(r),a=t.config().nukeMagnitudes("Atom Bomb").outer,o=a*2;switch(r){case"City":case"Factory":case"Missile Silo":return s=>{let l=0;l+=t.magnitude(s);let[,d]=Po(t,n,s);l+=Math.min(d,a);let c=new Set(i.map(h=>h.tile()));c.delete(s);let m=zt(t,c,[s]);if(m!==null){let h=t.manhattanDist(m.x,s);l+=Math.min(h,o)}return l};case"Port":return s=>{let l=0,d=new Set(i.map(m=>m.tile()));d.delete(s);let[,c]=Po(t,d,s);return l+=Math.min(c,o),l};case"Defense Post":return s=>{let l=0;l+=t.magnitude(s);let[d,c]=Po(t,n,s);if(d!==null){l+=Math.max(0,a-Math.abs(a-c));let f=new Set;for(let p of t.neighbors(d)){if(!t.isLand(p))continue;let b=t.ownerID(p);if(b===e.smallID())continue;let T=t.playerBySmallID(b);T.isPlayer()&&f.add(T)}for(let p of f)l+=a*(3-e.relation(p))}let m=new Set(i.map(f=>f.tile()));m.delete(s);let h=zt(t,m,[s]);if(h!==null){let f=t.manhattanDist(h.x,s);l+=Math.min(f,o)}return l};case"SAM Launcher":{let s=new Set;for(let c of e.units())switch(c.type()){case"City":case"Factory":case"Missile Silo":case"Port":s.add(c.tile())}let l=t.config().defaultSamRange(),d=l*l;return c=>{let m=0;m+=t.magnitude(c);let h=zt(t,n,[c]);if(h!==null){let b=t.manhattanDist(h.x,c);m+=Math.min(b,a)}let f=new Set(i.map(b=>b.tile()));f.delete(c);let p=zt(t,f,[c]);if(p!==null){let b=t.manhattanDist(p.x,c);m+=Math.min(b,o)}for(let b of s)t.euclideanDistSquared(c,b)>d||(m+=o);return m}}default:throw new Error(`Value function not implemented for ${r}`)}}function hb(t,e,r){if(e.unitCount("Transport")>=t.config().boatMaxNumber())return!1;let n=Vo(t,r);if(n===null)return!1;let i=t.owner(r);if(i===e||i.isPlayer()&&e.isFriendly(i))return!1;if(t.isOceanShore(n)){let s=!1;for(let d of e.borderTiles())if(t.isOceanShore(d)){s=!0;break}let l=!1;if(!t.hasOwner(r))l=!0;else for(let d of i.borderTiles())if(t.isOceanShore(d)){l=!0;break}return s&&l?mb(t,e,n):!1}let a=t.bfs(n,bn(Yr(n,300),(s,l)=>t.isLake(l)||t.isShore(l))),o=Array.from(a).sort((s,l)=>t.manhattanDist(n,s)-t.manhattanDist(n,l));for(let s of o)if(t.owner(s)===e)return mb(t,e,s);return!1}function mb(t,e,r){if(!t.isShore(r))return!1;let n=pb(t,e,r);return n===null?!1:n}function Vo(t,e){let r=t.playerBySmallID(t.ownerID(e)),n=null;return r.isPlayer()?n=pb(t,r,e):n=l2(t,e,50),n}function pb(t,e,r){let n=Array.from(e.borderTiles()).filter(i=>t.isShore(i));return n.length===0?null:n.reduce((i,a)=>{let o=t.manhattanDist(r,i);return t.manhattanDist(r,a)<o?a:i})}function fb(t,e,r){let n=Vo(t,r);if(n===null)return!1;let i=s2(t,e,n);if(i.length===0)return!1;let a=new jt(t,t.miniMap(),i,n,1e6,1),o=a.compute();if(o!==2)return console.warn(`bestShoreDeploymentSource: path not found: ${o}`),!1;let s=a.reconstructPath();if(s.length===0)return!1;let l=s[0],d=t.neighbors(l).filter(c=>t.isShore(c)&&t.owner(c)===e);return d.length===0?!1:d[0]}function s2(t,e,r){let n=1/0,i=1/0,a=1/0,o=-1/0,s=-1/0,l=null,d={minX:null,minY:null,maxX:null,maxY:null},c=Array.from(e.borderTiles()).filter(p=>t.isShore(p));for(let p of c){let b=t.manhattanDist(p,r),T=t.cell(p);b<n&&(n=b,l=p),T.x<i?(i=T.x,d.minX=p):T.y<a?(a=T.y,d.minY=p):T.x>o?(o=T.x,d.maxX=p):T.y>s&&(s=T.y,d.maxY=p)}let m=Math.max(10,Math.ceil(c.length/50)),h=c.filter((p,b)=>b%m===0);return[l,d.minX,d.minY,d.maxX,d.maxY,...h].filter(Boolean)}function l2(t,e,r){let n=Array.from(t.bfs(e,bn((i,a)=>!t.hasOwner(a),Yr(e,r)))).filter(i=>t.isShore(i)).sort((i,a)=>t.manhattanDist(e,i)-t.manhattanDist(e,a));return n.length===0?null:n[0]}var u2=25,ur=class{constructor(e,r,n,i,a){this.attacker=e;this.targetID=r;this.ref=n;this.startTroops=i;this.src=a;this.ticksPerMove=1;this.active=!0;this.originalOwner=this.attacker}activeDuringSpawnPhase(){return!1}init(e,r){if(this.targetID!==null&&!e.hasPlayer(this.targetID)){console.warn(`TransportShipExecution: target ${this.targetID} not found`),this.active=!1;return}if(!e.isValidRef(this.ref)){console.warn(`TransportShipExecution: ref ${this.ref} not valid`),this.active=!1;return}if(this.src!==null&&!e.isValidRef(this.src)){console.warn(`TransportShipExecution: src ${this.src} not valid`),this.active=!1;return}if(this.lastMove=r,this.mg=e,this.pathFinder=Lt.Mini(e,1e4,!0,100),this.attacker.unitCount("Transport")>=e.config().boatMaxNumber()){e.displayMessage(`No boats available, max ${e.config().boatMaxNumber()}`,0,this.attacker.id()),this.active=!1;return}if(this.targetID===null||this.targetID===this.mg.terraNullius().id()?this.target=e.terraNullius():this.target=e.player(this.targetID),this.startTroops??(this.startTroops=this.mg.config().boatAttackAmount(this.attacker,this.target)),this.startTroops=Math.min(this.startTroops,this.attacker.troops()),this.dst=Vo(this.mg,this.ref),this.dst===null){console.warn(`${this.attacker} cannot send ship to ${this.target}, cannot find attack tile`),this.active=!1;return}let n=this.attacker.canBuild("Transport",this.dst);if(n===!1){console.warn("can't build transport ship"),this.active=!1;return}this.src===null?this.src=n:(this.mg.owner(this.src)!==this.attacker||!this.mg.isShore(this.src))&&(console.warn(`src is not a shore tile or not owned by: ${this.attacker.name()}`),this.src=n),this.boat=this.attacker.buildUnit("Transport",this.src,{troops:this.startTroops}),this.dst!==null?this.boat.setTargetTile(this.dst):this.boat.setTargetTile(void 0),this.targetID&&this.targetID!==e.terraNullius().id()&&e.displayIncomingUnit(this.boat.id(),`Naval invasion incoming from ${this.attacker.displayName()}`,7,this.targetID),this.mg.stats().boatSendTroops(this.attacker,this.target,this.boat.troops())}tick(e){if(this.dst===null){this.active=!1;return}if(!this.active)return;if(!this.boat.isActive()){this.active=!1;return}if(e-this.lastMove<this.ticksPerMove)return;this.lastMove=e;let r=this.boat.owner();if(this.originalOwner.isDisconnected()&&r!==this.originalOwner&&r.isOnSameTeam(this.originalOwner)&&(this.attacker=r,this.originalOwner=r),this.boat.retreating()){if(this.mg.owner(this.src)!==this.attacker){let i=this.attacker.bestTransportShipSpawn(this.dst);i===!1?this.src=null:this.src=i}if(this.src===null){console.warn("TransportShipExecution: retreating but no src found for new attacker"),this.attacker.addTroops(this.boat.troops()),this.boat.delete(!1),this.active=!1;return}else this.dst=this.src,this.boat.targetTile()!==this.dst&&this.boat.setTargetTile(this.dst)}let n=this.pathFinder.nextTile(this.boat.tile(),this.dst);switch(n.type){case 2:if(this.mg.owner(this.dst)===this.attacker){let i=this.boat.troops()*(u2/100),a=this.boat.troops()-i;this.attacker.addTroops(a),this.boat.delete(!1),this.active=!1,this.mg.stats().boatArriveTroops(this.attacker,this.target,a),i&&this.mg.displayMessage(`Attack cancelled, ${lr(i)} soldiers killed during retreat.`,1,this.attacker.id());return}this.attacker.conquer(this.dst),this.target.isPlayer()&&this.attacker.isFriendly(this.target)?this.attacker.addTroops(this.boat.troops()):this.mg.addExecution(new St(this.boat.troops(),this.attacker,this.targetID,this.dst,!1)),this.boat.delete(!1),this.active=!1,this.mg.stats().boatArriveTroops(this.attacker,this.target,this.boat.troops());return;case 0:this.boat.move(n.node);break;case 1:break;case 3:console.warn("path not found to dst"),this.attacker.addTroops(this.boat.troops()),this.boat.delete(!1),this.active=!1;return}}owner(){return this.attacker}isActive(){return this.active}};var ze=class ze{constructor(e,r){this.nation=r;this.active=!0;this.behavior=null;this.player=null;this.lastEmojiSent=new Map;this.lastNukeSent=[];this.lastMIRVSent=[];this.embargoMalusApplied=new Set;this.trackedTransportShips=new Set;this.trackedTradeShips=new Set;this.mirvTargetsCache=null;this.random=new D(F(r.playerInfo.id)+F(e)),this.attackRate=this.random.nextInt(40,80),this.attackTick=this.random.nextInt(0,this.attackRate),this.triggerRatio=this.random.nextInt(50,60)/100,this.reserveRatio=this.random.nextInt(30,40)/100,this.expandRatio=this.random.nextInt(10,20)/100}init(e){this.mg=e,this.random.chance(10)}updateRelationsFromEmbargos(){let e=this.player;if(e===null)return;this.mg.players().filter(n=>n.id()!==e.id()).forEach(n=>{n.hasEmbargoAgainst(e)&&!this.embargoMalusApplied.has(n.id())?(e.updateRelation(n,-20),this.embargoMalusApplied.add(n.id())):!n.hasEmbargoAgainst(e)&&this.embargoMalusApplied.has(n.id())&&(e.updateRelation(n,20),this.embargoMalusApplied.delete(n.id()))})}handleEmbargoesToHostileNations(){let e=this.player;if(e===null)return;this.mg.players().filter(n=>n.id()!==e.id()).forEach(n=>{e.relation(n)<=0&&!e.hasEmbargoAgainst(n)&&!e.isOnSameTeam(n)?e.addEmbargo(n,!1):e.relation(n)>=2&&e.hasEmbargoAgainst(n)&&e.stopEmbargo(n)})}tick(e){if(this.player!==null&&this.player.isAlive()&&this.mg.config().gameConfig().difficulty!=="Easy"&&(this.trackTransportShipsAndRetaliate(),this.trackTradeShipsAndRetaliate()),e%this.attackRate===this.attackTick){if(this.mg.inSpawnPhase()){let r=this.randomSpawnLand();if(r===null){console.warn(`cannot spawn ${this.nation.playerInfo.name}`);return}this.mg.addExecution(new ut(this.nation.playerInfo,r));return}if(!(this.player===null&&(this.player=this.mg.players().find(r=>r.id()===this.nation.playerInfo.id)??null,this.player===null))){if(!this.player.isAlive()){this.active=!1;return}if(this.behavior===null){this.behavior=new Hr(this.random,this.mg,this.player,this.triggerRatio,this.reserveRatio,this.expandRatio),this.behavior.forceSendAttack(this.mg.terraNullius());return}this.updateRelationsFromEmbargos(),this.behavior.handleAllianceRequests(),this.behavior.handleAllianceExtensionRequests(),this.handleUnits(),this.handleEmbargoesToHostileNations(),this.considerMIRV(),this.maybeAttack()}}}maybeAttack(){if(this.player===null||this.behavior===null)throw new Error("not initialized");let e=Array.from(this.player.borderTiles()).flatMap(i=>this.mg.neighbors(i)).filter(i=>this.mg.isLand(i)&&this.mg.ownerID(i)!==this.player?.smallID()),r=[];if(e.length===0)this.random.chance(5)&&this.sendBoatRandomly();else{if(this.random.chance(10)){this.sendBoatRandomly();return}let i=e.map(a=>this.mg.playerBySmallID(this.mg.ownerID(a)));if(i.some(a=>!a.isPlayer())){this.behavior.sendAttack(this.mg.terraNullius());return}if(r=i.filter(a=>a.isPlayer()).sort((a,o)=>a.troops()-o.troops()),this.random.chance(20)){let a=this.random.randElement(r);this.player.canSendAllianceRequest(a)&&this.mg.addExecution(new Vr(this.player,a.id()))}}this.behavior.forgetOldEnemies(),this.behavior.assistAllies();let n=this.behavior.selectEnemy(r);n&&(this.maybeSendEmoji(n),this.maybeSendNuke(n),this.player.sharesBorderWith(n)?this.behavior.sendAttack(n):this.maybeSendBoatAttack(n))}maybeSendEmoji(e){if(this.player===null)throw new Error("not initialized");if(e.type()!=="HUMAN")return;let r=this.lastEmojiSent.get(e)??-300;this.mg.ticks()-r<=300||(this.lastEmojiSent.set(e,this.mg.ticks()),this.mg.addExecution(new Ot(this.player,e.id(),this.random.randElement(ib))))}maybeSendNuke(e){if(this.player===null)throw new Error("not initialized");let r=this.player.units("Missile Silo");if(r.length===0||this.player.gold()<this.cost("Atom Bomb")||e.type()==="BOT"||this.player.isOnSameTeam(e))return;let n=this.player.gold()>this.cost("Hydrogen Bomb")?"Hydrogen Bomb":"Atom Bomb",i=n==="Hydrogen Bomb"?60:15,a=e.units("City","Defense Post","Missile Silo","Port","SAM Launcher"),o=a.map(m=>m.tile()),l=this.randTerritoryTileArray(10).concat(o),d=null,c=0;this.removeOldNukeEvents();e:for(let m of new Set(l)){if(m===null)continue;let h=ul(this.mg,m,i).concat(ul(this.mg,m,Math.floor(i/2)));for(let p of h)if(this.mg.owner(p)!==e)continue e;if(!this.player.canBuild(n,m))continue;let f=this.nukeTileScore(m,r,a);f>c&&(d=m,c=f)}d!==null&&this.sendNuke(d,n)}removeOldNukeEvents(){let r=this.mg.ticks();for(;this.lastNukeSent.length>0&&this.lastNukeSent[0][0]+500<r;)this.lastNukeSent.shift()}sendNuke(e,r){if(this.player===null)throw new Error("not initialized");let n=this.mg.ticks();this.lastNukeSent.push([n,e]),this.mg.addExecution(new Bt(r,this.player,e))}nukeTileScore(e,r,n){let i=yn(e,25,!1),a=n.filter(h=>i(this.mg,h.tile())).map(h=>{switch(h.type()){case"City":return 25e3;case"Defense Post":return 5e3;case"Missile Silo":return 5e4;case"Port":return 1e4;default:return 0}}).reduce((h,f)=>h+f,0),o=yn(e,50,!1);a-=5e4*n.filter(h=>h.type()==="SAM Launcher"&&o(this.mg,h.tile())).length;let s=r.map(h=>h.tile()),l=zt(this.mg,s,[e]);if(l===null)throw new Error("Missing result");let{x:d}=l,c=this.mg.euclideanDistSquared(e,d),m=Math.sqrt(c);return a-=m*30,a-=this.lastNukeSent.filter(([h,f])=>i(this.mg,f)).map(h=>1e6).reduce((h,f)=>h+f,0),a}maybeSendBoatAttack(e){if(this.player===null)throw new Error("not initialized");if(this.player.isFriendly(e))return;let r=zt(this.mg,Array.from(this.player.borderTiles()).filter(n=>this.mg.isOceanShore(n)),Array.from(e.borderTiles()).filter(n=>this.mg.isOceanShore(n)));r!==null&&this.mg.addExecution(new ur(this.player,e.id(),r.y,this.player.troops()/5,null))}handleUnits(){return this.maybeSpawnStructure("City",e=>e)||this.maybeSpawnStructure("Port",e=>e)||this.maybeSpawnWarship()||this.maybeSpawnStructure("Factory",e=>e)||this.maybeSpawnStructure("Defense Post",e=>(e+2)**2)||this.maybeSpawnStructure("SAM Launcher",e=>e**2)||this.maybeSpawnStructure("Missile Silo",e=>e**2)}maybeSpawnStructure(e,r){if(this.player===null)throw new Error("not initialized");let n=this.player.unitsOwned(e),i=r(n+1),o=this.cost(e)*BigInt(i);if(this.player.gold()<o)return!1;let s=this.structureSpawnTile(e);return s===null||this.player.canBuild(e,s)===!1?!1:(this.mg.addExecution(new Gt(this.player,e,s)),!0)}structureSpawnTile(e){if(this.mg===void 0)throw new Error("Not initialized");if(this.player===null)throw new Error("Not initialized");let r=e==="Port"?this.randCoastalTileArray(25):this.randTerritoryTileArray(25);if(r.length===0)return null;let n=db(this.mg,this.player,e),i=null,a=0;for(let o of r){let s=n(o);s<=a&&i!==null||this.player.canBuild(e,o)&&(i=o,a=s)}return i}randCoastalTileArray(e){let r=Array.from(this.player.borderTiles()).filter(n=>this.mg.isOceanShore(n));return Array.from(this.arraySampler(r,e))}*arraySampler(e,r){if(e.length<=r)yield*e;else{let n=new Set(e);for(;r--;){let i=this.random.randFromSet(n);n.delete(i),yield i}}}maybeSpawnWarship(){if(this.player===null)throw new Error("not initialized");if(!this.random.chance(50))return!1;let e=this.player.units("Port"),r=this.player.units("Warship");if(e.length>0&&r.length===0&&this.player.gold()>this.cost("Warship")){let n=this.random.randElement(e),i=this.warshipSpawnTile(n.tile());return i===null?!1:this.player.canBuild("Warship",i)===!1?(console.warn("cannot spawn destroyer"),!1):(this.mg.addExecution(new Gt(this.player,"Warship",i)),!0)}return!1}randTerritoryTileArray(e){let r=Ve(this.mg,this.player.borderTiles()),n=[];for(let i=0;i<e;i++){let a=this.randTerritoryTile(this.player,r);a!==null&&n.push(a)}return n}randTerritoryTile(e,r=null){r??(r=Ve(this.mg,e.borderTiles()));for(let n=0;n<100;n++){let i=this.random.nextInt(r.min.x,r.max.x),a=this.random.nextInt(r.min.y,r.max.y);if(!this.mg.isOnMap(new ee(i,a)))continue;let o=this.mg.ref(i,a);if(this.mg.owner(o)===e)return o}return null}warshipSpawnTile(e){for(let n=0;n<50;n++){let i=this.random.nextInt(this.mg.x(e)-250,this.mg.x(e)+250),a=this.random.nextInt(this.mg.y(e)-250,this.mg.y(e)+250);if(!this.mg.isValidCoord(i,a))continue;let o=this.mg.ref(i,a);if(this.mg.isOcean(o))return o}return null}cost(e){if(this.player===null)throw new Error("not initialized");return this.mg.unitInfo(e).cost(this.player)}sendBoatRandomly(){if(this.player===null)throw new Error("not initialized");let e=Array.from(this.player.borderTiles()).filter(i=>this.mg.isOceanShore(i));if(e.length===0)return;let r=this.random.randElement(e),n=this.randomBoatTarget(r,150,!0);n===null&&(n=this.randomBoatTarget(r,150,!1),n===null)||this.mg.addExecution(new ur(this.player,this.mg.owner(n).id(),n,this.player.troops()/5,null))}randomSpawnLand(){let r=0;for(;r<50;){r++;let n=this.nation.spawnCell,i=this.random.nextInt(n.x-25,n.x+25),a=this.random.nextInt(n.y-25,n.y+25);if(!this.mg.isValidCoord(i,a))continue;let o=this.mg.ref(i,a);if(this.mg.isLand(o)&&!this.mg.hasOwner(o)){if(this.mg.terrainType(o)===2&&this.random.chance(2))continue;return o}}return null}randomBoatTarget(e,r,n=!1){if(this.player===null)throw new Error("not initialized");let i=this.mg.x(e),a=this.mg.y(e);for(let o=0;o<500;o++){let s=this.random.nextInt(i-r,i+r),l=this.random.nextInt(a-r,a+r);if(!this.mg.isValidCoord(s,l))continue;let d=this.mg.ref(s,l);if(!this.mg.isLand(d))continue;let c=this.mg.owner(d);if(c!==this.player&&!(c.isPlayer()&&c.troops()>this.player.troops()*2)){if(n){if(!c.isPlayer()||c.type()==="BOT")return d}else if(!c.isPlayer()||!c.isFriendly(this.player))return d}}return null}considerMIRV(){if(this.player===null)throw new Error("not initialized");if(this.player.units("Missile Silo").length===0||this.player.gold()<this.cost("MIRV")||(this.removeOldMIRVEvents(),this.lastMIRVSent.length>0))return!1;if(this.random.chance(ze.MIRV_HESITATION_ODDS))return this.triggerMIRVCooldown(),!1;let e=this.selectCounterMirvTarget();if(e)return this.maybeSendMIRV(e),!0;let r=this.selectVictoryDenialTarget();if(r)return this.maybeSendMIRV(r),!0;let n=this.selectSteamrollStopTarget();return n?(this.maybeSendMIRV(n),!0):!1}selectCounterMirvTarget(){if(this.player===null)throw new Error("not initialized");let e=this.getValidMirvTargetPlayers().filter(r=>this.isInboundMIRVFrom(r));return e.length===0?null:(e.sort((r,n)=>n.numTilesOwned()-r.numTilesOwned()),e[0])}selectVictoryDenialTarget(){if(this.player===null)throw new Error("not initialized");let e=this.mg.numLandTiles();if(e===0)return null;let r=null;for(let n of this.getValidMirvTargetPlayers()){let i=0,a=n.team();if(a!==null){let o=this.mg.players().filter(d=>d.team()===a&&d.isPlayer()),l=o.map(d=>d.numTilesOwned()).reduce((d,c)=>d+c,0)/e;if(l>=ze.VICTORY_DENIAL_TEAM_THRESHOLD){let d=null,c=-1;for(let m of o){let h=m.numTilesOwned();h>c&&(c=h,d=m)}d===n?i=l:i=0}}else{let o=n.numTilesOwned()/e;o>=ze.VICTORY_DENIAL_INDIVIDUAL_THRESHOLD&&(i=o)}i>0&&(r===null||i>r.severity)&&(r={p:n,severity:i})}return r?r.p:null}selectSteamrollStopTarget(){if(this.player===null)throw new Error("not initialized");let e=this.getValidMirvTargetPlayers();if(e.length===0)return null;let r=this.mg.players().filter(o=>o.isPlayer()).map(o=>({p:o,cityCount:this.countCities(o)})).sort((o,s)=>s.cityCount-o.cityCount);if(r.length<2)return null;let n=r[0];if(n.cityCount<=ze.STEAMROLL_MIN_LEADER_CITIES)return null;let a=r[1].cityCount*ze.STEAMROLL_CITY_GAP_MULTIPLIER;return n.cityCount>=a&&e.some(o=>o===n.p)?n.p:null}getValidMirvTargetPlayers(){if(this.player===null)throw new Error("not initialized");if(this.mirvTargetsCache&&this.mg.ticks()-this.mirvTargetsCache.tick<20)return this.mirvTargetsCache.players;let r=this.mg.players().filter(n=>n!==this.player&&n.isPlayer()&&n.type()!=="BOT"&&!this.player.isOnSameTeam(n));return this.mirvTargetsCache={tick:this.mg.ticks(),players:r},r}isInboundMIRVFrom(e){if(this.player===null)throw new Error("not initialized");let r=e.units("MIRV");for(let n of r){let i=n.targetTile();if(!i||!this.mg.hasOwner(i))continue;if(this.mg.owner(i)===this.player)return!0}return!1}countCities(e){return e.unitCount("City")}calculateTerritoryCenter(e){return ab(this.mg,e)}maybeSendMIRV(e){if(this.player===null)throw new Error("not initialized");this.maybeSendEmoji(e);let r=this.calculateTerritoryCenter(e);if(r&&this.player.canBuild("MIRV",r)){this.sendMIRV(r);return}}sendMIRV(e){if(this.player===null)throw new Error("not initialized");this.triggerMIRVCooldown(e),this.mg.addExecution(new ri(this.player,e))}triggerMIRVCooldown(e){if(this.player===null)throw new Error("not initialized");this.removeOldMIRVEvents();let r=this.mg.ticks(),n=e??Array.from(this.player.tiles())[0]??this.mg.ref(0,0);this.lastMIRVSent.push([r,n])}removeOldMIRVEvents(){let e=ze.MIRV_COOLDOWN_TICKS,r=this.mg.ticks();for(;this.lastMIRVSent.length>0&&this.lastMIRVSent[0][0]+e<=r;)this.lastMIRVSent.shift()}trackTransportShipsAndRetaliate(){if(this.player!==null){this.player.units("Transport").forEach(e=>this.trackedTransportShips.add(e));for(let e of Array.from(this.trackedTransportShips))e.isActive()||(e.wasDestroyedByEnemy()&&this.maybeRetaliateWithWarship(e.tile()),this.trackedTransportShips.delete(e))}}trackTradeShipsAndRetaliate(){if(this.player!==null){this.player.units("Trade Ship").forEach(e=>this.trackedTradeShips.add(e));for(let e of Array.from(this.trackedTradeShips)){if(!e.isActive()){this.trackedTradeShips.delete(e);continue}e.owner().id()!==this.player.id()&&(this.maybeRetaliateWithWarship(e.tile()),this.trackedTradeShips.delete(e))}}}maybeRetaliateWithWarship(e){if(this.player===null)return;let{difficulty:r}=this.mg.config().gameConfig();if(r==="Medium"&&this.random.nextInt(0,100)<15||r==="Hard"&&this.random.nextInt(0,100)<50||r==="Impossible"&&this.random.nextInt(0,100)<80){if(this.player.canBuild("Warship",e)===!1)return;this.mg.addExecution(new Gt(this.player,"Warship",e))}}isActive(){return this.active}activeDuringSpawnPhase(){return!0}};ze.MIRV_COOLDOWN_TICKS=20,ze.MIRV_HESITATION_ODDS=7,ze.VICTORY_DENIAL_TEAM_THRESHOLD=.8,ze.VICTORY_DENIAL_INDIVIDUAL_THRESHOLD=.65,ze.STEAMROLL_CITY_GAP_MULTIPLIER=1.3,ze.STEAMROLL_MIN_LEADER_CITIES=10;var Ho=ze;var Yo=class{constructor(e,r){this.player=e;this.isDisconnected=r}init(e,r){this.player.markDisconnected(this.isDisconnected)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Ko=class{constructor(e,r,n){this.owner=e;this.unitId=r;this.position=n}init(e,r){if(!e.isValidRef(this.position)){console.warn(`MoveWarshipExecution: position ${this.position} not valid`);return}let n=this.owner.units("Warship").find(i=>i.id()===this.unitId);if(!n){console.warn("MoveWarshipExecution: warship not found");return}if(!n.isActive()){console.warn("MoveWarshipExecution: warship is not active");return}n.setPatrolTile(this.position),n.setTargetTile(void 0)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var Xo=class{isActive(){return!1}activeDuringSpawnPhase(){return!1}init(e,r){}tick(e){}};var Jo=class{constructor(e,r,n,i){this.sender=e;this.recipientID=r;this.quickChatKey=n;this.target=i;this.active=!0}init(e,r){if(this.mg=e,!e.hasPlayer(this.recipientID)){console.warn(`QuickChatExecution: recipient ${this.recipientID} not found`),this.active=!1;return}this.recipient=e.player(this.recipientID)}tick(e){let r=this.getMessageFromKey(this.quickChatKey);this.mg.displayChat(r[1],r[0],this.target,this.recipient.id(),!0,this.sender.id()),this.mg.displayChat(r[1],r[0],this.target,this.sender.id(),!1,this.recipient.id()),console.log(`[QuickChat] ${this.sender.name} \u2192 ${this.recipient.displayName}: ${r}`),this.active=!1}owner(){return this.sender}isActive(){return this.active}activeDuringSpawnPhase(){return!1}getMessageFromKey(e){return e.split(".")}};var c2=20,Qo=class{constructor(e,r){this.player=e;this.attackID=r;this.active=!0;this.retreatOrdered=!1}init(e,r){this.mg=e,this.startTick=e.ticks()}tick(e){this.retreatOrdered||(this.player.orderRetreat(this.attackID),this.retreatOrdered=!0),this.mg.ticks()>=this.startTick+c2&&(this.player.executeRetreat(this.attackID),this.active=!1)}owner(){return this.player}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var es=class{constructor(e,r){this.requestor=e;this.targetID=r;this.active=!0}init(e,r){if(!e.hasPlayer(this.targetID)){console.warn(`TargetPlayerExecution: target ${this.targetID} not found`),this.active=!1;return}this.target=e.player(this.targetID)}tick(e){this.requestor.canTarget(this.target)&&(this.requestor.target(this.target),this.target.updateRelation(this.requestor,-40)),this.active=!1}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var ts=class{constructor(e,r){this.player=e;this.unitId=r}init(e,r){if(this.structure=this.player.units().find(n=>n.id()===this.unitId),this.structure===void 0){console.warn("structure is undefined");return}if(!this.player.canUpgradeUnit(this.structure)){console.warn(`[UpgradeStructureExecution] unit type ${this.structure.type()} cannot be upgraded`);return}this.player.upgradeUnit(this.structure)}tick(e){}isActive(){return!1}activeDuringSpawnPhase(){return!1}};var ii=class ii{constructor(e,r){this.gm=e;this.players=[];this.random=new D(F(r))}randTile(){let e=this.random.nextInt(0,this.gm.width()),r=this.random.nextInt(0,this.gm.height());return this.gm.ref(e,r)}randomSpawnLand(){let e=0;for(;e<ii.MAX_SPAWN_TRIES;){e++;let r=this.randTile();if(!this.gm.isLand(r)||this.gm.hasOwner(r)||this.gm.isBorder(r))continue;let n=!1;for(let i of this.players)if(this.gm.manhattanDist(i.tile,r)<ii.MIN_SPAWN_DISTANCE){n=!0;break}if(!n)return r}return null}spawnPlayers(){for(let e of this.gm.allPlayers()){if(e.type()!=="HUMAN")continue;let r=this.randomSpawnLand();r!==null&&this.players.push(new ut(e.info(),r))}return this.players}};ii.MAX_SPAWN_TRIES=1e4,ii.MIN_SPAWN_DISTANCE=30;var rs=ii;var is=class{constructor(e,r,n){this.mg=e;this.gameID=r;this.clientID=n;this.random=new D(F(r)+1)}createExecs(e){return e.intents.map(r=>this.createExec(r))}createExec(e){let r=this.mg.playerByClientID(e.clientID);if(!r)return console.warn(`player with clientID ${e.clientID} not found`),new Xo;switch(e.type){case"attack":return new St(e.troops,r,e.targetID,null);case"cancel_attack":return new Qo(r,e.attackID);case"cancel_boat":return new _o(r,e.unitID);case"move_warship":return new Ko(r,e.unitId,e.tile);case"spawn":return new ut(r.info(),e.tile);case"boat":return new ur(r,e.targetID,e.dst,e.troops,e.src);case"allianceRequest":return new Vr(r,e.recipient);case"allianceRequestReply":return new bo(e.requestor,r,e.accept);case"breakAlliance":return new vo(r,e.recipient);case"targetPlayer":return new es(r,e.target);case"emoji":return new Ot(r,e.recipient,e.emoji);case"donate_troops":return new Zo(r,e.recipient,e.troops);case"donate_gold":return new Fo(r,e.recipient,e.gold);case"embargo":return new qo(r,e.targetID,e.action);case"embargo_all":return new Wo(r,e.action);case"build_unit":return new Gt(r,e.unit,e.tile);case"allianceExtension":return new qr(r,e.recipient);case"upgrade_structure":return new ts(r,e.unitId);case"delete_unit":return new Go(r,e.unitId);case"quick_chat":return new Jo(r,e.recipient,e.quickChatKey,e.target);case"mark_disconnected":return new Yo(r,e.isDisconnected);default:throw new Error(`intent type ${e} not found`)}}spawnBots(e){return new ko(this.mg,this.gameID).spawnBots(e)}spawnPlayers(){return new rs(this.mg,this.gameID).spawnPlayers()}fakeHumanExecutions(){let e=[];for(let r of this.mg.nations())e.push(new Ho(this.gameID,r));return e}};var ns=class{constructor(){this.active=!0;this.mg=null}init(e,r){this.mg=e}tick(e){if(e%10===0){if(this.mg===null)throw new Error("Not initialized");this.mg.config().gameConfig().gameMode==="Free For All"?this.checkWinnerFFA():this.checkWinnerTeam()}}checkWinnerFFA(){if(this.mg===null)throw new Error("Not initialized");let e=this.mg.players().sort((a,o)=>o.numTilesOwned()-a.numTilesOwned());if(e.length===0)return;let r=e[0],n=(this.mg.ticks()-this.mg.config().numSpawnPhaseTurns())/10,i=this.mg.numLandTiles()-this.mg.numTilesWithFallout();(r.numTilesOwned()/i*100>this.mg.config().percentageTilesOwnedToWin()||this.mg.config().gameConfig().maxTimerValue!==void 0&&n-this.mg.config().gameConfig().maxTimerValue*60>=0)&&(this.mg.setWinner(r,this.mg.stats().stats()),console.log(`${r.name()} has won the game`),this.active=!1)}checkWinnerTeam(){if(this.mg===null)throw new Error("Not initialized");let e=new Map;for(let s of this.mg.players()){let l=s.team();l!==null&&e.set(l,(e.get(l)??0)+s.numTilesOwned())}let r=Array.from(e.entries()).sort((s,l)=>l[1]-s[1]);if(r.length===0)return;let n=r[0],i=(this.mg.ticks()-this.mg.config().numSpawnPhaseTurns())/10,a=this.mg.numLandTiles()-this.mg.numTilesWithFallout();if(n[1]/a*100>this.mg.config().percentageTilesOwnedToWin()||this.mg.config().gameConfig().maxTimerValue!==void 0&&i-this.mg.config().gameConfig().maxTimerValue*60>=0){if(n[0]===V.Bot)return;this.mg.setWinner(n[0],this.mg.stats().stats()),console.log(`${n[0]} has won the game`),this.active=!1}}isActive(){return this.active}activeDuringSpawnPhase(){return!1}};var as=class{constructor(e,r,n,i,a){this.mg=e;this.requestor_=r;this.recipient_=n;this.createdAt_=i;this.id_=a;this.extensionRequestedRequestor_=!1;this.extensionRequestedRecipient_=!1;this.expiresAt_=i+e.config().allianceDuration()}other(e){return this.requestor_===e?this.recipient_:this.requestor_}requestor(){return this.requestor_}recipient(){return this.recipient_}createdAt(){return this.createdAt_}expire(){this.mg.expireAlliance(this)}addExtensionRequest(e){this.requestor_===e?this.extensionRequestedRequestor_=!0:this.recipient_===e&&(this.extensionRequestedRecipient_=!0)}bothAgreedToExtend(){return this.extensionRequestedRequestor_&&this.extensionRequestedRecipient_}onlyOneAgreedToExtend(){return this.extensionRequestedRequestor_!==this.extensionRequestedRecipient_}id(){return this.id_}extend(){this.extensionRequestedRequestor_=!1,this.extensionRequestedRecipient_=!1,this.expiresAt_=this.mg.ticks()+this.mg.config().allianceDuration()}expiresAt(){return this.expiresAt_}};var os=class{constructor(e,r,n,i){this.requestor_=e;this.recipient_=r;this.tickCreated=n;this.game=i;this.status_="pending"}status(){return this.status_}requestor(){return this.requestor_}recipient(){return this.recipient_}createdAt(){return this.tickCreated}accept(){this.status_="accepted",this.game.acceptAllianceRequest(this)}reject(){this.status_="rejected",this.game.rejectAllianceRequest(this)}toUpdate(){return{type:5,requestorID:this.requestor_.smallID(),recipientID:this.recipient_.smallID(),createdAt:this.tickCreated}}};var Y=el(Wb(),1);var B4=Y.default.DataSet,G4=Y.default.ParserError,F4=Y.default.PhraseBuilder,qb=Y.default.RegExpMatcher,Z4=Y.default.SyntaxKind,W4=Y.default.TextCensor,q4=Y.default.assignIncrementingIds,V4=Y.default.asteriskCensorStrategy,Vb=Y.default.collapseDuplicatesTransformer,H4=Y.default.compareMatchByPositionAndId,Hb=Y.default.englishDataset,Y4=Y.default.englishRecommendedBlacklistMatcherTransformers,Yb=Y.default.englishRecommendedTransformers,K4=Y.default.englishRecommendedWhitelistMatcherTransformers,X4=Y.default.fixedCharCensorStrategy,J4=Y.default.fixedPhraseCensorStrategy,Q4=Y.default.grawlixCensorStrategy,e6=Y.default.keepEndCensorStrategy,t6=Y.default.keepStartCensorStrategy,r6=Y.default.parseRawPattern,i6=Y.default.pattern,n6=Y.default.randomCharFromSetCensorStrategy,a6=Y.default.remapCharactersTransformer,Kb=Y.default.resolveConfusablesTransformer,Xb=Y.default.resolveLeetSpeakTransformer,Jb=Y.default.skipNonAlphabeticTransformer,o6=Y.default.toAsciiLowerCaseTransformer;var fS=new qb({...Hb.build(),...Yb,...Kb(),...Jb(),...Vb(),...Xb()}),gS=3,yS=27,bS=/^[a-zA-Z0-9_[\] ]+$/u,Qb=["NicePeopleOnly","BeKindPlz","LearningManners","StayClassy","BeNicer","NeedHugs","MakeFriends"];function vS(t){return Nh(t)?Qb[F(t)%Qb.length]:t}function Nh(t){return fS.hasMatch(t)}function ev(t){let e=Un(t),r=Cp(e),n=r?e.replace(`[${r}]`,"").trim():e,i=r?Nh(r):!1,a=Nh(n),o=a?vS(n):n;return r&&!i?a?`[${r}] ${o}`:e:o}function tv(t){return Array.from(t).filter(r=>bS.test(r)).join("").slice(0,yS).padEnd(gS,"x")}var Ms=class{constructor(e,r,n,i,a,o,s){this._id=e;this._target=r;this._attacker=n;this._troops=i;this._sourceTile=a;this._border=o;this._mg=s;this._isActive=!0;this._borderSize=0;this._retreating=!1;this._retreated=!1}sourceTile(){return this._sourceTile}target(){return this._target}attacker(){return this._attacker}troops(){return this._troops}setTroops(e){this._troops=e}isActive(){return this._isActive}id(){return this._id}delete(){this._target.isPlayer()&&(this._target._incomingAttacks=this._target._incomingAttacks.filter(e=>e!==this)),this._attacker._outgoingAttacks=this._attacker._outgoingAttacks.filter(e=>e!==this),this._isActive=!1}orderRetreat(){this._retreating=!0}executeRetreat(){this._retreated=!0}retreating(){return this._retreating}retreated(){return this._retreated}borderSize(){return this._borderSize}clearBorder(){this._borderSize=0,this._border.clear()}addBorderTile(e){this._border.has(e)||(this._borderSize+=1,this._border.add(e))}removeBorderTile(e){this._border.has(e)&&(this._borderSize-=1,this._border.delete(e))}averagePosition(){if(this._borderSize===0){if(this.sourceTile()===null)return null;let n=this.sourceTile();return new ee(this._mg.map().x(n),this._mg.map().y(n))}let e=0,r=0;for(let n of this._border)e+=this._mg.map().x(n),r+=this._mg.map().y(n);return e=e/this._borderSize,r=r/this._borderSize,new ee(e,r)}};var Ds=class{constructor(e,r,n,i,a,o={}){this._type=e;this.mg=r;this._tile=n;this._id=i;this._owner=a;this._active=!0;this._retreating=!1;this._targetedBySAM=!1;this._reachedTarget=!1;this._wasDestroyedByEnemy=!1;this._lastOwner=null;this._missileTimerQueue=[];this._hasTrainStation=!1;this._level=1;this._targetable=!0;this._trajectoryIndex=0;this._deletionAt=null;switch(this._lastTile=n,this._health=et(this.mg.unitInfo(e).maxHealth??1),this._targetTile="targetTile"in o?o.targetTile??void 0:void 0,this._trajectory="trajectory"in o?o.trajectory??[]:[],this._troops="troops"in o?o.troops??0:0,this._lastSetSafeFromPirates="lastSetSafeFromPirates"in o?o.lastSetSafeFromPirates??0:0,this._patrolTile="patrolTile"in o?o.patrolTile??void 0:void 0,this._targetUnit="targetUnit"in o?o.targetUnit??void 0:void 0,this._loaded="loaded"in o?o.loaded??void 0:void 0,this._trainType="trainType"in o?o.trainType:void 0,this._type){case"Warship":case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":this.mg.stats().unitBuild(a,this._type)}}setTargetable(e){this._targetable!==e&&(this._targetable=e,this.mg.addUpdate(this.toUpdate()))}isTargetable(){return this._targetable}setPatrolTile(e){this._patrolTile=e}patrolTile(){return this._patrolTile}isUnit(){return!0}touch(){this.mg.addUpdate(this.toUpdate())}setTileTarget(e){this._targetTile=e}tileTarget(){return this._targetTile}id(){return this._id}toUpdate(){return{type:1,unitType:this._type,id:this._id,troops:this._troops,ownerID:this._owner.smallID(),lastOwnerID:this._lastOwner?.smallID(),isActive:this._active,reachedTarget:this._reachedTarget,retreating:this._retreating,pos:this._tile,markedForDeletion:this._deletionAt??!1,targetable:this._targetable,lastPos:this._lastTile,health:this.hasHealth()?Number(this._health):void 0,constructionType:this._constructionType,targetUnitId:this._targetUnit?.id()??void 0,targetTile:this.targetTile()??void 0,missileTimerQueue:this._missileTimerQueue,level:this.level(),hasTrainStation:this._hasTrainStation,trainType:this._trainType,loaded:this._loaded}}type(){return this._type}lastTile(){return this._lastTile}move(e){if(e===null)throw new Error("tile cannot be null");this._lastTile=this._tile,this._tile=e,this.mg.updateUnitTile(this),this.mg.addUpdate(this.toUpdate())}setTroops(e){this._troops=e}troops(){return this._troops}health(){return Number(this._health)}hasHealth(){return this.info().maxHealth!==void 0}tile(){return this._tile}owner(){return this._owner}info(){return this.mg.unitInfo(this._type)}setOwner(e){switch(this.clearPendingDeletion(),this._type){case"Warship":case"Port":case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":this.mg.stats().unitCapture(e,this._type),this.mg.stats().unitLose(this._owner,this._type);break}this._lastOwner=this._owner,this._lastOwner._units=this._lastOwner._units.filter(r=>r!==this),this._owner=e,this._owner._units.push(this),this.mg.addUpdate(this.toUpdate()),this.mg.displayMessage(`Your ${this.type()} was captured by ${e.displayName()}`,11,this._lastOwner.id()),this.mg.displayMessage(`Captured ${this.type()} from ${this._lastOwner.displayName()}`,10,e.id())}modifyHealth(e,r){this._health=Ep(this._health+et(e),0n,et(this.info().maxHealth??1)),this._health===0n&&this.delete(!0,r)}clearPendingDeletion(){this._deletionAt=null}isMarkedForDeletion(){return this._deletionAt!==null}markForDeletion(){this.isActive()&&(this._deletionAt=this.mg.ticks()+this.mg.config().deletionMarkDuration(),this.mg.addUpdate(this.toUpdate()))}isOverdueDeletion(){return this.isActive()?this._deletionAt!==null&&this.mg.ticks()-this._deletionAt>0:!1}delete(e,r){if(!this.isActive())throw new Error(`cannot delete ${this} not active`);if(this._wasDestroyedByEnemy=r!==void 0,this._owner._units=this._owner._units.filter(n=>n!==this),this._active=!1,this.mg.addUpdate(this.toUpdate()),this.mg.removeUnit(this),e!==!1&&this._type!=="MIRV Warhead"&&this.mg.displayMessage(`Your ${this._type} was destroyed`,12,this.owner().id()),r!==void 0)switch(this._type){case"Transport":this.mg.stats().boatDestroyTroops(r,this._owner,this._troops);break;case"Trade Ship":this.mg.stats().boatDestroyTrade(r,this._owner);break;case"City":case"Defense Post":case"Missile Silo":case"Port":case"SAM Launcher":case"Warship":case"Factory":this.mg.stats().unitDestroy(r,this._type),this.mg.stats().unitLose(this.owner(),this._type);break}}isActive(){return this._active}wasDestroyedByEnemy(){return this._wasDestroyedByEnemy}retreating(){return this._retreating}orderBoatRetreat(){if(this.type()!=="Transport")throw new Error(`Cannot retreat ${this.type()}`);this._retreating=!0}constructionType(){if(this.type()!=="Construction")throw new Error(`Cannot get construction type on ${this.type()}`);return this._constructionType??null}setConstructionType(e){if(this.type()!=="Construction")throw new Error(`Cannot set construction type on ${this.type()}`);this._constructionType=e,this.mg.addUpdate(this.toUpdate())}hash(){return this.tile()+F(this.type())*this._id}toString(){return`Unit:${this._type},owner:${this.owner().name()}`}launch(){this._missileTimerQueue.push(this.mg.ticks()),this.mg.addUpdate(this.toUpdate())}ticksLeftInCooldown(){return this._missileTimerQueue[0]}isInCooldown(){return this._missileTimerQueue.length===this._level}missileTimerQueue(){return this._missileTimerQueue}reloadMissile(){this._missileTimerQueue.shift(),this.mg.addUpdate(this.toUpdate())}setTargetTile(e){this._targetTile=e}targetTile(){return this._targetTile}setTrajectoryIndex(e){let r=this._trajectory.length-1;this._trajectoryIndex=e<0?0:e>r?r:e}trajectoryIndex(){return this._trajectoryIndex}trajectory(){return this._trajectory}setTargetUnit(e){this._targetUnit=e}targetUnit(){return this._targetUnit}setTargetedBySAM(e){this._targetedBySAM=e}targetedBySAM(){return this._targetedBySAM}setReachedTarget(){this._reachedTarget=!0}reachedTarget(){return this._reachedTarget}setSafeFromPirates(){this._lastSetSafeFromPirates=this.mg.ticks()}isSafeFromPirates(){return this.mg.ticks()-this._lastSetSafeFromPirates<this.mg.config().safeFromPiratesCooldownMax()}level(){return this._level}setTrainStation(e){this._hasTrainStation=e,this.mg.addUpdate(this.toUpdate())}hasTrainStation(){return this._hasTrainStation}increaseLevel(){this._level++,["Missile Silo","SAM Launcher"].includes(this.type())&&this._missileTimerQueue.push(this.mg.ticks()),this.mg.addUpdate(this.toUpdate())}decreaseLevel(e){if(this._level--,["Missile Silo","SAM Launcher"].includes(this.type())&&this._missileTimerQueue.pop(),this._level<=0){this.delete(!0,e);return}this.mg.addUpdate(this.toUpdate())}trainType(){return this._trainType}isLoaded(){return this._loaded}setLoaded(e){this._loaded!==e&&(this._loaded=e,this.mg.addUpdate(this.toUpdate()))}};var Ns=class{constructor(e,r){this.recipient=e;this.tick=r}},Us=class{constructor(e,r,n,i,a){this.mg=e;this._smallID=r;this.playerInfo=n;this._team=a;this._lastTileChange=0;this.markedTraitorTick=-1;this._betrayalCount=0;this.embargoes=new Map;this._borderTiles=new Set;this._units=[];this._tiles=new Set;this.pastOutgoingAllianceRequests=[];this._expiredAlliances=[];this.targets_=[];this.outgoingEmojis_=[];this.sentDonations=[];this.relations=new Map;this.lastDeleteUnitTick=-1;this.lastEmbargoAllTick=-1;this._incomingAttacks=[];this._outgoingAttacks=[];this._outgoingLandAttacks=[];this._hasSpawned=!1;this._isDisconnected=!1;this.numUnitsConstructed={};this._name=tv(n.name),this._troops=et(i),this._gold=0n,this._displayName=this._name,this._pseudo_random=new D(F(this.playerInfo.id))}toUpdate(){let e=this.outgoingAllianceRequests().map(r=>r.recipient().id());return{type:2,clientID:this.clientID(),name:this.name(),displayName:this.displayName(),id:this.id(),team:this.team()??void 0,smallID:this.smallID(),playerType:this.type(),isAlive:this.isAlive(),isDisconnected:this.isDisconnected(),tilesOwned:this.numTilesOwned(),gold:this._gold,troops:this.troops(),allies:this.alliances().map(r=>r.other(this).smallID()),embargoes:new Set([...this.embargoes.keys()].map(r=>r.toString())),isTraitor:this.isTraitor(),traitorRemainingTicks:this.getTraitorRemainingTicks(),targets:this.targets().map(r=>r.smallID()),outgoingEmojis:this.outgoingEmojis(),outgoingAttacks:this._outgoingAttacks.map(r=>({attackerID:r.attacker().smallID(),targetID:r.target().smallID(),troops:r.troops(),id:r.id(),retreating:r.retreating()})),incomingAttacks:this._incomingAttacks.map(r=>({attackerID:r.attacker().smallID(),targetID:r.target().smallID(),troops:r.troops(),id:r.id(),retreating:r.retreating()})),outgoingAllianceRequests:e,alliances:this.alliances().map(r=>({id:r.id(),other:r.other(this).id(),createdAt:r.createdAt(),expiresAt:r.expiresAt(),hasExtensionRequest:r.expiresAt()<=this.mg.ticks()+this.mg.config().allianceExtensionPromptOffset()})),hasSpawned:this.hasSpawned(),betrayals:this._betrayalCount,lastDeleteUnitTick:this.lastDeleteUnitTick}}smallID(){return this._smallID}name(){return this._name}displayName(){return this._displayName}clientID(){return this.playerInfo.clientID}id(){return this.playerInfo.id}type(){return this.playerInfo.playerType}clan(){return this.playerInfo.clan}units(...e){if(e.length===0)return this._units;let r=new Set(e);return this._units.filter(n=>r.has(n.type()))}recordUnitConstructed(e){this.numUnitsConstructed[e]!==void 0?this.numUnitsConstructed[e]++:this.numUnitsConstructed[e]=1}unitsConstructed(e){let r=this.numUnitsConstructed[e]??0,n=0;for(let a of this._units)a.type()==="Construction"&&a.constructionType()===e&&n++;return n+r}unitCount(e){let r=0;for(let n of this._units)n.type()===e&&(r+=n.level());return r}unitsOwned(e){let r=0;for(let n of this._units){if(n.type()===e){r+=n.level();continue}n.type()==="Construction"&&n.constructionType()===e&&r++}return r}sharesBorderWith(e){for(let r of this._borderTiles)for(let n of this.mg.map().neighbors(r))if(this.mg.map().ownerID(n)===e.smallID())return!0;return!1}numTilesOwned(){return this._tiles.size}tiles(){return new Set(this._tiles.values())}borderTiles(){return this._borderTiles}neighbors(){let e=new Set;for(let r of this.borderTiles())for(let n of this.mg.map().neighbors(r))if(this.mg.map().isLand(n)){let i=this.mg.map().ownerID(n);i!==this.smallID()&&e.add(this.mg.playerBySmallID(i))}return Array.from(e)}isPlayer(){return!0}setTroops(e){this._troops=et(e)}conquer(e){this.mg.conquer(this,e)}orderRetreat(e){let r=this._outgoingAttacks.filter(n=>n.id()===e);if(!r||!r[0]){console.warn(`Didn't find outgoing attack with id ${e}`);return}r[0].orderRetreat()}executeRetreat(e){let r=this._outgoingAttacks.filter(n=>n.id()===e);!r||!r[0]||r[0].executeRetreat()}relinquish(e){if(this.mg.owner(e)!==this)throw new Error("Cannot relinquish tile not owned by this player");this.mg.relinquish(e)}info(){return this.playerInfo}isAlive(){return this._tiles.size>0}hasSpawned(){return this._hasSpawned}setHasSpawned(e){this._hasSpawned=e}incomingAllianceRequests(){return this.mg.allianceRequests.filter(e=>e.recipient()===this)}outgoingAllianceRequests(){return this.mg.allianceRequests.filter(e=>e.requestor()===this)}alliances(){return this.mg.alliances_.filter(e=>e.requestor()===this||e.recipient()===this)}expiredAlliances(){return[...this._expiredAlliances]}allies(){return this.alliances().map(e=>e.other(this))}isAlliedWith(e){return e===this?!1:this.allianceWith(e)!==null}allianceWith(e){return e===this?null:this.alliances().find(r=>r.recipient()===e||r.requestor()===e)??null}canSendAllianceRequest(e){if(e===this||this.isDisconnected()||e.isDisconnected()||this.isFriendly(e)||!this.isAlive()||this.outgoingAllianceRequests().some(a=>a.recipient()===e))return!1;let n=this.pastOutgoingAllianceRequests.filter(a=>a.recipient()===e).sort((a,o)=>o.createdAt()-a.createdAt());return n.length===0?!0:this.mg.ticks()-n[0].createdAt()>=this.mg.config().allianceRequestCooldown()}breakAlliance(e){this.mg.breakAlliance(this,e)}isTraitor(){return this.getTraitorRemainingTicks()>0}getTraitorRemainingTicks(){if(this.markedTraitorTick<0)return 0;let e=this.mg.ticks()-this.markedTraitorTick,n=this.mg.config().traitorDuration()-e;return n>0?n:0}markTraitor(){this.markedTraitorTick=this.mg.ticks(),this._betrayalCount++,this.mg.stats().betray(this)}betrayals(){return this._betrayalCount}createAllianceRequest(e){if(this.isAlliedWith(e))throw new Error("cannot create alliance request, already allies");return this.mg.createAllianceRequest(this,e)}relation(e){if(e===this)throw new Error(`cannot get relation with self: ${this}`);let r=this.relations.get(e)??0;return this.relationFromValue(r)}relationFromValue(e){return e<-50?0:e<0?1:e<50?2:3}allRelationsSorted(){return Array.from(this.relations,([e,r])=>({player:e,relation:r})).sort((e,r)=>e.relation-r.relation).map(e=>({player:e.player,relation:this.relationFromValue(e.relation)}))}updateRelation(e,r){if(e===this)throw new Error(`cannot update relation with self: ${this}`);let n=this.relations.get(e)??0,i=$t(n+r,-100,100);this.relations.set(e,i)}decayRelations(){this.relations.forEach((e,r)=>{let n=-1*Math.sign(e),i=.05;e+=n*i,Math.abs(e)<i*2&&(e=0),this.relations.set(r,e)})}canTarget(e){if(this===e||this.isFriendly(e))return!1;for(let r of this.targets_)if(this.mg.ticks()-r.tick<this.mg.config().targetCooldown())return!1;return!0}target(e){this.targets_.push({tick:this.mg.ticks(),target:e}),this.mg.target(this,e)}targets(){return this.targets_.filter(e=>this.mg.ticks()-e.tick<this.mg.config().targetDuration()).map(e=>e.target)}transitiveTargets(){let e=this.alliances().map(r=>r.other(this)).flatMap(r=>r.targets());return e.push(...this.targets()),[...new Set(e)]}sendEmoji(e,r){if(e===this)throw Error(`Cannot send emoji to oneself: ${this}`);let n={message:r,senderID:this.smallID(),recipientID:e===tt?e:e.smallID(),createdAt:this.mg.ticks()};this.outgoingEmojis_.push(n),this.mg.sendEmojiUpdate(n)}outgoingEmojis(){return this.outgoingEmojis_.filter(e=>this.mg.ticks()-e.createdAt<this.mg.config().emojiMessageDuration()).sort((e,r)=>r.createdAt-e.createdAt)}canSendEmoji(e){if(e===this)return!1;let r=e===tt?tt:e.smallID(),n=this.outgoingEmojis_.filter(i=>i.recipientID===r);for(let i of n)if(this.mg.ticks()-i.createdAt<this.mg.config().emojiMessageCooldown())return!1;return!0}canDonateGold(e){if(!this.isAlive()||!e.isAlive()||!this.isFriendly(e)||e.type()==="HUMAN"&&this.mg.config().donateGold()===!1)return!1;for(let r of this.sentDonations)if(r.recipient===e&&this.mg.ticks()-r.tick<this.mg.config().donateCooldown())return!1;return!0}canDonateTroops(e){if(!this.isAlive()||!e.isAlive()||!this.isFriendly(e)||e.type()==="HUMAN"&&this.mg.config().donateTroops()===!1)return!1;for(let r of this.sentDonations)if(r.recipient===e&&this.mg.ticks()-r.tick<this.mg.config().donateCooldown())return!1;return!0}donateTroops(e,r){if(r<=0)return!1;let n=this.removeTroops(r);return n===0?!1:(e.addTroops(n),this.sentDonations.push(new Ns(e,this.mg.ticks())),this.mg.displayMessage(`Sent ${lr(r)} troops to ${e.name()}`,21,this.id()),this.mg.displayMessage(`Received ${lr(r)} troops from ${this.name()}`,22,e.id()),!0)}donateGold(e,r){if(r<=0n)return!1;let n=this.removeGold(r);return n===0n?!1:(e.addGold(n),this.sentDonations.push(new Ns(e,this.mg.ticks())),this.mg.displayMessage(`Sent ${lt(r)} gold to ${e.name()}`,18,this.id()),this.mg.displayMessage(`Received ${lt(r)} gold from ${this.name()}`,19,e.id(),r),!0)}canDeleteUnit(){return this.mg.ticks()-this.lastDeleteUnitTick>=this.mg.config().deleteUnitCooldown()}recordDeleteUnit(){this.lastDeleteUnitTick=this.mg.ticks()}canEmbargoAll(){if(this.mg.ticks()-this.lastEmbargoAllTick<this.mg.config().embargoAllCooldown())return!1;for(let e of this.mg.players())if(e.id()!==this.id()&&e.type()!=="BOT"&&!this.isOnSameTeam(e))return!0;return!1}recordEmbargoAll(){this.lastEmbargoAllTick=this.mg.ticks()}hasEmbargoAgainst(e){return this.embargoes.has(e.id())}canTrade(e){return!(e.hasEmbargoAgainst(this)||this.hasEmbargoAgainst(e))&&e.id()!==this.id()}getEmbargoes(){return[...this.embargoes.values()]}addEmbargo(e,r){let n=this.embargoes.get(e.id());n!==void 0&&!n.isTemporary||(this.mg.addUpdate({type:18,event:"start",playerID:this.smallID(),embargoedID:e.smallID()}),this.embargoes.set(e.id(),{createdAt:this.mg.ticks(),isTemporary:r,target:e}))}stopEmbargo(e){this.embargoes.delete(e.id()),this.mg.addUpdate({type:18,event:"stop",playerID:this.smallID(),embargoedID:e.smallID()})}endTemporaryEmbargo(e){let r=this.embargoes.get(e.id());r!==void 0&&!r.isTemporary||this.stopEmbargo(e)}tradingPartners(){return this.mg.players().filter(e=>e!==this&&this.canTrade(e))}team(){return this._team}isOnSameTeam(e){return e===this||this.team()===null||e.team()===null||this.team()===V.Bot||e.team()===V.Bot?!1:this._team===e.team()}isFriendly(e,r=!1){return e.isDisconnected()&&!r?!1:this.isOnSameTeam(e)||this.isAlliedWith(e)}gold(){return this._gold}addGold(e,r){this._gold+=e,r&&this.mg.addUpdate({type:15,player:this.id(),tile:r,gold:Number(e),troops:0})}removeGold(e){if(e<=0n)return 0n;let r=zn(this._gold,e);return this._gold-=r,r}troops(){return Number(this._troops)}addTroops(e){if(e<0){this.removeTroops(-1*e);return}this._troops+=et(e)}removeTroops(e){if(e<=0)return 0;let r=zn(this._troops,et(e));return this._troops-=r,Number(r)}captureUnit(e){if(e.owner()===this)throw new Error(`Cannot capture unit, ${this} already owns ${e}`);e.setOwner(this)}buildUnit(e,r,n){if(this.mg.config().isUnitDisabled(e))throw new Error(`Attempted to build disabled unit ${e} at tile ${r} by player ${this.name()}`);let i=this.mg.unitInfo(e).cost(this),a=new Ds(e,this.mg,r,this.mg.nextUnitID(),this,n);return this._units.push(a),this.recordUnitConstructed(e),this.removeGold(i),this.removeTroops("troops"in n?n.troops??0:0),this.mg.addUpdate(a.toUpdate()),this.mg.addUnit(a),a}findUnitToUpgrade(e,r){let n=this.mg.config().structureMinDist(),i=this.mg.nearbyUnits(r,n,e).sort((o,s)=>o.distSquared-s.distSquared);if(i.length===0)return!1;let a=i[0].unit;return this.canUpgradeUnit(a)?a:!1}canUpgradeUnit(e){return!(e.isMarkedForDeletion()||!this.mg.config().unitInfo(e.type()).upgradable||this.mg.config().isUnitDisabled(e.type())||this._gold<this.mg.config().unitInfo(e.type()).cost(this)||e.owner()!==this)}upgradeUnit(e){let r=this.mg.unitInfo(e.type()).cost(this);this.removeGold(r),e.increaseLevel(),this.recordUnitConstructed(e.type())}buildableUnits(e){let r=e!==null?this.validStructureSpawnTiles(e):[];return Object.values(Z).map(n=>{let i=!1;if(!this.mg.inSpawnPhase()){let a=e!==null&&this.findUnitToUpgrade(n,e);a!==!1&&(i=a.id())}return{type:n,canBuild:this.mg.inSpawnPhase()||e===null?!1:this.canBuild(n,e,r),canUpgrade:i,cost:this.mg.config().unitInfo(n).cost(this)}})}canBuild(e,r,n=null){if(this.mg.config().isUnitDisabled(e))return!1;let i=this.mg.unitInfo(e).cost(this);if(!this.isAlive()||this.gold()<i)return!1;switch(e){case"MIRV":return this.mg.hasOwner(r)?this.nukeSpawn(r):!1;case"Atom Bomb":case"Hydrogen Bomb":return this.nukeSpawn(r);case"MIRV Warhead":return r;case"Port":return this.portSpawn(r,n);case"Warship":return this.warshipSpawn(r);case"Shell":case"SAMMissile":return r;case"Transport":return hb(this.mg,this,r);case"Trade Ship":return this.tradeShipSpawn(r);case"Train":return this.landBasedUnitSpawn(r);case"Missile Silo":case"Defense Post":case"SAM Launcher":case"City":case"Factory":case"Construction":return this.landBasedStructureSpawn(r,n);default:On(e)}}nukeSpawn(e){let r=this.mg.owner(e);if(r.isPlayer()&&this.isOnSameTeam(r))return!1;let n=this.units("Missile Silo").filter(i=>!i.isInCooldown()).sort(Nn(this.mg,e));return n.length===0?!1:n[0].tile()}portSpawn(e,r){let n=Array.from(this.mg.bfs(e,Yr(e,this.mg.config().radiusPortSpawn()))).filter(a=>this.mg.owner(a)===this&&this.mg.isOceanShore(a)).sort((a,o)=>this.mg.manhattanDist(a,e)-this.mg.manhattanDist(o,e)),i=new Set(r??this.validStructureSpawnTiles(e));for(let a of n)if(i.has(a))return a;return!1}warshipSpawn(e){if(!this.mg.isOcean(e))return!1;let r=this.units("Port").sort((n,i)=>this.mg.manhattanDist(n.tile(),e)-this.mg.manhattanDist(i.tile(),e));return r.length===0?!1:r[0].tile()}landBasedUnitSpawn(e){return this.mg.isLand(e)?e:!1}landBasedStructureSpawn(e,r=null){let n=r??this.validStructureSpawnTiles(e);return n.length===0?!1:n[0]}validStructureSpawnTiles(e){if(this.mg.owner(e)!==this)return[];let r=15,n=r**2,i=Object.values(Z).filter(c=>this.mg.config().unitInfo(c).territoryBound),a=this.mg.nearbyUnits(e,r*2,i),o=this.mg.bfs(e,(c,m)=>this.mg.euclideanDistSquared(e,m)<n&&c.ownerID(m)===this.smallID()),s=new Set(o),l=this.mg.config().structureMinDist()**2;for(let c of o)for(let{unit:m}of a)if(this.mg.euclideanDistSquared(m.tile(),c)<l){s.delete(c);break}let d=Array.from(s);return d.sort((c,m)=>this.mg.euclideanDistSquared(c,e)-this.mg.euclideanDistSquared(m,e)),d}tradeShipSpawn(e){let r=this.units("Port").filter(n=>n.tile()===e);return r.length===0?!1:r[0].tile()}lastTileChange(){return this._lastTileChange}isDisconnected(){return this._isDisconnected}markDisconnected(e){this._isDisconnected=e}hash(){return F(this.id())*(this.troops()+this.numTilesOwned())+this._units.reduce((e,r)=>e+r.hash(),0)}toString(){return`Player:{name:${this.info().name},clientID:${this.info().clientID},isAlive:${this.isAlive()},troops:${this._troops},numTileOwned:${this.numTilesOwned()}}]`}playerProfile(){return{relations:Object.fromEntries(this.allRelationsSorted().map(({player:r,relation:n})=>[r.smallID(),n])),alliances:this.alliances().map(r=>r.other(this).smallID())}}createAttack(e,r,n,i){let a=new Ms(this._pseudo_random.nextID(),e,this,r,n,i,this.mg);return this._outgoingAttacks.push(a),e.isPlayer()&&e._incomingAttacks.push(a),a}outgoingAttacks(){return this._outgoingAttacks}incomingAttacks(){return this._incomingAttacks}canAttack(e){if(this.mg.hasOwner(e)&&this.mg.config().numSpawnPhaseTurns()+this.mg.config().spawnImmunityDuration()>this.mg.ticks()||this.mg.owner(e)===this)return!1;let r=this.mg.owner(e);if(r.isPlayer()&&this.isFriendly(r)||!this.mg.isLand(e))return!1;if(this.mg.hasOwner(e))return this.sharesBorderWith(r);for(let n of this.mg.bfs(e,bn((i,a)=>!i.hasOwner(a)&&i.isLand(a),Yr(e,200))))for(let i of this.mg.neighbors(n))if(this.mg.owner(i)===this)return!0;return!1}bestTransportShipSpawn(e){return fb(this.mg,this,e)}};var Os=class{constructor(e){this.railRoad=e;this.active=!0;this.headIndex=0;this.tailIndex=0;this.increment=3;this.railTiles=[];this.tailIndex=e.tiles.length}isActive(){return this.active}init(e,r){this.mg=e;let n=this.railRoad.tiles;this.railTiles.push({tile:n[0],railType:n.length>0?this.computeExtremityDirection(n[0],n[1]):0});for(let i=1;i<n.length-1;i++){let a=this.computeDirection(n[i-1],n[i],n[i+1]);this.railTiles.push({tile:n[i],railType:a})}this.railTiles.push({tile:n[n.length-1],railType:n.length>0?this.computeExtremityDirection(n[n.length-1],n[n.length-2]):0})}computeExtremityDirection(e,r){let n=this.mg.x(e),i=this.mg.y(e),a=this.mg.x(r),o=this.mg.y(r),s=a-n,l=o-i;return s===0&&l===0?0:s===0?0:l===0?1:0}computeDirection(e,r,n){if(this.mg===null)throw new Error("Not initialized");let i=this.mg.x(e),a=this.mg.y(e),o=this.mg.x(r),s=this.mg.y(r),l=this.mg.x(n),d=this.mg.y(n),c=o-i,m=s-a,h=l-o,f=d-s;if(c===h&&m===f){if(c!==0)return 1;if(m!==0)return 0}if(c===0&&h!==0||c!==0&&h===0){if(c===0&&h===1&&m===-1)return 5;if(c===0&&h===-1&&m===-1)return 4;if(c===0&&h===1&&m===1)return 3;if(c===0&&h===-1&&m===1)return 2;if(c===1&&h===0&&f===-1)return 2;if(c===-1&&h===0&&f===-1)return 3;if(c===1&&h===0&&f===1)return 4;if(c===-1&&h===0&&f===1)return 5}return console.warn(`Invalid rail segment: ${c}:${m}, ${h}:${f}`),0}tick(e){if(this.mg===null)throw new Error("Not initialized");if(!this.activeSourceOrDestination()){this.active=!1;return}if(this.headIndex>this.tailIndex){this.constructionComplete();return}let r;this.tailIndex-this.headIndex<=2*this.increment?(r=this.railTiles.slice(this.headIndex,this.tailIndex),this.constructionComplete()):(r=this.railTiles.slice(this.headIndex,this.headIndex+this.increment),r=r.concat(this.railTiles.slice(this.tailIndex-this.increment,this.tailIndex)),this.headIndex+=this.increment,this.tailIndex-=this.increment),r&&this.mg.addUpdate({type:16,isActive:!0,railTiles:r})}activeDuringSpawnPhase(){return!1}activeSourceOrDestination(){return this.railRoad.from.isActive()&&this.railRoad.to.isActive()}constructionComplete(){this.redrawBuildings(),this.active=!1}redrawBuildings(){this.railRoad.from.unit.isActive()&&this.railRoad.from.unit.touch(),this.railRoad.to.unit.isActive()&&this.railRoad.to.unit.touch()}};var Uh=class{constructor(){this.stations=new Set}addStation(e){this.stations.add(e)}removeStation(e){this.stations.delete(e)}findStation(e){for(let r of this.stations)if(r.unit===e)return r;return null}getAll(){return this.stations}},Oh=class{constructor(e){this.game=e}findTilePath(e,r){let n=new jt(this.game.map(),this.game.miniMap(),e,r,5e3,20,!1,3);return n.compute()===2?n.reconstructPath():[]}findStationsPath(e,r){let n=new Xr(e,r,5e3,20,new $o(this.game));return n.compute()===2?n.reconstructPath():[]}};function rv(t){let e=new Uh,r=new Oh(t);return new zh(t,e,r)}var zh=class{constructor(e,r,n){this.game=e;this.stationManager=r;this.pathService=n;this.maxConnectionDistance=4}connectStation(e){this.stationManager.addStation(e),this.connectToNearbyStations(e)}removeStation(e){let r=this.stationManager.findStation(e);if(!r)return;let n=r.neighbors();this.disconnectFromNetwork(r),this.stationManager.removeStation(r);let i=r.getCluster();if(i){if(n.length===1)i.removeStation(r);else if(n.length>1)for(let a of n){let o=this.computeCluster(a);new Kr().addStations(o)}r.unit.setTrainStation(!1)}}findStationsPath(e,r){return this.pathService.findStationsPath(e,r)}connectToNearbyStations(e){let r=this.game.nearbyUnits(e.tile(),this.game.config().trainStationMaxRange(),["City","Factory","Port"]),n=new Set;r.sort((i,a)=>i.distSquared-a.distSquared);for(let i of r){if(i.unit===e.unit)continue;let a=this.stationManager.findStation(i.unit);if(!a)continue;let o=this.distanceFrom(a,e,this.maxConnectionDistance),s=a.getCluster();if(s===null)continue;(o>this.maxConnectionDistance||o===-1)&&i.distSquared>this.game.config().trainStationMinRange()**2&&this.connect(e,a)&&(s.addStation(e),n.add(s))}n.size>1?this.mergeClusters(n):n.size===0&&new Kr().addStation(e)}disconnectFromNetwork(e){for(let n of e.getRailroads())n.delete(this.game);e.clearRailroads();let r=e.getCluster();r!==null&&r.size()===1&&this.deleteCluster(r)}deleteCluster(e){for(let r of e.stations)r.setCluster(null);e.clear()}connect(e,r){let n=this.pathService.findTilePath(e.tile(),r.tile());if(n.length>0&&n.length<this.game.config().railroadMaxSize()){let i=new Ao(e,r,n);return this.game.addExecution(new Os(i)),e.addRailroad(i),r.addRailroad(i),!0}return!1}distanceFrom(e,r,n){if(e===r)return 0;let i=new Set,a=[{station:e,distance:0}];for(;a.length>0;){let{station:o,distance:s}=a.shift();if(!i.has(o)&&(i.add(o),!(s>=n)))for(let l of o.neighbors()){if(l===r)return s+1;i.has(l)||a.push({station:l,distance:s+1})}}return-1}computeCluster(e){let r=new Set,n=[e];for(;n.length>0;){let i=n.shift();if(!r.has(i)){r.add(i);for(let a of i.neighbors())r.has(a)||n.push(a)}}return r}mergeClusters(e){let r=new Kr;for(let n of e)r.merge(n)}};var TS=["abomb","hbomb","mirv","mirvw"],_S=he.enum(TS),iv={"Atom Bomb":"abomb","Hydrogen Bomb":"hbomb",MIRV:"mirv","MIRV Warhead":"mirvw"},xS=["trade","trans"],wS=he.enum(xS),SS=["city","defp","port","wshp","silo","saml","fact"],PS=he.enum(SS),nv={City:"city","Defense Post":"defp","Missile Silo":"silo",Port:"port","SAM Launcher":"saml",Warship:"wshp",Factory:"fact"},jh=0,Lh=1,av=2,Bh=0,Gh=1,ov=2,Fh=3,sv=0,lv=1,uv=2,cv=0,dv=1,Zh=2,mv=3,hv=0,pv=1,fv=2,gv=3,yv=4,zs=he.preprocess(t=>typeof t=="string"&&/^-?\d+$/.test(t)?BigInt(t):t,he.bigint()),Tn=zs.array().min(1),PN=he.object({attacks:Tn.optional(),betrayals:zs.optional(),killedAt:zs.optional(),conquests:zs.optional(),boats:he.partialRecord(wS,Tn).optional(),bombs:he.partialRecord(_S,Tn).optional(),gold:Tn.optional(),units:he.partialRecord(PS,Tn).optional()}).optional();function It(t){switch(typeof t){case"bigint":return t;case"number":return BigInt(Math.floor(t))}}var js=class{constructor(){this.data={}}getPlayerStats(e){let r=e.clientID();if(r!==null)return this.data[r]}stats(){return this.data}_makePlayerStats(e){let r=e.clientID();if(r===null)return;if(r in this.data)return this.data[r];let n={};return this.data[r]=n,n}_addAttack(e,r,n){let i=this._makePlayerStats(e);if(i!==void 0){for(i.attacks??(i.attacks=[0n]);i.attacks.length<=r;)i.attacks.push(0n);i.attacks[r]+=It(n)}}_addBetrayal(e,r){let n=this._makePlayerStats(e);n!==void 0&&(n.betrayals??(n.betrayals=0n),n.betrayals+=It(r))}_addBoat(e,r,n,i){var o;let a=this._makePlayerStats(e);if(a!==void 0){for(a.boats??(a.boats={[r]:[0n]}),(o=a.boats)[r]??(o[r]=[0n]);a.boats[r].length<=n;)a.boats[r].push(0n);a.boats[r][n]+=It(i)}}_addBomb(e,r,n,i){var s;let a=iv[r],o=this._makePlayerStats(e);if(o!==void 0){for(o.bombs??(o.bombs={[a]:[0n]}),(s=o.bombs)[a]??(s[a]=[0n]);o.bombs[a].length<=n;)o.bombs[a].push(0n);o.bombs[a][n]+=It(i)}}_addGold(e,r,n){let i=this._makePlayerStats(e);if(i!==void 0){for(i.gold??(i.gold=[0n]);i.gold.length<=r;)i.gold.push(0n);i.gold[r]+=It(n)}}_addOtherUnit(e,r,n,i){var s;let a=nv[r],o=this._makePlayerStats(e);if(o!==void 0){for(o.units??(o.units={[a]:[0n]}),(s=o.units)[a]??(s[a]=[0n]);o.units[a].length<=n;)o.units[a].push(0n);o.units[a][n]+=It(i)}}_addConquest(e){let r=this._makePlayerStats(e);r!==void 0&&(r.conquests===void 0?r.conquests=It(1):r.conquests+=It(1))}_addPlayerKilled(e,r){let n=this._makePlayerStats(e);n!==void 0&&(n.killedAt=It(r))}attack(e,r,n){this._addAttack(e,jh,n),r.isPlayer()&&this._addAttack(r,Lh,n)}attackCancel(e,r,n){this._addAttack(e,av,n),this._addAttack(e,jh,-n),r.isPlayer()&&this._addAttack(r,Lh,-n)}betray(e){this._addBetrayal(e,1)}boatSendTrade(e,r){this._addBoat(e,"trade",Bh,1)}boatArriveTrade(e,r,n){this._addBoat(e,"trade",Gh,1),this._addGold(e,Zh,n),this._addGold(r,Zh,n)}boatCapturedTrade(e,r,n){this._addBoat(e,"trade",ov,1),this._addGold(e,mv,n)}boatDestroyTrade(e,r){this._addBoat(e,"trade",Fh,1)}boatSendTroops(e,r,n){this._addBoat(e,"trans",Bh,1)}boatArriveTroops(e,r,n){this._addBoat(e,"trans",Gh,1)}boatDestroyTroops(e,r,n){this._addBoat(e,"trans",Fh,1)}bombLaunch(e,r,n){this._addBomb(e,n,sv,1)}bombLand(e,r,n){this._addBomb(e,n,lv,1)}bombIntercept(e,r,n){this._addBomb(e,r,uv,n)}goldWork(e,r){this._addGold(e,cv,r)}goldWar(e,r,n){this._addGold(e,dv,n),this._addConquest(e)}unitBuild(e,r){this._addOtherUnit(e,r,hv,1)}unitCapture(e,r){this._addOtherUnit(e,r,fv,1)}unitUpgrade(e,r){this._addOtherUnit(e,r,yv,1)}unitDestroy(e,r){this._addOtherUnit(e,r,pv,1)}unitLose(e,r){this._addOtherUnit(e,r,gv,1)}playerKilled(e,r){this._addPlayerKilled(e,r)}lobbyFillTime(e){}};function bv(t,e){let r=new Map,n=new Map,i=new Map,a=[];for(let c of t)c.clan?(i.has(c.clan)||i.set(c.clan,[]),i.get(c.clan).push(c)):a.push(c);let o=Math.ceil(t.length/e.length),s=Array.from(i.entries()).sort((c,m)=>m[1].length-c[1].length);for(let[c,m]of s){let h=null,f=0;for(let p of e){let b=n.get(p)??0;h!==null&&f<=b||(f=b,h=p)}if(h!==null){for(let p of m)f<o?(f++,r.set(p,h)):r.set(p,"kicked");n.set(h,f)}}let l=a.filter(c=>c.playerType==="FAKEHUMAN");l.length>0&&(l=new D(F(l[0].id)).shuffleArray(l));let d=a.filter(c=>c.playerType!=="FAKEHUMAN");for(let c of d.concat(l)){let m=null,h=0;for(let f of e){let p=n.get(f)??0;m!==null&&h<=p||(h=p,m=f)}m!==null&&(n.set(m,h+1),r.set(c,m))}return r}var Ls=class{constructor(){}smallID(){return 0}clientID(){return"TERRA_NULLIUS_CLIENT_ID"}id(){return null}isPlayer(){return!1}};var Bs=class{constructor(e){this.gm=e;this.cellSize=100;this.grid=Array(Math.ceil(e.height()/this.cellSize)).fill(null).map(()=>Array(Math.ceil(e.width()/this.cellSize)).fill(null).map(()=>new Map))}getGridCoords(e,r){return[Math.floor(e/this.cellSize),Math.floor(r/this.cellSize)]}addUnit(e){let r=e.tile(),[n,i]=this.getGridCoords(this.gm.x(r),this.gm.y(r));if(this.isValidCell(n,i)){let a=this.grid[i][n].get(e.type());a!==void 0?a.add(e):this.grid[i][n].set(e.type(),new Set([e]))}}removeUnit(e){let r=e.tile();this.removeUnitByTile(e,r)}removeUnitByTile(e,r){let[n,i]=this.getGridCoords(this.gm.x(r),this.gm.y(r));if(this.isValidCell(n,i)){let a=this.grid[i][n].get(e.type());a!==void 0&&a.delete(e)}}updateUnitCell(e){let r=e.tile(),n=e.lastTile(),[i,a]=this.getGridCoords(this.gm.x(n),this.gm.y(n)),[o,s]=this.getGridCoords(this.gm.x(r),this.gm.y(r));(i!==o||a!==s)&&(this.removeUnitByTile(e,n),this.addUnit(e))}isValidCell(e,r){return e>=0&&e<this.grid[0].length&&r>=0&&r<this.grid.length}getCellsInRange(e,r){let n=this.gm.x(e),i=this.gm.y(e),a=this.cellSize,[o,s]=this.getGridCoords(n,i),l=Math.max(0,o-Math.ceil((r-n%a)/a)),d=Math.min(this.grid[0].length-1,o+Math.ceil((r-(a-n%a))/a)),c=Math.max(0,s-Math.ceil((r-i%a)/a)),m=Math.min(this.grid.length-1,s+Math.ceil((r-(a-i%a))/a));return{startGridX:l,endGridX:d,startGridY:c,endGridY:m}}squaredDistanceFromTile(e,r){let n=this.gm.x(r),i=this.gm.y(r),a=this.gm.x(e.tile()),o=this.gm.y(e.tile()),s=a-n,l=o-i;return s*s+l*l}nearbyUnits(e,r,n,i){let a=[],{startGridX:o,endGridX:s,startGridY:l,endGridY:d}=this.getCellsInRange(e,r),c=r*r,m=Array.isArray(n)?new Set(n):new Set([n]);for(let h=l;h<=d;h++)for(let f=o;f<=s;f++)for(let p of m){let b=this.grid[h][f].get(p);if(b!==void 0)for(let T of b){if(!T.isActive())continue;let A=this.squaredDistanceFromTile(T,e);if(A>c)continue;let k={unit:T,distSquared:A};i!==void 0&&!i(k)||a.push(k)}}return a}unitIsInRange(e,r,n,i){return!e.isActive()||i!==void 0&&e.owner().id()!==i?!1:this.squaredDistanceFromTile(e,r)<=n}hasUnitNearby(e,r,n,i){let{startGridX:a,endGridX:o,startGridY:s,endGridY:l}=this.getCellsInRange(e,r),d=r*r;for(let c=s;c<=l;c++)for(let m=a;m<=o;m++){let h=this.grid[c][m].get(n);if(h!==void 0){for(let f of h)if(this.unitIsInRange(f,e,d,i))return!0}}return!1}};function Tv(t,e,r,n,i){let a=new js;return new Wh(t,e,r,n,i,a)}var Wh=class{constructor(e,r,n,i,a,o){this._humans=e;this._nations=r;this._map=n;this.miniGameMap=i;this._config=a;this._stats=o;this._ticks=0;this.unInitExecs=[];this._players=new Map;this._playersBySmallID=[];this.execs=[];this.allianceRequests=[];this.alliances_=[];this.nextPlayerID=1;this._nextUnitID=1;this.updates=vv();this.botTeam=V.Bot;this._railNetwork=rv(this);this.nextAllianceID=0;this._terraNullius=new Ls,this._width=n.width(),this._height=n.height(),this.unitGrid=new Bs(this._map),a.gameConfig().gameMode==="Team"&&this.populateTeams(),this.addPlayers()}populateTeams(){let e=this._config.playerTeams();if(e===yi){this.playerTeams=[V.Humans,V.Nations];return}if(typeof e!="number"){let r=this._humans.length+this._nations.length;switch(e){case Bn:e=Math.ceil(r/2);break;case Gn:e=Math.ceil(r/3);break;case Fn:e=Math.ceil(r/4);break;default:throw new Error(`Unknown TeamCountConfig ${e}`)}}if(e<2)throw new Error(`Too few teams: ${e}`);if(e<8)this.playerTeams=[V.Red,V.Blue],e>=3&&this.playerTeams.push(V.Yellow),e>=4&&this.playerTeams.push(V.Green),e>=5&&this.playerTeams.push(V.Purple),e>=6&&this.playerTeams.push(V.Orange),e>=7&&this.playerTeams.push(V.Teal);else{this.playerTeams=[];for(let r=1;r<=e;r++)this.playerTeams.push(`Team ${r}`)}}addPlayers(){if(this.config().gameConfig().gameMode==="Free For All"){this._humans.forEach(n=>this.addPlayer(n)),this._nations.forEach(n=>this.addPlayer(n.playerInfo));return}if(this._config.playerTeams()===yi){this._humans.forEach(n=>this.addPlayer(n,V.Humans)),this._nations.forEach(n=>this.addPlayer(n.playerInfo,V.Nations));return}let e=[...this._humans,...this._nations.map(n=>n.playerInfo)],r=bv(e,this.playerTeams);for(let[n,i]of r.entries()){if(i==="kicked"){console.warn(`Player ${n.name} was kicked from team`);continue}this.addPlayer(n,i)}}isOnEdgeOfMap(e){return this._map.isOnEdgeOfMap(e)}owner(e){return this.playerBySmallID(this.ownerID(e))}alliances(){return this.alliances_}playerBySmallID(e){return e===0?this.terraNullius():this._playersBySmallID[e-1]}map(){return this._map}miniMap(){return this.miniGameMap}addUpdate(e){this.updates[e.type].push(e)}nextUnitID(){let e=this._nextUnitID;return this._nextUnitID++,e}setFallout(e,r){if(r&&this.hasOwner(e))throw Error(`cannot set fallout, tile ${e} has owner`);this._map.hasFallout(e)||(this._map.setFallout(e,r),this.addUpdate({type:0,update:this.toTileUpdate(e)}))}units(...e){return Array.from(this._players.values()).flatMap(r=>r.units(...e))}unitCount(e){let r=0;for(let n of this._players.values())r+=n.unitCount(e);return r}unitInfo(e){return this.config().unitInfo(e)}nations(){return this._nations}createAllianceRequest(e,r){if(e.isAlliedWith(r))return console.log("cannot request alliance, already allied"),null;if(r.incomingAllianceRequests().find(a=>a.requestor()===e)!==void 0)return console.log(`duplicate alliance request from ${e.name()}`),null;let n=e.incomingAllianceRequests().find(a=>a.requestor()===r);if(n!==void 0)return console.log("got corresponding alliance requests, accepting"),n.accept(),null;let i=new os(e,r,this._ticks,this);return this.allianceRequests.push(i),this.addUpdate(i.toUpdate()),i}acceptAllianceRequest(e){this.allianceRequests=this.allianceRequests.filter(o=>o!==e);let r=e.requestor(),n=e.recipient();if(r.allianceWith(n))throw new Error(`cannot accept alliance request, already allied with ${n.name()}`);let a=new as(this,r,n,this._ticks,this.nextAllianceID++);this.alliances_.push(a),e.requestor().pastOutgoingAllianceRequests.push(e),r.hasEmbargoAgainst(n)&&r.endTemporaryEmbargo(n),n.hasEmbargoAgainst(r)&&n.endTemporaryEmbargo(r),this.addUpdate({type:6,request:e.toUpdate(),accepted:!0})}rejectAllianceRequest(e){this.allianceRequests=this.allianceRequests.filter(r=>r!==e),e.requestor().pastOutgoingAllianceRequests.push(e),this.addUpdate({type:6,request:e.toUpdate(),accepted:!1})}hasPlayer(e){return this._players.has(e)}config(){return this._config}inSpawnPhase(){return this._ticks<=this.config().numSpawnPhaseTurns()}ticks(){return this._ticks}executeNextTick(){this.updates=vv(),this.execs.forEach(n=>{(!this.inSpawnPhase()||n.activeDuringSpawnPhase())&&n.isActive()&&n.tick(this._ticks)});let e=[],r=[];this.unInitExecs.forEach(n=>{!this.inSpawnPhase()||n.activeDuringSpawnPhase()?(n.init(this,this._ticks),e.push(n)):r.push(n)}),this.removeInactiveExecutions(),this.execs.push(...e),this.unInitExecs=r;for(let n of this._players.values())this.addUpdate(n.toUpdate());return this.ticks()%10===0&&this.addUpdate({type:13,tick:this.ticks(),hash:this.hash()}),this._ticks++,this.updates}hash(){let e=1;return this._players.forEach(r=>{e+=r.hash()}),e}terraNullius(){return this._terraNullius}removeInactiveExecutions(){let e=[];for(let r of this.execs)this.inSpawnPhase()?r.activeDuringSpawnPhase()?r.isActive()&&e.push(r):e.push(r):r.isActive()&&e.push(r);this.execs=e}players(){return Array.from(this._players.values()).filter(e=>e.isAlive())}allPlayers(){return Array.from(this._players.values())}executions(){return[...this.execs,...this.unInitExecs]}addExecution(...e){this.unInitExecs.push(...e)}removeExecution(e){this.execs=this.execs.filter(r=>r!==e),this.unInitExecs=this.unInitExecs.filter(r=>r!==e)}playerView(e){return this.player(e)}addPlayer(e,r=null){let n=new Us(this,this.nextPlayerID,e,this.config().startManpower(e),r??this.maybeAssignTeam(e));return this._playersBySmallID.push(n),this.nextPlayerID++,this._players.set(e.id,n),n}maybeAssignTeam(e){if(this._config.gameConfig().gameMode!=="Team")return null;if(e.playerType==="BOT")return this.botTeam;let r=F(e.id);return this.playerTeams[r%this.playerTeams.length]}player(e){let r=this._players.get(e);if(r===void 0)throw new Error(`Player with id ${e} not found`);return r}playerByClientID(e){for(let[,r]of this._players)if(r.clientID()===e)return r;return null}isOnMap(e){return e.x>=0&&e.x<this._width&&e.y>=0&&e.y<this._height}neighborsWithDiag(e){let r=this.x(e),n=this.y(e),i=[];for(let a=-1;a<=1;a++)for(let o=-1;o<=1;o++){if(a===0&&o===0)continue;let s=r+a,l=n+o;s>=0&&s<this._width&&l>=0&&l<this._height&&i.push(this._map.ref(s,l))}return i}conquer(e,r){if(!this.isLand(r))throw Error("cannot conquer water");let n=this.owner(r);n.isPlayer()&&(n._lastTileChange=this._ticks,n._tiles.delete(r),n._borderTiles.delete(r)),this._map.setOwnerID(r,e.smallID()),e._tiles.add(r),e._lastTileChange=this._ticks,this.updateBorders(r),this._map.setFallout(r,!1),this.addUpdate({type:0,update:this.toTileUpdate(r)})}relinquish(e){if(!this.hasOwner(e))throw new Error("Cannot relinquish tile because it is unowned");if(this.isWater(e))throw new Error("Cannot relinquish water");let r=this.owner(e);r._lastTileChange=this._ticks,r._tiles.delete(e),r._borderTiles.delete(e),this._map.setOwnerID(e,0),this.updateBorders(e),this.addUpdate({type:0,update:this.toTileUpdate(e)})}updateBorders(e){let r=[];r.push(e),this.neighbors(e).forEach(n=>r.push(n));for(let n of r)this.hasOwner(n)&&(this.calcIsBorder(n)?this.owner(n)._borderTiles.add(n):this.owner(n)._borderTiles.delete(n))}calcIsBorder(e){if(!this.hasOwner(e))return!1;for(let r of this.neighbors(e))if(this.owner(e)!==this.owner(r))return!0;return!1}target(e,r){this.addUpdate({type:10,playerID:e.smallID(),targetID:r.smallID()})}breakAlliance(e,r){let n;if(r.requestor()===e?n=r.recipient():n=r.requestor(),!e.isAlliedWith(n))throw new Error(`${e} not allied with ${n}, cannot break alliance`);!n.isTraitor()&&!n.isDisconnected()&&e.markTraitor();let i=new Set(e.alliances()),a=n.alliances().filter(o=>i.has(o));if(a.length!==1)throw new Error(`must have exactly one alliance, have ${a.length}`);this.alliances_=this.alliances_.filter(o=>o!==a[0]),this.addUpdate({type:7,traitorID:e.smallID(),betrayedID:n.smallID()})}expireAlliance(e){let r=new Set(e.recipient().alliances()),n=e.requestor().alliances().filter(i=>r.has(i));if(n.length!==1)throw new Error(`cannot expire alliance: must have exactly one alliance, have ${n.length}`);this.alliances_=this.alliances_.filter(i=>i!==n[0]),this.addUpdate({type:8,player1ID:e.requestor().smallID(),player2ID:e.recipient().smallID()})}sendEmojiUpdate(e){this.addUpdate({type:11,emoji:e})}setWinner(e,r){this.addUpdate({type:12,winner:this.makeWinner(e),allPlayersStats:r})}makeWinner(e){if(typeof e=="string")return["team",e,...this.players().filter(r=>r.team()===e&&r.clientID()!==null).map(r=>r.clientID())];{let r=e.clientID();return r===null?void 0:["player",r]}}teams(){return this._config.gameConfig().gameMode!=="Team"?[]:[this.botTeam,...this.playerTeams]}displayMessage(e,r,n,i,a){let o=null;n!==null&&(o=this.player(n).smallID()),this.addUpdate({type:3,messageType:r,message:e,playerID:o,goldAmount:i,params:a})}displayChat(e,r,n,i,a,o){let s=null;i!==null&&(s=this.player(i).smallID()),this.addUpdate({type:4,key:e,category:r,target:n,playerID:s,isFrom:a,recipient:o})}displayIncomingUnit(e,r,n,i){let a=this.player(i).smallID();this.addUpdate({type:14,unitID:e,message:r,messageType:n,playerID:a})}addUnit(e){this.unitGrid.addUnit(e)}removeUnit(e){this.unitGrid.removeUnit(e),e.hasTrainStation()&&this._railNetwork.removeStation(e)}updateUnitTile(e){this.unitGrid.updateUnitCell(e)}hasUnitNearby(e,r,n,i){return this.unitGrid.hasUnitNearby(e,r,n,i)}nearbyUnits(e,r,n,i){return this.unitGrid.nearbyUnits(e,r,n,i)}ref(e,r){return this._map.ref(e,r)}isValidRef(e){return this._map.isValidRef(e)}x(e){return this._map.x(e)}y(e){return this._map.y(e)}cell(e){return this._map.cell(e)}width(){return this._map.width()}height(){return this._map.height()}numLandTiles(){return this._map.numLandTiles()}isValidCoord(e,r){return this._map.isValidCoord(e,r)}isLand(e){return this._map.isLand(e)}isOceanShore(e){return this._map.isOceanShore(e)}isOcean(e){return this._map.isOcean(e)}isShoreline(e){return this._map.isShoreline(e)}magnitude(e){return this._map.magnitude(e)}ownerID(e){return this._map.ownerID(e)}hasOwner(e){return this._map.hasOwner(e)}setOwnerID(e,r){return this._map.setOwnerID(e,r)}hasFallout(e){return this._map.hasFallout(e)}isBorder(e){return this._map.isBorder(e)}neighbors(e){return this._map.neighbors(e)}isWater(e){return this._map.isWater(e)}isLake(e){return this._map.isLake(e)}isShore(e){return this._map.isShore(e)}cost(e){return this._map.cost(e)}terrainType(e){return this._map.terrainType(e)}forEachTile(e){return this._map.forEachTile(e)}manhattanDist(e,r){return this._map.manhattanDist(e,r)}euclideanDistSquared(e,r){return this._map.euclideanDistSquared(e,r)}bfs(e,r){return this._map.bfs(e,r)}toTileUpdate(e){return this._map.toTileUpdate(e)}updateTile(e){return this._map.updateTile(e)}numTilesWithFallout(){return this._map.numTilesWithFallout()}stats(){return this._stats}railNetwork(){return this._railNetwork}conquerPlayer(e,r){if(r.isDisconnected()&&e.isOnSameTeam(r)){let i=r.units().filter(a=>a.type()==="Warship"||a.type()==="Transport");for(let a of i)e.captureUnit(a)}let n=r.gold();this.displayMessage(`Conquered ${r.displayName()} received ${lt(n)} gold`,3,e.id(),n),e.addGold(n),r.removeGold(n),this.addUpdate({type:17,conquerorId:e.id(),conqueredId:r.id(),gold:n}),this.stats().goldWar(e,r,n)}},vv=()=>{let t={};return Object.values(ct).filter(e=>!isNaN(Number(e))).forEach(e=>{t[e]=[]}),t};var _v=new Map;async function xv(t,e,r){let n=_v.get(t);if(n!==void 0)return n;let i=r.getMapData(t),a=await i.manifest(),o=e==="Normal"?await Gs(a.map,await i.mapBin()):await Gs(a.map4x,await i.map4xBin()),s=e==="Normal"?await Gs(e==="Normal"?a.map4x:a.map16x,await i.map4xBin()):await Gs(a.map16x,await i.map16xBin());e==="Compact"&&a.nations.forEach(d=>{d.coordinates=[Math.floor(d.coordinates[0]/2),Math.floor(d.coordinates[1]/2)]});let l={nations:a.nations,gameMap:o,miniGameMap:s};return _v.set(t,l),l}async function Gs(t,e){if(e.length!==t.width*t.height)throw new Error(`Invalid data: buffer size ${e.length} incorrect for ${t.width}x${t.height} terrain plus 4 bytes for dimensions.`);return new So(t.width,t.height,e,t.num_land_tiles)}async function VU(t,e,r,n){let i=await rb(t.config,null),a=await xv(t.config.gameMap,t.config.gameMapSize,r),o=new D(F(t.gameID)),s=t.players.map(m=>new Ht(m.clientID===e?Un(m.username):ev(m.username),"HUMAN",m.clientID,o.nextID())),l=t.config.disableNPCs?[]:a.nations.map(m=>new Ln(new ee(m.coordinates[0],m.coordinates[1]),m.strength,new Ht(m.name,"FAKEHUMAN",null,o.nextID()))),d=Tv(s,l,a.gameMap,a.miniGameMap,i),c=new qh(d,new is(d,t.gameID,e),n);return c.init(),c}var qh=class{constructor(e,r,n){this.game=e;this.execManager=r;this.callBack=n;this.turns=[];this.currTurn=0;this.isExecuting=!1;this.playerViewData={}}init(){this.game.config().isRandomSpawn()&&this.game.addExecution(...this.execManager.spawnPlayers()),this.game.config().bots()>0&&this.game.addExecution(...this.execManager.spawnBots(this.game.config().numBots())),this.game.config().spawnNPCs()&&this.game.addExecution(...this.execManager.fakeHumanExecutions()),this.game.addExecution(new ns)}addTurn(e){this.turns.push(e)}executeNextTick(){if(this.isExecuting||this.currTurn>=this.turns.length)return;this.isExecuting=!0,this.game.addExecution(...this.execManager.createExecs(this.turns[this.currTurn])),this.currTurn++;let e,r=0;try{let i=performance.now();e=this.game.executeNextTick(),r=performance.now()-i}catch(i){i instanceof Error?(console.error("Game tick error:",i.message),this.callBack({errMsg:i.message,stack:i.stack})):console.error("Game tick error:",i);return}this.game.inSpawnPhase()&&this.game.ticks()%2===0&&this.game.players().filter(i=>i.type()==="HUMAN"||i.type()==="FAKEHUMAN").forEach(i=>this.playerViewData[i.id()]=hl(this.game,i)),(this.game.ticks()<3||this.game.ticks()%30===0)&&this.game.players().forEach(i=>{this.playerViewData[i.id()]=hl(this.game,i)});let n=e[0].map(i=>i.update);e[0]=[],this.callBack({tick:this.game.ticks(),packedTileUpdates:new BigUint64Array(n),updates:e,playerNameViewData:this.playerViewData,tickExecutionDuration:r}),this.isExecuting=!1}playerActions(e,r,n){let i=this.game.player(e),a=r!==void 0&&n!==void 0?this.game.ref(r,n):null,o={canAttack:a!==null&&i.canAttack(a),buildableUnits:i.buildableUnits(a),canSendEmojiAllPlayers:i.canSendEmoji(tt),canEmbargoAll:i.canEmbargoAll()};if(a!==null&&this.game.hasOwner(a)){let s=this.game.owner(a);o.interaction={sharedBorder:i.sharesBorderWith(s),canSendEmoji:i.canSendEmoji(s),canTarget:i.canTarget(s),canSendAllianceRequest:i.canSendAllianceRequest(s),canBreakAlliance:i.isAlliedWith(s),canDonateGold:i.canDonateGold(s),canDonateTroops:i.canDonateTroops(s),canEmbargo:!i.hasEmbargoAgainst(s)};let l=i.allianceWith(s);l&&(o.interaction.allianceExpiresAt=l.expiresAt())}return o}playerProfile(e){let r=this.game.playerBySmallID(e);if(!r.isPlayer())throw new Error(`player with id ${e} not found`);return r.playerProfile()}playerBorderTiles(e){let r=this.game.player(e);if(!r.isPlayer())throw new Error(`player with id ${e} not found`);return{borderTiles:r.borderTiles()}}attackAveragePosition(e,r){let n=this.game.playerBySmallID(e);if(!n.isPlayer())throw new Error(`player with id ${e} not found`);let i=o=>o.id()===r,a=n.outgoingAttacks().find(i)??n.incomingAttacks().find(i);return a===void 0?null:a.averagePosition()}bestTransportShipSpawn(e,r){let n=this.game.player(e);if(!n.isPlayer())throw new Error(`player with id ${e} not found`);return n.bestTransportShipSpawn(r)}};export{qh as GameRunner,VU as createGameRunner};
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
*/
//# sourceMappingURL=b832da308aacef36ec0e52f4d8e14383aba8d3ea.js.map
